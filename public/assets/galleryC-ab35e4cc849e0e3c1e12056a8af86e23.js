function galleryC(e){function m(t){var n=parseInt(t);if(isNaN(n)||n<1||n==e.interval)return;for(var r=0,s=e.intervals.length;r<s;r++)if(e.intervals[r]==n){e.interval=n,i.find("span").html(n+"秒");return}}function g(t,n){t=parseInt(t);if(t<0)return!1;t+1>e.images.length||$(".qin_span").text(t+1+"/"+e.images.length);if(isNaN(t))return!1;t>e.images.length-1?b():(clearTimeout(h),s.html('<img src="'+e.images[t]+'"/>'),currentImage=t,a.hasClass(e.pauseClass)&&(h=setTimeout(function(){g(currentImage+1)},e.interval*1e3)))}function y(){$(".gallery_over_mask").show(),$(".gallery_over_wrap").fadeIn("fast")}function b(){$(".gallery_over_mask").show(),$(".gallery_over_wrap").fadeIn("fast",function(){function i(){e--;if(e==0){clearInterval(r),window.location=n;return}t.text(e)}var e=5,t=$("#timers"),n=t.attr("href");if(n==undefined)return!1;var r=setInterval(i,1e3)})}if(!(typeof e=="object"&&e!=null&&typeof e.images!="undefined"&&e.images instanceof Array&&e.images.length))return!1;var t={},n={wrapClass:"galleryC",imagePlayerClass:"big_image",timeSelectorClass:"time",prevClass:"prev",nextClass:"next",playClass:"play",pauseClass:"pause",moveLeftClass:"moveleft",moveRightClass:"moveright",images:[],intervals:[5,10,15,20],interval:"10"};$.extend(n,e),e=n,t.config=e;var r=$("."+e.wrapClass),i=$("."+e.timeSelectorClass),s=$("."+e.imagePlayerClass),o=$("."+e.prevClass),u=$("."+e.nextClass),a=$("."+e.playClass),f=$("."+e.moveLeftClass),l=$("."+e.moveRightClass);a.size()||(a=$("."+e.pauseClass));if(e.images.length==1)return s.html('<img src="'+e.images[0]+'">'),l.click(b),u.click(b),!0;var c=parseInt(e.interval);if(isNaN(c)||c<1)e.interval=10;var h=0;a.click(function(){this.className=this.className==e.playClass?e.pauseClass:e.playClass});if(e.intervals.length<1)i.append("<ul><li>"+e.interval+"秒</li></ul>");else if(e.interval==1){var p=parseInt(e.intervals[0]);!isNaN(p)&&p>0&&(e.interval=p),i.append("<ul><li>"+e.interval+"秒</li></ul>")}else{for(var d=0,v=e.intervals.length;d<v;d++){var p=parseInt(e.intervals[d]);(isNaN(p)||p<1)&&e.intervals.splice(d,1)}i.append("<ul><li>"+e.intervals.join("秒</li><li>")+"秒</li></ul>")}return e.$intervalListWrap=i.find("ul"),e.$intervalList=i.find("li"),e.$intervalDisplayer=i.find("span"),i.hover(function(){e.$intervalListWrap.show()},function(){e.$intervalListWrap.hide()}),e.$intervalList.click(function(){var e=$(this);m(e.text()),e.parent().hide()}),m(2),t.showImage=g,g(0),l.click(function(){g(currentImage+1,y)}),u.click(function(){g(currentImage+1,y)}),f.click(function(){g(currentImage-1,y)}),o.click(function(){g(currentImage-1,y)}),a.click(function(){g(currentImage,y)}),t};