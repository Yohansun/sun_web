/*
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */

(function(g,e){function h(a){return !g(a).parents().andSelf().filter(function(){return g.curCSS(this,"visibility")==="hidden"||g.expr.filters.hidden(this)}).length}function j(a,n){var m=a.nodeName.toLowerCase();if("area"===m){var l=a.parentNode,k=l.name,d;if(!a.href||!k||l.nodeName.toLowerCase()!=="map"){return !1}d=g("img[usemap=#"+k+"]")[0];return !!d&&h(d)}return(/input|select|textarea|button|object/.test(m)?!a.disabled:"a"==m?a.href||n:n)&&h(a)}g.ui=g.ui||{};g.ui.version||(g.extend(g.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),g.fn.extend({propAttr:g.fn.prop||g.fn.attr,_focus:g.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){g(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;g.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.curCSS(this,"position",1))&&/(auto|scroll)/.test(g.curCSS(this,"overflow",1)+g.curCSS(this,"overflow-y",1)+g.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(g.curCSS(this,"overflow",1)+g.curCSS(this,"overflow-y",1)+g.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(l){if(l!==e){return this.css("zIndex",l)}if(this.length){var k=g(this[0]),b,a;while(k.length&&k[0]!==document){b=k.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(k.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}k=k.parent()}}return 0},disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.each(["Width","Height"],function(n,m){function a(o,r,q,p){g.each(l,function(){r-=parseFloat(g.curCSS(o,"padding"+this,!0))||0,q&&(r-=parseFloat(g.curCSS(o,"border"+this+"Width",!0))||0),p&&(r-=parseFloat(g.curCSS(o,"margin"+this,!0))||0)});return r}var l=m==="Width"?["Left","Right"]:["Top","Bottom"],k=m.toLowerCase(),b={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+m]=function(d){if(d===e){return b["inner"+m].call(this)}return this.each(function(){g(this).css(k,a(this,d)+"px")})},g.fn["outer"+m]=function(d,o){if(typeof d!="number"){return b["outer"+m].call(this,d)}return this.each(function(){g(this).css(k,a(this,d,!0,o)+"px")})}}),g.extend(g.expr[":"],{data:function(a,l,k){return !!g.data(a,k[3])},focusable:function(a){return j(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(a){var k=g.attr(a,"tabindex"),c=isNaN(k);return(c||k>=0)&&j(a,!c)}}),g(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));g.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),g.support.minHeight=d.offsetHeight===100,g.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),g.extend(g.ui,{plugin:{add:function(a,n,m){var l=g.ui[a].prototype;for(var k in m){l.plugins[k]=l.plugins[k]||[],l.plugins[k].push([n,m[k]])}},call:function(l,k,o){var n=l.plugins[k];if(!!n&&!!l.element[0].parentNode){for(var m=0;m<n.length;m++){l.options[n[m][0]]&&n[m][1].apply(l.element,o)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,m){if(g(a).css("overflow")==="hidden"){return !1}var l=m&&m==="left"?"scrollLeft":"scrollTop",k=!1;if(a[l]>0){return !0}a[l]=1,k=a[l]>0,a[l]=0;return k},isOverAxis:function(k,d,l){return k>d&&k<d+l},isOver:function(a,o,n,m,l,k){return g.ui.isOverAxis(a,n,l)&&g.ui.isOverAxis(o,m,k)}}))})(jQuery),function(g,e){if(g.cleanData){var j=g.cleanData;g.cleanData=function(a){for(var l=0,k;(k=a[l])!=null;l++){try{g(k).triggerHandler("remove")}catch(c){}}j(a)}}else{var h=g.fn.remove;g.fn.remove=function(a,d){return this.each(function(){d||(!a||g.filter(a,[this]).length)&&g("*",this).add([this]).each(function(){try{g(this).triggerHandler("remove")}catch(c){}});return h.call(g(this),a,d)})}}g.widget=function(a,o,n){var m=a.split(".")[0],l;a=a.split(".")[1],l=m+"-"+a,n||(n=o,o=g.Widget),g.expr[":"][l]=function(b){return !!g.data(b,a)},g[m]=g[m]||{},g[m][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var k=new o;k.options=g.extend(!0,{},k.options),g[m][a].prototype=g.extend(!0,k,{namespace:m,widgetName:a,widgetEventPrefix:g[m][a].prototype.widgetEventPrefix||a,widgetBaseClass:l},n),g.widget.bridge(a,g[m][a])},g.widget.bridge=function(b,a){g.fn[b]=function(l){var k=typeof l=="string",d=Array.prototype.slice.call(arguments,1),c=this;l=!k&&d.length?g.extend.apply(null,[!0,l].concat(d)):l;if(k&&l.charAt(0)==="_"){return c}k?this.each(function(){var n=g.data(this,b),m=n&&g.isFunction(n[l])?n[l].apply(n,d):n;if(m!==n&&m!==e){c=m;return !1}}):this.each(function(){var m=g.data(this,b);m?m.option(l||{})._init():g.data(this,b,new a(l,this))});return c}},g.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},g.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,l){g.data(l,this.widgetName,this),this.element=g(l),this.options=g.extend(!0,{},this.options,this._getCreateOptions(),a);var k=this;this.element.bind("remove."+this.widgetName,function(){k.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return g.metadata&&g.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(k,b){var a=k;if(arguments.length===0){return g.extend({},this.options)}if(typeof k=="string"){if(b===e){return this.options[k]}a={},a[k]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;g.each(a,function(k,c){d._setOption(k,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,o,n){var m,l,k=this.options[a];n=n||{},o=g.Event(o),o.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),o.target=this.element[0],l=o.originalEvent;if(l){for(m in l){m in o||(o[m]=l[m])}}this.element.trigger(o,n);return !(g.isFunction(k)&&k.call(this.element[0],o,n)===!1||o.isDefaultPrevented())}}}(jQuery),function(e,d){var g=!1;e(document).mouseup(function(b){g=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!g){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var j=this,h=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!h||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){j.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return j._mouseMove(b)},this._mouseUpDelegate=function(b){return j._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),g=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})}(jQuery),function(d,c){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(a){var e=this.options;if(this.helper||e.disabled||d(a.target).is(".ui-resizable-handle")){return !1}this.handle=this._getHandle(a);if(!this.handle){return !1}e.iframeFix&&d(e.iframeFix===!0?"iframe":e.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body")});return !0},_mouseStart:function(a){var e=this.options;this.helper=this._createHelper(a),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment();if(this._trigger("start",a)===!1){this._clear();return !1}this._cacheHelperProportions(),d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(a,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return !0},_mouseDrag:function(a,g){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute");if(!g){var e=this._uiHash();if(this._trigger("drag",a,e)===!1){this._mouseUp({});return !1}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return !1},_mouseStop:function(a){var g=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(g=d.ui.ddmanager.drop(this,a)),this.dropped&&(g=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return !1}if(this.options.revert=="invalid"&&!g||this.options.revert=="valid"&&g||this.options.revert===!0||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)){var e=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==!1&&e._clear()})}else{this._trigger("stop",a)!==!1&&this._clear()}return !1},_mouseUp:function(a){this.options.iframeFix===!0&&d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var e=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(e=!0)});return e},_createHelper:function(a){var g=this.options,e=d.isFunction(g.helper)?d(g.helper.apply(this.element[0],[a])):g.helper=="clone"?this.element.clone().removeAttr("id"):this.element;e.parents("body").length||e.appendTo(g.appendTo=="parent"?this.element[0].parentNode:g.appendTo),e[0]!=this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))&&e.css("position","absolute");return e},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;a.containment=="parent"&&(a.containment=this.helper[0].parentNode);if(a.containment=="document"||a.containment=="window"){this.containment=[a.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var k=d(a.containment),j=k[0];if(!j){return}var h=k.offset(),g=d(j).css("overflow")!="hidden";this.containment=[(parseInt(d(j).css("borderLeftWidth"),10)||0)+(parseInt(d(j).css("paddingLeft"),10)||0),(parseInt(d(j).css("borderTopWidth"),10)||0)+(parseInt(d(j).css("paddingTop"),10)||0),(g?Math.max(j.scrollWidth,j.offsetWidth):j.offsetWidth)-(parseInt(d(j).css("borderLeftWidth"),10)||0)-(parseInt(d(j).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(j.scrollHeight,j.offsetHeight):j.offsetHeight)-(parseInt(d(j).css("borderTopWidth"),10)||0)-(parseInt(d(j).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=k}else{a.containment.constructor==Array&&(this.containment=a.containment)}},_convertPositionTo:function(a,m){m||(m=this.position);var l=a=="absolute"?1:-1,k=this.options,j=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(j[0].tagName);return{top:m.top+this.offset.relative.top*l+this.offset.parent.top*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:j.scrollTop())*l),left:m.left+this.offset.relative.left*l+this.offset.parent.left*l-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*l)}},_generatePosition:function(u){var s=this.options,r=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(r[0].tagName),p=u.pageX,o=u.pageY;if(this.originalPosition){var n;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();n=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{n=this.containment}u.pageX-this.offset.click.left<n[0]&&(p=n[0]+this.offset.click.left),u.pageY-this.offset.click.top<n[1]&&(o=n[1]+this.offset.click.top),u.pageX-this.offset.click.left>n[2]&&(p=n[2]+this.offset.click.left),u.pageY-this.offset.click.top>n[3]&&(o=n[3]+this.offset.click.top)}if(s.grid){var l=s.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;o=n?l-this.offset.click.top<n[1]||l-this.offset.click.top>n[3]?l-this.offset.click.top<n[1]?l+s.grid[1]:l-s.grid[1]:l:l;var a=s.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;p=n?a-this.offset.click.left<n[0]||a-this.offset.click.left>n[2]?a-this.offset.click.left<n[0]?a+s.grid[0]:a-s.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():q?0:r.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():q?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(a,g,e){e=e||this._uiHash(),d.ui.plugin.call(this,a,[g,e]),a=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return d.Widget.prototype._trigger.call(this,a,g,e)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),d.extend(d.ui.draggable,{version:"1.8.17"}),d.ui.plugin.add("draggable","connectToSortable",{start:function(a,k){var j=d(this).data("draggable"),h=j.options,g=d.extend({},k,{item:j.element});j.sortables=[],d(h.connectToSortable).each(function(){var b=d.data(this,"sortable");b&&!b.options.disabled&&(j.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,g))})},stop:function(a,j){var h=d(this).data("draggable"),g=d.extend({},j,{item:h.element});d.each(h.sortables,function(){this.instance.isOver?(this.instance.isOver=0,h.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,h.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,g))})},drag:function(a,k){var j=d(this).data("draggable"),h=this,g=function(u){var s=this.offset.click.top,r=this.offset.click.left,q=this.positionAbs.top,p=this.positionAbs.left,o=u.height,n=u.width,m=u.top,l=u.left;return d.ui.isOver(q+s,p+r,m,l,o,n)};d.each(j.sortables,function(b){this.instance.positionAbs=j.positionAbs,this.instance.helperProportions=j.helperProportions,this.instance.offset.click=j.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(h).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return k.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=j.offset.click.top,this.instance.offset.click.left=j.offset.click.left,this.instance.offset.parent.left-=j.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=j.offset.parent.top-this.instance.offset.parent.top,j._trigger("toSortable",a),j.dropped=this.instance.element,j.currentItem=j.element,this.instance.fromOutside=j),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),j._trigger("fromSortable",a),j.dropped=!1)})}}),d.ui.plugin.add("draggable","cursor",{start:function(a,j){var h=d("body"),g=d(this).data("draggable").options;h.css("cursor")&&(g._cursor=h.css("cursor")),h.css("cursor",g.cursor)},stop:function(a,g){var e=d(this).data("draggable").options;e._cursor&&d("body").css("cursor",e._cursor)}}),d.ui.plugin.add("draggable","opacity",{start:function(a,j){var h=d(j.helper),g=d(this).data("draggable").options;h.css("opacity")&&(g._opacity=h.css("opacity")),h.css("opacity",g.opacity)},stop:function(a,g){var e=d(this).data("draggable").options;e._opacity&&d(g.helper).css("opacity",e._opacity)}}),d.ui.plugin.add("draggable","scroll",{start:function(a,g){var e=d(this).data("draggable");e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"&&(e.overflowOffset=e.scrollParent.offset())},drag:function(a,k){var j=d(this).data("draggable"),h=j.options,g=!1;if(j.scrollParent[0]!=document&&j.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){j.overflowOffset.top+j.scrollParent[0].offsetHeight-a.pageY<h.scrollSensitivity?j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop+h.scrollSpeed:a.pageY-j.overflowOffset.top<h.scrollSensitivity&&(j.scrollParent[0].scrollTop=g=j.scrollParent[0].scrollTop-h.scrollSpeed)}if(!h.axis||h.axis!="y"){j.overflowOffset.left+j.scrollParent[0].offsetWidth-a.pageX<h.scrollSensitivity?j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft+h.scrollSpeed:a.pageX-j.overflowOffset.left<h.scrollSensitivity&&(j.scrollParent[0].scrollLeft=g=j.scrollParent[0].scrollLeft-h.scrollSpeed)}}else{if(!h.axis||h.axis!="x"){a.pageY-d(document).scrollTop()<h.scrollSensitivity?g=d(document).scrollTop(d(document).scrollTop()-h.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<h.scrollSensitivity&&(g=d(document).scrollTop(d(document).scrollTop()+h.scrollSpeed))}if(!h.axis||h.axis!="y"){a.pageX-d(document).scrollLeft()<h.scrollSensitivity?g=d(document).scrollLeft(d(document).scrollLeft()-h.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<h.scrollSensitivity&&(g=d(document).scrollLeft(d(document).scrollLeft()+h.scrollSpeed))}}g!==!1&&d.ui.ddmanager&&!h.dropBehaviour&&d.ui.ddmanager.prepareOffsets(j,a)}}),d.ui.plugin.add("draggable","snap",{start:function(a,j){var h=d(this).data("draggable"),g=h.options;h.snapElements=[],d(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var e=d(this),k=e.offset();this!=h.element[0]&&h.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:k.top,left:k.left})})},drag:function(N,M){var L=d(this).data("draggable"),K=L.options,J=K.snapTolerance,I=M.offset.left,H=I+L.helperProportions.width,G=M.offset.top,F=G+L.helperProportions.height;for(var E=L.snapElements.length-1;E>=0;E--){var D=L.snapElements[E].left,C=D+L.snapElements[E].width,B=L.snapElements[E].top,A=B+L.snapElements[E].height;if(!(D-J<I&&I<C+J&&B-J<G&&G<A+J||D-J<I&&I<C+J&&B-J<F&&F<A+J||D-J<H&&H<C+J&&B-J<G&&G<A+J||D-J<H&&H<C+J&&B-J<F&&F<A+J)){L.snapElements[E].snapping&&L.options.snap.release&&L.options.snap.release.call(L.element,N,d.extend(L._uiHash(),{snapItem:L.snapElements[E].item})),L.snapElements[E].snapping=!1;continue}if(K.snapMode!="inner"){var z=Math.abs(B-F)<=J,w=Math.abs(A-G)<=J,v=Math.abs(D-H)<=J,u=Math.abs(C-I)<=J;z&&(M.position.top=L._convertPositionTo("relative",{top:B-L.helperProportions.height,left:0}).top-L.margins.top),w&&(M.position.top=L._convertPositionTo("relative",{top:A,left:0}).top-L.margins.top),v&&(M.position.left=L._convertPositionTo("relative",{top:0,left:D-L.helperProportions.width}).left-L.margins.left),u&&(M.position.left=L._convertPositionTo("relative",{top:0,left:C}).left-L.margins.left)}var a=z||w||v||u;if(K.snapMode!="outer"){var z=Math.abs(B-G)<=J,w=Math.abs(A-F)<=J,v=Math.abs(D-I)<=J,u=Math.abs(C-H)<=J;z&&(M.position.top=L._convertPositionTo("relative",{top:B,left:0}).top-L.margins.top),w&&(M.position.top=L._convertPositionTo("relative",{top:A-L.helperProportions.height,left:0}).top-L.margins.top),v&&(M.position.left=L._convertPositionTo("relative",{top:0,left:D}).left-L.margins.left),u&&(M.position.left=L._convertPositionTo("relative",{top:0,left:C-L.helperProportions.width}).left-L.margins.left)}!L.snapElements[E].snapping&&(z||w||v||u||a)&&L.options.snap.snap&&L.options.snap.snap.call(L.element,N,d.extend(L._uiHash(),{snapItem:L.snapElements[E].item})),L.snapElements[E].snapping=z||w||v||u||a}}}),d.ui.plugin.add("draggable","stack",{start:function(a,k){var j=d(this).data("draggable").options,h=d.makeArray(d(j.stack)).sort(function(e,l){return(parseInt(d(e).css("zIndex"),10)||0)-(parseInt(d(l).css("zIndex"),10)||0)});if(!!h.length){var g=parseInt(h[0].style.zIndex)||0;d(h).each(function(b){this.style.zIndex=g+b}),this[0].style.zIndex=g+h.length}}}),d.ui.plugin.add("draggable","zIndex",{start:function(a,j){var h=d(j.helper),g=d(this).data("draggable").options;h.css("zIndex")&&(g._zIndex=h.css("zIndex")),h.css("zIndex",g.zIndex)},stop:function(a,g){var e=d(this).data("draggable").options;e._zIndex&&d(g.helper).css("zIndex",e._zIndex)}})}(jQuery),function(d,c){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,e=a.accept;this.isover=0,this.isout=1,this.accept=d.isFunction(e)?e:function(b){return b.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[],d.ui.ddmanager.droppables[a.scope].push(this),a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var a=d.ui.ddmanager.droppables[this.options.scope];for(var e=0;e<a.length;e++){a[e]==this&&a.splice(e,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,e){a=="accept"&&(this.accept=d.isFunction(e)?e:function(b){return b.is(e)}),d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var e=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",a,this.ui(e))},_deactivate:function(a){var e=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",a,this.ui(e))},_over:function(a){var e=d.ui.ddmanager.current;!!e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(e)))},_out:function(a){var e=d.ui.ddmanager.current;!!e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(e)))},_drop:function(a,j){var h=j||d.ui.ddmanager.current;if(!h||(h.currentItem||h.element)[0]==this.element[0]){return !1}var g=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=d.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==h.options.scope&&e.accept.call(e.element[0],h.currentItem||h.element)&&d.ui.intersect(h,d.extend(e,{offset:e.element.offset()}),e.options.tolerance)){g=!0;return !1}});if(g){return !1}if(this.accept.call(this.element[0],h.currentItem||h.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(h));return this.element}return !1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}}),d.extend(d.ui.droppable,{version:"1.8.17"}),d.ui.intersect=function(E,D,C){if(!D.offset){return !1}var B=(E.positionAbs||E.position.absolute).left,A=B+E.helperProportions.width,z=(E.positionAbs||E.position.absolute).top,w=z+E.helperProportions.height,v=D.offset.left,u=v+D.proportions.width,s=D.offset.top,r=s+D.proportions.height;switch(C){case"fit":return v<=B&&A<=u&&s<=z&&w<=r;case"intersect":return v<B+E.helperProportions.width/2&&A-E.helperProportions.width/2<u&&s<z+E.helperProportions.height/2&&w-E.helperProportions.height/2<r;case"pointer":var q=(E.positionAbs||E.position.absolute).left+(E.clickOffset||E.offset.click).left,p=(E.positionAbs||E.position.absolute).top+(E.clickOffset||E.offset.click).top,a=d.ui.isOver(p,q,s,v,D.proportions.height,D.proportions.width);return a;case"touch":return(z>=s&&z<=r||w>=s&&w<=r||z<s&&w>r)&&(B>=v&&B<=u||A>=v&&A<=u||B<v&&A>u);default:return !1}},d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,o){var n=d.ui.ddmanager.droppables[a.options.scope]||[],m=o?o.type:null,l=(a.currentItem||a.element).find(":data(droppable)").andSelf();droppablesLoop:for(var k=0;k<n.length;k++){if(n[k].options.disabled||a&&!n[k].accept.call(n[k].element[0],a.currentItem||a.element)){continue}for(var j=0;j<l.length;j++){if(l[j]==n[k].element[0]){n[k].proportions.height=0;continue droppablesLoop}}n[k].visible=n[k].element.css("display")!="none";if(!n[k].visible){continue}m=="mousedown"&&n[k]._activate.call(n[k],o),n[k].offset=n[k].element.offset(),n[k].proportions={width:n[k].element[0].offsetWidth,height:n[k].element[0].offsetHeight}}},drop:function(a,g){var e=!1;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance)&&(e=this._drop.call(this,g)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,g)))});return e},dragStart:function(a,e){a.element.parents(":not(body,html)").bind("scroll.droppable",function(){a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,e)})},drag:function(a,e){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,e),d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var k=d.ui.intersect(a,this,this.options.tolerance),j=!k&&this.isover==1?"isout":k&&this.isover==0?"isover":null;if(!j){return}var h;if(this.options.greedy){var b=this.element.parents(":data(droppable):eq(0)");b.length&&(h=d.data(b[0],"droppable"),h.greedyChild=j=="isover"?1:0)}h&&j=="isover"&&(h.isover=0,h.isout=1,h._out.call(h,e)),this[j]=1,this[j=="isout"?"isover":"isout"]=0,this[j=="isover"?"_over":"_out"].call(this,e),h&&j=="isout"&&(h.isout=0,h.isover=1,h._over.call(h,e))}})},dragStop:function(a,e){a.element.parents(":not(body,html)").unbind("scroll.droppable"),a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,e)}}}(jQuery),function(g,e){g.widget("ui.resizable",g.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var a=this,p=this.options;this.element.addClass("ui-resizable"),g.extend(this,{_aspectRatio:!!p.aspectRatio,aspectRatio:p.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:p.helper||p.ghost||p.animate?p.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&g.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(g('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=p.handles||(g(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var o=this.handles.split(",");this.handles={};for(var n=0;n<o.length;n++){var m=g.trim(o[n]),l="ui-resizable-"+m,k=g('<div class="ui-resizable-handle '+l+'"></div>');/sw|se|ne|nw/.test(m)&&k.css({zIndex:++p.zIndex}),"se"==m&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[m]=".ui-resizable-"+m,this.element.append(k)}}this._renderAxis=function(q){q=q||this.element;for(var v in this.handles){this.handles[v].constructor==String&&(this.handles[v]=g(this.handles[v],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var u=g(this.handles[v],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(v)?u.outerHeight():u.outerWidth();var r=["padding",/ne|nw|n/.test(v)?"Top":/se|sw|s/.test(v)?"Bottom":/^e$/.test(v)?"Right":"Left"].join("");q.css(r,s),this._proportionallyResize()}if(!g(this.handles[v]).length){continue}}},this._renderAxis(this.element),this._handles=g(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!a.resizing){if(this.className){var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}a.axis=b&&b[1]?b[1]:"se"}}),p.autoHide&&(this._handles.hide(),g(this.element).addClass("ui-resizable-autohide").hover(function(){p.disabled||(g(this).removeClass("ui-resizable-autohide"),a._handles.show())},function(){p.disabled||a.resizing||(g(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var a=function(c){g(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var d=this.element;d.after(this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement);return this},_mouseCapture:function(a){var l=!1;for(var k in this.handles){g(this.handles[k])[0]==a.target&&(l=!0)}return !this.options.disabled&&l},_mouseStart:function(a){var o=this.options,n=this.element.position(),m=this.element;this.resizing=!0,this.documentScroll={top:g(document).scrollTop(),left:g(document).scrollLeft()},(m.is(".ui-draggable")||/absolute/.test(m.css("position")))&&m.css({position:"absolute",top:n.top,left:n.left}),g.browser.opera&&/relative/.test(m.css("position"))&&m.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var l=j(this.helper.css("left")),k=j(this.helper.css("top"));o.containment&&(l+=g(o.containment).scrollLeft()||0,k+=g(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:l,top:k},this.size=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalSize=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalPosition={left:l,top:k},this.sizeDiff={width:m.outerWidth()-m.width(),height:m.outerHeight()-m.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;var c=g(".ui-resizable-"+this.axis).css("cursor");g("body").css("cursor",c=="auto"?this.axis+"-resize":c),m.addClass("ui-resizable-resizing"),this._propagate("start",a);return !0},_mouseDrag:function(C){var B=this.helper,A=this.options,z={},w=this,v=this.originalMousePosition,u=this.axis,s=C.pageX-v.left||0,r=C.pageY-v.top||0,q=this._change[u];if(!q){return !1}var p=q.apply(this,[C,s,r]),o=g.browser.msie&&g.browser.version<7,a=this.sizeDiff;this._updateVirtualBoundaries(C.shiftKey);if(this._aspectRatio||C.shiftKey){p=this._updateRatio(p,C)}p=this._respectSize(p,C),this._propagate("resize",C),B.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(p),this._trigger("resize",C,this.ui());return !1},_mouseStop:function(u){this.resizing=!1;var s=this.options,r=this;if(this._helper){var q=this._proportionallyResizeElements,p=q.length&&/textarea/i.test(q[0].nodeName),o=p&&g.ui.hasScroll(q[0],"left")?0:r.sizeDiff.height,n=p?0:r.sizeDiff.width,m={width:r.helper.width()-n,height:r.helper.height()-o},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,a=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;s.animate||this.element.css(g.extend(m,{top:a,left:l})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!s.animate&&this._proportionallyResize()}g("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove();return !1},_updateVirtualBoundaries:function(k){var d=this.options,p,o,n,m,l;l={minWidth:h(d.minWidth)?d.minWidth:0,maxWidth:h(d.maxWidth)?d.maxWidth:Infinity,minHeight:h(d.minHeight)?d.minHeight:0,maxHeight:h(d.maxHeight)?d.maxHeight:Infinity};if(this._aspectRatio||k){p=l.minHeight*this.aspectRatio,n=l.minWidth/this.aspectRatio,o=l.maxHeight*this.aspectRatio,m=l.maxWidth/this.aspectRatio,p>l.minWidth&&(l.minWidth=p),n>l.minHeight&&(l.minHeight=n),o<l.maxWidth&&(l.maxWidth=o),m<l.maxHeight&&(l.maxHeight=m)}this._vBoundaries=l},_updateCache:function(d){var c=this.options;this.offset=this.helper.offset(),h(d.left)&&(this.position.left=d.left),h(d.top)&&(this.position.top=d.top),h(d.height)&&(this.size.height=d.height),h(d.width)&&(this.size.width=d.width)},_updateRatio:function(k,d){var o=this.options,n=this.position,m=this.size,l=this.axis;h(k.height)?k.width=k.height*this.aspectRatio:h(k.width)&&(k.height=k.width/this.aspectRatio),l=="sw"&&(k.left=n.left+(m.width-k.width),k.top=null),l=="nw"&&(k.top=n.top+(m.height-k.height),k.left=n.left+(m.width-k.width));return k},_respectSize:function(G,F){var E=this.helper,D=this._vBoundaries,C=this._aspectRatio||F.shiftKey,B=this.axis,A=h(G.width)&&D.maxWidth&&D.maxWidth<G.width,z=h(G.height)&&D.maxHeight&&D.maxHeight<G.height,w=h(G.width)&&D.minWidth&&D.minWidth>G.width,v=h(G.height)&&D.minHeight&&D.minHeight>G.height;w&&(G.width=D.minWidth),v&&(G.height=D.minHeight),A&&(G.width=D.maxWidth),z&&(G.height=D.maxHeight);var u=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,r=/sw|nw|w/.test(B),q=/nw|ne|n/.test(B);w&&r&&(G.left=u-D.minWidth),A&&r&&(G.left=u-D.maxWidth),v&&q&&(G.top=s-D.minHeight),z&&q&&(G.top=s-D.maxHeight);var d=!G.width&&!G.height;d&&!G.left&&G.top?G.top=null:d&&!G.top&&G.left&&(G.left=null);return G},_proportionallyResize:function(){var a=this.options;if(!!this._proportionallyResizeElements.length){var o=this.helper||this.element;for(var n=0;n<this._proportionallyResizeElements.length;n++){var m=this._proportionallyResizeElements[n];if(!this.borderDif){var l=[m.css("borderTopWidth"),m.css("borderRightWidth"),m.css("borderBottomWidth"),m.css("borderLeftWidth")],k=[m.css("paddingTop"),m.css("paddingRight"),m.css("paddingBottom"),m.css("paddingLeft")];this.borderDif=g.map(l,function(q,p){var s=parseInt(q,10)||0,r=parseInt(k[p],10)||0;return s+r})}if(g.browser.msie&&(!!g(o).is(":hidden")||!!g(o).parents(":hidden").length)){continue}m.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.element,n=this.options;this.elementOffset=a.offset();if(this._helper){this.helper=this.helper||g('<div style="overflow:hidden;"></div>');var m=g.browser.msie&&g.browser.version<7,l=m?1:0,k=m?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+k,height:this.element.outerHeight()+k,position:"absolute",left:this.elementOffset.left-l+"px",top:this.elementOffset.top-l+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(k,d,l){return{width:this.originalSize.width+d}},w:function(l,k,p){var o=this.options,n=this.originalSize,m=this.originalPosition;return{left:m.left+k,width:n.width-k}},n:function(l,k,p){var o=this.options,n=this.originalSize,m=this.originalPosition;return{top:m.top+p,height:n.height-p}},s:function(k,d,l){return{height:this.originalSize.height+l}},se:function(a,l,k){return g.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,l,k]))},sw:function(a,l,k){return g.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,l,k]))},ne:function(a,l,k){return g.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,l,k]))},nw:function(a,l,k){return g.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,l,k]))}},_propagate:function(a,d){g.ui.plugin.call(this,a,[d,this.ui()]),a!="resize"&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),g.extend(g.ui.resizable,{version:"1.8.17"}),g.ui.plugin.add("resizable","alsoResize",{start:function(a,n){var m=g(this).data("resizable"),l=m.options,k=function(c){g(c).each(function(){var d=g(this);d.data("resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10),position:d.css("position")})})};typeof l.alsoResize=="object"&&!l.alsoResize.parentNode?l.alsoResize.length?(l.alsoResize=l.alsoResize[0],k(l.alsoResize)):g.each(l.alsoResize,function(b){k(b)}):k(l.alsoResize)},resize:function(a,q){var p=g(this).data("resizable"),o=p.options,n=p.originalSize,m=p.originalPosition,l={height:p.size.height-n.height||0,width:p.size.width-n.width||0,top:p.position.top-m.top||0,left:p.position.left-m.left||0},k=function(c,d){g(c).each(function(){var r=g(this),v=g(this).data("resizable-alsoresize"),u={},s=d&&d.length?d:r.parents(q.originalElement[0]).length?["width","height"]:["width","height","top","left"];g.each(s,function(z,w){var A=(v[w]||0)+(l[w]||0);A&&A>=0&&(u[w]=A||null)}),g.browser.opera&&/relative/.test(r.css("position"))&&(p._revertToRelativePosition=!0,r.css({position:"absolute",top:"auto",left:"auto"})),r.css(u)})};typeof o.alsoResize=="object"&&!o.alsoResize.nodeType?g.each(o.alsoResize,function(d,c){k(d,c)}):k(o.alsoResize)},stop:function(a,n){var m=g(this).data("resizable"),l=m.options,k=function(c){g(c).each(function(){var d=g(this);d.css({position:d.data("resizable-alsoresize").position})})};m._revertToRelativePosition&&(m._revertToRelativePosition=!1,typeof l.alsoResize=="object"&&!l.alsoResize.nodeType?g.each(l.alsoResize,function(b){k(b)}):k(l.alsoResize)),g(this).removeData("resizable-alsoresize")}}),g.ui.plugin.add("resizable","animate",{stop:function(w,v){var u=g(this).data("resizable"),s=u.options,r=u._proportionallyResizeElements,q=r.length&&/textarea/i.test(r[0].nodeName),p=q&&g.ui.hasScroll(r[0],"left")?0:u.sizeDiff.height,o=q?0:u.sizeDiff.width,n={width:u.size.width-o,height:u.size.height-p},m=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,a=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null;u.element.animate(g.extend(n,a&&m?{top:a,left:m}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var b={width:parseInt(u.element.css("width"),10),height:parseInt(u.element.css("height"),10),top:parseInt(u.element.css("top"),10),left:parseInt(u.element.css("left"),10)};r&&r.length&&g(r[0]).css({width:b.width,height:b.height}),u._updateCache(b),u._propagate("resize",w)}})}}),g.ui.plugin.add("resizable","containment",{start:function(E,D){var C=g(this).data("resizable"),B=C.options,A=C.element,z=B.containment,w=z instanceof g?z.get(0):/parent/.test(z)?A.parent().get(0):z;if(!!w){C.containerElement=g(w);if(/document/.test(z)||z==document){C.containerOffset={left:0,top:0},C.containerPosition={left:0,top:0},C.parentData={element:g(document),left:0,top:0,width:g(document).width(),height:g(document).height()||document.body.parentNode.scrollHeight}}else{var v=g(w),u=[];g(["Top","Right","Left","Bottom"]).each(function(k,d){u[k]=j(v.css("padding"+d))}),C.containerOffset=v.offset(),C.containerPosition=v.position(),C.containerSize={height:v.innerHeight()-u[3],width:v.innerWidth()-u[1]};var s=C.containerOffset,r=C.containerSize.height,q=C.containerSize.width,c=g.ui.hasScroll(w,"left")?w.scrollWidth:q,a=g.ui.hasScroll(w)?w.scrollHeight:r;C.parentData={element:w,left:s.left,top:s.top,width:c,height:a}}}},resize:function(G,F){var E=g(this).data("resizable"),D=E.options,C=E.containerSize,B=E.containerOffset,A=E.size,z=E.position,w=E._aspectRatio||G.shiftKey,v={top:0,left:0},u=E.containerElement;u[0]!=document&&/static/.test(u.css("position"))&&(v=B),z.left<(E._helper?B.left:0)&&(E.size.width=E.size.width+(E._helper?E.position.left-B.left:E.position.left-v.left),w&&(E.size.height=E.size.width/D.aspectRatio),E.position.left=D.helper?B.left:0),z.top<(E._helper?B.top:0)&&(E.size.height=E.size.height+(E._helper?E.position.top-B.top:E.position.top),w&&(E.size.width=E.size.height*D.aspectRatio),E.position.top=E._helper?B.top:0),E.offset.left=E.parentData.left+E.position.left,E.offset.top=E.parentData.top+E.position.top;var s=Math.abs((E._helper?E.offset.left-v.left:E.offset.left-v.left)+E.sizeDiff.width),r=Math.abs((E._helper?E.offset.top-v.top:E.offset.top-B.top)+E.sizeDiff.height),q=E.containerElement.get(0)==E.element.parent().get(0),a=/relative|absolute/.test(E.containerElement.css("position"));q&&a&&(s-=E.parentData.left),s+E.size.width>=E.parentData.width&&(E.size.width=E.parentData.width-s,w&&(E.size.height=E.size.width/E.aspectRatio)),r+E.size.height>=E.parentData.height&&(E.size.height=E.parentData.height-r,w&&(E.size.width=E.size.height*E.aspectRatio))},stop:function(A,z){var w=g(this).data("resizable"),v=w.options,u=w.position,s=w.containerOffset,r=w.containerPosition,q=w.containerElement,p=g(w.helper),o=p.offset(),n=p.outerWidth()-w.sizeDiff.width,a=p.outerHeight()-w.sizeDiff.height;w._helper&&!v.animate&&/relative/.test(q.css("position"))&&g(this).css({left:o.left-r.left-s.left,width:n,height:a}),w._helper&&!v.animate&&/static/.test(q.css("position"))&&g(this).css({left:o.left-r.left-s.left,width:n,height:a})}}),g.ui.plugin.add("resizable","ghost",{start:function(a,n){var m=g(this).data("resizable"),l=m.options,k=m.size;m.ghost=m.originalElement.clone(),m.ghost.css({opacity:0.25,display:"block",position:"relative",height:k.height,width:k.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof l.ghost=="string"?l.ghost:""),m.ghost.appendTo(m.helper)},resize:function(a,m){var l=g(this).data("resizable"),k=l.options;l.ghost&&l.ghost.css({position:"relative",height:l.size.height,width:l.size.width})},stop:function(a,m){var l=g(this).data("resizable"),k=l.options;l.ghost&&l.helper&&l.helper.get(0).removeChild(l.ghost.get(0))}}),g.ui.plugin.add("resizable","grid",{resize:function(w,v){var u=g(this).data("resizable"),s=u.options,r=u.size,q=u.originalSize,p=u.originalPosition,o=u.axis,n=s._aspectRatio||w.shiftKey;s.grid=typeof s.grid=="number"?[s.grid,s.grid]:s.grid;var m=Math.round((r.width-q.width)/(s.grid[0]||1))*(s.grid[0]||1),a=Math.round((r.height-q.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a):/^(ne)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a,u.position.top=p.top-a):/^(sw)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a,u.position.left=p.left-m):(u.size.width=q.width+m,u.size.height=q.height+a,u.position.top=p.top-a,u.position.left=p.left-m)}});var j=function(b){return parseInt(b,10)||0},h=function(b){return !isNaN(parseInt(b,10))}}(jQuery),function(d,c){d.widget("ui.selectable",d.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable"),this.dragged=!1;var e;this.refresh=function(){e=d(a.options.filter,a.element[0]),e.addClass("ui-selectee"),e.each(function(){var g=d(this),h=g.offset();d.data(this,"selectable-item",{element:this,$element:g,left:h.left,top:h.top,right:h.left+g.outerWidth(),bottom:h.top+g.outerHeight(),startselected:!1,selected:g.hasClass("ui-selected"),selecting:g.hasClass("ui-selecting"),unselecting:g.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=d("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy();return this},_mouseStart:function(a){var g=this;this.opos=[a.pageX,a.pageY];if(!this.options.disabled){var e=this.options;this.selectees=d(e.filter,this.element[0]),this._trigger("start",a),d(e.appendTo).append(this.helper),this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=d.data(this,"selectable-item");b.startselected=!0,!a.metaKey&&!a.ctrlKey&&(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,g._trigger("unselecting",a,{unselecting:b.element}))}),d(a.target).parents().andSelf().each(function(){var h=d.data(this,"selectable-item");if(h){var b=!a.metaKey&&!a.ctrlKey||!h.$element.hasClass("ui-selected");h.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),h.unselecting=!b,h.selecting=b,h.selected=b,b?g._trigger("selecting",a,{selecting:h.element}):g._trigger("unselecting",a,{unselecting:h.element});return !1}})}},_mouseDrag:function(a){var p=this;this.dragged=!0;if(!this.options.disabled){var o=this.options,n=this.opos[0],m=this.opos[1],l=a.pageX,k=a.pageY;if(n>l){var j=l;l=n,n=j}if(m>k){var j=k;k=m,m=j}this.helper.css({left:n,top:m,width:l-n,height:k-m}),this.selectees.each(function(){var e=d.data(this,"selectable-item");if(!!e&&e.element!=p.element[0]){var b=!1;o.tolerance=="touch"?b=!(e.left>l||e.right<n||e.top>k||e.bottom<m):o.tolerance=="fit"&&(b=e.left>n&&e.right<l&&e.top>m&&e.bottom<k),b?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,p._trigger("selecting",a,{selecting:e.element}))):(e.selecting&&((a.metaKey||a.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),p._trigger("unselecting",a,{unselecting:e.element}))),e.selected&&!a.metaKey&&!a.ctrlKey&&!e.startselected&&(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,p._trigger("unselecting",a,{unselecting:e.element})))}});return !1}},_mouseStop:function(a){var g=this;this.dragged=!1;var e=this.options;d(".ui-unselecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-unselecting"),b.unselecting=!1,b.startselected=!1,g._trigger("unselected",a,{unselected:b.element})}),d(".ui-selecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected"),b.selecting=!1,b.selected=!0,b.startselected=!0,g._trigger("selected",a,{selected:b.element})}),this._trigger("stop",a),this.helper.remove();return !1}}),d.extend(d.ui.selectable,{version:"1.8.17"})}(jQuery),function(d,c){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var b=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?b.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData(this.widgetName+"-item")}return this},_setOption:function(a,e){a==="disabled"?(this.options[a]=e,this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,o){var n=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(a);var m=null,l=this,k=d(a.target).parents().each(function(){if(d.data(this,n.widgetName+"-item")==l){m=d(this);return !1}});d.data(a.target,n.widgetName+"-item")==l&&(m=d(a.target));if(!m){return !1}if(this.options.handle&&!o){var j=!1;d(this.options.handle,m).find("*").andSelf().each(function(){this==a.target&&(j=!0)});if(!j){return !1}}this.currentItem=m,this._removeCurrentsFromItems();return !0},_mouseStart:function(a,m,l){var k=this.options,j=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),k.containment&&this._setContainment(),k.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",k.cursor)),k.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",k.opacity)),k.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",k.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!l){for(var h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",a,j._uiHash(this))}}d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!k.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a);return !0},_mouseDrag:function(a){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var o=this.options,n=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+o.scrollSpeed:a.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+o.scrollSpeed:a.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(a.pageY-d(document).scrollTop()<o.scrollSensitivity?n=d(document).scrollTop(d(document).scrollTop()-o.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<o.scrollSensitivity&&(n=d(document).scrollTop(d(document).scrollTop()+o.scrollSpeed)),a.pageX-d(document).scrollLeft()<o.scrollSensitivity?n=d(document).scrollLeft(d(document).scrollLeft()-o.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<o.scrollSensitivity&&(n=d(document).scrollLeft(d(document).scrollLeft()+o.scrollSpeed))),n!==!1&&d.ui.ddmanager&&!o.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var m=this.items.length-1;m>=0;m--){var l=this.items[m],k=l.item[0],j=this._intersectsWithPointer(l);if(!j){continue}if(k!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=k&&!d.ui.contains(this.placeholder[0],k)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],k):!0)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(l)){this._rearrange(a,l)}else{break}this._trigger("change",a,this._uiHash());break}}this._contactContainers(a),d.ui.ddmanager&&d.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs;return !1},_mouseStop:function(a,j){if(!!a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var h=this,g=h.placeholder.offset();h.reverting=!0,d(this.helper).animate({left:g.left-this.offset.parent.left-h.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-h.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){h._clear(a)})}else{this._clear(a,j)}return !1}},cancel:function(){var a=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,a._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,a._uiHash(this)),this.containers[e].containerCache.over=0)}}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var g=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{},d(g).each(function(){var b=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);b&&e.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!e.length&&a.key&&e.push(a.key+"=");return e.join("&")},toArray:function(a){var g=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{},g.each(function(){e.push(d(a.item||this).attr(a.attribute||"id")||"")});return e},_intersectsWith:function(A){var z=this.positionAbs.left,w=z+this.helperProportions.width,v=this.positionAbs.top,u=v+this.helperProportions.height,s=A.left,r=s+A.width,q=A.top,p=q+A.height,o=this.offset.click.top,n=this.offset.click.left,m=v+o>q&&v+o<p&&z+n>s&&z+n<r;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>A[this.floating?"width":"height"]?m:s<z+this.helperProportions.width/2&&w-this.helperProportions.width/2<r&&q<v+this.helperProportions.height/2&&u-this.helperProportions.height/2<p},_intersectsWithPointer:function(a){var m=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),l=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),k=m&&l,j=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(!k){return !1}return this.floating?h&&h=="right"||j=="down"?2:1:j&&(j=="down"?2:1)},_intersectsWithSides:function(a){var k=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),j=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&j||g=="left"&&!j:h&&(h=="down"&&k||h=="up"&&!k)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b),this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(r){var q=this,p=[],o=[],n=this._connectWith();if(n&&r){for(var m=n.length-1;m>=0;m--){var l=d(n[m]);for(var k=l.length-1;k>=0;k--){var a=d.data(l[k],this.widgetName);a&&a!=this&&!a.options.disabled&&o.push([d.isFunction(a.options.items)?a.options.items.call(a.element):d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}}o.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var m=o.length-1;m>=0;m--){o[m][0].each(function(){p.push(this)})}return d(p)},_removeCurrentsFromItems:function(){var g=this.currentItem.find(":data("+this.widgetName+"-item)");for(var e=0;e<this.items.length;e++){for(var h=0;h<g.length;h++){g[h]==this.items[e].item[0]&&this.items.splice(e,1)}}},_refreshItems:function(C){this.items=[],this.containers=[this];var B=this.items,A=this,z=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],C,{item:this.currentItem}):d(this.options.items,this.element),this]],w=this._connectWith();if(w){for(var v=w.length-1;v>=0;v--){var u=d(w[v]);for(var s=u.length-1;s>=0;s--){var r=d.data(u[s],this.widgetName);r&&r!=this&&!r.options.disabled&&(z.push([d.isFunction(r.options.items)?r.options.items.call(r.element[0],C,{item:this.currentItem}):d(r.options.items,r.element),r]),this.containers.push(r))}}}for(var v=z.length-1;v>=0;v--){var q=z[v][1],p=z[v][0];for(var s=0,o=p.length;s<o;s++){var a=d(p[s]);a.data(this.widgetName+"-item",q),B.push({item:a,instance:q,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var k=this.items.length-1;k>=0;k--){var j=this.items[k];if(j.instance!=this.currentContainer&&this.currentContainer&&j.item[0]!=this.currentItem[0]){continue}var h=this.options.toleranceElement?d(this.options.toleranceElement,j.item):j.item;a||(j.width=h.outerWidth(),j.height=h.outerHeight());var g=h.offset();j.left=g.left,j.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var k=this.containers.length-1;k>=0;k--){var g=this.containers[k].element.offset();this.containers[k].containerCache.left=g.left,this.containers[k].containerCache.top=g.top,this.containers[k].containerCache.width=this.containers[k].element.outerWidth(),this.containers[k].containerCache.height=this.containers[k].element.outerHeight()}}return this},_createPlaceholder:function(a){var j=a||this,h=j.options;if(!h.placeholder||h.placeholder.constructor==String){var g=h.placeholder;h.placeholder={element:function(){var e=d(document.createElement(j.currentItem[0].nodeName)).addClass(g||j.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];g||(e.style.visibility="hidden");return e},update:function(k,e){if(!g||!!h.forcePlaceholderSize){e.height()||e.height(j.currentItem.innerHeight()-parseInt(j.currentItem.css("paddingTop")||0,10)-parseInt(j.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(j.currentItem.innerWidth()-parseInt(j.currentItem.css("paddingLeft")||0,10)-parseInt(j.currentItem.css("paddingRight")||0,10))}}}}j.placeholder=d(h.placeholder.element.call(j.element,j.currentItem)),j.currentItem.after(j.placeholder),h.placeholder.update(j,j.placeholder)},_contactContainers:function(r){var q=null,p=null;for(var o=this.containers.length-1;o>=0;o--){if(d.ui.contains(this.currentItem[0],this.containers[o].element[0])){continue}if(this._intersectsWith(this.containers[o].containerCache)){if(q&&d.ui.contains(this.containers[o].element[0],q.element[0])){continue}q=this.containers[o],p=o}else{this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",r,this._uiHash(this)),this.containers[o].containerCache.over=0)}}if(!!q){if(this.containers.length===1){this.containers[p]._trigger("over",r,this._uiHash(this)),this.containers[p].containerCache.over=1}else{if(this.currentContainer!=this.containers[p]){var n=10000,m=null,l=this.positionAbs[this.containers[p].floating?"left":"top"];for(var k=this.items.length-1;k>=0;k--){if(!d.ui.contains(this.containers[p].element[0],this.items[k].item[0])){continue}var a=this.items[k][this.containers[p].floating?"left":"top"];Math.abs(a-l)<n&&(n=Math.abs(a-l),m=this.items[k])}if(!m&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[p],m?this._rearrange(r,m,null,!0):this._rearrange(r,null,this.containers[p].element,!0),this._trigger("change",r,this._uiHash()),this.containers[p]._trigger("change",r,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",r,this._uiHash(this)),this.containers[p].containerCache.over=1}}}},_createHelper:function(a){var g=this.options,e=d.isFunction(g.helper)?d(g.helper.apply(this.element[0],[a,this.currentItem])):g.helper=="clone"?this.currentItem.clone():this.currentItem;e.parents("body").length||d(g.appendTo!="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(e[0].style.width==""||g.forceHelperSize)&&e.width(this.currentItem.width()),(e[0].style.height==""||g.forceHelperSize)&&e.height(this.currentItem.height());return e},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;a.containment=="parent"&&(a.containment=this.helper[0].parentNode);if(a.containment=="document"||a.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(a.containment)){var j=d(a.containment)[0],h=d(a.containment).offset(),g=d(j).css("overflow")!="hidden";this.containment=[h.left+(parseInt(d(j).css("borderLeftWidth"),10)||0)+(parseInt(d(j).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(d(j).css("borderTopWidth"),10)||0)+(parseInt(d(j).css("paddingTop"),10)||0)-this.margins.top,h.left+(g?Math.max(j.scrollWidth,j.offsetWidth):j.offsetWidth)-(parseInt(d(j).css("borderLeftWidth"),10)||0)-(parseInt(d(j).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(g?Math.max(j.scrollHeight,j.offsetHeight):j.offsetHeight)-(parseInt(d(j).css("borderTopWidth"),10)||0)-(parseInt(d(j).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,m){m||(m=this.position);var l=a=="absolute"?1:-1,k=this.options,j=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(j[0].tagName);return{top:m.top+this.offset.relative.top*l+this.offset.parent.top*l-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:j.scrollTop())*l),left:m.left+this.offset.relative.left*l+this.offset.parent.left*l-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*l)}},_generatePosition:function(a){var p=this.options,o=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=/(html|body)/i.test(o[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var m=a.pageX,l=a.pageY;if(this.originalPosition){this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(l=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(l=this.containment[3]+this.offset.click.top));if(p.grid){var k=this.originalPageY+Math.round((l-this.originalPageY)/p.grid[1])*p.grid[1];l=this.containment?k-this.offset.click.top<this.containment[1]||k-this.offset.click.top>this.containment[3]?k-this.offset.click.top<this.containment[1]?k+p.grid[1]:k-p.grid[1]:k:k;var j=this.originalPageX+Math.round((m-this.originalPageX)/p.grid[0])*p.grid[0];m=this.containment?j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2]?j-this.offset.click.left<this.containment[0]?j+p.grid[0]:j-p.grid[0]:j:j}}return{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():n?0:o.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():n?0:o.scrollLeft())}},_rearrange:function(h,g,m,l){m?m[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var k=this,j=this.counter;window.setTimeout(function(){j==k.counter&&k.refreshPositions(!l)},0)},_clear:function(a,k){this.reverting=!1;var j=[],h=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!k&&j.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!k&&j.push(function(b){this._trigger("update",b,this._uiHash())});if(!d.ui.contains(this.element[0],this.currentItem[0])){k||j.push(function(b){this._trigger("remove",b,this._uiHash())});for(var g=this.containers.length-1;g>=0;g--){d.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!k&&(j.push(function(b){return function(e){b._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[g])),j.push(function(b){return function(e){b._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[g])))}}for(var g=this.containers.length-1;g>=0;g--){k||j.push(function(b){return function(e){b._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over&&(j.push(function(b){return function(e){b._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over=0)}this._storedCursor&&d("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!k){this._trigger("beforeStop",a,this._uiHash());for(var g=0;g<j.length;g++){j[g].call(this,a)}this._trigger("stop",a,this._uiHash())}return !1}k||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!k){for(var g=0;g<j.length;g++){j[g].call(this,a)}this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return !0},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var e=a||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:a?a.element:null}}}),d.extend(d.ui.sortable,{version:"1.8.17"})}(jQuery),jQuery.effects||function(A,z){function m(a){if(!a||typeof a=="number"||A.fx.speeds[a]){return !0}if(typeof a=="string"&&!A.effects[a]){return !0}return !1}function n(a,j,h,g){typeof a=="object"&&(g=j,h=null,j=a,a=j.effect),A.isFunction(j)&&(g=j,h=null,j={});if(typeof j=="number"||A.fx.speeds[j]){g=h,h=j,j={}}A.isFunction(h)&&(g=h,h=null),j=j||{},h=h||j.duration,h=A.fx.off?0:typeof h=="number"?h:h in A.fx.speeds?A.fx.speeds[h]:A.fx.speeds._default,g=g||j.complete;return[a,j,h,g]}function o(g,e){var j={_:0},h;for(h in e){g[h]!=e[h]&&(j[h]=e[h])}return j}function p(a){var g,e;for(g in a){e=a[g],(e==null||A.isFunction(e)||g in r||/scrollbar/.test(g)||!/color/i.test(g)&&isNaN(parseFloat(e)))&&delete a[g]}return a}function q(){var h=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,g={},l,k;if(h&&h.length&&h[0]&&h[h[0]]){var j=h.length;while(j--){l=h[j],typeof h[l]=="string"&&(k=l.replace(/\-(\w)/g,function(d,c){return c.toUpperCase()}),g[k]=h[l])}}else{for(l in h){typeof h[l]=="string"&&(g[l]=h[l])}}return g}function v(a,g){var c;do{c=A.curCSS(a,g);if(c!=""&&c!="transparent"||A.nodeName(a,"body")){break}g="backgroundColor"}while(a=a.parentNode);return w(c)}function w(a){var d;if(a&&a.constructor==Array&&a.length==3){return a}if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)]}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55]}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}if(d=/rgba\(0, 0, 0, 0\)/.exec(a)){return u.transparent}return u[A.trim(a).toLowerCase()]}A.effects={},A.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(a,c){A.fx.step[c]=function(b){b.colorInit||(b.start=v(b.elem,c),b.end=w(b.end),b.colorInit=!0),b.elem.style[c]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var u={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};A.effects.animateClass=function(a,j,h,g){A.isFunction(h)&&(g=h,h=null);return this.queue(function(){var e=A(this),d=e.attr("style")||" ",c=p(q.call(this)),b,B=e.attr("class");A.each(s,function(k,l){a[l]&&e[l+"Class"](a[l])}),b=p(q.call(this)),e.attr("class",B),e.animate(o(c,b),{queue:!1,duration:j,easing:h,complete:function(){A.each(s,function(k,l){a[l]&&e[l+"Class"](a[l])}),typeof e.attr("style")=="object"?(e.attr("style").cssText="",e.attr("style").cssText=d):e.attr("style",d),g&&g.apply(this,arguments),A.dequeue(this)}})})},A.fn.extend({_addClass:A.fn.addClass,addClass:function(a,j,h,g){return j?A.effects.animateClass.apply(this,[{add:a},j,h,g]):this._addClass(a)},_removeClass:A.fn.removeClass,removeClass:function(a,j,h,g){return j?A.effects.animateClass.apply(this,[{remove:a},j,h,g]):this._removeClass(a)},_toggleClass:A.fn.toggleClass,toggleClass:function(k,j,h,b,a){return typeof j=="boolean"||j===z?h?A.effects.animateClass.apply(this,[j?{add:k}:{remove:k},h,b,a]):this._toggleClass(k,j):A.effects.animateClass.apply(this,[{toggle:k},j,h,b])},switchClass:function(a,k,j,h,g){return A.effects.animateClass.apply(this,[{add:k,remove:a},j,h,g])}}),A.extend(A.effects,{version:"1.8.17",save:function(e,d){for(var g=0;g<d.length;g++){d[g]!==null&&e.data("ec.storage."+d[g],e[0].style[d[g]])}},restore:function(e,d){for(var g=0;g<d.length;g++){d[g]!==null&&e.css(d[g],e.data("ec.storage."+d[g]))}},setMode:function(d,c){c=="toggle"&&(c=d.is(":hidden")?"show":"hide");return c},getBaseline:function(g,e){var j,h;switch(g[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=g[0]/e.height}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/e.width}return{x:h,y:j}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent()}var j={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},h=A("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g=document.activeElement;a.wrap(h),(a[0]===g||A.contains(a[0],g))&&A(g).focus(),h=a.parent(),a.css("position")=="static"?(h.css({position:"relative"}),a.css({position:"relative"})):(A.extend(j,{position:a.css("position"),zIndex:a.css("z-index")}),A.each(["top","left","bottom","right"],function(b,c){j[c]=a.css(c),isNaN(parseInt(j[c],10))&&(j[c]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return h.css(j).show()},removeWrapper:function(a){var g,e=document.activeElement;if(a.parent().is(".ui-effects-wrapper")){g=a.parent().replaceWith(a),(a[0]===e||A.contains(a[0],e))&&A(e).focus();return g}return a},setTransition:function(a,j,h,g){g=g||{},A.each(j,function(b,d){unit=a.cssUnit(d),unit[0]>0&&(g[d]=unit[0]*h+unit[1])});return g}}),A.fn.extend({effect:function(a,E,D,C){var B=n.apply(this,arguments),l={options:B[1],duration:B[2],callback:B[3]},k=l.options.mode,j=A.effects[a];if(A.fx.off||!j){return k?this[k](l.duration,l.callback):this.each(function(){l.callback&&l.callback.call(this)})}return j.call(this,l)},_show:A.fn.show,show:function(d){if(m(d)){return this._show.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="show";return this.effect.apply(this,c)},_hide:A.fn.hide,hide:function(d){if(m(d)){return this._hide.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="hide";return this.effect.apply(this,c)},__toggle:A.fn.toggle,toggle:function(a){if(m(a)||typeof a=="boolean"||A.isFunction(a)){return this.__toggle.apply(this,arguments)}var d=n.apply(this,arguments);d[1].mode="toggle";return this.effect.apply(this,d)},cssUnit:function(a){var g=this.css(a),e=[];A.each(["em","px","%","pt"],function(d,c){g.indexOf(c)>0&&(e=[parseFloat(g),c])});return e}}),A.easing.jswing=A.easing.swing,A.extend(A.easing,{def:"easeOutQuad",swing:function(a,k,j,h,g){return A.easing[A.easing.def](a,k,j,h,g)},easeInQuad:function(h,g,l,k,j){return k*(g/=j)*g+l},easeOutQuad:function(h,g,l,k,j){return -k*(g/=j)*(g-2)+l},easeInOutQuad:function(h,g,l,k,j){if((g/=j/2)<1){return k/2*g*g+l}return -k/2*(--g*(g-2)-1)+l},easeInCubic:function(h,g,l,k,j){return k*(g/=j)*g*g+l},easeOutCubic:function(h,g,l,k,j){return k*((g=g/j-1)*g*g+1)+l},easeInOutCubic:function(h,g,l,k,j){if((g/=j/2)<1){return k/2*g*g*g+l}return k/2*((g-=2)*g*g+2)+l},easeInQuart:function(h,g,l,k,j){return k*(g/=j)*g*g*g+l},easeOutQuart:function(h,g,l,k,j){return -k*((g=g/j-1)*g*g*g-1)+l},easeInOutQuart:function(h,g,l,k,j){if((g/=j/2)<1){return k/2*g*g*g*g+l}return -k/2*((g-=2)*g*g*g-2)+l},easeInQuint:function(h,g,l,k,j){return k*(g/=j)*g*g*g*g+l},easeOutQuint:function(h,g,l,k,j){return k*((g=g/j-1)*g*g*g*g+1)+l},easeInOutQuint:function(h,g,l,k,j){if((g/=j/2)<1){return k/2*g*g*g*g*g+l}return k/2*((g-=2)*g*g*g*g+2)+l},easeInSine:function(h,g,l,k,j){return -k*Math.cos(g/j*(Math.PI/2))+k+l},easeOutSine:function(h,g,l,k,j){return k*Math.sin(g/j*(Math.PI/2))+l},easeInOutSine:function(h,g,l,k,j){return -k/2*(Math.cos(Math.PI*g/j)-1)+l},easeInExpo:function(h,g,l,k,j){return g==0?l:k*Math.pow(2,10*(g/j-1))+l},easeOutExpo:function(h,g,l,k,j){return g==j?l+k:k*(-Math.pow(2,-10*g/j)+1)+l},easeInOutExpo:function(h,g,l,k,j){if(g==0){return l}if(g==j){return l+k}if((g/=j/2)<1){return k/2*Math.pow(2,10*(g-1))+l}return k/2*(-Math.pow(2,-10*--g)+2)+l},easeInCirc:function(h,g,l,k,j){return -k*(Math.sqrt(1-(g/=j)*g)-1)+l},easeOutCirc:function(h,g,l,k,j){return k*Math.sqrt(1-(g=g/j-1)*g)+l},easeInOutCirc:function(h,g,l,k,j){if((g/=j/2)<1){return -k/2*(Math.sqrt(1-g*g)-1)+l}return k/2*(Math.sqrt(1-(g-=2)*g)+1)+l},easeInElastic:function(k,j,F,E,D){var C=1.70158,B=0,l=E;if(j==0){return F}if((j/=D)==1){return F+E}B||(B=D*0.3);if(l<Math.abs(E)){l=E;var C=B/4}else{var C=B/(2*Math.PI)*Math.asin(E/l)}return -(l*Math.pow(2,10*(j-=1))*Math.sin((j*D-C)*2*Math.PI/B))+F},easeOutElastic:function(k,j,F,E,D){var C=1.70158,B=0,l=E;if(j==0){return F}if((j/=D)==1){return F+E}B||(B=D*0.3);if(l<Math.abs(E)){l=E;var C=B/4}else{var C=B/(2*Math.PI)*Math.asin(E/l)}return l*Math.pow(2,-10*j)*Math.sin((j*D-C)*2*Math.PI/B)+E+F},easeInOutElastic:function(k,j,F,E,D){var C=1.70158,B=0,l=E;if(j==0){return F}if((j/=D/2)==2){return F+E}B||(B=D*0.3*1.5);if(l<Math.abs(E)){l=E;var C=B/4}else{var C=B/(2*Math.PI)*Math.asin(E/l)}if(j<1){return -0.5*l*Math.pow(2,10*(j-=1))*Math.sin((j*D-C)*2*Math.PI/B)+F}return l*Math.pow(2,-10*(j-=1))*Math.sin((j*D-C)*2*Math.PI/B)*0.5+E+F},easeInBack:function(b,B,l,k,j,h){h==z&&(h=1.70158);return k*(B/=j)*B*((h+1)*B-h)+l},easeOutBack:function(b,B,l,k,j,h){h==z&&(h=1.70158);return k*((B=B/j-1)*B*((h+1)*B+h)+1)+l},easeInOutBack:function(b,B,l,k,j,h){h==z&&(h=1.70158);if((B/=j/2)<1){return k/2*B*B*(((h*=1.525)+1)*B-h)+l}return k/2*((B-=2)*B*(((h*=1.525)+1)*B+h)+2)+l},easeInBounce:function(a,k,j,h,g){return h-A.easing.easeOutBounce(a,g-k,0,h,g)+j},easeOutBounce:function(h,g,l,k,j){return(g/=j)<1/2.75?k*7.5625*g*g+l:g<2/2.75?k*(7.5625*(g-=1.5/2.75)*g+0.75)+l:g<2.5/2.75?k*(7.5625*(g-=2.25/2.75)*g+0.9375)+l:k*(7.5625*(g-=2.625/2.75)*g+0.984375)+l},easeInOutBounce:function(a,k,j,h,g){if(k<g/2){return A.easing.easeInBounce(a,k*2,0,h,g)*0.5+j}return A.easing.easeOutBounce(a,k*2-g,0,h,g)*0.5+h*0.5+j}})}(jQuery),function(d,c){d.effects.blind=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right"],o=d.effects.setMode(q,a.options.mode||"hide"),n=a.options.direction||"vertical";d.effects.save(q,p),q.show();var m=d.effects.createWrapper(q).css({overflow:"hidden"}),l=n=="vertical"?"height":"width",k=n=="vertical"?m.height():m.width();o=="show"&&m.css(l,0);var b={};b[l]=o=="show"?k:0,m.animate(b,a.duration,a.options.easing,function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(q[0],arguments),q.dequeue()})})}}(jQuery),function(d,c){d.effects.bounce=function(a){return this.queue(function(){var D=d(this),C=["position","top","bottom","left","right"],B=d.effects.setMode(D,a.options.mode||"effect"),A=a.options.direction||"up",z=a.options.distance||20,w=a.options.times||5,v=a.duration||250;/show|hide/.test(B)&&C.push("opacity"),d.effects.save(D,C),D.show(),d.effects.createWrapper(D);var u=A=="up"||A=="down"?"top":"left",s=A=="up"||A=="left"?"pos":"neg",z=a.options.distance||(u=="top"?D.outerHeight({margin:!0})/3:D.outerWidth({margin:!0})/3);B=="show"&&D.css("opacity",0).css(u,s=="pos"?-z:z),B=="hide"&&(z=z/(w*2)),B!="hide"&&w--;if(B=="show"){var r={opacity:1};r[u]=(s=="pos"?"+=":"-=")+z,D.animate(r,v/2,a.options.easing),z=z/2,w--}for(var q=0;q<w;q++){var o={},b={};o[u]=(s=="pos"?"-=":"+=")+z,b[u]=(s=="pos"?"+=":"-=")+z,D.animate(o,v/2,a.options.easing).animate(b,v/2,a.options.easing),z=B=="hide"?z*2:z/2}if(B=="hide"){var r={opacity:0};r[u]=(s=="pos"?"-=":"+=")+z,D.animate(r,v/2,a.options.easing,function(){D.hide(),d.effects.restore(D,C),d.effects.removeWrapper(D),a.callback&&a.callback.apply(this,arguments)})}else{var o={},b={};o[u]=(s=="pos"?"-=":"+=")+z,b[u]=(s=="pos"?"+=":"-=")+z,D.animate(o,v/2,a.options.easing).animate(b,v/2,a.options.easing,function(){d.effects.restore(D,C),d.effects.removeWrapper(D),a.callback&&a.callback.apply(this,arguments)})}D.queue("fx",function(){D.dequeue()}),D.dequeue()})}}(jQuery),function(d,c){d.effects.clip=function(a){return this.queue(function(){var s=d(this),r=["position","top","bottom","left","right","height","width"],q=d.effects.setMode(s,a.options.mode||"hide"),p=a.options.direction||"vertical";d.effects.save(s,r),s.show();var o=d.effects.createWrapper(s).css({overflow:"hidden"}),n=s[0].tagName=="IMG"?o:s,m={size:p=="vertical"?"height":"width",position:p=="vertical"?"top":"left"},l=p=="vertical"?n.height():n.width();q=="show"&&(n.css(m.size,0),n.css(m.position,l/2));var b={};b[m.size]=q=="show"?l:0,b[m.position]=q=="show"?0:l/2,n.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){q=="hide"&&s.hide(),d.effects.restore(s,r),d.effects.removeWrapper(s),a.callback&&a.callback.apply(s[0],arguments),s.dequeue()}})})}}(jQuery),function(d,c){d.effects.drop=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right","opacity"],o=d.effects.setMode(q,a.options.mode||"hide"),n=a.options.direction||"left";d.effects.save(q,p),q.show(),d.effects.createWrapper(q);var m=n=="up"||n=="down"?"top":"left",l=n=="up"||n=="left"?"pos":"neg",k=a.options.distance||(m=="top"?q.outerHeight({margin:!0})/2:q.outerWidth({margin:!0})/2);o=="show"&&q.css("opacity",0).css(m,l=="pos"?-k:k);var b={opacity:o=="show"?1:0};b[m]=(o=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+k,q.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(this,arguments),q.dequeue()}})})}}(jQuery),function(d,c){d.effects.explode=function(a){return this.queue(function(){var q=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,p=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?d(this).is(":visible")?"hide":"show":a.options.mode;var o=d(this).show().css("visibility","hidden"),n=o.offset();n.top-=parseInt(o.css("marginTop"),10)||0,n.left-=parseInt(o.css("marginLeft"),10)||0;var m=o.outerWidth(!0),l=o.outerHeight(!0);for(var k=0;k<q;k++){for(var b=0;b<p;b++){o.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-b*(m/p),top:-k*(l/q)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m/p,height:l/q,left:n.left+b*(m/p)+(a.options.mode=="show"?(b-Math.floor(p/2))*(m/p):0),top:n.top+k*(l/q)+(a.options.mode=="show"?(k-Math.floor(q/2))*(l/q):0),opacity:a.options.mode=="show"?0:1}).animate({left:n.left+b*(m/p)+(a.options.mode=="show"?0:(b-Math.floor(p/2))*(m/p)),top:n.top+k*(l/q)+(a.options.mode=="show"?0:(k-Math.floor(q/2))*(l/q)),opacity:a.options.mode=="show"?1:0},a.duration||500)}}setTimeout(function(){a.options.mode=="show"?o.css({visibility:"visible"}):o.css({visibility:"visible"}).hide(),a.callback&&a.callback.apply(o[0]),o.dequeue(),d("div.ui-effects-explode").remove()},a.duration||500)})}}(jQuery),function(d,c){d.effects.fade=function(a){return this.queue(function(){var e=d(this),b=d.effects.setMode(e,a.options.mode||"hide");e.animate({opacity:b},{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){a.callback&&a.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(d,c){d.effects.fold=function(a){return this.queue(function(){var D=d(this),C=["position","top","bottom","left","right"],B=d.effects.setMode(D,a.options.mode||"hide"),A=a.options.size||15,z=!!a.options.horizFirst,w=a.duration?a.duration/2:d.fx.speeds._default/2;d.effects.save(D,C),D.show();var v=d.effects.createWrapper(D).css({overflow:"hidden"}),u=B=="show"!=z,s=u?["width","height"]:["height","width"],r=u?[v.width(),v.height()]:[v.height(),v.width()],q=/([0-9]+)%/.exec(A);q&&(A=parseInt(q[1],10)/100*r[B=="hide"?0:1]),B=="show"&&v.css(z?{height:0,width:A}:{height:A,width:0});var o={},b={};o[s[0]]=B=="show"?r[0]:A,b[s[1]]=B=="show"?r[1]:0,v.animate(o,w,a.options.easing).animate(b,w,a.options.easing,function(){B=="hide"&&D.hide(),d.effects.restore(D,C),d.effects.removeWrapper(D),a.callback&&a.callback.apply(D[0],arguments),D.dequeue()})})}}(jQuery),function(d,c){d.effects.highlight=function(a){return this.queue(function(){var j=d(this),h=["backgroundImage","backgroundColor","opacity"],g=d.effects.setMode(j,a.options.mode||"show"),b={backgroundColor:j.css("backgroundColor")};g=="hide"&&(b.opacity=0),d.effects.save(j,h),j.show().css({backgroundImage:"none",backgroundColor:a.options.color||"#ffff99"}).animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){g=="hide"&&j.hide(),d.effects.restore(j,h),g=="show"&&!d.support.opacity&&this.style.removeAttribute("filter"),a.callback&&a.callback.apply(this,arguments),j.dequeue()}})})}}(jQuery),function(d,c){d.effects.pulsate=function(a){return this.queue(function(){var h=d(this),g=d.effects.setMode(h,a.options.mode||"show");times=(a.options.times||5)*2-1,duration=a.duration?a.duration/2:d.fx.speeds._default/2,isVisible=h.is(":visible"),animateTo=0,isVisible||(h.css("opacity",0).show(),animateTo=1),(g=="hide"&&isVisible||g=="show"&&!isVisible)&&times--;for(var b=0;b<times;b++){h.animate({opacity:animateTo},duration,a.options.easing),animateTo=(animateTo+1)%2}h.animate({opacity:animateTo},duration,a.options.easing,function(){animateTo==0&&h.hide(),a.callback&&a.callback.apply(this,arguments)}),h.queue("fx",function(){h.dequeue()}).dequeue()})}}(jQuery),function(d,c){d.effects.puff=function(a){return this.queue(function(){var l=d(this),k=d.effects.setMode(l,a.options.mode||"hide"),j=parseInt(a.options.percent,10)||150,h=j/100,b={height:l.height(),width:l.width()};d.extend(a.options,{fade:!0,mode:k,percent:k=="hide"?j:100,from:k=="hide"?b:{height:b.height*h,width:b.width*h}}),l.effect("scale",a.options,a.duration,a.callback),l.dequeue()})},d.effects.scale=function(a){return this.queue(function(){var q=d(this),p=d.extend(!0,{},a.options),o=d.effects.setMode(q,a.options.mode||"effect"),n=parseInt(a.options.percent,10)||(parseInt(a.options.percent,10)==0?0:o=="hide"?0:100),m=a.options.direction||"both",l=a.options.origin;o!="effect"&&(p.origin=l||["middle","center"],p.restore=!0);var k={height:q.height(),width:q.width()};q.from=a.options.from||(o=="show"?{height:0,width:0}:k);var b={y:m!="horizontal"?n/100:1,x:m!="vertical"?n/100:1};q.to={height:k.height*b.y,width:k.width*b.x},a.options.fade&&(o=="show"&&(q.from.opacity=0,q.to.opacity=1),o=="hide"&&(q.from.opacity=1,q.to.opacity=0)),p.from=q.from,p.to=q.to,p.mode=o,q.effect("size",p,a.duration,a.callback),q.dequeue()})},d.effects.size=function(a){return this.queue(function(){var F=d(this),E=["position","top","bottom","left","right","width","height","overflow","opacity"],D=["position","top","bottom","left","right","overflow","opacity"],C=["width","height","overflow"],B=["fontSize"],A=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],z=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=d.effects.setMode(F,a.options.mode||"effect"),v=a.options.restore||!1,u=a.options.scale||"both",s=a.options.origin,r={height:F.height(),width:F.width()};F.from=a.options.from||r,F.to=a.options.to||r;if(s){var o=d.effects.getBaseline(s,r);F.from.top=(r.height-F.from.height)*o.y,F.from.left=(r.width-F.from.width)*o.x,F.to.top=(r.height-F.to.height)*o.y,F.to.left=(r.width-F.to.width)*o.x}var b={from:{y:F.from.height/r.height,x:F.from.width/r.width},to:{y:F.to.height/r.height,x:F.to.width/r.width}};if(u=="box"||u=="both"){b.from.y!=b.to.y&&(E=E.concat(A),F.from=d.effects.setTransition(F,A,b.from.y,F.from),F.to=d.effects.setTransition(F,A,b.to.y,F.to)),b.from.x!=b.to.x&&(E=E.concat(z),F.from=d.effects.setTransition(F,z,b.from.x,F.from),F.to=d.effects.setTransition(F,z,b.to.x,F.to))}(u=="content"||u=="both")&&b.from.y!=b.to.y&&(E=E.concat(B),F.from=d.effects.setTransition(F,B,b.from.y,F.from),F.to=d.effects.setTransition(F,B,b.to.y,F.to)),d.effects.save(F,v?E:D),F.show(),d.effects.createWrapper(F),F.css("overflow","hidden").css(F.from);if(u=="content"||u=="both"){A=A.concat(["marginTop","marginBottom"]).concat(B),z=z.concat(["marginLeft","marginRight"]),C=E.concat(A).concat(z),F.find("*[width]").each(function(){child=d(this),v&&d.effects.save(child,C);var e={height:child.height(),width:child.width()};child.from={height:e.height*b.from.y,width:e.width*b.from.x},child.to={height:e.height*b.to.y,width:e.width*b.to.x},b.from.y!=b.to.y&&(child.from=d.effects.setTransition(child,A,b.from.y,child.from),child.to=d.effects.setTransition(child,A,b.to.y,child.to)),b.from.x!=b.to.x&&(child.from=d.effects.setTransition(child,z,b.from.x,child.from),child.to=d.effects.setTransition(child,z,b.to.x,child.to)),child.css(child.from),child.animate(child.to,a.duration,a.options.easing,function(){v&&d.effects.restore(child,C)})})}F.animate(F.to,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){F.to.opacity===0&&F.css("opacity",F.from.opacity),w=="hide"&&F.hide(),d.effects.restore(F,v?E:D),d.effects.removeWrapper(F),a.callback&&a.callback.apply(this,arguments),F.dequeue()}})})}}(jQuery),function(d,c){d.effects.shake=function(a){return this.queue(function(){var D=d(this),C=["position","top","bottom","left","right"],B=d.effects.setMode(D,a.options.mode||"effect"),A=a.options.direction||"left",z=a.options.distance||20,w=a.options.times||3,v=a.duration||a.options.duration||140;d.effects.save(D,C),D.show(),d.effects.createWrapper(D);var u=A=="up"||A=="down"?"top":"left",s=A=="up"||A=="left"?"pos":"neg",r={},q={},o={};r[u]=(s=="pos"?"-=":"+=")+z,q[u]=(s=="pos"?"+=":"-=")+z*2,o[u]=(s=="pos"?"-=":"+=")+z*2,D.animate(r,v,a.options.easing);for(var b=1;b<w;b++){D.animate(q,v,a.options.easing).animate(o,v,a.options.easing)}D.animate(q,v,a.options.easing).animate(r,v/2,a.options.easing,function(){d.effects.restore(D,C),d.effects.removeWrapper(D),a.callback&&a.callback.apply(this,arguments)}),D.queue("fx",function(){D.dequeue()}),D.dequeue()})}}(jQuery),function(d,c){d.effects.slide=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right"],o=d.effects.setMode(q,a.options.mode||"show"),n=a.options.direction||"left";d.effects.save(q,p),q.show(),d.effects.createWrapper(q).css({overflow:"hidden"});var m=n=="up"||n=="down"?"top":"left",l=n=="up"||n=="left"?"pos":"neg",k=a.options.distance||(m=="top"?q.outerHeight({margin:!0}):q.outerWidth({margin:!0}));o=="show"&&q.css(m,l=="pos"?isNaN(k)?"-"+k:-k:k);var b={};b[m]=(o=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+k,q.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(this,arguments),q.dequeue()}})})}}(jQuery),function(d,c){d.effects.transfer=function(a){return this.queue(function(){var n=d(this),m=d(a.options.to),l=m.offset(),k={top:l.top,left:l.left,height:m.innerHeight(),width:m.innerWidth()},j=n.offset(),b=d('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({top:j.top,left:j.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(k,a.duration,a.options.easing,function(){b.remove(),a.callback&&a.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(d,c){d.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var a=this,j=a.options;a.running=0,a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),a.headers=a.element.find(j.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){j.disabled||d(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){j.disabled||d(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){j.disabled||d(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){j.disabled||d(this).removeClass("ui-state-focus")}),a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(j.navigation){var h=a.element.find("a").filter(j.navigationFilter).eq(0);if(h.length){var g=h.closest(".ui-accordion-header");g.length?a.active=g:a.active=h.closest(".ui-accordion-content").prev()}}a.active=a._findActive(a.active||j.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),a.active.next().addClass("ui-accordion-content-active"),a._createIcons(),a.resize(),a.element.attr("role","tablist"),a.headers.attr("role","tab").bind("keydown.accordion",function(b){return a._keydown(b)}).next().attr("role","tabpanel"),a.headers.not(a.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),a.active.length?a.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0),d.browser.safari||a.headers.find("a").attr("tabIndex",-1),j.event&&a.headers.bind(j.event.split(" ").join(".accordion ")+".accordion",function(b){a._clickHandler.call(a,b,this),b.preventDefault()})},_createIcons:function(){var a=this.options;a.icons&&(d("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var e=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(a.autoHeight||a.fillHeight)&&e.css("height","");return d.Widget.prototype.destroy.call(this)},_setOption:function(a,e){d.Widget.prototype._setOption.apply(this,arguments),a=="active"&&this.activate(e),a=="icons"&&(this._destroyIcons(),e&&this._createIcons()),a=="disabled"&&this.headers.add(this.headers.next())[e?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(a){if(!(this.options.disabled||a.altKey||a.ctrlKey)){var k=d.ui.keyCode,j=this.headers.length,h=this.headers.index(a.target),g=!1;switch(a.keyCode){case k.RIGHT:case k.DOWN:g=this.headers[(h+1)%j];break;case k.LEFT:case k.UP:g=this.headers[(h-1+j)%j];break;case k.SPACE:case k.ENTER:this._clickHandler({target:a.target},a.target),a.preventDefault()}if(g){d(a.target).attr("tabIndex",-1),d(g).attr("tabIndex",0),g.focus();return !1}return !0}},resize:function(){var a=this.options,g;if(a.fillSpace){if(d.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}g=this.element.parent().height(),d.browser.msie&&this.element.parent().css("overflow",e),this.headers.each(function(){g-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,g-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{a.autoHeight&&(g=0,this.headers.next().each(function(){g=Math.max(g,d(this).height("").height())}).height(g))}return this},activate:function(g){this.options.active=g;var e=this._findActive(g)[0];this._clickHandler({target:e},e);return this},_findActive:function(a){return a?typeof a=="number"?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===!1?d([]):this.headers.filter(":eq(0)")},_clickHandler:function(u,s){var r=this.options;if(!r.disabled){if(!u.target){if(!r.collapsible){return}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),this.active.next().addClass("ui-accordion-content-active");var q=this.active.next(),p={options:r,newHeader:d([]),oldHeader:r.active,newContent:d([]),oldContent:q},o=this.active=d([]);this._toggle(o,q,p);return}var n=d(u.currentTarget||s),m=n[0]===this.active[0];r.active=r.collapsible&&m?!1:this.headers.index(n);if(this.running||!r.collapsible&&m){return}var l=this.active,o=n.next(),q=this.active.next(),p={options:r,newHeader:m&&r.collapsible?d([]):n,oldHeader:this.active,newContent:m&&r.collapsible?d([]):o,oldContent:q},a=this.headers.index(this.active[0])>this.headers.index(n[0]);this.active=m?d([]):n,this._toggle(o,q,p,m,a),l.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),m||(n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),n.next().addClass("ui-accordion-content-active"));return}},_toggle:function(A,z,w,v,u){var s=this,r=s.options;s.toShow=A,s.toHide=z,s.data=w;var q=function(){if(!!s){return s._completed.apply(s,arguments)}};s._trigger("changestart",null,s.data),s.running=z.size()===0?A.size():z.size();if(r.animated){var p={};r.collapsible&&v?p={toShow:d([]),toHide:z,complete:q,down:u,autoHeight:r.autoHeight||r.fillSpace}:p={toShow:A,toHide:z,complete:q,down:u,autoHeight:r.autoHeight||r.fillSpace},r.proxied||(r.proxied=r.animated),r.proxiedDuration||(r.proxiedDuration=r.duration),r.animated=d.isFunction(r.proxied)?r.proxied(p):r.proxied,r.duration=d.isFunction(r.proxiedDuration)?r.proxiedDuration(p):r.proxiedDuration;var o=d.ui.accordion.animations,n=r.duration,a=r.animated;a&&!o[a]&&!d.easing[a]&&(a="slide"),o[a]||(o[a]=function(b){this.slide(b,{easing:a,duration:n||700})}),o[a](p)}else{r.collapsible&&v?A.toggle():(z.hide(),A.show()),q(!0)}z.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),A.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),d.extend(d.ui.accordion,{version:"1.8.17",animations:{slide:function(r,q){r=d.extend({easing:"swing",duration:300},r,q);if(!r.toHide.size()){r.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},r)}else{if(!r.toShow.size()){r.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},r);return}var p=r.toShow.css("overflow"),o=0,n={},m={},l=["height","paddingTop","paddingBottom"],k,a=r.toShow;k=a[0].style.width,a.width(a.parent().width()-parseFloat(a.css("paddingLeft"))-parseFloat(a.css("paddingRight"))-(parseFloat(a.css("borderLeftWidth"))||0)-(parseFloat(a.css("borderRightWidth"))||0)),d.each(l,function(h,g){m[g]="hide";var b=(""+d.css(r.toShow[0],g)).match(/^([\d+-.]+)(.*)$/);n[g]={value:b[1],unit:b[2]||"px"}}),r.toShow.css({height:0,overflow:"hidden"}).show(),r.toHide.filter(":hidden").each(r.complete).end().filter(":visible").animate(m,{step:function(b,e){e.prop=="height"&&(o=e.end-e.start===0?0:(e.now-e.start)/(e.end-e.start)),r.toShow[0].style[e.prop]=o*n[e.prop].value+n[e.prop].unit},duration:r.duration,easing:r.easing,complete:function(){r.autoHeight||r.toShow.css("height",""),r.toShow.css({width:k,overflow:p}),r.complete()}})}},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})}}})}(jQuery),function(e,d){var g=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,j=this.element[0].ownerDocument,h;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(k){if(!a.options.disabled&&!a.element.propAttr("readOnly")){h=!1;var b=e.ui.keyCode;switch(k.keyCode){case b.PAGE_UP:a._move("previousPage",k);break;case b.PAGE_DOWN:a._move("nextPage",k);break;case b.UP:a._move("previous",k),k.preventDefault();break;case b.DOWN:a._move("next",k),k.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:a.menu.active&&(h=!0,k.preventDefault());case b.TAB:if(!a.menu.active){return}a.menu.select(k);break;case b.ESCAPE:a.element.val(a.term),a.close(k);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=a.element.val()&&(a.selectedItem=null,a.search(null,k))},a.options.delay)}}}).bind("keypress.autocomplete",function(b){h&&(h=!1,b.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(b){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b),a._change(b)},150))}),this._initSource(),this.response=function(){return a._response.apply(a,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",j)[0]).mousedown(function(k){var b=a.menu.element[0];e(k.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(l){l.target!==a.element[0]&&l.target!==b&&!e.ui.contains(b,l.target)&&a.close()})},1),setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(b,l){var k=l.item.data("item.autocomplete");!1!==a._trigger("focus",b,{item:k})&&/^key/.test(b.originalEvent.type)&&a.element.val(k.value)},selected:function(b,l){var k=l.item.data("item.autocomplete"),c=a.previous;a.element[0]!==j.activeElement&&(a.element.focus(),a.previous=c,setTimeout(function(){a.previous=c,a.selectedItem=k},1)),!1!==a._trigger("select",b,{item:k})&&a.element.val(k.value),a.term=a.element.val(),a.close(b),a.selectedItem=k},blur:function(b,k){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")},e(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(a,h){e.Widget.prototype._setOption.apply(this,arguments),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(e(h||"body",this.element[0].ownerDocument)[0]),a==="disabled"&&h&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,h,c;e.isArray(this.options.source)?(h=this.options.source,this.source=function(j,k){k(e.ui.autocomplete.filter(h,j.term))}):typeof this.options.source=="string"?(c=this.options.source,this.source=function(j,b){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:c,data:j,dataType:"json",autocompleteRequest:++g,success:function(l,k){this.autocompleteRequest===g&&b(l)},error:function(){this.autocompleteRequest===g&&b([])}})}):this.source=this.options.source},search:function(h,c){h=h!=null?h:this.element.val(),this.term=this.element.val();if(h.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==!1){return this._search(h)}},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:b},this.response)},_response:function(b){!this.options.disabled&&b&&b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",b))},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value){return a}return e.map(a,function(c){if(typeof c=="string"){return{label:c,value:c}}return e.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(a){var h=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(h,a),this.menu.deactivate(),this.menu.refresh(),h.show(),this._resizeMenu(),h.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,j){var h=this;e.each(j,function(b,k){h._renderItem(a,k)})},_renderItem:function(a,h){return e("<li></li>").data("item.autocomplete",h).append(e("<a></a>").text(h.label)).appendTo(a)},_move:function(h,c){if(!this.menu.element.is(":visible")){this.search(null,c)}else{if(this.menu.first()&&/^previous/.test(h)||this.menu.last()&&/^next/.test(h)){this.element.val(this.term),this.menu.deactivate();return}this.menu[h](c)}},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,j){var h=new RegExp(e.ui.autocomplete.escapeRegex(j),"i");return e.grep(a,function(b){return h.test(b.label||b.value||b)})}})}(jQuery),function(b){b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){!b(d.target).closest(".ui-menu-item a").length||(d.preventDefault(),a.select(d))}),this.refresh()},refresh:function(){var a=this,d=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");d.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){a.activate(e,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(h,g){this.deactivate();if(this.hasScroll()){var l=g.offset().top-this.element.offset().top,k=this.element.scrollTop(),j=this.element.height();l<0?this.element.scrollTop(k+l):l>=j&&this.element.scrollTop(k+l-j+g.height())}this.active=g.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",h,{item:g})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(g,e,j){if(!this.active){this.activate(j,this.element.children(e))}else{var h=this.active[g+"All"](".ui-menu-item").eq(0);h.length?this.activate(j,h):this.activate(j,this.element.children(e))}},nextPage:function(a){if(this.hasScroll()){if(!this.active||this.last()){this.activate(a,this.element.children(".ui-menu-item:first"));return}var j=this.active.offset().top,h=this.element.height(),g=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-j-h+b(this).height();return c<10&&c>-10});g.length||(g=this.element.children(".ui-menu-item:last")),this.activate(a,g)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(a){if(this.hasScroll()){if(!this.active||this.first()){this.activate(a,this.element.children(".ui-menu-item:last"));return}var g=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-g+e-b(this).height();return c<10&&c>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(a,result)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})}(jQuery),function(w,v){var u,s,r,q,p="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var a=w(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},l=function(a){var j=a.name,h=a.form,g=w([]);j&&(h?g=w(h).find("[name='"+j+"']"):g=w("[name='"+j+"']",a.ownerDocument).filter(function(){return !this.form}));return g};w.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",m),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var c=this,g=this.options,e=this.type==="checkbox"||this.type==="radio",d="ui-state-hover"+(e?"":" ui-state-active"),a="ui-state-focus";g.label===null&&(g.label=this.buttonElement.html()),this.element.is(":disabled")&&(g.disabled=!0),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter.button",function(){g.disabled||(w(this).addClass("ui-state-hover"),this===u&&w(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){g.disabled||w(this).removeClass(d)}).bind("click.button",function(b){g.disabled&&(b.preventDefault(),b.stopImmediatePropagation())}),this.element.bind("focus.button",function(){c.buttonElement.addClass(a)}).bind("blur.button",function(){c.buttonElement.removeClass(a)}),e&&(this.element.bind("change.button",function(){q||c.refresh()}),this.buttonElement.bind("mousedown.button",function(b){g.disabled||(q=!1,s=b.pageX,r=b.pageY)}).bind("mouseup.button",function(b){!g.disabled&&(s!==b.pageX||r!==b.pageY)&&(q=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(g.disabled||q){return !1}w(this).toggleClass("ui-state-active"),c.buttonElement.attr("aria-pressed",c.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(g.disabled||q){return !1}w(this).addClass("ui-state-active"),c.buttonElement.attr("aria-pressed","true");var b=c.element[0];l(b).not(b).map(function(){return w(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(g.disabled){return !1}w(this).addClass("ui-state-active"),u=this,w(document).one("mouseup",function(){u=null})}).bind("mouseup.button",function(){if(g.disabled){return !1}w(this).removeClass("ui-state-active")}).bind("keydown.button",function(h){if(g.disabled){return !1}(h.keyCode==w.ui.keyCode.SPACE||h.keyCode==w.ui.keyCode.ENTER)&&w(this).addClass("ui-state-active")}).bind("keyup.button",function(){w(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(h){h.keyCode===w.ui.keyCode.SPACE&&w(this).click()})),this._setOption("disabled",g.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var e=this.element.parents().filter(":last"),d="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(d),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(d),this.buttonElement.length||(this.buttonElement=e.find(d))),this.element.addClass("ui-helper-hidden-accessible");var g=this.element.is(":checked");g&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",g)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" "+o+" "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),w.Widget.prototype.destroy.call(this)},_setOption:function(a,d){w.Widget.prototype._setOption.apply(this,arguments);a==="disabled"?d?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?l(this.element[0]).each(function(){w(this).is(":checked")?w(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):w(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label)}else{var a=this.buttonElement.removeClass(n),k=w("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),j=this.options.icons,h=j.primary&&j.secondary,g=[];j.primary||j.secondary?(this.options.text&&g.push("ui-button-text-icon"+(h?"s":j.primary?"-primary":"-secondary")),j.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+j.primary+"'></span>"),j.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+j.secondary+"'></span>"),this.options.text||(g.push(h?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",k))):g.push("ui-button-text-only"),a.addClass(g.join(" "))}}}),w.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,d){a==="disabled"&&this.buttons.button("option",a,d),w.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var a=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),w.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null||b[c]==undefined){a[c]=b[c]}}return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.17"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){$.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(a[0]);return !1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++){a[d].length>b&&(b=a[d].length,c=d)}return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f);return this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return !1}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return !0}}return !1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null}var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing){switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}}else{a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1}c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal){try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}}return !0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1){return}extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){e|=$(this).css("position")=="fixed";return !e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0);return b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a))){a=a[c?"previousSibling":"nextSibling"]}var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!!$.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay){c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear}else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0),b.setDate(1);return Math.floor(Math.round((c-b)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;c&&s++;return c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f){throw"Missing number at position "+r}r+=f[0].length;return parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return -(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){f=c[0],r+=d.length;return !1}});if(f!=-1){return f+1}throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s)){throw"Unexpected literal at position "+r}r++},r=0;for(var s=0;s<a.length;s++){if(m){a.charAt(s)=="'"&&!n("'")?m=!1:q()}else{switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/10000);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}}}if(r<b.length){throw"Extra/unparsed characters found in date: "+b.substring(r)}i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;for(;;){var u=this._getDaysInMonth(i,j-1);if(k<=u){break}j++,k-=u}}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k){throw"Invalid date"}return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;c&&m++;return c},i=function(a,b,c){var d=""+b;if(h(a)){while(d.length<c){d="0"+d}}return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b){for(var m=0;m<a.length;m++){if(l){a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m)}else{switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*10000+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}}}}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;c&&e++;return c};for(var e=0;e<a.length;e++){if(c){a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e)}else{switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}}}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0));return this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p){n--,n<0&&(n=11,o--)}}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1){switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1;return K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i){m+='<span class="ui-datepicker-month">'+g[b]+"</span>"}else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var p=0;p<12;p++){(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>")}m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j){l+='<span class="ui-datepicker-year">'+c+"</span>"}else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";for(;t<=u;t++){a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>"}a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>";return l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;e=d&&e>d?d:e;return e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.17",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(h,g){var m="ui-dialog ui-widget ui-widget-content ui-corner-all ",l={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},k={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},j=h.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};h.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var d=h(this).css(a).offset().top;d<0&&h(this).css("top",a.top-d)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var v=this,u=v.options,s=u.title||"&#160;",r=h.ui.dialog.getTitleId(v.element),q=(v.uiDialog=h("<div></div>")).appendTo(document.body).hide().addClass(m+u.dialogClass).css({zIndex:u.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(b){u.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(v.close(b),b.preventDefault())}).attr({role:"dialog","aria-labelledby":r}).mousedown(function(b){v.moveToTop(!1,b)}),p=v.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(q),o=(v.uiDialogTitlebar=h("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(q),n=h('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){n.addClass("ui-state-hover")},function(){n.removeClass("ui-state-hover")}).focus(function(){n.addClass("ui-state-focus")}).blur(function(){n.removeClass("ui-state-focus")}).click(function(b){v.close(b);return !1}).appendTo(o),c=(v.uiDialogTitlebarCloseText=h("<span></span>")).addClass("ui-icon ui-icon-closethick").text(u.closeText).appendTo(n),a=h("<span></span>").addClass("ui-dialog-title").attr("id",r).html(s).prependTo(o);h.isFunction(u.beforeclose)&&!h.isFunction(u.beforeClose)&&(u.beforeClose=u.beforeclose),o.find("*").add(o).disableSelection(),u.draggable&&h.fn.draggable&&v._makeDraggable(),u.resizable&&h.fn.resizable&&v._makeResizable(),v._createButtons(u.buttons),v._isOpen=!1,h.fn.bgiframe&&q.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var b=this;b.overlay&&b.overlay.destroy(),b.uiDialog.hide(),b.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),b.uiDialog.remove(),b.originalTitle&&b.element.attr("title",b.originalTitle);return b},widget:function(){return this.uiDialog},close:function(a){var p=this,o,n;if(!1!==p._trigger("beforeClose",a)){p.overlay&&p.overlay.destroy(),p.uiDialog.unbind("keypress.ui-dialog"),p._isOpen=!1,p.options.hide?p.uiDialog.hide(p.options.hide,function(){p._trigger("close",a)}):(p.uiDialog.hide(),p._trigger("close",a)),h.ui.dialog.overlay.resize(),p.options.modal&&(o=0,h(".ui-dialog").each(function(){this!==p.uiDialog[0]&&(n=h(this).css("z-index"),isNaN(n)||(o=Math.max(o,n)))}),h.ui.dialog.maxZ=o);return p}},isOpen:function(){return this._isOpen},moveToTop:function(a,q){var p=this,o=p.options,n;if(o.modal&&!a||!o.stack&&!o.modal){return p._trigger("focus",q)}o.zIndex>h.ui.dialog.maxZ&&(h.ui.dialog.maxZ=o.zIndex),p.overlay&&(h.ui.dialog.maxZ+=1,p.overlay.$el.css("z-index",h.ui.dialog.overlay.maxZ=h.ui.dialog.maxZ)),n={scrollTop:p.element.scrollTop(),scrollLeft:p.element.scrollLeft()},h.ui.dialog.maxZ+=1,p.uiDialog.css("z-index",h.ui.dialog.maxZ),p.element.attr(n),p._trigger("focus",q);return p},open:function(){if(!this._isOpen){var a=this,n=a.options,e=a.uiDialog;a.overlay=n.modal?new h.ui.dialog.overlay(a):null,a._size(),a._position(n.position),e.show(n.show),a.moveToTop(!0),n.modal&&e.bind("keydown.ui-dialog",function(o){if(o.keyCode===h.ui.keyCode.TAB){var r=h(":tabbable",this),q=r.filter(":first"),p=r.filter(":last");if(o.target===p[0]&&!o.shiftKey){q.focus(1);return !1}if(o.target===q[0]&&o.shiftKey){p.focus(1);return !1}}}),h(a.element.find(":tabbable").get().concat(e.find(".ui-dialog-buttonpane :tabbable").get().concat(e.get()))).eq(0).focus(),a._isOpen=!0,a._trigger("open");return a}},_createButtons:function(a){var q=this,p=!1,o=h("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),n=h("<div></div>").addClass("ui-dialog-buttonset").appendTo(o);q.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof a=="object"&&a!==null&&h.each(a,function(){return !(p=!0)}),p&&(h.each(a,function(c,s){s=h.isFunction(s)?{click:s,text:c}:s;var r=h('<button type="button"></button>').click(function(){s.click.apply(q.element[0],arguments)}).appendTo(n);h.each(s,function(e,d){e!=="click"&&(e in j?r[e](d):r.attr(e,d))}),h.fn.button&&r.button()}),o.appendTo(q.uiDialog))},_makeDraggable:function(){function n(b){return{position:b.position,offset:b.offset}}var a=this,q=a.options,p=h(document),o;a.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,b){o=q.height==="auto"?"auto":h(this).height(),h(this).height(h(this).height()).addClass("ui-dialog-dragging"),a._trigger("dragStart",c,n(b))},drag:function(b,d){a._trigger("drag",b,n(d))},stop:function(c,b){q.position=[b.position.left-p.scrollLeft(),b.position.top-p.scrollTop()],h(this).removeClass("ui-dialog-dragging").height(o),a._trigger("dragStop",c,n(b)),h.ui.dialog.overlay.resize()}})},_makeResizable:function(q){function a(c){return{originalPosition:c.originalPosition,originalSize:c.originalSize,position:c.position,size:c.size}}q=q===g?this.options.resizable:q;var p=this,o=p.options,n=p.uiDialog.css("position"),b=typeof q=="string"?q:"n,e,s,w,se,sw,ne,nw";p.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:p.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:p._minHeight(),handles:b,start:function(d,e){h(this).addClass("ui-dialog-resizing"),p._trigger("resizeStart",d,a(e))},resize:function(d,c){p._trigger("resize",d,a(c))},stop:function(d,e){h(this).removeClass("ui-dialog-resizing"),o.height=h(this).height(),o.width=h(this).width(),p._trigger("resizeStop",d,a(e)),h.ui.dialog.overlay.resize()}}).css("position",n).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var b=this.options;return b.height==="auto"?b.minHeight:Math.min(b.minHeight,b.height)},_position:function(a){var p=[],o=[0,0],n;if(a){if(typeof a=="string"||typeof a=="object"&&"0" in a){p=a.split?a.split(" "):[a[0],a[1]],p.length===1&&(p[1]=p[0]),h.each(["left","top"],function(d,c){+p[d]===p[d]&&(o[d]=p[d],p[d]=c)}),a={my:p.join(" "),at:p.join(" "),offset:o.join(" ")}}a=h.extend({},h.ui.dialog.prototype.options.position,a)}else{a=h.ui.dialog.prototype.options.position}n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(h.extend({of:window},a)),n||this.uiDialog.hide()},_setOptions:function(a){var n=this,e={},d=!1;h.each(a,function(o,c){n._setOption(o,c),o in l&&(d=!0),o in k&&(e[o]=c)}),d&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,q){var p=this,o=p.uiDialog;switch(a){case"beforeclose":a="beforeClose";break;case"buttons":p._createButtons(q);break;case"closeText":p.uiDialogTitlebarCloseText.text(""+q);break;case"dialogClass":o.removeClass(p.options.dialogClass).addClass(m+q);break;case"disabled":q?o.addClass("ui-dialog-disabled"):o.removeClass("ui-dialog-disabled");break;case"draggable":var n=o.is(":data(draggable)");n&&!q&&o.draggable("destroy"),!n&&q&&p._makeDraggable();break;case"position":p._position(q);break;case"resizable":var c=o.is(":data(resizable)");c&&!q&&o.resizable("destroy"),c&&typeof q=="string"&&o.resizable("option","handles",q),!c&&q!==!1&&p._makeResizable(q);break;case"title":h(".ui-dialog-title",p.uiDialogTitlebar).html(""+(q||"&#160;"))}h.Widget.prototype._setOption.apply(p,arguments)},_size:function(){var a=this.options,q,p,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),a.minWidth>a.width&&(a.width=a.minWidth),q=this.uiDialog.css({height:"auto",width:a.width}).height(),p=Math.max(0,a.minHeight-q);if(a.height==="auto"){if(h.support.minHeight){this.element.css({minHeight:p,height:"auto"})}else{this.uiDialog.show();var n=this.element.css("height","auto").height();o||this.uiDialog.hide(),this.element.height(Math.max(n,p))}}else{this.element.height(Math.max(a.height-q,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),h.extend(h.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(d){var c=d.attr("id");c||(this.uuid+=1,c=this.uuid);return"ui-dialog-title-"+c},overlay:function(a){this.$el=h.ui.dialog.overlay.create(a)}}),h.extend(h.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:h.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(b){return b+".dialog-overlay"}).join(" "),create:function(a){this.instances.length===0&&(setTimeout(function(){h.ui.dialog.overlay.instances.length&&h(document).bind(h.ui.dialog.overlay.events,function(c){if(h(c.target).zIndex()<h.ui.dialog.overlay.maxZ){return !1}})},1),h(document).bind("keydown.dialog-overlay",function(b){a.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(a.close(b),b.preventDefault())}),h(window).bind("resize.dialog-overlay",h.ui.dialog.overlay.resize));var d=(this.oldInstances.pop()||h("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});h.fn.bgiframe&&d.bgiframe(),this.instances.push(d);return d},destroy:function(a){var n=h.inArray(a,this.instances);n!=-1&&this.oldInstances.push(this.instances.splice(n,1)[0]),this.instances.length===0&&h([document,window]).unbind(".dialog-overlay"),a.remove();var e=0;h.each(this.instances,function(){e=Math.max(e,this.css("z-index"))}),this.maxZ=e},height:function(){var a,d;if(h.browser.msie&&h.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return a<d?h(window).height()+"px":a+"px"}return h(document).height()+"px"},width:function(){var a,d;if(h.browser.msie){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<d?h(window).width()+"px":a+"px"}return h(document).width()+"px"},resize:function(){var a=h([]);h.each(h.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:h.ui.dialog.overlay.width(),height:h.ui.dialog.overlay.height()})}}),h.extend(h.ui.dialog.overlay.prototype,{destroy:function(){h.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(k,j){k.ui=k.ui||{};var q=/left|center|right/,p=/top|center|bottom/,o="center",n={},m=k.fn.position,l=k.fn.offset;k.fn.position=function(c){if(!c||!c.of){return m.apply(this,arguments)}c=k.extend({},c);var s=k(c.of),r=s[0],g=(c.collision||"flip").split(" "),e=c.offset?c.offset.split(" "):[0,0],d,a,u;r.nodeType===9?(d=s.width(),a=s.height(),u={top:0,left:0}):r.setTimeout?(d=s.width(),a=s.height(),u={top:s.scrollTop(),left:s.scrollLeft()}):r.preventDefault?(c.at="left top",d=a=0,u={top:c.of.pageY,left:c.of.pageX}):(d=s.outerWidth(),a=s.outerHeight(),u=s.offset()),k.each(["my","at"],function(){var b=(c[this]||"").split(" ");b.length===1&&(b=q.test(b[0])?b.concat([o]):p.test(b[0])?[o].concat(b):[o,o]),b[0]=q.test(b[0])?b[0]:o,b[1]=p.test(b[1])?b[1]:o,c[this]=b}),g.length===1&&(g[1]=g[0]),e[0]=parseInt(e[0],10)||0,e.length===1&&(e[1]=e[0]),e[1]=parseInt(e[1],10)||0,c.at[0]==="right"?u.left+=d:c.at[0]===o&&(u.left+=d/2),c.at[1]==="bottom"?u.top+=a:c.at[1]===o&&(u.top+=a/2),u.left+=e[0],u.top+=e[1];return this.each(function(){var E=k(this),D=E.outerWidth(),C=E.outerHeight(),B=parseInt(k.curCSS(this,"marginLeft",!0))||0,A=parseInt(k.curCSS(this,"marginTop",!0))||0,z=D+B+(parseInt(k.curCSS(this,"marginRight",!0))||0),w=C+A+(parseInt(k.curCSS(this,"marginBottom",!0))||0),v=k.extend({},u),b;c.my[0]==="right"?v.left-=D:c.my[0]===o&&(v.left-=D/2),c.my[1]==="bottom"?v.top-=C:c.my[1]===o&&(v.top-=C/2),n.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),b={left:v.left-B,top:v.top-A},k.each(["left","top"],function(F,h){k.ui.position[g[F]]&&k.ui.position[g[F]][h](v,{targetWidth:d,targetHeight:a,elemWidth:D,elemHeight:C,collisionPosition:b,collisionWidth:z,collisionHeight:w,offset:e,my:c.my,at:c.at})}),k.fn.bgiframe&&E.bgiframe(),E.offset(k.extend(v,{using:c.using}))})},k.ui.position={fit:{left:function(a,r){var h=k(window),g=r.collisionPosition.left+r.collisionWidth-h.width()-h.scrollLeft();a.left=g>0?a.left-g:Math.max(a.left-r.collisionPosition.left,a.left)},top:function(a,r){var h=k(window),g=r.collisionPosition.top+r.collisionHeight-h.height()-h.scrollTop();a.top=g>0?a.top-g:Math.max(a.top-r.collisionPosition.top,a.top)}},flip:{left:function(a,w){if(w.at[0]!==o){var v=k(window),u=w.collisionPosition.left+w.collisionWidth-v.width()-v.scrollLeft(),s=w.my[0]==="left"?-w.elemWidth:w.my[0]==="right"?w.elemWidth:0,r=w.at[0]==="left"?w.targetWidth:-w.targetWidth,e=-2*w.offset[0];a.left+=w.collisionPosition.left<0?s+r+e:u>0?s+r+e:0}},top:function(a,w){if(w.at[1]!==o){var v=k(window),u=w.collisionPosition.top+w.collisionHeight-v.height()-v.scrollTop(),s=w.my[1]==="top"?-w.elemHeight:w.my[1]==="bottom"?w.elemHeight:0,r=w.at[1]==="top"?w.targetHeight:-w.targetHeight,e=-2*w.offset[1];a.top+=w.collisionPosition.top<0?s+r+e:u>0?s+r+e:0}}}},k.offset.setOffset||(k.offset.setOffset=function(a,z){/static/.test(k.curCSS(a,"position"))&&(a.style.position="relative");var w=k(a),v=w.offset(),u=parseInt(k.curCSS(a,"top",!0),10)||0,s=parseInt(k.curCSS(a,"left",!0),10)||0,r={top:z.top-v.top+u,left:z.left-v.left+s};"using" in z?z.using.call(a,r):w.css(r)},k.fn.offset=function(a){var d=this[0];if(!d||!d.ownerDocument){return null}if(a){return this.each(function(){k.offset.setOffset(this,a)})}return l.call(this)}),function(){var a=document.getElementsByTagName("body")[0],A=document.createElement("div"),z,w,v,u,s;z=document.createElement(a?"div":"body"),v={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&jQuery.extend(v,{position:"absolute",left:"-1000px",top:"-1000px"});for(var r in v){z.style[r]=v[r]}z.appendChild(A),w=a||document.documentElement,w.insertBefore(z,w.firstChild),A.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",u=k(A).offset(function(d,c){return c}).offset(),z.innerHTML="",w.removeChild(z),s=u.top+u.left+(a?2000:0),n.fractions=s>21&&s<22}()}(jQuery),function(d,c){d.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),d.Widget.prototype.destroy.apply(this,arguments)},value:function(b){if(b===c){return this._value()}this._setOption("value",b);return this},_setOption:function(a,e){a==="value"&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),d.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;typeof b!="number"&&(b=0);return Math.min(this.options.max,Math.max(this.min,b))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var g=this.value(),e=this._percentage();this.oldValue!==g&&(this.oldValue=g,this._trigger("change")),this.valueDiv.toggle(g>this.min).toggleClass("ui-corner-right",g===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",g)}}),d.extend(d.ui.progressbar,{version:"1.8.17"})}(jQuery),function(e,d){var g=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,n=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=n.values&&n.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&n.values.length!==2&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")));for(var c=m.length;c<k;c+=1){j.push(l)}this.handles=m.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(h){e(this).data("index.ui-slider-handle",h)}),this.handles.keydown(function(u){var s=!0,r=e(this).data("index.ui-slider-handle"),q,p,o,b;if(!a.options.disabled){switch(u.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:s=!1;if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),q=a._start(u,r);if(q===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?p=o=a.values(r):p=o=a.value();switch(u.keyCode){case e.ui.keyCode.HOME:o=a._valueMin();break;case e.ui.keyCode.END:o=a._valueMax();break;case e.ui.keyCode.PAGE_UP:o=a._trimAlignValue(p+(a._valueMax()-a._valueMin())/g);break;case e.ui.keyCode.PAGE_DOWN:o=a._trimAlignValue(p-(a._valueMax()-a._valueMin())/g);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(p===a._valueMax()){return}o=a._trimAlignValue(p+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(p===a._valueMin()){return}o=a._trimAlignValue(p-b)}a._slide(u,r,o);return s}}).keyup(function(h){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(h,b),a._change(h,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(w){var v=this.options,u,s,r,q,p,o,n,m,a;if(v.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:w.pageX,y:w.pageY},s=this._normValueFromMouse(u),r=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(h){var j=Math.abs(s-p.values(h));r>j&&(r=j,q=e(this),o=h)}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=e(this.handles[o])),n=this._start(w,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(w.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:w.pageX-m.left-q.width()/2,top:w.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,o,s),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(j){var h={x:j.pageX,y:j.pageY},k=this._normValueFromMouse(h);this._slide(j,this._handleIndex,k);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(j){var h,n,m,l,k;this.orientation==="horizontal"?(h=this.elementSize.width,n=j.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,n=j.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=n/h,m>1&&(m=1),m<0&&(m=0),this.orientation==="vertical"&&(m=1-m),l=this._valueMax()-this._valueMin(),k=this._valueMin()+m*l;return this._trimAlignValue(k)},_start:function(j,h){var k={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values());return this._trigger("start",j,k)},_slide:function(j,h,n){var m,l,k;this.options.values&&this.options.values.length?(m=this.values(h?0:1),this.options.values.length===2&&this.options.range===!0&&(h===0&&n>m||h===1&&n<m)&&(n=m),n!==this.values(h)&&(l=this.values(),l[h]=n,k=this._trigger("slide",j,{handle:this.handles[h],value:n,values:l}),m=this.values(h?0:1),k!==!1&&this.values(h,n,!0))):n!==this.value()&&(k=this._trigger("slide",j,{handle:this.handles[h],value:n}),k!==!1&&this.value(n))},_stop:function(j,h){var k={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values()),this._trigger("stop",j,k)},_change:function(j,h){if(!this._keySliding&&!this._mouseSliding){var k={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(k.value=this.values(h),k.values=this.values()),this._trigger("change",j,k)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,l){var k,j,h;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(l),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}k=this.options.values,j=arguments[0];for(h=0;h<k.length;h+=1){k[h]=this._trimAlignValue(j[h]),this._change(null,h)}this._refreshValue()}},_setOption:function(a,k){var j,h=0;e.isArray(this.options.values)&&(h=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":k?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(j=0;j<h;j+=1){this._change(null,j)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(j){var h,l,k;if(arguments.length){h=this.options.values[j],h=this._trimAlignValue(h);return h}l=this.options.values.slice();for(k=0;k<l.length;k+=1){l[k]=this._trimAlignValue(l[k])}return l},_trimAlignValue:function(j){if(j<=this._valueMin()){return this._valueMin()}if(j>=this._valueMax()){return this._valueMax()}var h=this.options.step>0?this.options.step:1,l=(j-this._valueMin())%h,k=j-l;Math.abs(l)*2>=h&&(k+=l>0?h:-h);return parseFloat(k.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u=this.options.range,s=this.options,r=this,q=this._animateOff?!1:s.animate,p,o={},n,m,l,a;this.options.values&&this.options.values.length?this.handles.each(function(c,h){p=(r.values(c)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",e(this).stop(1,1)[q?"animate":"css"](o,s.animate),r.options.range===!0&&(r.orientation==="horizontal"?(c===0&&r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},s.animate),c===1&&r.range[q?"animate":"css"]({width:p-n+"%"},{queue:!1,duration:s.animate})):(c===0&&r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},s.animate),c===1&&r.range[q?"animate":"css"]({height:p-n+"%"},{queue:!1,duration:s.animate}))),n=p}):(m=this.value(),l=this._valueMin(),a=this._valueMax(),p=a!==l?(m-l)/(a-l)*100:0,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[q?"animate":"css"](o,s.animate),u==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},s.animate),u==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:s.animate}),u==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},s.animate),u==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:s.animate}))}}),e.extend(e.ui.slider,{version:"1.8.17"})}(jQuery),function(h,g){function j(){return ++l}function k(){return ++m}var m=0,l=0;h.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(d,c){if(d=="selected"){if(this.options.collapsible&&c==this.options.selected){return}this.select(c)}else{this.options[d]=c,this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+k()},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var a=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+j());return h.cookie.apply(null,[a].concat(h.makeArray(arguments)))},_ui:function(d,c){return{tab:d,panel:c,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=h(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(C){function p(d,e){d.css("display",""),!h.support.opacity&&e.opacity&&d[0].style.removeAttribute("filter")}var B=this,A=this.options,z=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=h(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return h("a",this)[0]}),this.panels=h([]),this.anchors.each(function(d,F){var E=h(F).attr("href"),D=E.split("#")[0],o;D&&(D===location.toString().split("#")[0]||(o=h("base")[0])&&D===o.href)&&(E=F.hash,F.href=E);if(z.test(E)){B.panels=B.panels.add(B.element.find(B._sanitizeSelector(E)))}else{if(E&&E!=="#"){h.data(F,"href.tabs",E),h.data(F,"load.tabs",E.replace(/#.*$/,""));var n=B._tabId(F);F.href="#"+n;var e=B.element.find("#"+n);e.length||(e=h(A.panelTemplate).attr("id",n).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(B.panels[d-1]||B.list),e.data("destroy.tabs",!0)),B.panels=B.panels.add(e)}else{A.disabled.push(d)}}}),C?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),A.selected===g?(location.hash&&this.anchors.each(function(d,c){if(c.hash==location.hash){A.selected=d;return !1}}),typeof A.selected!="number"&&A.cookie&&(A.selected=parseInt(B._cookie(),10)),typeof A.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(A.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),A.selected=A.selected||(this.lis.length?0:-1)):A.selected===null&&(A.selected=-1),A.selected=A.selected>=0&&this.anchors[A.selected]||A.selected<0?A.selected:0,A.disabled=h.unique(A.disabled.concat(h.map(this.lis.filter(".ui-state-disabled"),function(d,c){return B.lis.index(d)}))).sort(),h.inArray(A.selected,A.disabled)!=-1&&A.disabled.splice(h.inArray(A.selected,A.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),A.selected>=0&&this.anchors.length&&(B.element.find(B._sanitizeSelector(B.anchors[A.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(A.selected).addClass("ui-tabs-selected ui-state-active"),B.element.queue("tabs",function(){B._trigger("show",null,B._ui(B.anchors[A.selected],B.element.find(B._sanitizeSelector(B.anchors[A.selected].hash))[0]))}),this.load(A.selected)),h(window).bind("unload",function(){B.lis.add(B.anchors).unbind(".tabs"),B.lis=B.anchors=B.panels=null})):A.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[A.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),A.cookie&&this._cookie(A.selected,A.cookie);for(var w=0,v;v=this.lis[w];w++){h(v)[h.inArray(w,A.disabled)!=-1&&!h(v).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}A.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(A.event!=="mouseover"){var u=function(d,c){c.is(":not(.ui-state-disabled)")&&c.addClass("ui-state-"+d)},s=function(d,c){c.removeClass("ui-state-"+d)};this.lis.bind("mouseover.tabs",function(){u("hover",h(this))}),this.lis.bind("mouseout.tabs",function(){s("hover",h(this))}),this.anchors.bind("focus.tabs",function(){u("focus",h(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){s("focus",h(this).closest("li"))})}var r,q;A.fx&&(h.isArray(A.fx)?(r=A.fx[0],q=A.fx[1]):r=q=A.fx);var b=q?function(d,e){h(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.hide().removeClass("ui-tabs-hide").animate(q,q.duration||"normal",function(){p(e,q),B._trigger("show",null,B._ui(d,e[0]))})}:function(d,e){h(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.removeClass("ui-tabs-hide"),B._trigger("show",null,B._ui(d,e[0]))},a=r?function(d,c){c.animate(r,r.duration||"normal",function(){B.lis.removeClass("ui-tabs-selected ui-state-active"),c.addClass("ui-tabs-hide"),p(c,r),B.element.dequeue("tabs")})}:function(e,d,n){B.lis.removeClass("ui-tabs-selected ui-state-active"),d.addClass("ui-tabs-hide"),B.element.dequeue("tabs")};this.anchors.bind(A.event+".tabs",function(){var d=this,o=h(d).closest("li"),n=B.panels.filter(":not(.ui-tabs-hide)"),e=B.element.find(B._sanitizeSelector(d.hash));if(o.hasClass("ui-tabs-selected")&&!A.collapsible||o.hasClass("ui-state-disabled")||o.hasClass("ui-state-processing")||B.panels.filter(":animated").length||B._trigger("select",null,B._ui(this,e[0]))===!1){this.blur();return !1}A.selected=B.anchors.index(this),B.abort();if(A.collapsible){if(o.hasClass("ui-tabs-selected")){A.selected=-1,A.cookie&&B._cookie(A.selected,A.cookie),B.element.queue("tabs",function(){a(d,n)}).dequeue("tabs"),this.blur();return !1}if(!n.length){A.cookie&&B._cookie(A.selected,A.cookie),B.element.queue("tabs",function(){b(d,e)}),B.load(B.anchors.index(this)),this.blur();return !1}}A.cookie&&B._cookie(A.selected,A.cookie);if(e.length){n.length&&B.element.queue("tabs",function(){a(d,n)}),B.element.queue("tabs",function(){b(d,e)}),B.load(B.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}h.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return !1})},_getIndex:function(b){typeof b=="string"&&(b=this.anchors.index(this.anchors.filter("[href$="+b+"]")));return b},destroy:function(){var a=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var d=h.data(this,"href.tabs");d&&(this.href=d);var e=h(this).unbind(".tabs");h.each(["href","load","cache"],function(n,c){e.removeData(c+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){h.data(this,"destroy.tabs")?h(this).remove():h(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),a.cookie&&this._cookie(null,a.cookie);return this},add:function(s,r,q){q===g&&(q=this.anchors.length);var p=this,o=this.options,n=h(o.tabTemplate.replace(/#\{href\}/g,s).replace(/#\{label\}/g,r)),b=s.indexOf("#")?this._tabId(h("a",n)[0]):s.replace("#","");n.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var a=p.element.find("#"+b);a.length||(a=h(o.panelTemplate).attr("id",b).data("destroy.tabs",!0)),a.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),q>=this.lis.length?(n.appendTo(this.list),a.appendTo(this.list[0].parentNode)):(n.insertBefore(this.lis[q]),a.insertBefore(this.panels[q])),o.disabled=h.map(o.disabled,function(d,c){return d>=q?++d:d}),this._tabify(),this.anchors.length==1&&(o.selected=0,n.addClass("ui-tabs-selected ui-state-active"),a.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){p._trigger("show",null,p._ui(p.anchors[0],p.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[q],this.panels[q]));return this},remove:function(a){a=this._getIndex(a);var p=this.options,o=this.lis.eq(a).remove(),n=this.panels.eq(a).remove();o.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(a+(a+1<this.anchors.length?1:-1)),p.disabled=h.map(h.grep(p.disabled,function(b,d){return b!=a}),function(b,d){return b>=a?--b:b}),this._tabify(),this._trigger("remove",null,this._ui(o.find("a")[0],n[0]));return this},enable:function(a){a=this._getIndex(a);var d=this.options;if(h.inArray(a,d.disabled)!=-1){this.lis.eq(a).removeClass("ui-state-disabled"),d.disabled=h.grep(d.disabled,function(b,e){return b!=a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a]));return this}},disable:function(e){e=this._getIndex(e);var d=this,n=this.options;e!=n.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),n.disabled.push(e),n.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e])));return this},select:function(b){b=this._getIndex(b);if(b==-1){if(this.options.collapsible&&this.options.selected!=-1){b=this.options.selected}else{return this}}this.anchors.eq(b).trigger(this.options.event+".tabs");return this},load:function(a){a=this._getIndex(a);var r=this,q=this.options,p=this.anchors.eq(a)[0],o=h.data(p,"load.tabs");this.abort();if(!o||this.element.queue("tabs").length!==0&&h.data(p,"cache.tabs")){this.element.dequeue("tabs")}else{this.lis.eq(a).addClass("ui-state-processing");if(q.spinner){var n=h("span",p);n.data("label.tabs",n.html()).html(q.spinner)}this.xhr=h.ajax(h.extend({},q.ajaxOptions,{url:o,success:function(d,c){r.element.find(r._sanitizeSelector(p.hash)).html(d),r._cleanup(),q.cache&&h.data(p,"cache.tabs",!0),r._trigger("load",null,r._ui(r.anchors[a],r.panels[a]));try{q.ajaxOptions.success(d,c)}catch(b){}},error:function(b,d,c){r._cleanup(),r._trigger("load",null,r._ui(r.anchors[a],r.panels[a]));try{q.ajaxOptions.error(b,d,a,p)}catch(c){}}})),r.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(d,c){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",c);return this},length:function(){return this.anchors.length}}),h.extend(h.ui.tabs,{version:"1.8.17"}),h.extend(h.ui.tabs.prototype,{rotation:null,rotate:function(o,n){var s=this,r=this.options,q=s._rotate||(s._rotate=function(a){clearTimeout(s.rotation),s.rotation=setTimeout(function(){var b=r.selected;s.select(++b<s.anchors.length?b:0)},o),a&&a.stopPropagation()}),p=s._unrotate||(s._unrotate=n?function(b){t=r.selected,q()}:function(b){b.clientX&&s.rotate(null)});o?(this.element.bind("tabsshow",q),this.anchors.bind(r.event+".tabs",p),q()):(clearTimeout(s.rotation),this.element.unbind("tabsshow",q),this.anchors.unbind(r.event+".tabs",p),delete this._rotate,delete this._unrotate);return this}})}(jQuery);(function(J,R){function s(m){J.extend(true,g,m)}function e(bz,by,bv){function bw(bA){if(a2){bg();bm();a7();aS(bA)}else{bu()}}function bu(){a4=by.theme?"ui":"fc";bz.addClass("fc");by.isRTL&&bz.addClass("fc-rtl");by.theme&&bz.addClass("ui-widget");a2=J("<div class='fc-content' style='position:relative'/>").prependTo(bz);a3=new aC(ac,by);(aU=a3.render())&&bz.prepend(aU);be(by.defaultView);J(window).resize(aO);bi()||bt()}function bt(){setTimeout(function(){!bp.start&&bi()&&aS()},0)}function bq(){J(window).unbind("resize",aO);a3.destroy();a2.remove();bz.removeClass("fc fc-rtl ui-widget")}function br(){return bs.offsetWidth!==0}function bi(){return J("body")[0].offsetWidth!==0}function be(bA){if(!bp||bA!=bp.name){a1++;a8();var bC=bp,bB;if(bC){(bC.beforeHide||b)();aD(a2,a2.height());bC.element.hide()}else{aD(a2,1)}a2.css("overflow","hidden");if(bp=N[bA]){bp.element.show()}else{bp=N[bA]=new S[bA](bB=bj=J("<div class='fc-view fc-view-"+bA+"' style='position:absolute'/>").appendTo(a2),ac)}bC&&a3.deactivateButton(bC.name);a3.activateButton(bA);aS();a2.css("overflow","");bC&&aD(a2,1);bB||(bp.afterShow||b)();a1--}}function aS(bA){if(br()){a1++;a8();bo===R&&bg();var bB=false;if(!bp.start||bA||bk<bp.start||bk>=bp.end){bp.render(bk,bA||0);bc(true);bB=true}else{if(bp.sizeDirty){bp.clearEvents();bc();bB=true}else{if(bp.eventsDirty){bp.clearEvents();bB=true}}}bp.sizeDirty=false;bp.eventsDirty=false;a6(bB);aN=bz.outerWidth();a3.updateTitle(bp.title);bA=new Date;bA>=bp.start&&bA<bp.end?a3.disableButton("today"):a3.enableButton("today");a1--;bp.trigger("viewDisplay",bs)}}function aT(){bm();if(br()){bg();bc();a8();bp.clearEvents();bp.renderEvents(aY);bp.sizeDirty=false}}function bm(){J.each(N,function(bA,bB){bB.sizeDirty=true})}function bg(){bo=by.contentHeight?by.contentHeight:by.height?by.height-(aU?aU.height():0)-d(a2):Math.round(a2.width()/Math.max(by.aspectRatio,0.5))}function bc(bA){a1++;bp.setHeight(bo,bA);if(bj){bj.css("position","relative");bj=null}bp.setWidth(a2.width(),bA);a1--}function aO(){if(!a1){if(bp.start){var bA=++bf;setTimeout(function(){if(bA==bf&&!a1&&br()){if(aN!=(aN=bz.outerWidth())){a1++;aT();bp.trigger("windowResize",bs);a1--}}},200)}else{bt()}}}function a6(bA){if(!by.lazyFetching||ba(bp.visStart,bp.visEnd)){bh()}else{bA&&a5()}}function bh(){aX(bp.visStart,bp.visEnd)}function a9(bA){aY=bA;a5()}function m(bA){a5(bA)}function a5(bA){a7();if(br()){bp.clearEvents();bp.renderEvents(aY,bA);bp.eventsDirty=false}}function a7(){J.each(N,function(bA,bB){bB.eventsDirty=true})}function bl(bA,bC,bB){bp.select(bA,bC,bB===R?true:bB)}function a8(){bp&&bp.unselect()}function aQ(){aS(-1)}function bb(){aS(1)}function ab(){ar(bk,-1);aS()}function aP(){ar(bk,1);aS()}function a0(){bk=new Date;aS()}function bn(bA,bC,bB){if(bA instanceof Date){bk=Y(bA)}else{aA(bk,bA,bC,bB)}aS()}function aW(bA,bC,bB){bA!==R&&ar(bk,bA);bC!==R&&aa(bk,bC);bB!==R&&X(bk,bB);aS()}function bx(){return Y(bk)}function bd(){return bp}function aZ(bA,bB){if(bB===R){return by[bA]}if(bA=="height"||bA=="contentHeight"||bA=="aspectRatio"){by[bA]=bB;aT()}}function aR(bA,bB){if(by[bA]){return by[bA].apply(bB||bs,Array.prototype.slice.call(arguments,2))}}var ac=this;ac.options=by;ac.render=bw;ac.destroy=bq;ac.refetchEvents=bh;ac.reportEvents=a9;ac.reportEventChange=m;ac.rerenderEvents=a5;ac.changeView=be;ac.select=bl;ac.unselect=a8;ac.prev=aQ;ac.next=bb;ac.prevYear=ab;ac.nextYear=aP;ac.today=a0;ac.gotoDate=bn;ac.incrementDate=aW;ac.formatDate=function(bA,bB){return al(bA,bB,by)};ac.formatDates=function(bA,bC,bB){return L(bA,bC,bB,by)};ac.getDate=bx;ac.getView=bd;ac.option=aZ;ac.trigger=aR;ai.call(ac,by,bv);var ba=ac.isFetchNeeded,aX=ac.fetchEvents,bs=bz[0],a3,aU,a2,a4,bp,N={},aN,bo,bj,bf=0,a1=0,bk=new Date,aY=[],aV;aA(bk,by.year,by.month,by.date);by.droppable&&J(document).bind("dragstart",function(bB,bE){var bD=bB.target,bC=J(bD);if(!bC.parents(".fc").length){var bA=by.dropAccept;if(J.isFunction(bA)?bA.call(bD,bC):bC.is(bA)){aV=bD;bp.dragStart(aV,bB,bE)}}}).bind("dragstop",function(bA,bB){if(aV){bp.dragStop(aV,bA,bB);aV=null}})}function aC(aU,aT){function aQ(){m=aT.theme?"ui":"fc";if(aT.header){return aN=J("<div class='fc-header' style='width:100%'/>").append(J("<div>").append(aP("left")).append(aP("center")).append(aP("right")))}}function aR(){aN.remove()}function aP(aW){var aX=J("<div class='fc-header-"+aW+"'/>");(aW=aT.header[aW])&&J.each(aW.split(" "),function(aY){aY>0&&aX.append("");var aZ;J.each(this.split(","),function(a3,a1){if(a1=="title"){aX.append("<span class='fc-header-title'><h5>&nbsp;</h5></span>");aZ&&aZ.addClass(m+"-corner-right");aZ=null}else{var a0;if(aU[a1]){a0=aU[a1]}else{if(S[a1]){a0=function(){a4.removeClass(m+"-state-hover");aU.changeView(a1)}}}if(a0){a3=aT.theme?z(aT.buttonIcons,a1):null;var a2=z(aT.buttonText,a1),a4=J("<span class='fc-button fc-button-"+a1+" "+m+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(a3?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a3+"'/></span>":a2)+"</span></span></span>");if(a4){a4.click(function(){a4.hasClass(m+"-state-disabled")||a0()}).mousedown(function(){a4.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){a4.removeClass(m+"-state-down")}).hover(function(){a4.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){a4.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(aX);aZ||a4.addClass(m+"-corner-left");aZ=a4}}}});aZ&&aZ.addClass(m+"-corner-right")});return aX}function aO(aW){aN.find("h5").html(aW)}function N(aW){aN.find("span.fc-button-"+aW).addClass(m+"-state-active")}function ac(aW){aN.find("span.fc-button-"+aW).removeClass(m+"-state-active")}function aV(aW){aN.find("span.fc-button-"+aW).addClass(m+"-state-disabled")}function aS(aW){aN.find("span.fc-button-"+aW).removeClass(m+"-state-disabled")}var ab=this;ab.render=aQ;ab.destroy=aR;ab.updateTitle=aO;ab.activateButton=N;ab.deactivateButton=ac;ab.disableButton=aV;ab.enableButton=aS;var aN=J([]),m}function ai(bb,ba){function a8(bf,be){return !a0||bf<a0||be>aQ}function a9(bg,bf){a0=bg;aQ=bf;aR=[];bg=++aT;aV=bf=ac.length;for(var be=0;be<bf;be++){a7(ac[be],bg)}}function a7(bf,be){a6(bf,function(bh){if(be==aT){if(bh){for(var bg=0;bg<bh.length;bg++){bh[bg].source=bf;aS(bh[bg])}aR=aR.concat(bh)}aV--;aV||a5(aR)}})}function a6(bl,bj){var bi,bg=aG.sourceFetchers,bk;for(bi=0;bi<bg.length;bi++){bk=bg[bi](bl,a0,aQ,bj);if(bk===true){return}else{if(typeof bk=="object"){a6(bk,bj);return}}}if(bi=bl.events){if(J.isFunction(bi)){aW();bi(Y(a0),Y(aQ),function(bm){bj(bm);a1()})}else{J.isArray(bi)?bj(bi):bj()}}else{if(bl.url){var bf=bl.success,be=bl.error,bh=bl.complete;bi=J.extend({},bl.data||{});bg=aB(bl.startParam,bb.startParam);bk=aB(bl.endParam,bb.endParam);if(bg){bi[bg]=Math.round(+a0/1000)}if(bk){bi[bk]=Math.round(+aQ/1000)}aW();J.ajax(J.extend({},ao,bl,{data:bi,success:function(bn){bn=bn||[];var bm=aj(bf,this,arguments);if(J.isArray(bm)){bn=bm}bj(bn)},error:function(){aj(be,this,arguments);bj()},complete:function(){aj(bh,this,arguments);a1()}}))}else{bj()}}}function a2(be){if(be=a4(be)){aV++;a7(be,aT)}}function a4(be){if(J.isFunction(be)||J.isArray(be)){be={events:be}}else{if(typeof be=="string"){be={url:be}}}if(typeof be=="object"){bd(be);ac.push(be);return be}}function aX(be){ac=J.grep(ac,function(bf){return !a3(bf,be)});aR=J.grep(aR,function(bf){return !a3(bf.source,be)});a5(aR)}function aU(bk){var bi,bh=aR.length,bg,bj=m().defaultEventEnd,bf=bk.start-bk._start,be=bk.end?bk.end-(bk._end||bj(bk)):0;for(bi=0;bi<bh;bi++){bg=aR[bi];if(bg._id==bk._id&&bg!=bk){bg.start=new Date(+bg.start+bf);bg.end=bk.end?bg.end?new Date(+bg.end+be):new Date(+bj(bg)+be):null;bg.title=bk.title;bg.url=bk.url;bg.allDay=bk.allDay;bg.className=bk.className;bg.editable=bk.editable;bg.color=bk.color;bg.backgroudColor=bk.backgroudColor;bg.borderColor=bk.borderColor;bg.textColor=bk.textColor;aS(bg)}}aS(bk);a5(aR)}function aN(bf,be){aS(bf);if(!bf.source){if(be){N.events.push(bf);bf.source=N}aR.push(bf)}a5(aR)}function aO(bg){if(bg){if(!J.isFunction(bg)){var bf=bg+"";bg=function(bh){return bh._id==bf}}aR=J.grep(aR,bg,true);for(be=0;be<ac.length;be++){if(J.isArray(ac[be].events)){ac[be].events=J.grep(ac[be].events,bg,true)}}}else{aR=[];for(var be=0;be<ac.length;be++){if(J.isArray(ac[be].events)){ac[be].events=[]}}}a5(aR)}function aY(be){if(J.isFunction(be)){return J.grep(aR,be)}else{if(be){be+="";return J.grep(aR,function(bf){return bf._id==be})}}return aR}function aW(){aZ++||bc("loading",null,true)}function a1(){--aZ||bc("loading",null,false)}function aS(bg){var bf=bg.source||{},be=aB(bf.ignoreTimezone,bb.ignoreTimezone);bg._id=bg._id||(bg.id===R?"_fc"+W++:bg.id+"");if(bg.date){if(!bg.start){bg.start=bg.date}delete bg.date}bg._start=Y(bg.start=k(bg.start,be));bg.end=k(bg.end,be);if(bg.end&&bg.end<=bg.start){bg.end=null}bg._end=bg.end?Y(bg.end):null;if(bg.allDay===R){bg.allDay=aB(bf.allDayDefault,bb.allDayDefault)}if(bg.className){if(typeof bg.className=="string"){bg.className=bg.className.split(/\s+/)}}else{bg.className=[]}}function bd(bg){if(bg.className){if(typeof bg.className=="string"){bg.className=bg.className.split(/\s+/)}}else{bg.className=[]}for(var bf=aG.sourceNormalizers,be=0;be<bf.length;be++){bf[be](bg)}}function a3(bf,be){return bf&&be&&ab(bf)==ab(be)}function ab(be){return(typeof be=="object"?be.events||be.url:"")||be}var aP=this;aP.isFetchNeeded=a8;aP.fetchEvents=a9;aP.addEventSource=a2;aP.removeEventSource=aX;aP.updateEvent=aU;aP.renderEvent=aN;aP.removeEvents=aO;aP.clientEvents=aY;aP.normalizeEvent=aS;var bc=aP.trigger,m=aP.getView,a5=aP.reportEvents,N={events:[]},ac=[N],a0,aQ,aT=0,aV=0,aZ=0,aR=[];for(aP=0;aP<ba.length;aP++){a4(ba[aP])}}function ar(N,m,ab){N.setFullYear(N.getFullYear()+m);ab||E(N);return N}function aa(N,m,ab){if(+N){m=N.getMonth()+m;var ac=Y(N);ac.setDate(1);ac.setMonth(m);N.setMonth(m);for(ab||E(N);N.getMonth()!=ac.getMonth();){N.setDate(N.getDate()+(N<ac?1:-1))}}return N}function X(N,m,ab){if(+N){m=N.getDate()+m;var ac=Y(N);ac.setHours(9);ac.setDate(m);N.setDate(m);ab||E(N);aI(N,ac)}return N}function aI(N,m){if(+N){for(;N.getDate()!=m.getDate();){N.setTime(+N+(N<m?1:-1)*I)}}}function c(N,m){N.setMinutes(N.getMinutes()+m);return N}function E(m){m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);return m}function Y(N,m){if(m){return E(new Date(+N))}return new Date(+N)}function am(){var N=0,m;do{m=new Date(1970,N++,1)}while(m.getHours());return m}function n(N,m,ab){for(m=m||1;!N.getDay()||ab&&N.getDay()==1||!ab&&N.getDay()==6;){X(N,m)}return N}function ae(N,m){return Math.round((Y(N,true)-Y(m,true))/aF)}function aA(N,m,ab,ac){if(m!==R&&m!=N.getFullYear()){N.setDate(1);N.setMonth(0);N.setFullYear(m)}if(ab!==R&&ab!=N.getMonth()){N.setDate(1);N.setMonth(ab)}ac!==R&&N.setDate(ac)}function k(N,m){if(typeof N=="object"){return N}if(typeof N=="number"){return new Date(N*1000)}if(typeof N=="string"){if(N.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(N)*1000)}if(m===R){m=true}return at(N,m)||(N?new Date(N):null)}return null}function at(N,m){N=N.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!N){return null}var ab=new Date(N[1],0,1);if(m||!N[13]){m=new Date(N[1],0,1,9,0);if(N[3]){ab.setMonth(N[3]-1);m.setMonth(N[3]-1)}if(N[5]){ab.setDate(N[5]);m.setDate(N[5])}aI(ab,m);N[7]&&ab.setHours(N[7]);N[8]&&ab.setMinutes(N[8]);N[10]&&ab.setSeconds(N[10]);N[12]&&ab.setMilliseconds(Number("0."+N[12])*1000);aI(ab,m)}else{ab.setUTCFullYear(N[1],N[3]?N[3]-1:0,N[5]||1);ab.setUTCHours(N[7]||0,N[8]||0,N[10]||0,N[12]?Number("0."+N[12])*1000:0);if(N[14]){m=Number(N[16])*60+(N[18]?Number(N[18]):0);m*=N[15]=="-"?1:-1;ab=new Date(+ab+m*60*1000)}}return ab}function av(N){if(typeof N=="number"){return N*60}if(typeof N=="object"){return N.getHours()*60+N.getMinutes()}if(N=N.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var m=parseInt(N[1],10);if(N[3]){m%=12;if(N[3].toLowerCase().charAt(0)=="p"){m+=12}}return m*60+(N[2]?parseInt(N[2],10):0)}}function al(N,m,ab){return L(N,null,m,ab)}function L(aT,aS,aP,aQ){aQ=aQ||g;var aO=aT,aN=aS,m,ab=aP.length,aU,aR,N,ac="";for(m=0;m<ab;m++){aU=aP.charAt(m);if(aU=="'"){for(aR=m+1;aR<ab;aR++){if(aP.charAt(aR)=="'"){if(aO){ac+=aR==m+1?"'":aP.substring(m+1,aR);m=aR}break}}}else{if(aU=="("){for(aR=m+1;aR<ab;aR++){if(aP.charAt(aR)==")"){m=al(aO,aP.substring(m+1,aR),aQ);if(parseInt(m.replace(/\D/,""),10)){ac+=m}m=aR;break}}}else{if(aU=="["){for(aR=m+1;aR<ab;aR++){if(aP.charAt(aR)=="]"){aU=aP.substring(m+1,aR);m=al(aO,aU,aQ);if(m!=al(aN,aU,aQ)){ac+=m}m=aR;break}}}else{if(aU=="{"){aO=aS;aN=aT}else{if(aU=="}"){aO=aT;aN=aS}else{for(aR=ab;aR>m;aR--){if(N=v[aP.substring(m,aR)]){if(aO){ac+=N(aO,aQ)}m=aR-1;break}}if(aR==m){if(aO){ac+=aU}}}}}}}}return ac}function an(m){return m.end?h(m.end,m.allDay):X(Y(m.start),1)}function h(N,m){N=Y(N);return m||N.getHours()||N.getMinutes()?X(N,1):E(N)}function aE(N,m){return(m.msLength-N.msLength)*100+(N.event.start-m.event.start)}function ad(N,m){return N.end>m.start&&N.start<m.end}function ag(aT,aS,aP,aQ){var aO=[],aN,m=aT.length,ab,aU,aR,N,ac;for(aN=0;aN<m;aN++){ab=aT[aN];aU=ab.start;aR=aS[aN];if(aR>aP&&aU<aQ){if(aU<aP){aU=Y(aP);N=false}else{aU=aU;N=true}if(aR>aQ){aR=Y(aQ);ac=false}else{aR=aR;ac=true}aO.push({event:ab,start:aU,end:aR,isStart:N,isEnd:ac,msLength:aR-aU})}}return aO.sort(aE)}function P(ab){var m=[],aP,aQ=ab.length,aO,aN,N,ac;for(aP=0;aP<aQ;aP++){aO=ab[aP];for(aN=0;;){N=false;if(m[aN]){for(ac=0;ac<m[aN].length;ac++){if(ad(m[aN][ac],aO)){N=true;break}}}if(N){aN++}else{break}}if(m[aN]){m[aN].push(aO)}else{m[aN]=[aO]}}return m}function M(N,m,ab){N.unbind("mouseover").mouseover(function(aO){for(var aN=aO.target,ac;aN!=this;){ac=aN;aN=aN.parentNode}if((aN=ac._fci)!==R){ac._fci=R;ac=m[aN];ab(ac.event,ac.element,ac);J(aO.target).trigger(aO)}aO.stopPropagation()})}function V(N,m,ac){for(var aN=0,ab;aN<N.length;aN++){ab=J(N[aN]);ab.width(Math.max(0,m-C(ab,ac)))}}function A(N,m,ac){for(var aN=0,ab;aN<N.length;aN++){ab=J(N[aN]);ab.height(Math.max(0,m-d(ab,ac)))}}function C(N,m){return aq(N)+Z(N)+(m?K(N):0)}function aq(m){return(parseFloat(J.curCSS(m[0],"paddingLeft",true))||0)+(parseFloat(J.curCSS(m[0],"paddingRight",true))||0)}function K(m){return(parseFloat(J.curCSS(m[0],"marginLeft",true))||0)+(parseFloat(J.curCSS(m[0],"marginRight",true))||0)}function Z(m){return(parseFloat(J.curCSS(m[0],"borderLeftWidth",true))||0)+(parseFloat(J.curCSS(m[0],"borderRightWidth",true))||0)}function d(N,m){return w(N)+j(N)+(m?l(N):0)}function w(m){return(parseFloat(J.curCSS(m[0],"paddingTop",true))||0)+(parseFloat(J.curCSS(m[0],"paddingBottom",true))||0)}function l(m){return(parseFloat(J.curCSS(m[0],"marginTop",true))||0)+(parseFloat(J.curCSS(m[0],"marginBottom",true))||0)}function j(m){return(parseFloat(J.curCSS(m[0],"borderTopWidth",true))||0)+(parseFloat(J.curCSS(m[0],"borderBottomWidth",true))||0)}function aD(N,m){m=typeof m=="number"?m+"px":m;N.each(function(ab,ac){ac.style.cssText+=";min-height:"+m+";_height:"+m})}function b(){}function aJ(N,m){return N-m}function aw(m){return Math.max.apply(Math,m)}function U(m){return(m<10?"0":"")+m}function z(N,m){if(N[m]!==R){return N[m]}m=m.split(/(?=[A-Z])/);for(var ab=m.length-1,ac;ab>=0;ab--){ac=N[m[ab].toLowerCase()];if(ac!==R){return ac}}return N[""]}function H(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ah(m){return m.id+"/"+m.className+"/"+m.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function p(m){m.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ap(m){m.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function aL(N,m){N.each(function(ab,ac){ac.className=ac.className.replace(/^fc-\w*/,"fc-"+aH[m.getDay()])})}function Q(ab,m){var aO=ab.source||{},aP=ab.color,aN=aO.color,ac=m("eventColor"),N=ab.backgroundColor||aP||aO.backgroundColor||aN||m("eventBackgroundColor")||ac;aP=ab.borderColor||aP||aO.borderColor||aN||m("eventBorderColor")||ac;ab=ab.textColor||aO.textColor||m("eventTextColor");m=[];N&&m.push("background-color:"+N);aP&&m.push("border-color:"+aP);ab&&m.push("color:"+ab);return m.join(";")}function aj(N,m,ac){if(J.isFunction(N)){N=[N]}if(N){var aN,ab;for(aN=0;aN<N.length;aN++){ab=N[aN].apply(m,ac)||ab}return ab}}function aB(){for(var m=0;m<arguments.length;m++){if(arguments[m]!==R){return arguments[m]}}}function au(ab,m){function aO(aQ,aS){if(aS){aa(aQ,aS);aQ.setDate(1)}aQ=Y(aQ,true);aQ.setDate(1);aS=aa(Y(aQ),1);var aV=Y(aQ),aR=Y(aS),aT=aN("firstDay"),aU=aN("weekends")?0:1;if(aU){n(aV);n(aR,-1,true)}X(aV,-((aV.getDay()-Math.max(aT,aU)+7)%7));X(aR,(7-aR.getDay()+Math.max(aT,aU))%7);aT=Math.round((aR-aV)/(aF*7));if(aN("weekMode")=="fixed"){X(aR,(6-aT)*7);aT=6}aP.title=N(aQ,aN("titleFormat"));aP.start=aQ;aP.end=aS;aP.visStart=aV;aP.visEnd=aR;ac(6,aT,aU?5:7,true)}var aP=this;aP.render=aO;ay.call(aP,ab,m,"month");var aN=aP.opt,ac=aP.renderBasic,N=m.formatDate}function af(ab,m){function aO(aQ,aS){aS&&X(aQ,aS*7);aQ=X(Y(aQ),-((aQ.getDay()-aN("firstDay")+7)%7));aS=X(Y(aQ),7);var aU=Y(aQ),aR=Y(aS),aT=aN("weekends");if(!aT){n(aU);n(aR,-1,true)}aP.title=N(aU,X(Y(aR),-1),aN("titleFormat"));aP.start=aQ;aP.end=aS;aP.visStart=aU;aP.visEnd=aR;ac(1,1,aT?7:5,false)}var aP=this;aP.render=aO;ay.call(aP,ab,m,"basicWeek");var aN=aP.opt,ac=aP.renderBasic,N=m.formatDates}function O(ab,m){function aO(aQ,aR){if(aR){X(aQ,aR);aN("weekends")||n(aQ,aR<0?-1:1)}aP.title=N(aQ,aN("titleFormat"));aP.start=aP.visStart=Y(aQ,true);aP.end=aP.visEnd=X(Y(aP.start),1);ac(1,1,1,false)}var aP=this;aP.render=aO;ay.call(aP,ab,m,"basicDay");var aN=aP.opt,ac=aP.renderBasic,N=m.formatDate}function ay(bG,bF,bC){function bD(bI,bJ,bK,bH){bl=bJ;a2=bK;bB();(bJ=!a5)?bA(bI,bH):bi();bw(bJ)}function bB(){if(bx=aX("isRTL")){a4=-1;N=a2-1}else{a4=1;N=0}a9=aX("firstDay");bh=aX("weekends")?0:1;bk=aX("theme")?"ui":"fc";be=aX("columnFormat")}function bA(bI,bJ){var bL,bH=bk+"-widget-header",bK=bk+"-widget-content",bM;bL="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bM=0;bM<a2;bM++){bL+="<th class='fc- "+bH+"'/>"}bL+="</tr></thead><tbody>";for(bM=0;bM<bI;bM++){bL+="<tr class='fc-week"+bM+"'>";for(bH=0;bH<a2;bH++){bL+="<td class='fc- "+bK+" fc-day"+(bM*a2+bH)+"'><div>"+(bJ?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bL+="</tr>"}bL+="</tbody></table>";bI=J(bL).appendTo(bG);aY=bI.find("thead");bz=aY.find("th");a5=bI.find("tbody");aV=a5.find("tr");a3=a5.find("td");a6=a3.filter(":first-child");bv=aV.eq(0).find("div.fc-day-content div");ap(aY.add(aY.find("tr")));ap(aV);aV.eq(0).addClass("fc-first");bj(a3);ab=J("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bG)}function bw(bI){var bJ=bI||bl==1,bL=bt.start.getMonth(),bH=E(new Date),bK,bN,bM;bJ&&bz.each(function(bP,bO){bK=J(bO);bN=bf(bP);bK.html(bd(bN,be));aL(bK,bN)});a3.each(function(bP,bO){bK=J(bO);bN=bf(bP);bN.getMonth()==bL?bK.removeClass("fc-other-month"):bK.addClass("fc-other-month");+bN==+bH?bK.addClass(bk+"-state-highlight fc-today"):bK.removeClass(bk+"-state-highlight fc-today");bK.find("div.fc-day-number").text(bN.getDate());bJ&&aL(bK,bN)});aV.each(function(bP,bO){bM=J(bO);if(bP<bl){bM.show();bP==bl-1?bM.addClass("fc-last"):bM.removeClass("fc-last")}else{bM.hide()}})}function by(bI){bu=bI;bI=bu-aY.height();var bJ,bK,bH;if(aX("weekMode")=="variable"){bJ=bK=Math.floor(bI/(bl==1?2:6))}else{bJ=Math.floor(bI/bl);bK=bI-bJ*(bl-1)}a6.each(function(bL,bM){if(bL<bl){bH=J(bM);aD(bH.find("> div"),(bL==bl-1?bK:bJ)-d(bH))}})}function bo(bH){aO=bH;aW.clear();bp=Math.floor(aO/a2);V(bz.slice(0,-1),bp)}function bj(bH){bH.click(aT).mousedown(aN)}function aT(bH){if(!aX("selectable")){var bI=parseInt(this.className.match(/fc\-day(\d+)/)[1]);bI=bf(bI);bE("dayClick",this,bI,true,bH)}}function aU(bI,bJ,bL){bL&&bq.build();bL=Y(bt.visStart);for(var bH=X(Y(bL),a2),bK=0;bK<bl;bK++){var bO=new Date(Math.max(bL,bI)),bM=new Date(Math.min(bH,bJ));if(bO<bM){var bN;if(bx){bN=ae(bM,bL)*a4+N+1;bO=ae(bO,bL)*a4+N+1}else{bN=ae(bO,bL);bO=ae(bM,bL)}bj(bs(bK,bN,bK,bO-1))}X(bL,7);X(bH,7)}}function bs(bI,bJ,bK,bH){bI=bq.rect(bI,bJ,bK,bH,bG);return a0(bI,bG)}function bm(bH){return Y(bH)}function bg(bH,bI){aU(bH,X(Y(bI),1),true)}function aP(){aS()}function a8(bI,bJ,bK){var bH=br(bI);bE("dayClick",a3[bH.row*a2+bH.col],bI,bJ,bK)}function bn(bH,bI){aZ.start(function(bJ){aS();bJ&&bs(bJ.row,bJ.col,bJ.row,bJ.col)},bI)}function bc(bI,bJ,bK){var bH=aZ.stop();aS();if(bH){bH=bb(bH);bE("drop",bI,bH,true,bJ,bK)}}function m(bH){return Y(bH.start)}function a7(bH){return aW.left(bH)}function ba(bH){return aW.right(bH)}function br(bH){return{row:Math.floor(ae(bH,bt.visStart)/7),col:ac(bH.getDay())}}function bb(bH){return aR(bH.row,bH.col)}function aR(bH,bI){return X(Y(bt.visStart),bH*7+bI*a4+N)}function bf(bH){return aR(Math.floor(bH/a2),bH%a2)}function ac(bH){return(bH-Math.max(a9,bh)+a2)%a2*a4+N}function aQ(bH){return aV.eq(bH)}function a1(){return{left:0,right:aO}}var bt=this;bt.renderBasic=bD;bt.setHeight=by;bt.setWidth=bo;bt.renderDayOverlay=aU;bt.defaultSelectionEnd=bm;bt.renderSelection=bg;bt.clearSelection=aP;bt.reportDayClick=a8;bt.dragStart=bn;bt.dragStop=bc;bt.defaultEventEnd=m;bt.getHoverListener=function(){return aZ};bt.colContentLeft=a7;bt.colContentRight=ba;bt.dayOfWeekCol=ac;bt.dateCell=br;bt.cellDate=bb;bt.cellIsAllDay=function(){return true};bt.allDayRow=aQ;bt.allDayBounds=a1;bt.getRowCnt=function(){return bl};bt.getColCnt=function(){return a2};bt.getColWidth=function(){return bp};bt.getDaySegmentContainer=function(){return ab};D.call(bt,bG,bF,bC);q.call(bt);aM.call(bt);B.call(bt);var aX=bt.opt,bE=bt.trigger,bi=bt.clearEvents,a0=bt.renderOverlay,aS=bt.clearOverlays,aN=bt.daySelectionMousedown,bd=bF.formatDate,aY,bz,a5,aV,a3,a6,bv,ab,aO,bu,bp,bl,a2,bq,aZ,aW,bx,a4,N,a9,bh,bk,be;p(bG.addClass("fc-grid"));bq=new az(function(bI,bJ){var bL,bH,bK;bz.each(function(bN,bM){bL=J(bM);bH=bL.offset().left;if(bN){bK[1]=bH}bK=[bH];bJ[bN]=bK});bK[1]=bH+bL.outerWidth();aV.each(function(bN,bM){if(bN<bl){bL=J(bM);bH=bL.offset().top;if(bN){bK[1]=bH}bK=[bH];bI[bN]=bK}});bK[1]=bH+bL.outerHeight()});aZ=new ak(bq);aW=new T(function(bH){return bv.eq(bH)})}function B(){function a4(a8,a7){ac(a8);aY(a1(a8),a7)}function a3(){aN();a6().empty()}function a1(a9){var bb=a5(),bd=m(),bc=Y(aZ.visStart);bd=X(Y(bc),bd);var bi=J.map(a9,an),a7,bg,bf,be,bh,ba,a8=[];for(a7=0;a7<bb;a7++){bg=P(ag(a9,bi,bc,bd));for(bf=0;bf<bg.length;bf++){be=bg[bf];for(bh=0;bh<be.length;bh++){ba=be[bh];ba.row=a7;ba.level=bf;a8.push(ba)}}X(bc,7);X(bd,7)}return a8}function a2(a8,a7,a9){aS(a8)&&a0(a8,a7);a9.isEnd&&aQ(a8)&&N(a8,a7,a9);aT(a8,a7)}function a0(a8,a7){var a9=aW(),ba;a7.draggable({zIndex:9,delay:50,opacity:aV("dragOpacity"),revertDuration:aV("dragRevertDuration"),start:function(bb,bc){aX("eventDragStart",a7,a8,bb,bc);aU(a8,a7);a9.start(function(bd,bg,bf,be){a7.draggable("option","revert",!bd||!bf&&!be);aO();if(bd){ba=bf*7+be*(aV("isRTL")?-1:1);ab(X(Y(a8.start),ba),X(an(a8),ba))}else{ba=0}},bb,"drag")},stop:function(bb,bc){a9.stop();aO();aX("eventDragStop",a7,a8,bb,bc);if(ba){aP(this,a8,ba,0,a8.allDay,bb,bc)}else{a7.css("filter","");aR(a8,a7)}}})}var aZ=this;aZ.renderEvents=a4;aZ.compileDaySegs=a1;aZ.clearEvents=a3;aZ.bindDaySeg=a2;G.call(aZ);var aV=aZ.opt,aX=aZ.trigger,aS=aZ.isEventDraggable,aQ=aZ.isEventResizable,ac=aZ.reportEvents,aN=aZ.reportEventClear,aT=aZ.eventElementHandlers,aR=aZ.showEvents,aU=aZ.hideEvents,aP=aZ.eventDrop,a6=aZ.getDaySegmentContainer,aW=aZ.getHoverListener,ab=aZ.renderDayOverlay,aO=aZ.clearOverlays,a5=aZ.getRowCnt,m=aZ.getColCnt,aY=aZ.renderDaySegs,N=aZ.resizableDayEvent}function o(ab,m){function aO(aQ,aS){aS&&X(aQ,aS*7);aQ=X(Y(aQ),-((aQ.getDay()-aN("firstDay")+7)%7));aS=X(Y(aQ),7);var aU=Y(aQ),aR=Y(aS),aT=aN("weekends");if(!aT){n(aU);n(aR,-1,true)}aP.title=N(aU,X(Y(aR),-1),aN("titleFormat"));aP.start=aQ;aP.end=aS;aP.visStart=aU;aP.visEnd=aR;ac(aT?7:5)}var aP=this;aP.render=aO;u.call(aP,ab,m,"agendaWeek");var aN=aP.opt,ac=aP.renderAgenda,N=m.formatDates}function aK(ab,m){function aO(aQ,aR){if(aR){X(aQ,aR);aN("weekends")||n(aQ,aR<0?-1:1)}aR=Y(aQ,true);var aS=X(Y(aR),1);aP.title=N(aQ,aN("titleFormat"));aP.start=aP.visStart=aR;aP.end=aP.visEnd=aS;ac(1)}var aP=this;aP.render=aO;u.call(aP,ab,m,"agendaDay");var aN=aP.opt,ac=aP.renderAgenda,N=m.formatDate}function u(bq,bp,bm){function bn(bb){bZ=bb;bl();a3?bF():bk();bf()}function bl(){a1=bi("theme")?"ui":"fc";m=bi("weekends")?0:1;b5=bi("firstDay");if(bW=bi("isRTL")){b1=-1;bR=bZ-1}else{b1=1;bR=0}aN=av(bi("minTime"));bE=av(bi("maxTime"));bt=bi("columnFormat")}function bk(){var cg=a1+"-widget-header",ci=a1+"-widget-content",ca,bb,cb,ce,cf,ch=bi("slotMinutes")%15==0;ca="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+cg+"'>&nbsp;</th>";for(bb=0;bb<bZ;bb++){ca+="<th class='fc- fc-col"+bb+" "+cg+"'/>"}ca+="<th class='fc-agenda-gutter "+cg+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cg+"'>&nbsp;</th>";for(bb=0;bb<bZ;bb++){ca+="<td class='fc- fc-col"+bb+" "+ci+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}ca+="<td class='fc-agenda-gutter "+ci+"'>&nbsp;</td></tr></tbody></table>";a3=J(ca).appendTo(bq);bO=a3.find("thead");a7=bO.find("th").slice(1,-1);bJ=a3.find("tbody");bG=bJ.find("td").slice(0,-1);bg=bG.find("div.fc-day-content div");bS=bG.eq(0);bu=bS.find("> div");ap(bO.add(bO.find("tr")));ap(bJ.add(bJ.find("tr")));bX=bO.find("th:first");aX=a3.find(".fc-agenda-gutter");aU=J("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bq);if(bi("allDaySlot")){bj=J("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aU);ca="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cg+" fc-agenda-axis'>"+bi("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cg+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b8=J(ca).appendTo(aU);b2=b8.find("tr");a8(b2.find("td"));bX=bX.add(b8.find("th:first"));aX=aX.add(b8.find("th.fc-agenda-gutter"));aU.append("<div class='fc-agenda-divider "+cg+"'><div class='fc-agenda-divider-inner'/></div>")}else{bj=J([])}a2=J("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(aU);bL=J("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(a2);bC=J("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bL);ca="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";cb=am();ce=c(Y(cb),bE);c(cb,aN);for(bb=bV=0;cb<ce;bb++){cf=cb.getMinutes();ca+="<tr class='fc-slot"+bb+" "+(!cf?"":"fc-minor")+"'><th class='fc-agenda-axis "+cg+"'>"+(!ch||!cf?a6(cb,bi("axisFormat")):"&nbsp;")+"</th><td class='"+ci+"'><div style='position:relative'>&nbsp;</div></td></tr>";c(cb,bi("slotMinutes"));bV++}ca+="</tbody></table>";by=J(ca).appendTo(bL);N=by.find("div:first");a4(by.find("td"));bX=bX.add(by.find("th:first"))}function bf(){var ce,cf,ca,bb,cb=E(new Date);for(ce=0;ce<bZ;ce++){bb=bs(ce);cf=a7.eq(ce);cf.html(a6(bb,bt));ca=bG.eq(ce);+bb==+cb?ca.addClass(a1+"-state-highlight fc-today"):ca.removeClass(a1+"-state-highlight fc-today");aL(cf.add(ca),bb)}}function bh(cb,ce){if(cb===R){cb=a0}a0=cb;br={};var ca=bJ.position().top,bb=a2.position().top;cb=Math.min(cb-ca,by.height()+bb+1);bu.height(cb-d(bS));aU.css("top",ca);a2.height(cb-bb-1);aR=N.height()+1;ce&&aZ()}function a5(bb){b9=bb;ba.clear();cd=0;V(bX.width("").each(function(cb,ca){cd=Math.max(cd,J(ca).outerWidth())}),cd);bb=a2[0].clientWidth;if(aW=a2.width()-bb){V(aX,aW);aX.show().prev().removeClass("fc-last")}else{aX.hide().prev().addClass("fc-last")}aS=Math.floor((bb-cd)/bZ);V(a7.slice(0,-1),aS)}function aZ(){function cb(){a2.scrollTop(bb)}var ce=am(),ca=Y(ce);ca.setHours(bi("firstHour"));var bb=be(ce,ca)+1;cb();setTimeout(cb,0)}function bB(){aQ=a2.scrollTop()}function bD(){a2.scrollTop(aQ)}function a8(bb){bb.click(b7).mousedown(bx)}function a4(bb){bb.click(b7).mousedown(bM)}function b7(ce){if(!bi("selectable")){var cf=Math.min(bZ-1,Math.floor((ce.pageX-a3.offset().left-cd)/aS)),ca=bs(cf),bb=this.parentNode.className.match(/fc-slot(\d+)/);if(bb){bb=parseInt(bb[1])*bi("slotMinutes");var cb=Math.floor(bb/60);ca.setHours(cb);ca.setMinutes(bb%60+aN);bT("dayClick",bG[cf],ca,false,ce)}else{bT("dayClick",bG[cf],ca,true,ce)}}}function bQ(cb,ce,ca){ca&&b4.build();var bb=Y(bI.visStart);if(bW){ca=ae(ce,bb)*b1+bR+1;cb=ae(cb,bb)*b1+bR+1}else{ca=ae(cb,bb);cb=ae(ce,bb)}ca=Math.max(0,ca);cb=Math.min(bZ,cb);ca<cb&&a8(bY(0,ca,0,cb-1))}function bY(cb,ce,ca,bb){cb=b4.rect(cb,ce,ca,bb,aU);return bP(cb,aU)}function cc(cg,ci){for(var ca=Y(bI.visStart),bb=X(Y(ca),1),cb=0;cb<bZ;cb++){var ce=new Date(Math.max(ca,cg)),cf=new Date(Math.min(bb,ci));if(ce<cf){var ch=cb*b1+bR;ch=b4.rect(0,ch,0,ch,bL);ce=be(ca,ce);cf=be(ca,cf);ch.top=ce;ch.height=cf-ce;a4(bP(ch,bL))}X(ca,1);X(bb,1)}}function b3(bb){return ba.left(bb)}function bK(bb){return ba.right(bb)}function aT(bb){return{row:Math.floor(ae(bb,bI.visStart)/7),col:bz(bb.getDay())}}function b0(bb){var ca=bs(bb.col);bb=bb.row;bi("allDaySlot")&&bb--;bb>=0&&c(ca,aN+bb*bi("slotMinutes"));return ca}function bs(bb){return X(Y(bI.visStart),bb*b1+bR)}function aV(bb){return bi("allDaySlot")&&!bb.row}function bz(bb){return(bb-Math.max(b5,m)+bZ)%bZ*b1+bR}function be(cb,ce){cb=Y(cb,true);if(ce<c(Y(cb),aN)){return 0}if(ce>=c(Y(cb),bE)){return by.height()}cb=bi("slotMinutes");ce=ce.getHours()*60+ce.getMinutes()-aN;var ca=Math.floor(ce/cb),bb=br[ca];if(bb===R){bb=br[ca]=by.find("tr:eq("+ca+") td div")[0].offsetTop}return Math.max(0,Math.round(bb-1+aR*(ce%cb/cb)))}function ab(){return{left:cd,right:b9-aW}}function ac(){return b2}function bN(bb){var ca=Y(bb.start);if(bb.allDay){return ca}return c(ca,bi("defaultEventMinutes"))}function a9(bb,ca){if(ca){return Y(bb)}return c(Y(bb),bi("slotMinutes"))}function bH(ca,cb,bb){if(bb){bi("allDaySlot")&&bQ(ca,X(Y(cb),1),true)}else{bo(ca,cb)}}function bo(cf,cg){var ca=bi("selectHelper");b4.build();if(ca){var bb=ae(cf,bI.visStart)*b1+bR;if(bb>=0&&bb<bZ){bb=b4.rect(0,bb,0,bb,bL);var cb=be(cf,cf),ce=be(cf,cg);if(ce>cb){bb.top=cb;bb.height=ce-cb;bb.left+=2;bb.width-=5;if(J.isFunction(ca)){if(cf=ca(cf,cg)){bb.position="absolute";bb.zIndex=8;aO=J(cf).css(bb).appendTo(bL)}}else{bb.isStart=true;bb.isEnd=true;aO=J(bc({title:"",start:cf,end:cg,className:["fc-select-helper"],editable:false},bb));aO.css("opacity",bi("dragOpacity"))}if(aO){a4(aO);bL.append(aO);V(aO,bb.width,true);A(aO,bb.height,true)}}}}else{cc(cf,cg)}}function aY(){bU();if(aO){aO.remove();aO=null}}function bM(bb){if(bb.which==1&&bi("selectable")){bv(bb);var ca;aP.start(function(ce,cb){aY();if(ce&&ce.col==cb.col&&!aV(ce)){cb=b0(cb);ce=b0(ce);ca=[cb,c(Y(cb),bi("slotMinutes")),ce,c(Y(ce),bi("slotMinutes"))].sort(aJ);bo(ca[0],ca[3])}else{ca=null}},bb);J(document).one("mouseup",function(cb){aP.stop();if(ca){+ca[0]==+ca[1]&&bA(ca[0],false,cb);bd(ca[0],ca[3],false,cb)}})}}function bA(ca,cb,bb){bT("dayClick",bG[bz(ca.getDay())],ca,cb,bb)}function bw(bb,ca){aP.start(function(ce){bU();if(ce){if(aV(ce)){bY(ce.row,ce.col,ce.row,ce.col)}else{ce=b0(ce);var cb=c(Y(ce),bi("defaultEventMinutes"));cc(ce,cb)}}},ca)}function b6(cb,ce,ca){var bb=aP.stop();bU();bb&&bT("drop",cb,b0(bb),aV(bb),ce,ca)}var bI=this;bI.renderAgenda=bn;bI.setWidth=a5;bI.setHeight=bh;bI.beforeHide=bB;bI.afterShow=bD;bI.defaultEventEnd=bN;bI.timePosition=be;bI.dayOfWeekCol=bz;bI.dateCell=aT;bI.cellDate=b0;bI.cellIsAllDay=aV;bI.allDayRow=ac;bI.allDayBounds=ab;bI.getHoverListener=function(){return aP};bI.colContentLeft=b3;bI.colContentRight=bK;bI.getDaySegmentContainer=function(){return bj};bI.getSlotSegmentContainer=function(){return bC};bI.getMinMinute=function(){return aN};bI.getMaxMinute=function(){return bE};bI.getBodyContent=function(){return bL};bI.getRowCnt=function(){return 1};bI.getColCnt=function(){return bZ};bI.getColWidth=function(){return aS};bI.getSlotHeight=function(){return aR};bI.defaultSelectionEnd=a9;bI.renderDayOverlay=bQ;bI.renderSelection=bH;bI.clearSelection=aY;bI.reportDayClick=bA;bI.dragStart=bw;bI.dragStop=b6;D.call(bI,bq,bp,bm);q.call(bI);aM.call(bI);ax.call(bI);var bi=bI.opt,bT=bI.trigger,bF=bI.clearEvents,bP=bI.renderOverlay,bU=bI.clearOverlays,bd=bI.reportSelection,bv=bI.unselect,bx=bI.daySelectionMousedown,bc=bI.slotSegHtml,a6=bp.formatDate,a3,bO,a7,bJ,bG,bg,bS,bu,aU,bj,b8,b2,a2,bL,bC,by,N,bX,aX,aO,b9,a0,cd,aS,aW,aR,aQ,bZ,bV,b4,aP,ba,br={},a1,b5,m,bW,b1,bR,aN,bE,bt;p(bq.addClass("fc-agenda"));b4=new az(function(ch,ci){function ck(cl){return Math.max(cj,Math.min(ce,cl))}var ca,cg,cf;a7.each(function(cm,cl){ca=J(cl);cg=ca.offset().left;if(cm){cf[1]=cg}cf=[cg];ci[cm]=cf});cf[1]=cg+ca.outerWidth();if(bi("allDaySlot")){ca=b2;cg=ca.offset().top;ch[0]=[cg,cg+ca.outerHeight()]}for(var bb=bL.offset().top,cj=a2.offset().top,ce=cj+a2.outerHeight(),cb=0;cb<bV;cb++){ch.push([ck(bb+aR*cb),ck(bb+aR*(cb+1))])}});aP=new ak(b4);ba=new T(function(bb){return bg.eq(bb)})}function ax(){function bs(by,bv){a6(by);var bu,bx=by.length,bw=[],bt=[];for(bu=0;bu<bx;bu++){by[bu].allDay?bw.push(by[bu]):bt.push(by[bu])}if(bc("allDaySlot")){aV(bo(bw),bv);a4()}bm(bp(bt),bv)}function br(){m();bf().empty();a5().empty()}function bo(by){by=P(ag(by,J.map(by,an),bg.visStart,bg.visEnd));var bv,bu=by.length,bx,bw,bt,bz=[];for(bv=0;bv<bu;bv++){bx=by[bv];for(bw=0;bw<bx.length;bw++){bt=bx[bw];bt.row=0;bt.level=bv;bz.push(bt)}}return bz}function bp(bw){var bF=ba(),bC=ab(),bE=a8(),bu=c(Y(bg.visStart),bC),bB=J.map(bw,bn),bA,bz,bt,bv,bD,by,bx=[];for(bA=0;bA<bF;bA++){bz=P(ag(bw,bB,bu,c(Y(bu),bE-bC)));F(bz);for(bt=0;bt<bz.length;bt++){bv=bz[bt];for(bD=0;bD<bv.length;bD++){by=bv[bD];by.col=bA;by.level=bt;bx.push(by)}}X(bu,1,true)}return bx}function bn(bt){return bt.end?Y(bt.end):c(Y(bt.start),bc("defaultEventMinutes"))}function bm(bI,bF){var bD,bE=bI.length,bH,bA,bz,bL,bG,bu,bt,bJ,bK,bw="",bC,bB,bx={},bv={},by=a5(),bM;bD=ba();if(bC=bc("isRTL")){bB=-1;bM=bD-1}else{bB=1;bM=0}for(bD=0;bD<bE;bD++){bH=bI[bD];bA=bH.event;bz=aP(bH.start,bH.start);bL=aP(bH.start,bH.end);bG=bH.col;bu=bH.level;bt=bH.forward||0;bJ=aY(bG*bB+bM);bK=bh(bG*bB+bM)-bJ;bK=Math.min(bK-6,bK*0.95);bG=bu?bK/(bu+bt+1):bt?(bK/(bt+1)-6)*2:bK;bu=bJ+bK/(bu+bt+1)*bu*bB+(bC?bK-bG:0);bH.top=bz;bH.left=bu;bH.outerWidth=bG;bH.outerHeight=bL-bz;bw+=bj(bA,bH)}by[0].innerHTML=bw;bC=by.children();for(bD=0;bD<bE;bD++){bH=bI[bD];bA=bH.event;bw=J(bC[bD]);bB=a9("eventRender",bA,bA,bw);if(bB===false){bw.remove()}else{if(bB&&bB!==true){bw.remove();bw=J(bB).css({position:"absolute",top:bH.top,left:bH.left}).appendTo(by)}bH.element=bw;if(bA._id===bF){be(bA,bw,bH)}else{bw[0]._fci=bD}a7(bA,bw)}}M(by,bI,be);for(bD=0;bD<bE;bD++){bH=bI[bD];if(bw=bH.element){bA=bx[bF=bH.key=ah(bw[0])];bH.vsides=bA===R?(bx[bF]=d(bw,true)):bA;bA=bv[bF];bH.hsides=bA===R?(bv[bF]=C(bw,true)):bA;bF=bw.find("div.fc-event-content");if(bF.length){bH.contentTop=bF[0].offsetTop}}}for(bD=0;bD<bE;bD++){bH=bI[bD];if(bw=bH.element){bw[0].style.width=Math.max(0,bH.outerWidth-bH.hsides)+"px";bx=Math.max(0,bH.outerHeight-bH.vsides);bw[0].style.height=bx+"px";bA=bH.event;if(bH.contentTop!==R&&bx-bH.contentTop<10){bw.find("div.fc-event-time").text(N(bA.start,bc("timeFormat"))+" - "+bA.title);bw.find("div.fc-event-title").remove()}a9("eventAfterRender",bA,bA,bw)}}}function bj(by,bv){var bu="<",bx=by.url,bw=Q(by,bc),bt=bw?" style='"+bw+"'":"",bz=["fc-event","fc-event-skin","fc-event-vert"];aO(by)&&bz.push("fc-event-draggable");bv.isStart&&bz.push("fc-corner-top");bv.isEnd&&bz.push("fc-corner-bottom");bz=bz.concat(by.className);if(by.source){bz=bz.concat(by.source.className||[])}bu+=bx?"a href='"+H(by.url)+"'":"div";bu+=" class='"+bz.join(" ")+"' style='position:absolute;z-index:8;top:"+bv.top+"px;left:"+bv.left+"px;"+bw+"'><div class='fc-event-inner fc-event-skin'"+bt+"><div class='fc-event-head fc-event-skin'"+bt+"><div class='fc-event-time'>"+H(aN(by.start,by.end,bc("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+H(by.title)+"</div></div><div class='fc-event-bg'></div></div>";if(bv.isEnd&&a3(by)){bu+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bu+="</"+(bx?"a":"div")+">";return bu}function bk(bv,bu,bt){aO(bv)&&bb(bv,bu,bt.isStart);bt.isEnd&&a3(bv)&&bq(bv,bu,bt);a2(bv,bu)}function be(bw,bu,bt){var bv=bu.find("div.fc-event-time");aO(bw)&&aS(bw,bu,bv);bt.isEnd&&a3(bw)&&aT(bw,bu,bv);a2(bw,bu)}function bb(bw,bF,bC){function bE(){if(!bA){bF.width(bu).height("").draggable("option","grid",null);bA=true}}var bu,bB,bA=true,bz,bt=bc("isRTL")?-1:1,bv=aQ(),bD=aX(),by=aR(),bx=ab();bF.draggable({zIndex:9,opacity:bc("dragOpacity","month"),revertDuration:bc("dragRevertDuration"),start:function(bH,bG){a9("eventDragStart",bF,bw,bH,bG);bl(bw,bF);bu=bF.width();bv.start(function(bJ,bL,bI,bK){a1();if(bJ){bB=false;bz=bK*bt;if(bJ.row){if(bC){if(bA){bF.width(bD-10);A(bF,by*Math.round((bw.end?(bw.end-bw.start)/r:bc("defaultEventMinutes"))/bc("slotMinutes")));bF.draggable("option","grid",[bD,1]);bA=false}}else{bB=true}}else{aZ(X(Y(bw.start),bz),X(an(bw),bz));bE()}bB=bB||bA&&!bz}else{bE();bB=true}bF.draggable("option","revert",bB)},bH,"drag")},stop:function(bI,bG){bv.stop();a1();a9("eventDragStop",bF,bw,bI,bG);if(bB){bE();bF.css("filter","");aW(bw,bF)}else{var bH=0;bA||(bH=Math.round((bF.offset().top-ac().offset().top)/by)*bc("slotMinutes")+bx-(bw.start.getHours()*60+bw.start.getMinutes()));a0(this,bw,bz,bH,bA,bI,bG)}}})}function aS(bw,bH,bE){function bG(bJ){var bK=c(Y(bw.start),bJ),bI;if(bw.end){bI=c(Y(bw.end),bJ)}bE.text(aN(bK,bI,bc("timeFormat")))}function bu(){if(bB){bE.css("display","");bH.draggable("option","grid",[bA,bD]);bB=false}}var bC,bB=false,bz,bt,bv,bF=bc("isRTL")?-1:1,by=aQ(),bx=ba(),bA=aX(),bD=aR();bH.draggable({zIndex:9,scroll:false,grid:[bA,bD],axis:bx==1?"y":false,opacity:bc("dragOpacity"),revertDuration:bc("dragRevertDuration"),start:function(bI,bJ){a9("eventDragStart",bH,bw,bI,bJ);bl(bw,bH);bC=bH.position();bt=bv=0;by.start(function(bK,bL,bN,bM){bH.draggable("option","revert",!bK);a1();if(bK){bz=bM*bF;if(bc("allDaySlot")&&!bK.row){if(!bB){bB=true;bE.hide();bH.draggable("option","grid",null)}aZ(X(Y(bw.start),bz),X(an(bw),bz))}else{bu()}}},bI,"drag")},drag:function(bI,bJ){bt=Math.round((bJ.position.top-bC.top)/bD)*bc("slotMinutes");if(bt!=bv){bB||bG(bt);bv=bt}},stop:function(bJ,bK){var bI=by.stop();a1();a9("eventDragStop",bH,bw,bJ,bK);if(bI&&(bz||bt||bB)){a0(this,bw,bz,bB?0:bt,bB,bJ,bK)}else{bu();bH.css("filter","");bH.css(bC);bG(0);aW(bw,bH)}}})}function aT(by,bv,bu){var bx,bw,bt=aR();bv.resizable({handles:{s:"div.ui-resizable-s"},grid:bt,start:function(bA,bz){bx=bw=0;bl(by,bv);bv.css("z-index",9);a9("eventResizeStart",this,by,bA,bz)},resize:function(bA,bz){bx=Math.round((Math.max(bt,bv.height())-bz.originalSize.height)/bt);if(bx!=bw){bu.text(aN(by.start,!bx&&!by.end?null:c(bd(by),bc("slotMinutes")*bx),bc("timeFormat")));bw=bx}},stop:function(bA,bz){a9("eventResizeStop",this,by,bA,bz);if(bx){aU(this,by,0,bc("slotMinutes")*bx,bA,bz)}else{bv.css("z-index",8);aW(by,bv)}}})}var bg=this;bg.renderEvents=bs;bg.compileDaySegs=bo;bg.clearEvents=br;bg.slotSegHtml=bj;bg.bindDaySeg=bk;G.call(bg);var bc=bg.opt,a9=bg.trigger,aO=bg.isEventDraggable,a3=bg.isEventResizable,bd=bg.eventEnd,a6=bg.reportEvents,m=bg.reportEventClear,a2=bg.eventElementHandlers,a4=bg.setHeight,bf=bg.getDaySegmentContainer,a5=bg.getSlotSegmentContainer,aQ=bg.getHoverListener,a8=bg.getMaxMinute,ab=bg.getMinMinute,aP=bg.timePosition,aY=bg.colContentLeft,bh=bg.colContentRight,aV=bg.renderDaySegs,bq=bg.resizableDayEvent,ba=bg.getColCnt,aX=bg.getColWidth,aR=bg.getSlotHeight,ac=bg.getBodyContent,a7=bg.reportEventElement,aW=bg.showEvents,bl=bg.hideEvents,a0=bg.eventDrop,aU=bg.eventResize,aZ=bg.renderDayOverlay,a1=bg.clearOverlays,bi=bg.calendar,N=bi.formatDate,aN=bi.formatDates}function F(ab){var m,aO,aP,aN,ac,N;for(m=ab.length-1;m>0;m--){aN=ab[m];for(aO=0;aO<aN.length;aO++){ac=aN[aO];for(aP=0;aP<ab[m-1].length;aP++){N=ab[m-1][aP];if(ad(ac,N)){N.forward=Math.max(N.forward||0,(ac.forward||0)+1)}}}}}function D(a8,a7,a5){function a6(bb,bc){bb=aS[bb];if(typeof bb=="object"){return z(bb,bc||a5)}return bb}function a4(bb,bc){return a7.trigger.apply(a7,[bb,bc||a9].concat(Array.prototype.slice.call(arguments,2),[a9]))}function a3(bb){return a1(bb)&&!a6("disableDragging")}function aZ(bb){return a1(bb)&&!a6("disableResizing")}function a1(bb){return aB(bb.editable,(bb.source||{}).editable,a6("editable"))}function aV(bc){ac={};var bd,bb=bc.length,be;for(bd=0;bd<bb;bd++){be=bc[bd];if(ac[be._id]){ac[be._id].push(be)}else{ac[be._id]=[be]}}}function aT(bb){return bb.end?Y(bb.end):m(bb)}function aN(bb,bc){aX.push(bc);if(aQ[bb._id]){aQ[bb._id].push(bc)}else{aQ[bb._id]=[bc]}}function aO(){aX=[];aQ={}}function aW(bb,bc){bc.click(function(bd){if(!bc.hasClass("ui-draggable-dragging")&&!bc.hasClass("ui-resizable-resizing")){return a4("eventClick",this,bb,bd)}}).hover(function(bd){a4("eventMouseover",this,bb,bd)},function(bd){a4("eventMouseout",this,bb,bd)})}function aU(bb,bc){aR(bb,bc,"show")}function aY(bb,bc){aR(bb,bc,"hide")}function aR(bc,bd,bb){bc=aQ[bc._id];var bf,be=bc.length;for(bf=0;bf<be;bf++){if(!bd||bc[bf][0]!=bd[0]){bc[bf][bb]()}}}function ba(bj,bb,bh,bf,bg,bi,bd){var bc=bb.allDay,be=bb._id;ab(ac[be],bh,bf,bg);a4("eventDrop",bj,bb,bh,bf,bg,function(){ab(ac[be],-bh,-bf,bc);N(be)},bi,bd);N(be)}function a0(be,bf,bb,bh,bg,bd){var bc=bf._id;aP(ac[bc],bb,bh);a4("eventResize",be,bf,bb,bh,function(){aP(ac[bc],-bb,-bh);N(bc)},bg,bd);N(bc)}function ab(be,bf,bb,bh){bb=bb||0;for(var bg,bd=be.length,bc=0;bc<bd;bc++){bg=be[bc];if(bh!==R){bg.allDay=bh}c(X(bg.start,bf,true),bb);if(bg.end){bg.end=c(X(bg.end,bf,true),bb)}a2(bg,aS)}}function aP(bd,be,bb){bb=bb||0;for(var bg,bf=bd.length,bc=0;bc<bf;bc++){bg=bd[bc];bg.end=c(X(aT(bg),be,true),bb);a2(bg,aS)}}var a9=this;a9.element=a8;a9.calendar=a7;a9.name=a5;a9.opt=a6;a9.trigger=a4;a9.isEventDraggable=a3;a9.isEventResizable=aZ;a9.reportEvents=aV;a9.eventEnd=aT;a9.reportEventElement=aN;a9.reportEventClear=aO;a9.eventElementHandlers=aW;a9.showEvents=aU;a9.hideEvents=aY;a9.eventDrop=ba;a9.eventResize=a0;var m=a9.defaultEventEnd,a2=a7.normalizeEvent,N=a7.reportEventChange,ac={},aX=[],aQ={},aS=a7.options}function G(){function bk(br,bl){var bs=a4(),bv=aZ(),bm=aO(),bp=0,bn,bq,bo=br.length,bu,bt;bs[0].innerHTML=bg(br);bh(br,bs.children());bf(br);be(br,bs,bl);bc(br);bd(br);a8(br);bl=a5();for(bs=0;bs<bv;bs++){bn=[];for(bq=0;bq<bm;bq++){bn[bq]=0}for(;bp<bo&&(bu=br[bp]).row==bs;){bq=aw(bn.slice(bu.startCol,bu.endCol));bu.top=bq;bq+=bu.outerHeight;for(bt=bu.startCol;bt<bu.endCol;bt++){bn[bt]=bq}bp++}bl[bs].height(aw(bn))}aR(br,aQ(bl))}function bj(bl,bp,bn){var bm=J("<div/>"),br=a4(),bq=bl.length,bo;bm[0].innerHTML=bg(bl);bm=bm.children();br.append(bm);bh(bl,bm);bc(bl);bd(bl);a8(bl);aR(bl,aQ(a5()));bm=[];for(br=0;br<bq;br++){if(bo=bl[br].element){bl[br].row===bp&&bo.css("top",bn);bm.push(bo[0])}}return J(bm)}function bg(bt){var bm=a3("isRTL"),bu,bA=bt.length,bn,bq,bo,br;bu=N();var bp=bu.left,bz=bu.right,bx,by,bl,bw,bv,bs="";for(bu=0;bu<bA;bu++){bn=bt[bu];bq=bn.event;br=["fc-event","fc-event-skin","fc-event-hori"];aX(bq)&&br.push("fc-event-draggable");if(bm){bn.isStart&&br.push("fc-corner-right");bn.isEnd&&br.push("fc-corner-left");bx=bb(bn.end.getDay()-1);by=bb(bn.start.getDay());bl=bn.isEnd?aN(bx):bp;bw=bn.isStart?aV(by):bz}else{bn.isStart&&br.push("fc-corner-left");bn.isEnd&&br.push("fc-corner-right");bx=bb(bn.start.getDay());by=bb(bn.end.getDay()-1);bl=bn.isStart?aN(bx):bp;bw=bn.isEnd?aV(by):bz}br=br.concat(bq.className);if(bq.source){br=br.concat(bq.source.className||[])}bo=bq.url;bv=Q(bq,a3);bs+=bo?"<a href='"+H(bo)+"'":"<div";bs+=" class='"+br.join(" ")+"' style='position:absolute;z-index:8;left:"+bl+"px;"+bv+"'><div class='fc-event-inner fc-event-skin'"+(bv?" style='"+bv+"'":"")+">";if(!bq.allDay&&bn.isStart){bs+="<span class='fc-event-time'>"+H(aP(bq.start,bq.end,a3("timeFormat")))+" </span>"}bs+="<span class='fc-event-title'>"+H(bq.title)+"</span></div>";if(bn.isEnd&&a7(bq)){bs+="<div class='ui-resizable-handle ui-resizable-"+(bm?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bs+="</"+(bo?"a":"div")+">";bn.left=bl;bn.outerWidth=bw-bl;bn.startCol=bx;bn.endCol=by+1}return bs}function bh(bl,bp){var bn,bm=bl.length,br,bq,bo;for(bn=0;bn<bm;bn++){br=bl[bn];bq=br.event;bo=J(bp[bn]);bq=ac("eventRender",bq,bq,bo);if(bq===false){bo.remove()}else{if(bq&&bq!==true){bq=J(bq).css({position:"absolute",left:br.left});bo.replaceWith(bq);bo=bq}br.element=bo}}}function bf(bl){var bo,bn=bl.length,bm,bp;for(bo=0;bo<bn;bo++){bm=bl[bo];(bp=bm.element)&&m(bm.event,bp)}}function be(bm,bq,bo){var bn,bs=bm.length,br,bp,bl;for(bn=0;bn<bs;bn++){br=bm[bn];if(bp=br.element){bl=br.event;if(bl._id===bo){aU(bl,bp,br)}else{bp[0]._fci=bn}}}M(bq,bm,aU)}function bc(bm){var bq,bo=bm.length,bn,bs,br,bp,bl={};for(bq=0;bq<bo;bq++){bn=bm[bq];if(bs=bn.element){br=bn.key=ah(bs[0]);bp=bl[br];if(bp===R){bp=bl[br]=C(bs,true)}bn.hsides=bp}}}function bd(bl){var bo,bn=bl.length,bm,bp;for(bo=0;bo<bn;bo++){bm=bl[bo];if(bp=bm.element){bp[0].style.width=Math.max(0,bm.outerWidth-bm.hsides)+"px"}}}function a8(bm){var bq,bo=bm.length,bn,bs,br,bp,bl={};for(bq=0;bq<bo;bq++){bn=bm[bq];if(bs=bn.element){br=bn.key;bp=bl[br];if(bp===R){bp=bl[br]=l(bs)}bn.outerHeight=bs[0].offsetHeight+bp}}}function a5(){var bl,bn=aZ(),bm=[];for(bl=0;bl<bn;bl++){bm[bl]=a2(bl).find("td:first div.fc-day-content > div")}return bm}function aQ(bl){var bo,bn=bl.length,bm=[];for(bo=0;bo<bn;bo++){bm[bo]=bl[bo][0].offsetTop}return bm}function aR(bl,bo){var bn,bm=bl.length,bq,bp;for(bn=0;bn<bm;bn++){bq=bl[bn];if(bp=bq.element){bp[0].style.top=bo[bq.row]+(bq.top||0)+"px";bq=bq.event;ac("eventAfterRender",bq,bq,bp)}}}function ba(bl,bp,bn){var bm=a3("isRTL"),br=bm?"w":"e",bq=bp.find("div.ui-resizable-"+br),bo=false;p(bp);bp.mousedown(function(bs){bs.preventDefault()}).click(function(bs){if(bo){bs.preventDefault();bs.stopImmediatePropagation()}});bq.mousedown(function(bw){function bv(bE){ac("eventResizeStop",this,bl,bE);J("body").css("cursor","");bD.stop();a1();bx&&a9(this,bl,bx,0,bE);setTimeout(function(){bo=false},0)}if(bw.which==1){bo=true;var bD=a6.getHoverListener(),bA=aZ(),bC=aO(),bt=bm?-1:1,bz=bm?bC-1:0,by=bp.css("top"),bx,bs,bu=J.extend({},bl),bB=aS(bl.start);aT();J("body").css("cursor",br+"-resize").one("mouseup",bv);ac("eventResizeStart",this,bl,bw);bD.start(function(bE,bG){if(bE){var bF=Math.max(bB.row,bE.row);bE=bE.col;if(bA==1){bF=0}if(bF==bB.row){bE=bm?Math.min(bB.col,bE):Math.max(bB.col,bE)}bx=bF*7+bE*bt+bz-(bG.row*7+bG.col*bt+bz);bG=X(a0(bl),bx,true);if(bx){bu.end=bG;bF=bs;bs=bj(bi([bu]),bn.row,by);bs.find("*").css("cursor",br+"-resize");bF&&bF.remove();aY(bl)}else{if(bs){aW(bl);bs.remove();bs=null}}a1();ab(bl.start,X(Y(bG),1))}},bw)}})}var a6=this;a6.renderDaySegs=bk;a6.resizableDayEvent=ba;var a3=a6.opt,ac=a6.trigger,aX=a6.isEventDraggable,a7=a6.isEventResizable,a0=a6.eventEnd,m=a6.reportEventElement,aW=a6.showEvents,aY=a6.hideEvents,a9=a6.eventResize,aZ=a6.getRowCnt,aO=a6.getColCnt,a2=a6.allDayRow,N=a6.allDayBounds,aN=a6.colContentLeft,aV=a6.colContentRight,bb=a6.dayOfWeekCol,aS=a6.dateCell,bi=a6.compileDaySegs,a4=a6.getDaySegmentContainer,aU=a6.bindDaySeg,aP=a6.calendar.formatDates,ab=a6.renderDayOverlay,a1=a6.clearOverlays,aT=a6.clearSelection}function aM(){function aS(aV,aW,aU){aR();aW||(aW=ab(aV,aU));aT(aV,aW,aU);aO(aV,aW,aU)}function aR(aU){if(N){N=false;aQ();m("unselect",null,aU)}}function aO(aV,aX,aU,aW){N=true;m("select",null,aV,aX,aU,aW)}function aP(aW){var aY=aN.cellDate,aV=aN.cellIsAllDay,aX=aN.getHoverListener(),aU=aN.reportDayClick;if(aW.which==1&&ac("selectable")){aR(aW);var aZ;aX.start(function(a1,a0){aQ();if(a1&&aV(a1)){aZ=[aY(a0),aY(a1)].sort(aJ);aT(aZ[0],aZ[1],true)}else{aZ=null}},aW);J(document).one("mouseup",function(a0){aX.stop();if(aZ){+aZ[0]==+aZ[1]&&aU(aZ[0],true,a0);aO(aZ[0],aZ[1],true,a0)}})}}var aN=this;aN.select=aS;aN.unselect=aR;aN.reportSelection=aO;aN.daySelectionMousedown=aP;var ac=aN.opt,m=aN.trigger,ab=aN.defaultSelectionEnd,aT=aN.renderSelection,aQ=aN.clearSelection,N=false;ac("selectable")&&ac("unselectAuto")&&J(document).mousedown(function(aU){var aV=ac("unselectCancel");if(aV){if(J(aU.target).parents(aV).length){return}}aR(aU)})}function q(){function N(aQ,aO){var aP=ab.shift();aP||(aP=J("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));aP[0].parentNode!=aO[0]&&aP.appendTo(aO);aN.push(aP.css(aQ).show());return aP}function m(){for(var aO;aO=aN.shift();){ab.push(aO.hide().unbind())}}var ac=this;ac.renderOverlay=N;ac.clearOverlays=m;var aN=[],ab=[]}function az(N){var m=this,ab,ac;m.build=function(){ab=[];ac=[];N(ab,ac)};m.cell=function(aS,aR){var aN=ab.length,aO=ac.length,aQ,aT=-1,aP=-1;for(aQ=0;aQ<aN;aQ++){if(aR>=ab[aQ][0]&&aR<ab[aQ][1]){aT=aQ;break}}for(aQ=0;aQ<aO;aQ++){if(aS>=ac[aQ][0]&&aS<ac[aQ][1]){aP=aQ;break}}return aT>=0&&aP>=0?{row:aT,col:aP}:null};m.rect=function(aR,aQ,aN,aO,aP){aP=aP.offset();return{top:ab[aR][0]-aP.top,left:ac[aQ][0]-aP.left,width:ac[aO][1]-ac[aQ][0],height:ab[aN][1]-ab[aR][0]}}}function ak(ab){function m(aQ){aQ=ab.cell(aQ.pageX,aQ.pageY);if(!aQ!=!N||aQ&&(aQ.row!=N.row||aQ.col!=N.col)){if(aQ){ac||(ac=aQ);aN(aQ,ac,aQ.row-ac.row,aQ.col-ac.col)}else{aN(aQ,ac)}N=aQ}}var aO=this,aP,aN,ac,N;aO.start=function(aQ,aR,aS){aN=aQ;ac=N=null;ab.build();m(aR);aP=aS||"mousemove";J(document).bind(aP,m)};aO.stop=function(){J(document).unbind(aP,m);return N}}function T(N){function m(aP){return aO[aP]=aO[aP]||N(aP)}var aN=this,aO={},ac={},ab={};aN.left=function(aP){return ac[aP]=ac[aP]===R?m(aP).position().left:ac[aP]};aN.right=function(aP){return ab[aP]=ab[aP]===R?aN.left(aP)+m(aP).width():ab[aP]};aN.clear=function(){aO={};ac={};ab={}}}var g={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"",next:"",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},a={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},aG=J.fullCalendar={version:"1.5.2"},S=aG.views={};J.fn.fullCalendar=function(N){if(typeof N=="string"){var m=Array.prototype.slice.call(arguments,1),ab;this.each(function(){var aN=J.data(this,"fullCalendar");if(aN&&J.isFunction(aN[N])){aN=aN[N].apply(aN,m);if(ab===R){ab=aN}N=="destroy"&&J.removeData(this,"fullCalendar")}});if(ab!==R){return ab}return this}var ac=N.eventSources||[];delete N.eventSources;if(N.events){ac.push(N.events);delete N.events}N=J.extend(true,{},g,N.isRTL||N.isRTL===R&&g.isRTL?a:{},N);this.each(function(aO,aN){aO=J(aN);aN=new e(aO,N,ac);aO.data("fullCalendar",aN);aN.render()});return this};aG.sourceNormalizers=[];aG.sourceFetchers=[];var ao={dataType:"json",cache:false},W=1;aG.addDays=X;aG.cloneDate=Y;aG.parseDate=k;aG.parseISO8601=at;aG.parseTime=av;aG.formatDate=al;aG.formatDates=L;var aH=["sun","mon","tue","wed","thu","fri","sat"],aF=86400000,I=3600000,r=60000,v={s:function(m){return m.getSeconds()},ss:function(m){return U(m.getSeconds())},m:function(m){return m.getMinutes()},mm:function(m){return U(m.getMinutes())},h:function(m){return m.getHours()%12||12},hh:function(m){return U(m.getHours()%12||12)},H:function(m){return m.getHours()},HH:function(m){return U(m.getHours())},d:function(m){return m.getDate()},dd:function(m){return U(m.getDate())},ddd:function(N,m){return m.dayNamesShort[N.getDay()]},dddd:function(N,m){return m.dayNames[N.getDay()]},M:function(m){return m.getMonth()+1},MM:function(m){return U(m.getMonth()+1)},MMM:function(N,m){return m.monthNamesShort[N.getMonth()]},MMMM:function(N,m){return m.monthNames[N.getMonth()]},yy:function(m){return(m.getFullYear()+"").substring(2)},yyyy:function(m){return m.getFullYear()},t:function(m){return m.getHours()<12?"a":"p"},tt:function(m){return m.getHours()<12?"am":"pm"},T:function(m){return m.getHours()<12?"A":"P"},TT:function(m){return m.getHours()<12?"AM":"PM"},u:function(m){return al(m,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(m){m=m.getDate();if(m>10&&m<20){return"th"}return["st","nd","rd"][m%10-1]||"th"}};aG.applyAll=aj;S.month=au;S.basicWeek=af;S.basicDay=O;s({weekMode:"fixed"});S.agendaWeek=o;S.agendaDay=aK;s({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);(function(b){var a=function(){var X={},c,S=65,w,U='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',G={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},O=function(Y,aa){var Z=l(Y);b(aa).data("colorpicker").fields.eq(1).val(Z.r).end().eq(2).val(Z.g).end().eq(3).val(Z.b).end()},z=function(Y,Z){b(Z).data("colorpicker").fields.eq(4).val(Y.h).end().eq(5).val(Y.s).end().eq(6).val(Y.b).end()},h=function(Y,Z){b(Z).data("colorpicker").fields.eq(0).val(W(Y)).end()},n=function(Y,Z){b(Z).data("colorpicker").selector.css("backgroundColor","#"+W({h:Y.h,s:100,b:100}));b(Z).data("colorpicker").selectorIndic.css({left:parseInt(150*Y.s/100,10),top:parseInt(150*(100-Y.b)/100,10)})},L=function(Y,Z){b(Z).data("colorpicker").hue.css("top",parseInt(150-150*Y.h/360,10))},j=function(Y,Z){b(Z).data("colorpicker").currentColor.css("backgroundColor","#"+W(Y))},J=function(Y,Z){b(Z).data("colorpicker").newColor.css("backgroundColor","#"+W(Y))},p=function(Y){var aa=Y.charCode||Y.keyCode||-1;if((aa>S&&aa<=90)||aa==32){return false}var Z=b(this).parent().parent();if(Z.data("colorpicker").livePreview===true){e.apply(this)}},e=function(Z){var aa=b(this).parent().parent(),Y;if(this.parentNode.className.indexOf("_hex")>0){aa.data("colorpicker").color=Y=o(D(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){aa.data("colorpicker").color=Y=g({h:parseInt(aa.data("colorpicker").fields.eq(4).val(),10),s:parseInt(aa.data("colorpicker").fields.eq(5).val(),10),b:parseInt(aa.data("colorpicker").fields.eq(6).val(),10)})}else{aa.data("colorpicker").color=Y=k(R({r:parseInt(aa.data("colorpicker").fields.eq(1).val(),10),g:parseInt(aa.data("colorpicker").fields.eq(2).val(),10),b:parseInt(aa.data("colorpicker").fields.eq(3).val(),10)}))}}if(Z){O(Y,aa.get(0));h(Y,aa.get(0));z(Y,aa.get(0))}n(Y,aa.get(0));L(Y,aa.get(0));J(Y,aa.get(0));aa.data("colorpicker").onChange.apply(aa,[Y,W(Y),l(Y)])},q=function(Y){var Z=b(this).parent().parent();Z.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},P=function(){S=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},N=function(Y){var aa=b(this).parent().find("input").focus();var Z={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:Y.pageY,field:aa,val:parseInt(aa.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",Z,v);b(document).bind("mousemove",Z,Q)},Q=function(Y){Y.data.field.val(Math.max(0,Math.min(Y.data.max,parseInt(Y.data.val+Y.pageY-Y.data.y,10))));if(Y.data.preview){e.apply(Y.data.field.get(0),[true])}return false},v=function(Y){e.apply(Y.data.field.get(0),[true]);Y.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",v);b(document).unbind("mousemove",Q);return false},B=function(Y){var Z={cal:b(this).parent(),y:b(this).offset().top};Z.preview=Z.cal.data("colorpicker").livePreview;b(document).bind("mouseup",Z,u);b(document).bind("mousemove",Z,m)},m=function(Y){e.apply(Y.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(Y.pageY-Y.data.y))))/150,10)).get(0),[Y.data.preview]);return false},u=function(Y){O(Y.data.cal.data("colorpicker").color,Y.data.cal.get(0));h(Y.data.cal.data("colorpicker").color,Y.data.cal.get(0));b(document).unbind("mouseup",u);b(document).unbind("mousemove",m);return false},C=function(Y){var Z={cal:b(this).parent(),pos:b(this).offset()};Z.preview=Z.cal.data("colorpicker").livePreview;b(document).bind("mouseup",Z,F);b(document).bind("mousemove",Z,s)},s=function(Y){e.apply(Y.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(Y.pageY-Y.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(Y.pageX-Y.data.pos.left))))/150,10)).get(0),[Y.data.preview]);return false},F=function(Y){O(Y.data.cal.data("colorpicker").color,Y.data.cal.get(0));h(Y.data.cal.data("colorpicker").color,Y.data.cal.get(0));b(document).unbind("mouseup",F);b(document).unbind("mousemove",s);return false},A=function(Y){b(this).addClass("colorpicker_focus")},V=function(Y){b(this).removeClass("colorpicker_focus")},r=function(Z){var aa=b(this).parent();var Y=aa.data("colorpicker").color;aa.data("colorpicker").origColor=Y;j(Y,aa.get(0));aa.data("colorpicker").onSubmit(Y,W(Y),l(Y),aa.data("colorpicker").el)},I=function(Y){var ac=b("#"+b(this).data("colorpickerId"));ac.data("colorpicker").onBeforeShow.apply(this,[ac.get(0)]);var ad=b(this).offset();var ab=E();var aa=ad.top+this.offsetHeight;var Z=ad.left;if(aa+176>ab.t+ab.h){aa-=this.offsetHeight+176}if(Z+356>ab.l+ab.w){Z-=356}ac.css({left:Z+"px",top:aa+"px"});if(ac.data("colorpicker").onShow.apply(this,[ac.get(0)])!=false){ac.show()}b(document).bind("mousedown",{cal:ac},T);return false},T=function(Y){if(!M(Y.data.cal.get(0),Y.target,Y.data.cal.get(0))){if(Y.data.cal.data("colorpicker").onHide.apply(this,[Y.data.cal.get(0)])!=false){Y.data.cal.hide()}b(document).unbind("mousedown",T)}},M=function(aa,Z,Y){if(aa==Z){return true}if(aa.contains){return aa.contains(Z)}if(aa.compareDocumentPosition){return !!(aa.compareDocumentPosition(Z)&16)}var ab=Z.parentNode;while(ab&&ab!=Y){if(ab==aa){return true}ab=ab.parentNode}return false},E=function(){var Y=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(Y?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(Y?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(Y?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(Y?document.documentElement.clientHeight:document.body.clientHeight)}},g=function(Y){return{h:Math.min(360,Math.max(0,Y.h)),s:Math.min(100,Math.max(0,Y.s)),b:Math.min(100,Math.max(0,Y.b))}},R=function(Y){return{r:Math.min(255,Math.max(0,Y.r)),g:Math.min(255,Math.max(0,Y.g)),b:Math.min(255,Math.max(0,Y.b))}},D=function(aa){var Y=6-aa.length;if(Y>0){var ab=[];for(var Z=0;Z<Y;Z++){ab.push("0")}ab.push(aa);aa=ab.join("")}return aa},d=function(Y){var Y=parseInt(((Y.indexOf("#")>-1)?Y.substring(1):Y),16);return{r:Y>>16,g:(Y&65280)>>8,b:(Y&255)}},o=function(Y){return k(d(Y))},k=function(aa){var Z={h:0,s:0,b:0};var ab=Math.min(aa.r,aa.g,aa.b);var Y=Math.max(aa.r,aa.g,aa.b);var ac=Y-ab;Z.b=Y;if(Y!=0){}Z.s=Y!=0?255*ac/Y:0;if(Z.s!=0){if(aa.r==Y){Z.h=(aa.g-aa.b)/ac}else{if(aa.g==Y){Z.h=2+(aa.b-aa.r)/ac}else{Z.h=4+(aa.r-aa.g)/ac}}}else{Z.h=-1}Z.h*=60;if(Z.h<0){Z.h+=360}Z.s*=100/255;Z.b*=100/255;return Z},l=function(Y){var aa={};var ae=Math.round(Y.h);var ad=Math.round(Y.s*255/100);var Z=Math.round(Y.b*255/100);if(ad==0){aa.r=aa.g=aa.b=Z}else{var af=Z;var ac=(255-ad)*Z/255;var ab=(af-ac)*(ae%60)/60;if(ae==360){ae=0}if(ae<60){aa.r=af;aa.b=ac;aa.g=ac+ab}else{if(ae<120){aa.g=af;aa.b=ac;aa.r=af-ab}else{if(ae<180){aa.g=af;aa.r=ac;aa.b=ac+ab}else{if(ae<240){aa.b=af;aa.r=ac;aa.g=af-ab}else{if(ae<300){aa.b=af;aa.g=ac;aa.r=ac+ab}else{if(ae<360){aa.r=af;aa.g=ac;aa.b=af-ab}else{aa.r=0;aa.g=0;aa.b=0}}}}}}}return{r:Math.round(aa.r),g:Math.round(aa.g),b:Math.round(aa.b)}},H=function(Y){var Z=[Y.r.toString(16),Y.g.toString(16),Y.b.toString(16)];b.each(Z,function(aa,ab){if(ab.length==1){Z[aa]="0"+ab}});return Z.join("")},W=function(Y){return H(l(Y))},K=function(){var Z=b(this).parent();var Y=Z.data("colorpicker").origColor;Z.data("colorpicker").color=Y;O(Y,Z.get(0));h(Y,Z.get(0));z(Y,Z.get(0));n(Y,Z.get(0));L(Y,Z.get(0));J(Y,Z.get(0))};return{init:function(Y){Y=b.extend({},G,Y||{});if(typeof Y.color=="string"){Y.color=o(Y.color)}else{if(Y.color.r!=undefined&&Y.color.g!=undefined&&Y.color.b!=undefined){Y.color=k(Y.color)}else{if(Y.color.h!=undefined&&Y.color.s!=undefined&&Y.color.b!=undefined){Y.color=g(Y.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var Z=b.extend({},Y);Z.origColor=Y.color;var ab="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",ab);var aa=b(U).attr("id",ab);if(Z.flat){aa.appendTo(this).show()}else{aa.appendTo(document.body)}Z.fields=aa.find("input").bind("keyup",p).bind("change",e).bind("blur",q).bind("focus",P);aa.find("span").bind("mousedown",N).end().find(">div.colorpicker_current_color").bind("click",K);Z.selector=aa.find("div.colorpicker_color").bind("mousedown",C);Z.selectorIndic=Z.selector.find("div div");Z.el=this;Z.hue=aa.find("div.colorpicker_hue div");aa.find("div.colorpicker_hue").bind("mousedown",B);Z.newColor=aa.find("div.colorpicker_new_color");Z.currentColor=aa.find("div.colorpicker_current_color");aa.data("colorpicker",Z);aa.find("div.colorpicker_submit").bind("mouseenter",A).bind("mouseleave",V).bind("click",r);O(Z.color,aa.get(0));z(Z.color,aa.get(0));h(Z.color,aa.get(0));L(Z.color,aa.get(0));n(Z.color,aa.get(0));j(Z.color,aa.get(0));J(Z.color,aa.get(0));if(Z.flat){aa.css({position:"relative",display:"block"})}else{b(this).bind(Z.eventName,I)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){I.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(Y){if(typeof Y=="string"){Y=o(Y)}else{if(Y.r!=undefined&&Y.g!=undefined&&Y.b!=undefined){Y=k(Y)}else{if(Y.h!=undefined&&Y.s!=undefined&&Y.b!=undefined){Y=g(Y)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var Z=b("#"+b(this).data("colorpickerId"));Z.data("colorpicker").color=Y;Z.data("colorpicker").origColor=Y;O(Y,Z.get(0));z(Y,Z.get(0));h(Y,Z.get(0));L(Y,Z.get(0));n(Y,Z.get(0));j(Y,Z.get(0));J(Y,Z.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);(function(av){var X=av(document),ac="<style type='text/css'>",ad="}</style>",at="position",aj=":absolute;",an="append",T=av("head")[an](ac+".CRZ{table-layout:fixed}.CRZ td,.CRZ th{overflow:hidden}.CRC{height:0px;"+at+":relative}.CRG{margin-left:-5px;"+at+aj+" z-index:5}.CRG .CRZ{"+at+aj+"background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;cursor:e-resize;height:100%}.CRL{"+at+aj+"width:1px}.CRD{border-left:1px dotted black"+ad),ah=null,ay=ah,au=[],M=0,ak="id",al="px",aw="CRZ",W=parseInt,ai=Math,V=av.browser.msie,ar=false,af="mousemove.",ae="mouseup.",aa="tr:first ",ax="width",ag="border-",ab="table",Z='<div class="CR',aq="removeClass",ap="addClass",ao="attr";function Q(j,c){var b=av(j),d=b[ao](ak)||aw+e++,e="currentStyle";if(c.disable){return N(b)}if(!b.is(ab)||au[d]){return}b[ap](aw)[ao](ak,d).before(Z+'C"/>');b.o=c;b.g=[];b.c=[];b.w=b[ax]();b.d=b.prev();b.s=W(V?j.cellSpacing||j[e].borderSpacing:b.css(ag+"spacing"))||2;b.b=W(V?j.border||j[e].borderLeftWidth:b.css(ag+"left-"+ax))||1;au[d]=b;U(b)}function N(d){var c=d[ao](ak),d=au[c];if(!d||!d.is(ab)){return}d[aq](aw).d.remove();delete au[c]}function U(b){var d=b.find(aa+"th"),c="removeAttr";if(!d.length){d=b.find(aa+"td")}b.l=d.length;d.each(function(a){var h=av(this),j=av(b.d[an](Z+'G"></div>')[0].lastChild);j.t=b;j.i=a;j.c=h;h.w=h[ax]();b.g.push(j);b.c.push(h);h[ax](h.w)[c](ax);if(a<b.l-1){j.mousedown(O).html('<div class="'+aw+'"></div>')[an](b.o.gripInnerHtml)}else{j[ap]("CRL")[aq]("CRG")}j.data(aw,{i:a,t:b[ao](ak)})});am(b);b.find("tr:not(:first)").find("td,th").each(function(){av(this)[c](ax)})}function am(b){b.d[ax](b.w);for(var e,g=0;g<b.l;g++){e=b.c[g];b.g[g].css({left:e.offset().left-b.offset().left+e.outerWidth()+b.s/2+al,height:b.outerHeight()})}}function Y(l,m,a){var n=ay.x-ay.l,o=l.c[m],p=l.c[m+1],k=o.w+n,b=p.w-n;o[ax](k+al);p[ax](b+al);if(a){o.w=k;p.w=b}}function S(m){if(!ay){return}var a=ay.t,p=m.pageX-ay.L+ay.l,o=20,q=ay.i,n=a.s*1.5+o+a.b,l=q==a.l-1?a.w-n:a.g[q+1][at]().left-a.s-o,g=q?a.g[q-1][at]().left+a.s+o:n;p=ai.max(g,ai.min(l,p));ay.x=p;ay.css("left",p+al);if(a.o.liveDrag){Y(a,q);am(a)}return ar}function R(c){X.unbind(af+aw).unbind(ae+aw);av("head :last-child").remove();if(!ay){return}var a=ay[aq](ay.t.o.draggingClass).t,d=a.o.onResize;if(ay.x){Y(a,ay.i,1);am(a);if(d){c.currentTarget=a[0];d(c)}}ay=ah}function O(e){var g=av(this).data(aw),c=au[g.t],d=c.g[g.i],a=0,b;d.L=e.pageX;d.l=d[at]().left;X.bind(af+aw,S).bind(ae+aw,R);T[an](ac+"*{cursor:e-resize!important"+ad);d[ap](c.o.draggingClass);ay=d;if(c.c[g.i].l){for(;a<c.l;a++){b=c.c[a];b.l=ar;b.w=b[ax]()}}return ar}function P(){for(b in au){var b=au[b],e=0,c=0;b[aq](aw);if(b.w!=b[ax]()){b.w=b[ax]();for(;e<b.l;e++){c+=b.c[e].w}for(e=0;e<b.l;e++){b.c[e].css(ax,ai.round(1000*b.c[e].w/c)/10+"%").l=1}}am(b[ap](aw))}}av(window).bind("resize."+aw,P);av.fn.extend({colResizable:function(d){var c={draggingClass:"CRD",gripInnerHtml:"",onResize:ah,liveDrag:ar,disable:ar},d=av.extend(c,d);return this.each(function(){Q(this,d)})}})})(jQuery);(function($,window,document){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.8.2";_oExt.sErrMode="alert";_oExt.iApiIndex=0;_oExt.oApi={};_oExt.afnFiltering=[];_oExt.aoFeatures=[];_oExt.ofnSearch={};_oExt.afnSortData=[];_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"prev",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-button",sPagePrevDisabled:"fg-button ui-button ui-state-disabled",sPageNextEnabled:"fg-button ui-button",sPageNextDisabled:"fg-button ui-button ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button",sPageButtonActive:"fg-button ui-button ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-disabled",sPageFirst:"toFirst ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};_oExt.oPagination={two_button:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nPrevious,nNext,nPreviousInner,nNextInner;if(!oSettings.bJUI){nPrevious=document.createElement("div");nNext=document.createElement("div")}else{nPrevious=document.createElement("a");nNext=document.createElement("a");nNextInner=document.createElement("span");nNextInner.className=oSettings.oClasses.sPageJUINext;nNext.appendChild(nNextInner);nPreviousInner=document.createElement("span");nPreviousInner.className=oSettings.oClasses.sPageJUIPrev;nPrevious.appendChild(nPreviousInner)}nPrevious.className=oSettings.oClasses.sPagePrevDisabled;nNext.className=oSettings.oClasses.sPageNextDisabled;nPrevious.title=oSettings.oLanguage.oPaginate.sPrevious;nNext.title=oSettings.oLanguage.oPaginate.sNext;nPaging.appendChild(nPrevious);nPaging.appendChild(nNext);$(nPrevious).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nPrevious).bind("selectstart.DT",function(){return false});$(nNext).bind("selectstart.DT",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var an=oSettings.aanFeatures.p;for(var i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length!==0){an[i].childNodes[0].className=(oSettings._iDisplayStart===0)?oSettings.oClasses.sPagePrevDisabled:oSettings.oClasses.sPagePrevEnabled;an[i].childNodes[1].className=(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay())?oSettings.oClasses.sPageNextDisabled:oSettings.oClasses.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nFirst=document.createElement("span");var nPrevious=document.createElement("span");var nList=document.createElement("span");var nNext=document.createElement("span");var nLast=document.createElement("span");nFirst.innerHTML=oSettings.oLanguage.oPaginate.sFirst;nPrevious.innerHTML=oSettings.oLanguage.oPaginate.sPrevious;nNext.innerHTML=oSettings.oLanguage.oPaginate.sNext;nLast.innerHTML=oSettings.oLanguage.oPaginate.sLast;var oClasses=oSettings.oClasses;nFirst.className=oClasses.sPageButton+" "+oClasses.sPageFirst;nPrevious.className=oClasses.sPageButton+" "+oClasses.sPagePrevious;nNext.className=oClasses.sPageButton+" "+oClasses.sPageNext;nLast.className=oClasses.sPageButton+" "+oClasses.sPageLast;nPaging.appendChild(nFirst);nPaging.appendChild(nPrevious);nPaging.appendChild(nList);nPaging.appendChild(nNext);nPaging.appendChild(nLast);$(nFirst).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"first")){fnCallbackDraw(oSettings)}});$(nPrevious).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nLast).bind("click.DT",function(){if(oSettings.oApi._fnPageChange(oSettings,"last")){fnCallbackDraw(oSettings)}});$("span",nPaging).bind("mousedown.DT",function(){return false}).bind("selectstart.DT",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nFirst.setAttribute("id",oSettings.sTableId+"_first");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next");nLast.setAttribute("id",oSettings.sTableId+"_last")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var iPageCount=_oExt.oPagination.iFullNumbersShowPages;var iPageCountHalf=Math.floor(iPageCount/2);var iPages=Math.ceil((oSettings.fnRecordsDisplay())/oSettings._iDisplayLength);var iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;var sList="";var iStartButton,iEndButton,i,iLen;var oClasses=oSettings.oClasses;if(iPages<iPageCount){iStartButton=1;iEndButton=iPages}else{if(iCurrentPage<=iPageCountHalf){iStartButton=1;iEndButton=iPageCount}else{if(iCurrentPage>=(iPages-iPageCountHalf)){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}}}for(i=iStartButton;i<=iEndButton;i++){if(iCurrentPage!=i){sList+='<span class="'+oClasses.sPageButton+'">'+i+"</span>"}else{sList+='<span class="'+oClasses.sPageButtonActive+'">'+i+"</span>"}}var an=oSettings.aanFeatures.p;var anButtons,anStatic,nPaginateList;var fnClick=function(e){var iTarget=(this.innerHTML*1)-1;oSettings._iDisplayStart=iTarget*oSettings._iDisplayLength;fnCallbackDraw(oSettings);e.preventDefault()};var fnFalse=function(){return false};for(i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length===0){continue}var qjPaginateList=$("span:eq(2)",an[i]);qjPaginateList.html(sList);$("span",qjPaginateList).bind("click.DT",fnClick).bind("mousedown.DT",fnFalse).bind("selectstart.DT",fnFalse);anButtons=an[i].getElementsByTagName("span");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);if(iCurrentPage==1){anStatic[0].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[1].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[0].className+=" "+oClasses.sPageButton;anStatic[1].className+=" "+oClasses.sPageButton}if(iPages===0||iCurrentPage==iPages||oSettings._iDisplayLength==-1){anStatic[2].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[3].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[2].className+=" "+oClasses.sPageButton;anStatic[3].className+=" "+oClasses.sPageButton}}}}};_oExt.oSort={"string-asc":function(a,b){if(typeof a!="string"){a=""}if(typeof b!="string"){b=""}var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?-1:((x>y)?1:0))},"string-desc":function(a,b){if(typeof a!="string"){a=""}if(typeof b!="string"){b=""}var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?1:((x>y)?-1:0))},"html-asc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?-1:((x>y)?1:0))},"html-desc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?1:((x>y)?-1:0))},"date-asc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return x-y},"date-desc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return y-x},"numeric-asc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return x-y},"numeric-desc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return y-x}};_oExt.aTypes=[function(sData){if(typeof sData=="number"){return"numeric"}else{if(typeof sData!="string"){return null}}var sValidFirstChars="0123456789-";var sValidChars="0123456789.";var Char;var bDecimal=false;Char=sData.charAt(0);if(sValidFirstChars.indexOf(Char)==-1){return null}for(var i=1;i<sData.length;i++){Char=sData.charAt(i);if(sValidChars.indexOf(Char)==-1){return null}if(Char=="."){if(bDecimal){return null}bDecimal=true}}return"numeric"},function(sData){var iParse=Date.parse(sData);if((iParse!==null&&!isNaN(iParse))||(typeof sData=="string"&&sData.length===0)){return"date"}return null},function(sData){if(typeof sData=="string"&&sData.indexOf("<")!=-1&&sData.indexOf(">")!=-1){return"html"}return null}];_oExt.fnVersionCheck=function(sVersion){var fnZPad=function(Zpad,count){while(Zpad.length<count){Zpad+="0"}return Zpad};var aThis=_oExt.sVersion.split(".");var aThat=sVersion.split(".");var sThis="",sThat="";for(var i=0,iLen=aThat.length;i<iLen;i++){sThis+=fnZPad(aThis[i],3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};_oExt._oExternConfig={iNextUnique:0};$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}};this.fnRecordsDisplay=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}};this.fnDisplayEnd=function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}};this.oInstance=null;this.sInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false,bDeferRender:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:": _MENU_ ",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(_MAX_ in total)",sInfoPostFix:"",sInfoThousands:",",sSearch:":",sUrl:"",oPaginate:{sFirst:"",sPrevious:"",sNext:"",sLast:""},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripeClasses=[];this.asDestroyStripes=[];this.sDestroyWidth=0;this.fnRowCallback=null;this.fnHeaderCallback=null;this.fnFooterCallback=null;this.aoDrawCallback=[];this.fnPreDrawCallback=null;this.fnInitComplete=null;this.sTableId="";this.nTable=null;this.nTHead=null;this.nTFoot=null;this.nTBody=null;this.nTableWrapper=null;this.bDeferLoading=false;this.bInitialised=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=60*60*2;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.oLoadedState=null;this.sAjaxSource=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=true;this.jqXHR=null;this.fnServerData=function(url,data,callback,settings){settings.jqXHR=$.ajax({url:url,data:data,success:function(json){$(settings.oInstance).trigger("xhr",settings);callback(json)},dataType:"json",cache:false,error:function(xhr,error,thrown){if(error=="parsererror"){alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}})};this.aoServerParams=[];this.fnFormatNumber=function(iIn){if(iIn<1000){return iIn}else{var s=(iIn+""),a=s.split(""),out="",iLen=s.length;for(var i=0;i<iLen;i++){if(i%3===0&&i!==0){out=this.oLanguage.sInfoThousands+out}out=a[iLen-i-1]+out}}return out};this.aLengthMenu=[5,10,25,50,100];this.iDraw=0;this.bDrawing=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsTotal=0;this._iRecordsDisplay=0;this.bJUI=false;this.oClasses=_oExt.oStdClasses;this.bFiltered=false;this.bSorted=false;this.bSortCellsTop=false;this.oInit=null;this.aoDestroyCallback=[]}this.oApi={};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof bComplete!="undefined"&&bComplete===false){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else{_fnReDraw(oSettings)}};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(!oSettings.oFeatures.bFilter){return}if(typeof bRegex=="undefined"){bRegex=false}if(typeof bSmart=="undefined"){bSmart=true}if(typeof bShowGlobal=="undefined"){bShowGlobal=true}if(typeof iColumn=="undefined"||iColumn===null){_fnFilterComplete(oSettings,{sSearch:sInput,bRegex:bRegex,bSmart:bSmart},1);if(bShowGlobal&&typeof oSettings.aanFeatures.f!="undefined"){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){$("input",n[i]).val(sInput)}}}else{oSettings.aoPreSearchCols[iColumn].sSearch=sInput;oSettings.aoPreSearchCols[iColumn].bRegex=bRegex;oSettings.aoPreSearchCols[iColumn].bSmart=bSmart;_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnSettings=function(nNode){return _fnSettingsFromNode(this[_oExt.iApiIndex])};this.fnVersionCheck=_oExt.fnVersionCheck;this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);oSettings.aaSorting=aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),nNode,iColumn,fnCallback)};this.fnAddData=function(mData,bRedraw){if(mData.length===0){return[]}var aiReturn=[];var iTest;var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mData[0]=="object"){for(var i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}}else{iTest=_fnAddData(oSettings,mData);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return aiReturn};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iAODataIndex;iAODataIndex=(typeof mTarget=="object")?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);if(typeof fnCallBack=="function"){fnCallBack.call(this,oSettings,oData)}if(oSettings._iDisplayStart>=oSettings.aiDisplay.length){oSettings._iDisplayStart-=oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(typeof bRedraw=="undefined"||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnOpen=function(nTr,mHtml,sClass){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(nTr);var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);if(typeof mHtml.jquery!="undefined"||typeof mHtml=="object"){nNewCell.appendChild(mHtml)}else{nNewCell.innerHTML=mHtml}var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1){$(nNewRow).insertAfter(nTr)}oSettings.aoOpenRows.push({nTr:nNewRow,nParent:nTr});return nNewRow};this.fnClose=function(nTr){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);for(var i=0;i<oSettings.aoOpenRows.length;i++){if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;if(nTrParent){nTrParent.removeChild(oSettings.aoOpenRows[i].nTr)}oSettings.aoOpenRows.splice(i,1);return 0}}return 1};this.fnGetData=function(mRow,iCol){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mRow!="undefined"){var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;if(typeof iCol!="undefined"){return _fnGetCellData(oSettings,iRow,iCol,"")}return(typeof oSettings.aoData[iRow]!="undefined")?oSettings.aoData[iRow]._aData:null}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof iRow!="undefined"){return(typeof oSettings.aoData[iRow]!="undefined")?oSettings.aoData[iRow].nTr:null}return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var sNodeName=nNode.nodeName.toUpperCase();if(sNodeName=="TR"){return _fnNodeToDataIndex(oSettings,nNode)}else{if(sNodeName=="TD"||sNodeName=="TH"){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);var anCells=_fnGetTdNodes(oSettings,iDataIndex);for(var i=0;i<oSettings.aoColumns.length;i++){if(anCells[i]==nNode){return[iDataIndex,_fnColumnIndexToVisible(oSettings,i),i]}}}}return null};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var iVisibleColumn,i,iLen,sDisplay;var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;if($.isArray(mData)&&typeof mData=="object"){oSettings.aoData[iRow]._aData=mData.slice();for(i=0;i<oSettings.aoColumns.length;i++){this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false)}}else{if(mData!==null&&typeof mData=="object"){oSettings.aoData[iRow]._aData=$.extend(true,{},mData);for(i=0;i<oSettings.aoColumns.length;i++){this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false)}}else{sDisplay=mData;_fnSetCellData(oSettings,iRow,iColumn,sDisplay);if(oSettings.aoColumns[iColumn].fnRender!==null){sDisplay=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});if(oSettings.aoColumns[iColumn].bUseRendered){_fnSetCellData(oSettings,iRow,iColumn,sDisplay)}}if(oSettings.aoData[iRow].nTr!==null){_fnGetTdNodes(oSettings,iRow)[iColumn].innerHTML=sDisplay}}}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,iRow,"filter"));if(typeof bAction=="undefined"||bAction){_fnAdjustColumnSizing(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return 0};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iLen;var iColumns=oSettings.aoColumns.length;var nTd,nCell,anTrs,jqChildren,bAppend,iBefore;if(oSettings.aoColumns[iCol].bVisible==bShow){return}if(bShow){var iInsert=0;for(i=0;i<iCol;i++){if(oSettings.aoColumns[i].bVisible){iInsert++}}bAppend=(iInsert>=_fnVisbleColumns(oSettings));if(!bAppend){for(i=iCol;i<iColumns;i++){if(oSettings.aoColumns[i].bVisible){iBefore=i;break}}}for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){if(bAppend){oSettings.aoData[i].nTr.appendChild(oSettings.aoData[i]._anHidden[iCol])}else{oSettings.aoData[i].nTr.insertBefore(oSettings.aoData[i]._anHidden[iCol],_fnGetTdNodes(oSettings,i)[iBefore])}}}}else{for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){nTd=_fnGetTdNodes(oSettings,i)[iCol];oSettings.aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}}}oSettings.aoColumns[iCol].bVisible=bShow;_fnDrawHead(oSettings,oSettings.aoHeader);if(oSettings.nTFoot){_fnDrawHead(oSettings,oSettings.aoFooter)}for(i=0,iLen=oSettings.aoOpenRows.length;i<iLen;i++){oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnAdjustColumnSizing(oSettings);_fnDraw(oSettings)}_fnSaveState(oSettings)};this.fnPageChange=function(sAction,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(oSettings,sAction);_fnCalculateEnd(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnDestroy=function(){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var nOrig=oSettings.nTableWrapper.parentNode;var nBody=oSettings.nTBody;var i,iLen;oSettings.bDestroying=true;for(i=0,iLen=oSettings.aoDestroyCallback.length;i<iLen;i++){oSettings.aoDestroyCallback[i].fn()}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].bVisible===false){this.fnSetColumnVis(i,true)}}$(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT");$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(oSettings.nTable).children("thead").remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(oSettings.nTable).children("tfoot").remove();oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripeClasses.join(" "));if(!oSettings.bJUI){$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oStdClasses.sSortableAsc,_oExt.oStdClasses.sSortableDesc,_oExt.oStdClasses.sSortableNone].join(" "))}else{$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oJUIClasses.sSortableAsc,_oExt.oJUIClasses.sSortableDesc,_oExt.oJUIClasses.sSortableNone].join(" "));$("th span."+_oExt.oJUIClasses.sSortIcon,oSettings.nTHead).remove();$("th",oSettings.nTHead).each(function(){var jqWrapper=$("div."+_oExt.oJUIClasses.sSortJUIWrapper,this);var kids=jqWrapper.contents();$(this).append(kids);jqWrapper.remove()})}if(oSettings.nTableReinsertBefore){nOrig.insertBefore(oSettings.nTable,oSettings.nTableReinsertBefore)}else{nOrig.appendChild(oSettings.nTable)}for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){nBody.appendChild(oSettings.aoData[i].nTr)}}if(oSettings.oFeatures.bAutoWidth===true){oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth)}$(nBody).children("tr:even").addClass(oSettings.asDestroyStripes[0]);$(nBody).children("tr:odd").addClass(oSettings.asDestroyStripes[1]);for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i]==oSettings){_aoSettings.splice(i,1)}}oSettings=null};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnAdjustColumnSizing(oSettings);if(typeof bRedraw=="undefined"||bRedraw){this.fnDraw(false)}else{if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){this.oApi._fnScrollDraw(oSettings)}}};function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[sFunc].apply(this,aArgs)}}for(var sFunc in _oExt.oApi){if(sFunc){this[sFunc]=_fnExternApiFunc(sFunc)}}function _fnInitialise(oSettings){var i,iLen,iAjaxStart=oSettings.iInitDisplayStart;if(oSettings.bInitialised===false){setTimeout(function(){_fnInitialise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnBuildHead(oSettings);_fnDrawHead(oSettings,oSettings.aoHeader);if(oSettings.nTFoot){_fnDrawHead(oSettings,oSettings.aoFooter)}_fnProcessingDisplay(oSettings,true);if(oSettings.oFeatures.bAutoWidth){_fnCalculateColumnWidths(oSettings)}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].sWidth!==null){oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth)}}if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}if(oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){var aoData=[];_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){var aData=json;if(oSettings.sAjaxDataProp!==""){var fnDataSrc=_fnGetObjectDataFn(oSettings.sAjaxDataProp);aData=fnDataSrc(json)}for(i=0;i<aData.length;i++){_fnAddData(oSettings,aData[i])}oSettings.iInitDisplayStart=iAjaxStart;if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings,json)},oSettings);return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=true;if(typeof oSettings.fnInitComplete=="function"){if(typeof json!="undefined"){oSettings.fnInitComplete.call(oSettings.oInstance,oSettings,json)}else{oSettings.fnInitComplete.call(oSettings.oInstance,oSettings)}}}function _fnLanguageProcess(oSettings,oLanguage,bInit){oSettings.oLanguage=$.extend(true,oSettings.oLanguage,oLanguage);if(typeof oLanguage.sEmptyTable=="undefined"&&typeof oLanguage.sZeroRecords!="undefined"){_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords","sEmptyTable")}if(typeof oLanguage.sLoadingRecords=="undefined"&&typeof oLanguage.sZeroRecords!="undefined"){_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords","sLoadingRecords")}if(bInit){_fnInitialise(oSettings)}}function _fnAddColumn(oSettings,nTh){var iCol=oSettings.aoColumns.length;var oCol={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:oSettings.oClasses.sSortable,sSortingClassJUI:oSettings.oClasses.sSortJUI,sTitle:nTh?nTh.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:iCol,mDataProp:iCol,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:nTh?nTh:document.createElement("th"),nTf:null};oSettings.aoColumns.push(oCol);if(typeof oSettings.aoPreSearchCols[iCol]=="undefined"||oSettings.aoPreSearchCols[iCol]===null){oSettings.aoPreSearchCols[iCol]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof oSettings.aoPreSearchCols[iCol].bRegex=="undefined"){oSettings.aoPreSearchCols[iCol].bRegex=true}if(typeof oSettings.aoPreSearchCols[iCol].bSmart=="undefined"){oSettings.aoPreSearchCols[iCol].bSmart=true}}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];if(typeof oOptions!="undefined"&&oOptions!==null){if(typeof oOptions.sType!="undefined"){oCol.sType=oOptions.sType;oCol._bAutoType=false}_fnMap(oCol,oOptions,"bVisible");_fnMap(oCol,oOptions,"bSearchable");_fnMap(oCol,oOptions,"bSortable");_fnMap(oCol,oOptions,"sTitle");_fnMap(oCol,oOptions,"sName");_fnMap(oCol,oOptions,"sWidth");_fnMap(oCol,oOptions,"sWidth","sWidthOrig");_fnMap(oCol,oOptions,"sClass");_fnMap(oCol,oOptions,"fnRender");_fnMap(oCol,oOptions,"bUseRendered");_fnMap(oCol,oOptions,"iDataSort");_fnMap(oCol,oOptions,"mDataProp");_fnMap(oCol,oOptions,"asSorting");_fnMap(oCol,oOptions,"sSortDataType");_fnMap(oCol,oOptions,"sDefaultContent");_fnMap(oCol,oOptions,"sContentPadding")}oCol.fnGetData=_fnGetObjectDataFn(oCol.mDataProp);oCol.fnSetData=_fnSetObjectDataFn(oCol.mDataProp);if(!oSettings.oFeatures.bSort){oCol.bSortable=false}if(!oCol.bSortable||($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1)){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else{if(oCol.bSortable||($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1)){oCol.sSortingClass=oSettings.oClasses.sSortable;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUI}else{if($.inArray("asc",oCol.asSorting)!=-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else{if($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)!=-1){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}}}}function _fnAddData(oSettings,aDataSupplied){var oCol;var aDataIn=($.isArray(aDataSupplied))?aDataSupplied.slice():$.extend(true,{},aDataSupplied);var iRow=oSettings.aoData.length;var oData={nTr:null,_iId:oSettings.iNextId++,_aData:aDataIn,_anHidden:[],_sRowStripe:""};oSettings.aoData.push(oData);var nTd,sThisType;for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];if(typeof oCol.fnRender=="function"&&oCol.bUseRendered&&oCol.mDataProp!==null){_fnSetCellData(oSettings,iRow,i,oCol.fnRender({iDataRow:iRow,iDataColumn:i,aData:oData._aData,oSettings:oSettings}))}if(oCol._bAutoType&&oCol.sType!="string"){var sVarType=_fnGetCellData(oSettings,iRow,i,"type");if(sVarType!==null&&sVarType!==""){sThisType=_fnDetectType(sVarType);if(oCol.sType===null){oCol.sType=sThisType}else{if(oCol.sType!=sThisType&&oCol.sType!="html"){oCol.sType="string"}}}}}oSettings.aiDisplayMaster.push(iRow);if(!oSettings.oFeatures.bDeferRender){_fnCreateTr(oSettings,iRow)}return iRow}function _fnCreateTr(oSettings,iRow){var oData=oSettings.aoData[iRow];var nTd;if(oData.nTr===null){oData.nTr=document.createElement("tr");if(typeof oData._aData.DT_RowId!="undefined"){oData.nTr.setAttribute("id",oData._aData.DT_RowId)}if(typeof oData._aData.DT_RowClass!="undefined"){$(oData.nTr).addClass(oData._aData.DT_RowClass)}for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){var oCol=oSettings.aoColumns[i];nTd=document.createElement("td");if(typeof oCol.fnRender=="function"&&(!oCol.bUseRendered||oCol.mDataProp===null)){nTd.innerHTML=oCol.fnRender({iDataRow:iRow,iDataColumn:i,aData:oData._aData,oSettings:oSettings})}else{nTd.innerHTML=_fnGetCellData(oSettings,iRow,i,"display")}if(oCol.sClass!==null){nTd.className=oCol.sClass}if(oCol.bVisible){oData.nTr.appendChild(nTd);oData._anHidden[i]=null}else{oData._anHidden[i]=nTd}}}}function _fnGatherData(oSettings){var iLoop,i,iLen,j,jLen,jInner,nTds,nTrs,nTd,aLocalData,iThisIndex,iRow,iRows,iColumn,iColumns,sNodeName;if(oSettings.bDeferLoading||oSettings.sAjaxSource===null){nTrs=oSettings.nTBody.childNodes;for(i=0,iLen=nTrs.length;i<iLen;i++){if(nTrs[i].nodeName.toUpperCase()=="TR"){iThisIndex=oSettings.aoData.length;oSettings.aoData.push({nTr:nTrs[i],_iId:oSettings.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});oSettings.aiDisplayMaster.push(iThisIndex);nTds=nTrs[i].childNodes;jInner=0;for(j=0,jLen=nTds.length;j<jLen;j++){sNodeName=nTds[j].nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH"){_fnSetCellData(oSettings,iThisIndex,jInner,$.trim(nTds[j].innerHTML));jInner++}}}}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;i<iLen;i++){for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nTd=nTrs[i].childNodes[j];sNodeName=nTd.nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH"){nTds.push(nTd)}}}if(nTds.length!=nTrs.length*oSettings.aoColumns.length){_fnLog(oSettings,1,"Unexpected number of TD elements. Expected "+(nTrs.length*oSettings.aoColumns.length)+" and got "+nTds.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.")}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].sTitle===null){oSettings.aoColumns[iColumn].sTitle=oSettings.aoColumns[iColumn].nTh.innerHTML}var bAutoType=oSettings.aoColumns[iColumn]._bAutoType,bRender=typeof oSettings.aoColumns[iColumn].fnRender=="function",bClass=oSettings.aoColumns[iColumn].sClass!==null,bVisible=oSettings.aoColumns[iColumn].bVisible,nCell,sThisType,sRendered,sValType;if(bAutoType||bRender||bClass||!bVisible){for(iRow=0,iRows=oSettings.aoData.length;iRow<iRows;iRow++){nCell=nTds[(iRow*iColumns)+iColumn];if(bAutoType&&oSettings.aoColumns[iColumn].sType!="string"){sValType=_fnGetCellData(oSettings,iRow,iColumn,"type");if(sValType!==""){sThisType=_fnDetectType(sValType);if(oSettings.aoColumns[iColumn].sType===null){oSettings.aoColumns[iColumn].sType=sThisType}else{if(oSettings.aoColumns[iColumn].sType!=sThisType&&oSettings.aoColumns[iColumn].sType!="html"){oSettings.aoColumns[iColumn].sType="string"}}}}if(bRender){sRendered=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});nCell.innerHTML=sRendered;if(oSettings.aoColumns[iColumn].bUseRendered){_fnSetCellData(oSettings,iRow,iColumn,sRendered)}}if(bClass){nCell.className+=" "+oSettings.aoColumns[iColumn].sClass}if(!bVisible){oSettings.aoData[iRow]._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}else{oSettings.aoData[iRow]._anHidden[iColumn]=null}}}}}function _fnBuildHead(oSettings){var i,nTh,iLen,j,jLen;var anTr=oSettings.nTHead.getElementsByTagName("tr");var iThs=oSettings.nTHead.getElementsByTagName("th").length;var iCorrector=0;var jqChildren;if(iThs!==0){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}if(oSettings.aoColumns[i].sTitle!=nTh.innerHTML){nTh.innerHTML=oSettings.aoColumns[i].sTitle}}}else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.innerHTML=oSettings.aoColumns[i].sTitle;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}nTr.appendChild(nTh)}$(oSettings.nTHead).html("")[0].appendChild(nTr);_fnDetectHeader(oSettings.aoHeader,oSettings.nTHead)}if(oSettings.bJUI){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);var nSpan=document.createElement("span");nSpan.className=oSettings.oClasses.sSortIcon;nDiv.appendChild(nSpan);nTh.appendChild(nDiv)}}var fnNoSelect=function(e){this.onselectstart=function(){return false};return false};if(oSettings.oFeatures.bSort){for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable!==false){_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i);$(oSettings.aoColumns[i].nTh).bind("mousedown.DT",fnNoSelect)}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone)}}}if(oSettings.oClasses.sFooterTH!==""){$(oSettings.nTFoot).children("tr").children("th").addClass(oSettings.oClasses.sFooterTH)}if(oSettings.nTFoot!==null){var anCells=_fnGetUniqueThs(oSettings,null,oSettings.aoFooter);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(typeof anCells[i]!="undefined"){oSettings.aoColumns[i].nTf=anCells[i]}}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(typeof bIncludeHidden=="undefined"){bIncludeHidden=false}for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--){if(!oSettings.aoColumns[j].bVisible&&!bIncludeHidden){aoLocal[i].splice(j,1)}}aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){if(aoLocal[i].nTr){for(k=0,kLen=aoLocal[i].nTr.childNodes.length;k<kLen;k++){aoLocal[i].nTr.removeChild(aoLocal[i].nTr.childNodes[0])}}for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(typeof aApplied[i][j]=="undefined"){aoLocal[i].nTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;while(typeof aoLocal[i+iRowspan]!="undefined"&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(typeof aoLocal[i][j+iColspan]!="undefined"&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++){aApplied[i+k][j+iColspan]=1}iColspan++}aoLocal[i][j].cell.rowSpan=iRowspan;aoLocal[i][j].cell.colSpan=iColspan}}}}function _fnDraw(oSettings){var i,iLen;var anRows=[];var iRowCount=0;var bRowError=false;var iStripes=oSettings.asStripeClasses.length;var iOpenRows=oSettings.aoOpenRows.length;if(oSettings.fnPreDrawCallback!==null&&oSettings.fnPreDrawCallback.call(oSettings.oInstance,oSettings)===false){return}oSettings.bDrawing=true;if(typeof oSettings.iInitDisplayStart!="undefined"&&oSettings.iInitDisplayStart!=-1){if(oSettings.oFeatures.bServerSide){oSettings._iDisplayStart=oSettings.iInitDisplayStart}else{oSettings._iDisplayStart=(oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay())?0:oSettings.iInitDisplayStart}oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(oSettings.bDeferLoading){oSettings.bDeferLoading=false;oSettings.iDraw++}else{if(!oSettings.oFeatures.bServerSide){oSettings.iDraw++}else{if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings)){return}}}if(oSettings.aiDisplay.length!==0){var iStart=oSettings._iDisplayStart;var iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(var j=iStart;j<iEnd;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];if(aoData.nTr===null){_fnCreateTr(oSettings,oSettings.aiDisplay[j])}var nRow=aoData.nTr;if(iStripes!==0){var sStripe=oSettings.asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}if(typeof oSettings.fnRowCallback=="function"){nRow=oSettings.fnRowCallback.call(oSettings.oInstance,nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j);if(!nRow&&!bRowError){_fnLog(oSettings,0,"A node was not returned by fnRowCallback");bRowError=true}}anRows.push(nRow);iRowCount++;if(iOpenRows!==0){for(var k=0;k<iOpenRows;k++){if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr)}}}}}else{anRows[0]=document.createElement("tr");if(typeof oSettings.asStripeClasses[0]!="undefined"){anRows[0].className=oSettings.asStripeClasses[0]}var sZero=oSettings.oLanguage.sZeroRecords.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()));if(oSettings.iDraw==1&&oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){sZero=oSettings.oLanguage.sLoadingRecords}else{if(typeof oSettings.oLanguage.sEmptyTable!="undefined"&&oSettings.fnRecordsTotal()===0){sZero=oSettings.oLanguage.sEmptyTable}}var nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;nTd.innerHTML=sZero;anRows[iRowCount].appendChild(nTd)}if(typeof oSettings.fnHeaderCallback=="function"){oSettings.fnHeaderCallback.call(oSettings.oInstance,$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}if(typeof oSettings.fnFooterCallback=="function"){oSettings.fnFooterCallback.call(oSettings.oInstance,$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}var nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment(),nBodyPar,nTrs;if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered){nTrs=oSettings.nTBody.childNodes;for(i=nTrs.length-1;i>=0;i--){nTrs[i].parentNode.removeChild(nTrs[i])}}for(i=0,iLen=anRows.length;i<iLen;i++){nAddFrag.appendChild(anRows[i])}oSettings.nTBody.appendChild(nAddFrag);if(nBodyPar!==null){nBodyPar.appendChild(oSettings.nTBody)}}for(i=oSettings.aoDrawCallback.length-1;i>=0;i--){oSettings.aoDrawCallback[i].fn.call(oSettings.oInstance,oSettings)}$(oSettings.oInstance).trigger("draw",oSettings);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);if(typeof oSettings._bInitComplete=="undefined"){_fnInitComplete(oSettings)}}}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort){_fnSort(oSettings,oSettings.oPreviousSearch)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){oSettings.iDraw++;_fnProcessingDisplay(oSettings,true);var iColumns=oSettings.aoColumns.length;var aoData=_fnAjaxParameters(oSettings);_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)},oSettings);return false}else{return true}}function _fnAjaxParameters(oSettings){var iColumns=oSettings.aoColumns.length;var aoData=[],mDataProp;var i;aoData.push({name:"sEcho",value:oSettings.iDraw});aoData.push({name:"iColumns",value:iColumns});aoData.push({name:"sColumns",value:_fnColumnOrdering(oSettings)});aoData.push({name:"iDisplayStart",value:oSettings._iDisplayStart});aoData.push({name:"iDisplayLength",value:oSettings.oFeatures.bPaginate!==false?oSettings._iDisplayLength:-1});for(i=0;i<iColumns;i++){mDataProp=oSettings.aoColumns[i].mDataProp;aoData.push({name:"mDataProp_"+i,value:typeof(mDataProp)=="function"?"function":mDataProp})}if(oSettings.oFeatures.bFilter!==false){aoData.push({name:"sSearch",value:oSettings.oPreviousSearch.sSearch});aoData.push({name:"bRegex",value:oSettings.oPreviousSearch.bRegex});for(i=0;i<iColumns;i++){aoData.push({name:"sSearch_"+i,value:oSettings.aoPreSearchCols[i].sSearch});aoData.push({name:"bRegex_"+i,value:oSettings.aoPreSearchCols[i].bRegex});aoData.push({name:"bSearchable_"+i,value:oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==false){var iFixed=oSettings.aaSortingFixed!==null?oSettings.aaSortingFixed.length:0;var iUser=oSettings.aaSorting.length;aoData.push({name:"iSortingCols",value:iFixed+iUser});for(i=0;i<iFixed;i++){aoData.push({name:"iSortCol_"+i,value:oSettings.aaSortingFixed[i][0]});aoData.push({name:"sSortDir_"+i,value:oSettings.aaSortingFixed[i][1]})}for(i=0;i<iUser;i++){aoData.push({name:"iSortCol_"+(i+iFixed),value:oSettings.aaSorting[i][0]});aoData.push({name:"sSortDir_"+(i+iFixed),value:oSettings.aaSorting[i][1]})}for(i=0;i<iColumns;i++){aoData.push({name:"bSortable_"+i,value:oSettings.aoColumns[i].bSortable})}}return aoData}function _fnServerParams(oSettings,aoData){for(var i=0,iLen=oSettings.aoServerParams.length;i<iLen;i++){oSettings.aoServerParams[i].fn.call(oSettings.oInstance,aoData)}}function _fnAjaxUpdateDraw(oSettings,json){if(typeof json.sEcho!="undefined"){if(json.sEcho*1<oSettings.iDraw){return}else{oSettings.iDraw=json.sEcho*1}}if(!oSettings.oScroll.bInfinite||(oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))){_fnClearTable(oSettings)}oSettings._iRecordsTotal=json.iTotalRecords;oSettings._iRecordsDisplay=json.iTotalDisplayRecords;var sOrdering=_fnColumnOrdering(oSettings);var bReOrder=(typeof json.sColumns!="undefined"&&sOrdering!==""&&json.sColumns!=sOrdering);if(bReOrder){var aiIndex=_fnReOrderIndex(oSettings,json.sColumns)}var fnDataSrc=_fnGetObjectDataFn(oSettings.sAjaxDataProp);var aData=fnDataSrc(json);for(var i=0,iLen=aData.length;i<iLen;i++){if(bReOrder){var aDataSorted=[];for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){aDataSorted.push(aData[i][aiIndex[j]])}_fnAddData(oSettings,aDataSorted)}else{_fnAddData(oSettings,aData[i])}}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=false;_fnDraw(oSettings);oSettings.bAjaxDataGet=true;_fnProcessingDisplay(oSettings,false)}function _fnAddOptionsHtml(oSettings){var nHolding=document.createElement("div");oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=document.createElement("div");oSettings.nTableWrapper.className=oSettings.oClasses.sWrapper;if(oSettings.sTableId!==""){oSettings.nTableWrapper.setAttribute("id",oSettings.sTableId+"_wrapper")}oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;var nInsertNode=oSettings.nTableWrapper;var aDom=oSettings.sDom.split("");var nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if(cOption=="<"){nNewNode=document.createElement("div");cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(sAttr=="F"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.setAttribute("id",aSplit[0].substr(1,aSplit[0].length-1));nNewNode.className=aSplit[1]}else{if(sAttr.charAt(0)=="#"){nNewNode.setAttribute("id",sAttr.substr(1,sAttr.length-1))}else{nNewNode.className=sAttr}}i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else{if(cOption==">"){nInsertNode=nInsertNode.parentNode}else{if(cOption=="l"&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else{if(cOption=="f"&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else{if(cOption=="r"&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);iPushFeature=1}else{if(cOption=="t"){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else{if(cOption=="i"&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else{if(cOption=="p"&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else{if(_oExt.aoFeatures.length!==0){var aoFeatures=_oExt.aoFeatures;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);if(nTmp){iPushFeature=1}break}}}}}}}}}}}if(iPushFeature==1&&nTmp!==null){if(typeof oSettings.aanFeatures[cOption]!="object"){oSettings.aanFeatures[cOption]=[]}oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnFeatureHtmlTable(oSettings){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){return oSettings.nTable}var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(false),nScrollFootTable=oSettings.nTable.cloneNode(false),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=oSettings.nTable.getElementsByTagName("tfoot").length===0?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI)?_oExt.oJUIClasses:_oExt.oStdClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(nTfoot!==null){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollHead.style.width="100%";nScrollFoot.style.border="0";nScrollHeadInner.style.width="150%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft="0";oSettings.nTable.style.marginLeft="0";if(nTfoot!==null){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}var nCaptions=$(oSettings.nTable).children("caption");for(var i=0,iLen=nCaptions.length;i<iLen;i++){nScrollHeadTable.appendChild(nCaptions[i])}if(oSettings.oScroll.sX!==""){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX);if(nTfoot!==null){nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX)}$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;if(nTfoot!==null){nScrollFoot.scrollLeft=this.scrollLeft}})}if(oSettings.oScroll.sY!==""){nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY)}oSettings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});if(oSettings.oScroll.bInfinite){$(nScrollBody).scroll(function(){if(!oSettings.bDrawing){if($(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap){if(oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}})}oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,i,iLen,j,jLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,iWidth,aApplied=[],iSanityWidth,nScrollFootInner=(o.nTFoot!==null)?o.nScrollFoot.getElementsByTagName("div")[0]:null,nScrollFootTable=(o.nTFoot!==null)?nScrollFootInner.getElementsByTagName("table")[0]:null,ie67=$.browser.msie&&$.browser.version<=7;var nTheadSize=o.nTable.getElementsByTagName("thead");if(nTheadSize.length>0){o.nTable.removeChild(nTheadSize[0])}if(o.nTFoot!==null){var nTfootSize=o.nTable.getElementsByTagName("tfoot");if(nTfootSize.length>0){o.nTable.removeChild(nTfootSize[0])}}nTheadSize=o.nTHead.cloneNode(true);o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);if(o.nTFoot!==null){nTfootSize=o.nTFoot.cloneNode(true);o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1])}if(o.oScroll.sX===""){nScrollBody.style.width="100%";nScrollHeadInner.parentNode.style.width="100%"}var nThs=_fnGetUniqueThs(o,nTheadSize);for(i=0,iLen=nThs.length;i<iLen;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}if(o.nTFoot!==null){_fnApplyToChildren(function(n){n.style.width=""},nTfootSize.getElementsByTagName("tr"))}iSanityWidth=$(o.nTable).outerWidth();if(o.oScroll.sX===""){o.nTable.style.width="100%";if(ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll")){o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth)}}else{if(o.oScroll.sXInner!==""){o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner)}else{if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);if($(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth){o.nTable.style.width=_fnStringToCss(iSanityWidth)}}else{o.nTable.style.width=_fnStringToCss(iSanityWidth)}}}iSanityWidth=$(o.nTable).outerWidth();anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anHeadSizers,anHeadToSize);$(anHeadSizers).height(0);if(o.nTFoot!==null){anFootSizers=nTfootSize.getElementsByTagName("tr");anFootToSize=o.nTFoot.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anFootSizers,anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anHeadSizers);if(o.nTFoot!==null){_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anFootSizers)}if($(o.nTable).outerWidth()<iSanityWidth){var iCorrection=((nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll"))?iSanityWidth+o.oScroll.iBarWidth:iSanityWidth;if(ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll")){o.nTable.style.width=_fnStringToCss(iCorrection-o.oScroll.iBarWidth)}nScrollBody.style.width=_fnStringToCss(iCorrection);nScrollHeadInner.parentNode.style.width=_fnStringToCss(iCorrection);if(o.nTFoot!==null){nScrollFootInner.parentNode.style.width=_fnStringToCss(iCorrection)}if(o.oScroll.sX===""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{if(o.oScroll.sXInner!==""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}}else{nScrollBody.style.width=_fnStringToCss("100%");nScrollHeadInner.parentNode.style.width=_fnStringToCss("100%");if(o.nTFoot!==null){nScrollFootInner.parentNode.style.width=_fnStringToCss("100%")}}if(o.oScroll.sY===""){if(ie67){nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth)}}if(o.oScroll.sY!==""&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=(o.oScroll.sX!==""&&o.nTable.offsetWidth>nScrollBody.offsetWidth)?o.oScroll.iBarWidth:0;if(o.nTable.offsetHeight<nScrollBody.offsetHeight){nScrollBody.style.height=_fnStringToCss($(o.nTable).height()+iExtra)}}var iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth+o.oScroll.iBarWidth);if(o.nTFoot!==null){nScrollFootInner.style.width=_fnStringToCss(o.nTable.offsetWidth+o.oScroll.iBarWidth);nScrollFootTable.style.width=_fnStringToCss(o.nTable.offsetWidth)}if(o.bSorted||o.bFiltered){nScrollBody.scrollTop=0}}function _fnAdjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===false){return false}_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}}function _fnFeatureHtmlFilter(oSettings){var sSearchStr=oSettings.oLanguage.sSearch;sSearchStr=(sSearchStr.indexOf("_INPUT_")!==-1)?sSearchStr.replace("_INPUT_",'<input type="text" />'):sSearchStr===""?'<input type="text" />':sSearchStr+' <input type="text" placeholder="..." /><div class="srch"></div>';var nFilter=document.createElement("div");nFilter.className=oSettings.oClasses.sFilter;nFilter.innerHTML="<label>"+sSearchStr+"</label>";if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.f=="undefined"){nFilter.setAttribute("id",oSettings.sTableId+"_filter")}var jqFilter=$("input",nFilter);jqFilter.val(oSettings.oPreviousSearch.sSearch.replace('"',"&quot;"));jqFilter.bind("keyup.DT",function(e){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){if(n[i]!=$(this).parents("div.dataTables_filter")[0]){$("input",n[i]).val(this.value)}}if(this.value!=oSettings.oPreviousSearch.sSearch){_fnFilterComplete(oSettings,{sSearch:this.value,bRegex:oSettings.oPreviousSearch.bRegex,bSmart:oSettings.oPreviousSearch.bSmart})}});jqFilter.bind("keypress.DT",function(e){if(e.keyCode==13){return false}});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart);for(var i=0;i<oSettings.aoPreSearchCols.length;i++){_fnFilterColumn(oSettings,oSettings.aoPreSearchCols[i].sSearch,i,oSettings.aoPreSearchCols[i].bRegex,oSettings.aoPreSearchCols[i].bSmart)}if(_oExt.afnFiltering.length!==0){_fnFilterCustom(oSettings)}oSettings.bFiltered=true;$(oSettings.oInstance).trigger("filter",oSettings);oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var afnFilters=_oExt.afnFiltering;for(var i=0,iLen=afnFilters.length;i<iLen;i++){var iCorrector=0;for(var j=0,jLen=oSettings.aiDisplay.length;j<jLen;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector];if(!afnFilters[i](oSettings,_fnGetRowData(oSettings,iDisIndex,"filter"),iDisIndex)){oSettings.aiDisplay.splice(j-iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart){if(sInput===""){return}var iIndexCorrector=0;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);for(var i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(_fnGetCellData(oSettings,oSettings.aiDisplay[i],iColumn,"filter"),oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart){var i;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);if(typeof iForce=="undefined"||iForce===null){iForce=0}if(_oExt.afnFiltering.length!==0){iForce=1}if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else{if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oSettings.oPreviousSearch.sSearch.length>sInput.length||iForce==1||sInput.indexOf(oSettings.oPreviousSearch.sSearch)!==0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++){if(rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}}}else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++){if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}}oSettings.oPreviousSearch.sSearch=sInput;oSettings.oPreviousSearch.bRegex=bRegex;oSettings.oPreviousSearch.bSmart=bSmart}function _fnBuildSearchArray(oSettings,iMaster){if(!oSettings.oFeatures.bServerSide){oSettings.asDataSearch.splice(0,oSettings.asDataSearch.length);var aArray=(typeof iMaster!="undefined"&&iMaster==1)?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(var i=0,iLen=aArray.length;i<iLen;i++){oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,aArray[i],"filter"))}}}function _fnBuildSearchRow(oSettings,aData){var sSearch="";if(typeof oSettings.__nTmpFilter=="undefined"){oSettings.__nTmpFilter=document.createElement("div")}var nTmp=oSettings.__nTmpFilter;for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){if(oSettings.aoColumns[j].bSearchable){var sData=aData[j];sSearch+=_fnDataToSearch(sData,oSettings.aoColumns[j].sType)+"  "}}if(sSearch.indexOf("&")!==-1){nTmp.innerHTML=sSearch;sSearch=nTmp.textContent?nTmp.textContent:nTmp.innerText;sSearch=sSearch.replace(/\n/g," ").replace(/\r/g,"")}return sSearch}function _fnFilterCreateSearch(sSearch,bRegex,bSmart){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$";return new RegExp(sRegExpString,"i")}else{sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,"i")}}function _fnDataToSearch(sData,sType){if(typeof _oExt.ofnSearch[sType]=="function"){return _oExt.ofnSearch[sType](sData)}else{if(sType=="html"){return sData.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof sData=="string"){return sData.replace(/\n/g," ")}else{if(sData===null){return""}}}}return sData}function _fnSort(oSettings,bApplyClasses){var iDataSort,iDataType,i,iLen,j,jLen,aaSort=[],aiOrig=[],oSort=_oExt.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns;if(!oSettings.oFeatures.bServerSide&&(oSettings.aaSorting.length!==0||oSettings.aaSortingFixed!==null)){if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0];var iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);var sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(typeof _oExt.afnSortData[sDataType]!="undefined"){var aData=_oExt.afnSortData[sDataType](oSettings,iColumn,iVisColumn);for(j=0,jLen=aoData.length;j<jLen;j++){_fnSetCellData(oSettings,j,iColumn,aData[j])}}}for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++){aiOrig[oSettings.aiDisplayMaster[i]]=i}var iSortLen=aaSort.length;oSettings.aiDisplayMaster.sort(function(a,b){var iTest,iDataSort,sDataType;for(i=0;i<iSortLen;i++){iDataSort=aoColumns[aaSort[i][0]].iDataSort;sDataType=aoColumns[iDataSort].sType;iTest=oSort[(sDataType?sDataType:"string")+"-"+aaSort[i][1]](_fnGetCellData(oSettings,a,iDataSort,"sort"),_fnGetCellData(oSettings,b,iDataSort,"sort"));if(iTest!==0){return iTest}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])})}if((typeof bApplyClasses=="undefined"||bApplyClasses)&&!oSettings.oFeatures.bDeferRender){_fnSortingClasses(oSettings)}oSettings.bSorted=true;$(oSettings.oInstance).trigger("sort",oSettings);if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){$(nNode).bind("click.DT",function(e){if(oSettings.aoColumns[iDataIndex].bSortable===false){return}var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){var bFound=false;for(var i=0;i<oSettings.aaSorting.length;i++){if(oSettings.aaSorting[i][0]==iDataIndex){bFound=true;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){oSettings.aaSorting.splice(i,1)}else{oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=iNextSort}break}}if(bFound===false){oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}else{if(oSettings.aaSorting.length==1&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){iNextSort=0}oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}_fnSort(oSettings)};if(!oSettings.oFeatures.bProcessing){fnInnerSorting()}else{_fnProcessingDisplay(oSettings,true);setTimeout(function(){fnInnerSorting();if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false)}},0)}if(typeof fnCallback=="function"){fnCallback(oSettings)}})}function _fnSortingClasses(oSettings){var i,iLen,j,jLen,iFound;var aaSort,sClass;var iColumns=oSettings.aoColumns.length;var oClasses=oSettings.oClasses;for(i=0;i<iColumns;i++){if(oSettings.aoColumns[i].bSortable){$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass)}}if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++){if(aaSort[j][0]==i){sClass=(aaSort[j][1]=="asc")?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;break}}$(oSettings.aoColumns[i].nTh).addClass(sClass);if(oSettings.bJUI){var jqSpan=$("span",oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;if(iFound==-1){sSpanClass=oSettings.aoColumns[i].sSortingClassJUI}else{if(aaSort[iFound][1]=="asc"){sSpanClass=oClasses.sSortJUIAsc}else{sSpanClass=oClasses.sSortJUIDesc}}jqSpan.addClass(sSpanClass)}}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass)}}sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var nTds=_fnGetTdNodes(oSettings);if(oSettings.oFeatures.bDeferRender){$(nTds).removeClass(sClass+"1 "+sClass+"2 "+sClass+"3")}else{if(nTds.length>=iColumns){for(i=0;i<iColumns;i++){if(nTds[i].className.indexOf(sClass+"1")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"1",""))}}else{if(nTds[i].className.indexOf(sClass+"2")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"2",""))}}else{if(nTds[i].className.indexOf(sClass+"3")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(" "+sClass+"3",""))}}}}}}}var iClass=1,iTargetCol;for(i=0;i<aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+iTargetCol].className+=" "+sClass+iClass}if(iClass<3){iClass++}}}}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite){return null}var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;_oExt.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)});if(typeof oSettings.aanFeatures.p=="undefined"){oSettings.aoDrawCallback.push({fn:function(oSettings){_oExt.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},sName:"pagination"})}return nPaginate}function _fnPageChange(oSettings,sAction){var iOldStart=oSettings._iDisplayStart;if(sAction=="first"){oSettings._iDisplayStart=0}else{if(sAction=="previous"){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}else{if(sAction=="next"){if(oSettings._iDisplayLength>=0){if(oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()){oSettings._iDisplayStart+=oSettings._iDisplayLength}}else{oSettings._iDisplayStart=0}}else{if(sAction=="last"){if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else{oSettings._iDisplayStart=0}}else{_fnLog(oSettings,0,"Unknown paging action: "+sAction)}}}}$(oSettings.oInstance).trigger("page",oSettings);return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(typeof oSettings.aanFeatures.i=="undefined"){oSettings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});if(oSettings.sTableId!==""){nInfo.setAttribute("id",oSettings.sTableId+"_info")}}return nInfo}function _fnUpdateInfo(oSettings){if(!oSettings.oFeatures.bInfo||oSettings.aanFeatures.i.length===0){return}var iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay(),sStart=oSettings.fnFormatNumber(iStart),sEnd=oSettings.fnFormatNumber(iEnd),sMax=oSettings.fnFormatNumber(iMax),sTotal=oSettings.fnFormatNumber(iTotal),sOut;if(oSettings.oScroll.bInfinite){sStart=oSettings.fnFormatNumber(1)}if(oSettings.fnRecordsDisplay()===0&&oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfoEmpty+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()===0){sOut=oSettings.oLanguage.sInfoEmpty+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",sMax)+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+oSettings.oLanguage.sInfoPostFix}else{sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()))+oSettings.oLanguage.sInfoPostFix}}}if(oSettings.oLanguage.fnInfoCallback!==null){sOut=oSettings.oLanguage.fnInfoCallback(oSettings,iStart,iEnd,iMax,iTotal,sOut)}var n=oSettings.aanFeatures.i;for(var i=0,iLen=n.length;i<iLen;i++){$(n[i]).html(sOut)}}function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite){return null}var sName=(oSettings.sTableId==="")?"":'name="'+oSettings.sTableId+'_length"';var sStdMenu='<select size="1" '+sName+">";var i,iLen;if(oSettings.aLengthMenu.length==2&&typeof oSettings.aLengthMenu[0]=="object"&&typeof oSettings.aLengthMenu[1]=="object"){for(i=0,iLen=oSettings.aLengthMenu[0].length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[0][i]+'">'+oSettings.aLengthMenu[1][i]+"</option>"}}else{for(i=0,iLen=oSettings.aLengthMenu.length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[i]+'">'+oSettings.aLengthMenu[i]+"</option>"}}sStdMenu+="</select>";var nLength=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.l=="undefined"){nLength.setAttribute("id",oSettings.sTableId+"_length")}nLength.className=oSettings.oClasses.sLength;nLength.innerHTML="<label>"+oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu)+"</label>";$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",true);$("select",nLength).bind("change.DT",function(e){var iVal=$(this).val();var n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("select",n[i]).val(iVal)}}oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(oSettings._iDisplayLength==-1){oSettings._iDisplayStart=0}_fnDraw(oSettings)});return nLength}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.r=="undefined"){nProcessing.setAttribute("id",oSettings.sTableId+"_processing")}nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing){var an=oSettings.aanFeatures.r;for(var i=0,iLen=an.length;i<iLen;i++){an[i].style.visibility=bShow?"visible":"hidden"}}}function _fnVisibleToColumnIndex(oSettings,iMatch){var iColumn=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iColumn++}if(iColumn==iMatch){return i}}return null}function _fnColumnIndexToVisible(oSettings,iMatch){var iVisible=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iVisible++}if(i==iMatch){return oSettings.aoColumns[i].bVisible===true?iVisible:null}}return null}function _fnNodeToDataIndex(s,n){var i,iLen;for(i=s._iDisplayStart,iLen=s._iDisplayEnd;i<iLen;i++){if(s.aoData[s.aiDisplay[i]].nTr==n){return s.aiDisplay[i]}}for(i=0,iLen=s.aoData.length;i<iLen;i++){if(s.aoData[i].nTr==n){return i}}return null}function _fnVisbleColumns(oS){var iVis=0;for(var i=0;i<oS.aoColumns.length;i++){if(oS.aoColumns[i].bVisible===true){iVis++}}return iVis}function _fnCalculateEnd(oSettings){if(oSettings.oFeatures.bPaginate===false){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{if(oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||oSettings._iDisplayLength==-1){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}}}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||sWidth===null||sWidth===""){return 0}if(typeof nParent=="undefined"){nParent=document.getElementsByTagName("body")[0]}var iWidth;var nTmp=document.createElement("div");nTmp.style.width=_fnStringToCss(sWidth);nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return(iWidth)}function _fnCalculateColumnWidths(oSettings){var iTableWidth=oSettings.nTable.offsetWidth;var iUserInputs=0;var iTmpWidth;var iVisibleColumns=0;var iColums=oSettings.aoColumns.length;var i,iIndex,iCorrector,iWidth;var oHeaders=$("th",oSettings.nTHead);for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;if(oSettings.aoColumns[i].sWidth!==null){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,oSettings.nTable.parentNode);if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}iUserInputs++}}}if(iColums==oHeaders.length&&iUserInputs===0&&iVisibleColumns==iColums&&oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}}}else{var nCalcTmp=oSettings.nTable.cloneNode(false),nTheadClone=oSettings.nTHead.cloneNode(true),nBody=document.createElement("tbody"),nTr=document.createElement("tr"),nDivSizing;nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(nTheadClone);if(oSettings.nTFoot!==null){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(true));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);if(jqColSizing.length===0){jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp)}var nThs=_fnGetUniqueThs(oSettings,nTheadClone);iCorrector=0;for(i=0;i<iColums;i++){var oColumn=oSettings.aoColumns[i];if(oColumn.bVisible&&oColumn.sWidthOrig!==null&&oColumn.sWidthOrig!==""){nThs[i-iCorrector].style.width=_fnStringToCss(oColumn.sWidthOrig)}else{if(oColumn.bVisible){nThs[i-iCorrector].style.width=""}else{iCorrector++}}}for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);if(nTd!==null){nTd=nTd.cloneNode(true);if(oSettings.aoColumns[i].sContentPadding!==""){nTd.innerHTML+=oSettings.aoColumns[i].sContentPadding}nTr.appendChild(nTd)}}}var nWrapper=oSettings.nTable.parentNode;nWrapper.appendChild(nCalcTmp);if(oSettings.oScroll.sX!==""&&oSettings.oScroll.sXInner!==""){nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner)}else{if(oSettings.oScroll.sX!==""){nCalcTmp.style.width="";if($(nCalcTmp).width()<nWrapper.offsetWidth){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}else{if(oSettings.oScroll.sY!==""){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}}nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)",nCalcTmp).children();if(oNodes.length===0){oNodes=_fnGetUniqueThs(oSettings,$("thead",nCalcTmp)[0])}if(oSettings.oScroll.sX!==""){var iTotal=0;iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){if(oSettings.aoColumns[i].sWidthOrig===null){iTotal+=$(oNodes[iCorrector]).outerWidth()}else{iTotal+=parseInt(oSettings.aoColumns[i].sWidth.replace("px",""),10)+($(oNodes[iCorrector]).outerWidth()-$(oNodes[iCorrector]).width())}iCorrector++}}nCalcTmp.style.width=_fnStringToCss(iTotal);oSettings.nTable.style.width=_fnStringToCss(iTotal)}iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).width();if(iWidth!==null&&iWidth>0){oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth)}iCorrector++}}oSettings.nTable.style.width=_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}}function _fnScrollingWidthAdjust(oSettings,n){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY!==""){var iOrigWidth=$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else{if(oSettings.oScroll.sX!==""){n.style.width=_fnStringToCss($(n).outerWidth())}}}function _fnGetWidestNode(oSettings,iCol){var iMaxIndex=_fnGetMaxLenString(oSettings,iCol);if(iMaxIndex<0){return null}if(oSettings.aoData[iMaxIndex].nTr===null){var n=document.createElement("td");n.innerHTML=_fnGetCellData(oSettings,iMaxIndex,iCol,"");return n}return _fnGetTdNodes(oSettings,iMaxIndex)[iCol]}function _fnGetMaxLenString(oSettings,iCol){var iMax=-1;var iMaxIndex=-1;for(var i=0;i<oSettings.aoData.length;i++){var s=_fnGetCellData(oSettings,i,iCol,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){if(s<0){return"0px"}return s+"px"}var c=s.charCodeAt(s.length-1);if(c<48||c>57){return s}return s+"px"}function _fnArrayCmp(aArray1,aArray2){if(aArray1.length!=aArray2.length){return 1}for(var i=0;i<aArray1.length;i++){if(aArray1[i]!=aArray2[i]){return 2}}return 0}function _fnDetectType(sData){var aTypes=_oExt.aTypes;var iLen=aTypes.length;for(var i=0;i<iLen;i++){var sType=aTypes[i](sData);if(sType!==null){return sType}}return"string"}function _fnSettingsFromNode(nTable){for(var i=0;i<_aoSettings.length;i++){if(_aoSettings[i].nTable==nTable){return _aoSettings[i]}}return null}function _fnGetDataMaster(oSettings){var aData=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aData.push(oSettings.aoData[i]._aData)}return aData}function _fnGetTrNodes(oSettings){var aNodes=[];for(var i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){aNodes.push(oSettings.aoData[i].nTr)}}return aNodes}function _fnGetTdNodes(oSettings,iIndividualRow){var anReturn=[];var iCorrector;var anTds;var iRow,iRows=oSettings.aoData.length,iColumn,iColumns,oData,sNodeName,iStart=0,iEnd=iRows;if(typeof iIndividualRow!="undefined"){iStart=iIndividualRow;iEnd=iIndividualRow+1}for(iRow=iStart;iRow<iEnd;iRow++){oData=oSettings.aoData[iRow];if(oData.nTr!==null){anTds=[];for(iColumn=0,iColumns=oData.nTr.childNodes.length;iColumn<iColumns;iColumn++){sNodeName=oData.nTr.childNodes[iColumn].nodeName.toLowerCase();if(sNodeName=="td"||sNodeName=="th"){anTds.push(oData.nTr.childNodes[iColumn])}}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].bVisible){anReturn.push(anTds[iColumn-iCorrector])}else{anReturn.push(oData._anHidden[iColumn]);iCorrector++}}}}return anReturn}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];var reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnDeleteIndex(a,iTarget){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else{if(a[i]>iTarget){a[i]--}}}if(iTargetIndex!=-1){a.splice(iTargetIndex,1)}}function _fnReOrderIndex(oSettings,sColumns){var aColumns=sColumns.split(",");var aiReturn=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){for(var j=0;j<iLen;j++){if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}}}return aiReturn}function _fnColumnOrdering(oSettings){var sNames="";for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){sNames+=oSettings.aoColumns[i].sName+","}if(sNames.length==iLen){return""}return sNames.slice(0,-1)}function _fnLog(oSettings,iLevel,sMesg){var sAlert=oSettings.sTableId===""?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(iLevel===0){if(_oExt.sErrMode=="alert"){alert(sAlert)}else{throw sAlert}return}else{if(typeof console!="undefined"&&typeof console.log!="undefined"){console.log(sAlert)}}}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnSaveState(oSettings){if(!oSettings.oFeatures.bStateSave||typeof oSettings.bDestroying!="undefined"){return}var i,iLen,sTmp;var sValue="{";sValue+='"iCreate":'+new Date().getTime()+",";sValue+='"iStart":'+(oSettings.oScroll.bInfinite?0:oSettings._iDisplayStart)+",";sValue+='"iEnd":'+(oSettings.oScroll.bInfinite?oSettings._iDisplayLength:oSettings._iDisplayEnd)+",";sValue+='"iLength":'+oSettings._iDisplayLength+",";sValue+='"sFilter":"'+encodeURIComponent(oSettings.oPreviousSearch.sSearch)+'",';sValue+='"sFilterEsc":'+!oSettings.oPreviousSearch.bRegex+",";sValue+='"aaSorting":[ ';for(i=0;i<oSettings.aaSorting.length;i++){sValue+="["+oSettings.aaSorting[i][0]+',"'+oSettings.aaSorting[i][1]+'"],'}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"aaSearchCols":[ ';for(i=0;i<oSettings.aoPreSearchCols.length;i++){sValue+='["'+encodeURIComponent(oSettings.aoPreSearchCols[i].sSearch)+'",'+!oSettings.aoPreSearchCols[i].bRegex+"],"}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"abVisCols":[ ';for(i=0;i<oSettings.aoColumns.length;i++){sValue+=oSettings.aoColumns[i].bVisible+","}sValue=sValue.substring(0,sValue.length-1);sValue+="]";for(i=0,iLen=oSettings.aoStateSave.length;i<iLen;i++){sTmp=oSettings.aoStateSave[i].fn(oSettings,sValue);if(sTmp!==""){sValue=sTmp}}sValue+="}";_fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,sValue,oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave){return}var oData,i,iLen;var sData=_fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);if(sData!==null&&sData!==""){try{oData=(typeof $.parseJSON=="function")?$.parseJSON(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}for(i=0,iLen=oSettings.aoStateLoad.length;i<iLen;i++){if(!oSettings.aoStateLoad[i].fn(oSettings,oData)){return}}oSettings.oLoadedState=$.extend(true,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.oPreviousSearch.sSearch=decodeURIComponent(oData.sFilter);oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();if(typeof oData.sFilterEsc!="undefined"){oSettings.oPreviousSearch.bRegex=!oData.sFilterEsc}if(typeof oData.aaSearchCols!="undefined"){for(i=0;i<oData.aaSearchCols.length;i++){oSettings.aoPreSearchCols[i]={sSearch:decodeURIComponent(oData.aaSearchCols[i][0]),bRegex:!oData.aaSearchCols[i][1]}}}if(typeof oData.abVisCols!="undefined"){oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date();date.setTime(date.getTime()+(iSecs*1000));var aParts=window.location.pathname.split("/");var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=(typeof $.parseJSON=="function")?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else{sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/"}var sOldName="",iOldTime=9999999999999;var iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++){if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}if(typeof oData.iCreate!="undefined"&&oData.iCreate<iOldTime){sOldName=aSplitCookie[0];iOldTime=oData.iCreate}}}if(sOldName!==""){document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";");for(var i=0;i<sCookieContents.length;i++){var c=sCookieContents[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(sNameEQ)===0){return decodeURIComponent(c.substring(sNameEQ.length,c.length))}}return null}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nCell;var i,j,k,l,iLen,jLen,iColShifted;var fnShiftCol=function(a,i,j){while(typeof a[i][j]!="undefined"){j++}return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<iLen;i++){aLayout.push([])}for(i=0,iLen=nTrs.length;i<iLen;i++){var iColumn=0;for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nCell=nTrs[i].childNodes[j];if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){var iColspan=nCell.getAttribute("colspan")*1;var iRowspan=nCell.getAttribute("rowspan")*1;iColspan=(!iColspan||iColspan===0||iColspan===1)?1:iColspan;iRowspan=(!iRowspan||iRowspan===0||iRowspan===1)?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);for(l=0;l<iColspan;l++){for(k=0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={cell:nCell,unique:iColspan==1?true:false};aLayout[i+k].nTr=nTrs[i]}}}}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(typeof aLayout=="undefined"){aLayout=oSettings.aoHeader;if(typeof nHeader!="undefined"){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++){for(var j=0,jLen=aLayout[i].length;j<jLen;j++){if(aLayout[i][j].unique&&(typeof aReturn[j]=="undefined"||!oSettings.bSortCellsTop)){aReturn[j]=aLayout[i][j].cell}}}return aReturn}function _fnScrollBarWidth(){var inner=document.createElement("p");var style=inner.style;style.width="100%";style.height="200px";style.padding="0px";var outer=document.createElement("div");style=outer.style;style.position="absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.padding="0px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2){w2=outer.clientWidth}document.body.removeChild(outer);return(w1-w2)}function _fnApplyToChildren(fn,an1,an2){for(var i=0,iLen=an1.length;i<iLen;i++){for(var j=0,jLen=an1[i].childNodes.length;j<jLen;j++){if(an1[i].childNodes[j].nodeType==1){if(typeof an2!="undefined"){fn(an1[i].childNodes[j],an2[i].childNodes[j])}else{fn(an1[i].childNodes[j])}}}}}function _fnMap(oRet,oSrc,sName,sMappedName){if(typeof sMappedName=="undefined"){sMappedName=sName}if(typeof oSrc[sName]!="undefined"){oRet[sMappedName]=oSrc[sName]}}function _fnGetRowData(oSettings,iRow,sSpecific){var out=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){out.push(_fnGetCellData(oSettings,iRow,i,sSpecific))}return out}function _fnGetCellData(oSettings,iRow,iCol,sSpecific){var sData;var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;if((sData=oCol.fnGetData(oData))===undefined){if(oSettings.iDrawError!=oSettings.iDraw&&oCol.sDefaultContent===null){_fnLog(oSettings,0,"Requested unknown parameter '"+oCol.mDataProp+"' from the data source for row "+iRow);oSettings.iDrawError=oSettings.iDraw}return oCol.sDefaultContent}if(sData===null&&oCol.sDefaultContent!==null){sData=oCol.sDefaultContent}else{if(typeof sData=="function"){return sData()}}if(sSpecific=="display"&&sData===null){return""}return sData}function _fnSetCellData(oSettings,iRow,iCol,val){var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;oCol.fnSetData(oData,val)}function _fnGetObjectDataFn(mSource){if(mSource===null){return function(data){return null}}else{if(typeof mSource=="function"){return function(data){return mSource(data)}}else{if(typeof mSource=="string"&&mSource.indexOf(".")!=-1){var a=mSource.split(".");if(a.length==2){return function(data){return data[a[0]][a[1]]}}else{if(a.length==3){return function(data){return data[a[0]][a[1]][a[2]]}}else{return function(data){for(var i=0,iLen=a.length;i<iLen;i++){data=data[a[i]]}return data}}}}else{return function(data){return data[mSource]}}}}}function _fnSetObjectDataFn(mSource){if(mSource===null){return function(data,val){}}else{if(typeof mSource=="function"){return function(data,val){return mSource(data,val)}}else{if(typeof mSource=="string"&&mSource.indexOf(".")!=-1){var a=mSource.split(".");if(a.length==2){return function(data,val){data[a[0]][a[1]]=val}}else{if(a.length==3){return function(data,val){data[a[0]][a[1]][a[2]]=val}}else{return function(data,val){for(var i=0,iLen=a.length-1;i<iLen;i++){data=data[a[i]]}data[a[a.length-1]]=val}}}}else{return function(data,val){data[mSource]=val}}}}}this.oApi._fnExternApiFunc=_fnExternApiFunc;this.oApi._fnInitialise=_fnInitialise;this.oApi._fnInitComplete=_fnInitComplete;this.oApi._fnLanguageProcess=_fnLanguageProcess;this.oApi._fnAddColumn=_fnAddColumn;this.oApi._fnColumnOptions=_fnColumnOptions;this.oApi._fnAddData=_fnAddData;this.oApi._fnCreateTr=_fnCreateTr;this.oApi._fnGatherData=_fnGatherData;this.oApi._fnBuildHead=_fnBuildHead;this.oApi._fnDrawHead=_fnDrawHead;this.oApi._fnDraw=_fnDraw;this.oApi._fnReDraw=_fnReDraw;this.oApi._fnAjaxUpdate=_fnAjaxUpdate;this.oApi._fnAjaxParameters=_fnAjaxParameters;this.oApi._fnAjaxUpdateDraw=_fnAjaxUpdateDraw;this.oApi._fnServerParams=_fnServerParams;this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml;this.oApi._fnFeatureHtmlTable=_fnFeatureHtmlTable;this.oApi._fnScrollDraw=_fnScrollDraw;this.oApi._fnAdjustColumnSizing=_fnAdjustColumnSizing;this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter;this.oApi._fnFilterComplete=_fnFilterComplete;this.oApi._fnFilterCustom=_fnFilterCustom;this.oApi._fnFilterColumn=_fnFilterColumn;this.oApi._fnFilter=_fnFilter;this.oApi._fnBuildSearchArray=_fnBuildSearchArray;this.oApi._fnBuildSearchRow=_fnBuildSearchRow;this.oApi._fnFilterCreateSearch=_fnFilterCreateSearch;this.oApi._fnDataToSearch=_fnDataToSearch;this.oApi._fnSort=_fnSort;this.oApi._fnSortAttachListener=_fnSortAttachListener;this.oApi._fnSortingClasses=_fnSortingClasses;this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate;this.oApi._fnPageChange=_fnPageChange;this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo;this.oApi._fnUpdateInfo=_fnUpdateInfo;this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength;this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing;this.oApi._fnProcessingDisplay=_fnProcessingDisplay;this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex;this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible;this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex;this.oApi._fnVisbleColumns=_fnVisbleColumns;this.oApi._fnCalculateEnd=_fnCalculateEnd;this.oApi._fnConvertToWidth=_fnConvertToWidth;this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths;this.oApi._fnScrollingWidthAdjust=_fnScrollingWidthAdjust;this.oApi._fnGetWidestNode=_fnGetWidestNode;this.oApi._fnGetMaxLenString=_fnGetMaxLenString;this.oApi._fnStringToCss=_fnStringToCss;this.oApi._fnArrayCmp=_fnArrayCmp;this.oApi._fnDetectType=_fnDetectType;this.oApi._fnSettingsFromNode=_fnSettingsFromNode;this.oApi._fnGetDataMaster=_fnGetDataMaster;this.oApi._fnGetTrNodes=_fnGetTrNodes;this.oApi._fnGetTdNodes=_fnGetTdNodes;this.oApi._fnEscapeRegex=_fnEscapeRegex;this.oApi._fnDeleteIndex=_fnDeleteIndex;this.oApi._fnReOrderIndex=_fnReOrderIndex;this.oApi._fnColumnOrdering=_fnColumnOrdering;this.oApi._fnLog=_fnLog;this.oApi._fnClearTable=_fnClearTable;this.oApi._fnSaveState=_fnSaveState;this.oApi._fnLoadState=_fnLoadState;this.oApi._fnCreateCookie=_fnCreateCookie;this.oApi._fnReadCookie=_fnReadCookie;this.oApi._fnDetectHeader=_fnDetectHeader;this.oApi._fnGetUniqueThs=_fnGetUniqueThs;this.oApi._fnScrollBarWidth=_fnScrollBarWidth;this.oApi._fnApplyToChildren=_fnApplyToChildren;this.oApi._fnMap=_fnMap;this.oApi._fnGetRowData=_fnGetRowData;this.oApi._fnGetCellData=_fnGetCellData;this.oApi._fnSetCellData=_fnSetCellData;this.oApi._fnGetObjectDataFn=_fnGetObjectDataFn;this.oApi._fnSetObjectDataFn=_fnSetObjectDataFn;var _that=this;return this.each(function(){var i=0,iLen,j,jLen,k,kLen;for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i].nTable==this){if(typeof oInit=="undefined"||(typeof oInit.bRetrieve!="undefined"&&oInit.bRetrieve===true)){return _aoSettings[i].oInstance}else{if(typeof oInit.bDestroy!="undefined"&&oInit.bDestroy===true){_aoSettings[i].oInstance.fnDestroy();break}else{_fnLog(_aoSettings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(_aoSettings[i].sTableId!==""&&_aoSettings[i].sTableId==this.getAttribute("id")){_aoSettings.splice(i,1);break}}var oSettings=new classSettings();_aoSettings.push(oSettings);var bInitHandedOff=false;var bUsePassedData=false;var sId=this.getAttribute("id");if(sId!==null){oSettings.sTableId=sId;oSettings.sInstance=sId}else{oSettings.sInstance=_oExt._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){_fnLog(oSettings,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}oSettings.nTable=this;oSettings.oInstance=_that.length==1?_that:$(this).dataTable();oSettings.oApi=_that.oApi;oSettings.sDestroyWidth=$(this).width();if(typeof oInit!="undefined"&&oInit!==null){oSettings.oInit=oInit;_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oFeatures,oInit,"bDeferRender");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripClasses","asStripeClasses");_fnMap(oSettings,oInit,"asStripeClasses");_fnMap(oSettings,oInit,"fnPreDrawCallback");_fnMap(oSettings,oInit,"fnRowCallback");_fnMap(oSettings,oInit,"fnHeaderCallback");_fnMap(oSettings,oInit,"fnFooterCallback");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,"fnInitComplete");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");_fnMap(oSettings,oInit,"sAjaxDataProp");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"bSortCellsTop");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");if(typeof oInit.fnDrawCallback=="function"){oSettings.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"})}if(typeof oInit.fnServerParams=="function"){oSettings.aoServerParams.push({fn:oInit.fnServerParams,sName:"user"})}if(typeof oInit.fnStateSaveCallback=="function"){oSettings.aoStateSave.push({fn:oInit.fnStateSaveCallback,sName:"user"})}if(typeof oInit.fnStateLoadCallback=="function"){oSettings.aoStateLoad.push({fn:oInit.fnStateLoadCallback,sName:"user"})}if(oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){oSettings.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"})}else{if(oSettings.oFeatures.bDeferRender){oSettings.aoDrawCallback.push({fn:_fnSortingClasses,sName:"defer_sort_classes"})}}if(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI){oSettings.oClasses=_oExt.oJUIClasses;if(typeof oInit.sDom=="undefined"){oSettings.sDom='<"H"lfr>t<"F"ip>'}}if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){oSettings.oScroll.iBarWidth=_fnScrollBarWidth()}if(typeof oInit.iDisplayStart!="undefined"&&typeof oSettings.iInitDisplayStart=="undefined"){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(typeof oInit.bStateSave!="undefined"){oSettings.oFeatures.bStateSave=oInit.bStateSave;_fnLoadState(oSettings,oInit);oSettings.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})}if(typeof oInit.iDeferLoading!="undefined"){oSettings.bDeferLoading=true;oSettings._iRecordsTotal=oInit.iDeferLoading;oSettings._iRecordsDisplay=oInit.iDeferLoading}if(typeof oInit.aaData!="undefined"){bUsePassedData=true}if(typeof oInit!="undefined"&&typeof oInit.aoData!="undefined"){oInit.aoColumns=oInit.aoData}if(typeof oInit.oLanguage!="undefined"){if(typeof oInit.oLanguage.sUrl!="undefined"&&oInit.oLanguage.sUrl!==""){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageProcess(oSettings,json,true)});bInitHandedOff=true}else{_fnLanguageProcess(oSettings,oInit.oLanguage,false)}}}else{oInit={}}if(typeof oInit.asStripClasses=="undefined"&&typeof oInit.asStripeClasses=="undefined"){oSettings.asStripeClasses.push(oSettings.oClasses.sStripeOdd);oSettings.asStripeClasses.push(oSettings.oClasses.sStripeEven)}var bStripeRemove=false;var anRows=$(this).children("tbody").children("tr");for(i=0,iLen=oSettings.asStripeClasses.length;i<iLen;i++){if(anRows.filter(":lt(2)").hasClass(oSettings.asStripeClasses[i])){bStripeRemove=true;break}}if(bStripeRemove){oSettings.asDestroyStripes=["",""];if($(anRows[0]).hasClass(oSettings.oClasses.sStripeOdd)){oSettings.asDestroyStripes[0]+=oSettings.oClasses.sStripeOdd+" "}if($(anRows[0]).hasClass(oSettings.oClasses.sStripeEven)){oSettings.asDestroyStripes[0]+=oSettings.oClasses.sStripeEven}if($(anRows[1]).hasClass(oSettings.oClasses.sStripeOdd)){oSettings.asDestroyStripes[1]+=oSettings.oClasses.sStripeOdd+" "}if($(anRows[1]).hasClass(oSettings.oClasses.sStripeEven)){oSettings.asDestroyStripes[1]+=oSettings.oClasses.sStripeEven}anRows.removeClass(oSettings.asStripeClasses.join(" "))}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(typeof oInit.aoColumns=="undefined"){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){if(typeof oInit.saved_aoColumns!="undefined"&&oInit.saved_aoColumns.length==iLen){if(aoColumnsInit[i]===null){aoColumnsInit[i]={}}aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:null)}if(typeof oInit.aoColumnDefs!="undefined"){for(i=oInit.aoColumnDefs.length-1;i>=0;i--){var aTargets=oInit.aoColumnDefs[i].aTargets;if(!$.isArray(aTargets)){_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+(typeof aTargets))}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]=="number"&&aTargets[j]>=0){while(oSettings.aoColumns.length<=aTargets[j]){_fnAddColumn(oSettings)}_fnColumnOptions(oSettings,aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="number"&&aTargets[j]<0){_fnColumnOptions(oSettings,oSettings.aoColumns.length+aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="string"){for(k=0,kLen=oSettings.aoColumns.length;k<kLen;k++){if(aTargets[j]=="_all"||$(oSettings.aoColumns[k].nTh).hasClass(aTargets[j])){_fnColumnOptions(oSettings,k,oInit.aoColumnDefs[i])}}}}}}}}if(typeof aoColumnsInit!="undefined"){for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){_fnColumnOptions(oSettings,i,aoColumnsInit[i])}}for(i=0,iLen=oSettings.aaSorting.length;i<iLen;i++){if(oSettings.aaSorting[i][0]>=oSettings.aoColumns.length){oSettings.aaSorting[i][0]=0}var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];if(typeof oSettings.aaSorting[i][2]=="undefined"){oSettings.aaSorting[i][2]=0}if(typeof oInit.aaSorting=="undefined"&&typeof oSettings.saved_aaSorting=="undefined"){oSettings.aaSorting[i][1]=oColumn.asSorting[0]}for(j=0,jLen=oColumn.asSorting.length;j<jLen;j++){if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}}_fnSortingClasses(oSettings);var thead=$(this).children("thead");if(thead.length===0){thead=[document.createElement("thead")];this.appendChild(thead[0])}oSettings.nTHead=thead[0];var tbody=$(this).children("tbody");if(tbody.length===0){tbody=[document.createElement("tbody")];this.appendChild(tbody[0])}oSettings.nTBody=tbody[0];var tfoot=$(this).children("tfoot");if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(bUsePassedData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else{_fnGatherData(oSettings)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitialise(oSettings)}})}})(jQuery,window,document);(function(b){elFinder=function(m,k){var a=this,j;this.log=function(c){window.console&&window.console.log&&window.console.log(c)};this.options=b.extend({},this.options,k||{});if(!this.options.url){alert("Invalid configuration! You have to set URL option.");return}this.id="";if((j=b(m).attr("id"))){this.id=j}else{}this.version="1.2";this.jquery=b.fn.jquery.split(".").join("");this.cwd={};this.cdc={};this.buffer={};this.selected=[];this.history=[];this.locked=false;this.zIndex=2;this.dialog=null;this.anchor=this.options.docked?b("<div/>").hide().insertBefore(m):null;this.params={dotFiles:false,arc:"",uplMaxSize:""};this.vCookie="el-finder-view-"+this.id;this.pCookie="el-finder-places-"+this.id;this.lCookie="el-finder-last-"+this.id;this.view=new this.view(this,m);this.ui=new this.ui(this);this.eventsManager=new this.eventsManager(this);this.quickLook=new this.quickLook(this);this.cookie=function(g,d){if(typeof d=="undefined"){if(document.cookie&&document.cookie!=""){var e,h=document.cookie.split(";");g+="=";for(e=0;e<h.length;e++){h[e]=b.trim(h[e]);if(h[e].substring(0,g.length)==g){return decodeURIComponent(h[e].substring(g.length))}}}return""}else{var o,c=b.extend({},this.options.cookie);if(d===null){d="";c.expires=-1}if(typeof(c.expires)=="number"){o=new Date();o.setTime(o.getTime()+(c.expires*24*60*60*1000));c.expires=o}document.cookie=g+"="+encodeURIComponent(d)+"; expires="+c.expires.toUTCString()+(c.path?"; path="+c.path:"")+(c.domain?"; domain="+c.domain:"")+(c.secure?"; secure":"")}};this.lock=function(c){this.view.spinner((this.locked=c||false));this.eventsManager.lock=this.locked};this.lockShortcuts=function(c){this.eventsManager.lock=!!c};this.setView=function(c){if(c=="list"||c=="icons"){this.options.view=c;this.cookie(this.vCookie,c)}};this.ajax=function(d,c,g){var e={url:this.options.url,async:true,type:"GET",data:d,dataType:"json",cache:false,lock:true,force:false,silent:false};if(typeof(g)=="object"){e=b.extend({},e,g)}if(!e.silent){e.error=a.view.fatal}e.success=function(h){e.lock&&a.lock();if(h){h.debug&&a.log(h.debug);if(h.error){!e.silent&&a.view.error(h.error,h.errorData);if(!e.force){return}}c(h);delete h}};e.lock&&this.lock(true);b.ajax(e)};this.tmb=function(){this.ajax({cmd:"tmb",current:a.cwd.hash},function(c){if(a.options.view=="icons"&&c.images&&c.current==a.cwd.hash){for(var d in c.images){if(a.cdc[d]){a.cdc[d].tmb=c.images[d];b('div[key="'+d+'"]>p',a.view.cwd).css("background",' url("'+c.images[d]+'") 0 0 no-repeat')}}c.tmb&&a.tmb()}},{lock:false,silent:true})};this.getPlaces=function(){var d=[],c=this.cookie(this.pCookie);if(c.length){if(c.indexOf(":")!=-1){d=c.split(":")}else{d.push(c)}}return d};this.addPlace=function(c){var d=this.getPlaces();if(b.inArray(c,d)==-1){d.push(c);this.savePlaces(d);return true}};this.removePlace=function(c){var d=this.getPlaces();if(b.inArray(c,d)!=-1){this.savePlaces(b.map(d,function(e){return e==c?null:e}));return true}};this.savePlaces=function(c){this.cookie(this.pCookie,c.join(":"))};this.reload=function(c){var d;this.cwd=c.cwd;this.cdc={};for(d=0;d<c.cdc.length;d++){if(c.cdc[d].hash&&c.cdc[d].name){this.cdc[c.cdc[d].hash]=c.cdc[d];this.cwd.size+=c.cdc[d].size}}if(c.tree){this.view.renderNav(c.tree);this.eventsManager.updateNav()}this.updateCwd();if(c.tmb&&!a.locked&&a.options.view=="icons"){a.tmb()}if(c.select&&c.select.length){var e=c.select.length;while(e--){this.cdc[c.select[e]]&&this.selectById(c.select[e])}}this.lastDir(this.cwd.hash);if(this.options.autoReload>0){this.iID&&clearInterval(this.iID);this.iID=setInterval(function(){!a.locked&&a.ui.exec("reload")},this.options.autoReload*60000)}};this.updateCwd=function(){this.lockShortcuts(true);this.selected=[];this.view.renderCwd();this.eventsManager.updateCwd();this.view.tree.find('a[key="'+this.cwd.hash+'"]').trigger("select");this.lockShortcuts()};this.drop=function(c,e,d){if(e.helper.find('[key="'+d+'"]').length){return a.view.error("Unable to copy into itself")}var g=[];e.helper.find('div:not(.noaccess):has(>label):not(:has(em[class="readonly"],em[class=""]))').each(function(){g.push(b(this).hide().attr("key"))});if(!e.helper.find("div:has(>label):visible").length){e.helper.hide()}if(g.length){a.setBuffer(g,c.shiftKey?0:1,d);if(a.buffer.files){setTimeout(function(){a.ui.exec("paste");a.buffer={}},300)}}else{b(this).removeClass("el-finder-droppable")}};this.getSelected=function(e){var d,c=[];if(e>=0){return this.cdc[this.selected[e]]||{}}for(d=0;d<this.selected.length;d++){this.cdc[this.selected[d]]&&c.push(this.cdc[this.selected[d]])}return c};this.select=function(d,c){c&&b(".ui-selected",a.view.cwd).removeClass("ui-selected");d.addClass("ui-selected");a.updateSelect()};this.selectById=function(c){var d=b('[key="'+c+'"]',this.view.cwd);if(d.length){this.select(d);this.checkSelectedPos()}};this.unselect=function(c){c.removeClass("ui-selected");a.updateSelect()};this.toggleSelect=function(c){c.toggleClass("ui-selected");this.updateSelect()};this.selectAll=function(){b("[key]",a.view.cwd).addClass("ui-selected");a.updateSelect()};this.unselectAll=function(){b(".ui-selected",a.view.cwd).removeClass("ui-selected");a.updateSelect()};this.updateSelect=function(){a.selected=[];b(".ui-selected",a.view.cwd).each(function(){a.selected.push(b(this).attr("key"))});a.view.selectedInfo();a.ui.update();a.quickLook.update()};this.checkSelectedPos=function(e){var g=a.view.cwd.find(".ui-selected:"+(e?"last":"first")).eq(0),d=g.position(),h=g.outerHeight(),c=a.view.cwd.height();if(d.top<0){a.view.cwd.scrollTop(d.top+a.view.cwd.scrollTop()-2)}else{if(c-d.top<h){a.view.cwd.scrollTop(d.top+h-c+a.view.cwd.scrollTop())}}};this.setBuffer=function(e,c,h){var g,p,d;this.buffer={src:this.cwd.hash,dst:h,files:[],names:[],cut:c||0};for(g=0;g<e.length;g++){p=e[g];d=this.cdc[p];if(d&&d.read&&d.type!="link"){this.buffer.files.push(d.hash);this.buffer.names.push(d.name)}}if(!this.buffer.files.length){this.buffer={}}};this.isValidName=function(c){if(!this.cwd.dotFiles&&c.indexOf(".")==0){return false}return c.match(/^[^\\\/\<\>:]+$/)};this.fileExists=function(c){for(var d in this.cdc){if(this.cdc[d].name==c){return d}}return false};this.uniqueName=function(c,d){c=a.i18n(c);var g=c,e=0,d=d||"";if(!this.fileExists(g+d)){return g+d}while(e++<100){if(!this.fileExists(g+e+d)){return g+e+d}}return g.replace("100","")+Math.random()+d};this.lastDir=function(c){if(this.options.rememberLastDir){return c?this.cookie(this.lCookie,c):this.cookie(this.lCookie)}};function n(d,c){d&&a.view.win.width(d);c&&a.view.nav.add(a.view.cwd).height(c)}function l(){n(null,a.dialog.height()-a.view.tlb.parent().height()-(b.browser.msie?47:32))}this.time=function(){return new Date().getMilliseconds()};this.setView(this.cookie(this.vCookie));n(a.options.width,a.options.height);if(this.options.dialog||this.options.docked){this.options.dialog=b.extend({width:570,dialogClass:"",minWidth:480,minHeight:330},this.options.dialog||{});this.options.dialog.open=function(){setTimeout(function(){b('<input type="text" value="f"/>').appendTo(a.view.win).focus().select().remove()},200)};this.options.dialog.dialogClass+="el-finder-dialog";this.options.dialog.resize=l;if(this.options.docked){this.options.dialog.close=function(){a.dock()};this.view.win.data("size",{width:this.view.win.width(),height:this.view.nav.height()})}else{this.options.dialog.close=function(){a.destroy()};this.dialog=b("<div/>").append(this.view.win).dialog(this.options.dialog)}}this.ajax({cmd:"open",target:this.lastDir()||"",init:true,tree:true},function(c){if(c.cwd){a.eventsManager.init();a.reload(c);b.extend(a.params,c.params||{});b("*",document.body).each(function(){var d=parseInt(b(this).css("z-index"));if(d>=a.zIndex){a.zIndex=d+1}});a.ui.init(c.disabled)}},{force:true});this.open=function(){this.dialog?this.dialog.dialog("open"):this.view.win.show();this.eventsManager.lock=false};this.close=function(){this.quickLook.hide();if(this.options.docked&&this.view.win.attr("undocked")){this.dock()}else{this.dialog?this.dialog.dialog("close"):this.view.win.hide()}this.eventsManager.lock=true};this.destroy=function(){this.eventsManager.lock=true;this.quickLook.hide();this.quickLook.win.remove();if(this.dialog){this.dialog.dialog("destroy");this.view.win.parent().remove()}else{this.view.win.remove()}this.ui.menu.remove()};this.dock=function(){if(this.options.docked&&this.view.win.attr("undocked")){this.quickLook.hide();var c=this.view.win.data("size");this.view.win.insertAfter(this.anchor).removeAttr("undocked");n(c.width,c.height);this.dialog.dialog("destroy");this.dialog=null}};this.undock=function(){if(this.options.docked&&!this.view.win.attr("undocked")){this.quickLook.hide();this.dialog=b("<div/>").append(this.view.win.css("width","100%").attr("undocked",true).show()).dialog(this.options.dialog);l()}}};elFinder.prototype.i18n=function(a){return this.options.i18n[this.options.lang]&&this.options.i18n[this.options.lang][a]?this.options.i18n[this.options.lang][a]:a};elFinder.prototype.options={url:"",lang:"en",cssClass:"",wrap:14,places:"Places",placesFirst:true,editorCallback:null,cutURL:"",closeOnEditorCallback:true,i18n:{},view:"icons",width:"",height:"",disableShortcuts:false,rememberLastDir:true,cookie:{expires:30,domain:"",path:"/",secure:false},toolbar:[["back","reload"],["select","open"],["mkdir","mkfile","upload"],["copy","paste","rm"],["rename","edit"],["info","quicklook","resize"],["icons","list"],["help"]],contextmenu:{cwd:["reload","delim","mkdir","mkfile","upload","delim","paste","delim","info"],file:["select","open","quicklook","delim","copy","cut","rm","delim","duplicate","rename","edit","resize","archive","extract","delim","info"],group:["select","copy","cut","rm","delim","archive","extract","delim","info"]},dialog:null,docked:false,autoReload:0,selectMultiple:false};b.fn.elfinder=function(a){return this.each(function(){var d=typeof(a)=="string"?a:"";if(!this.elfinder){this.elfinder=new elFinder(this,typeof(a)=="object"?a:{})}switch(d){case"close":case"hide":this.elfinder.close();break;case"open":case"show":this.elfinder.open();break;case"dock":this.elfinder.dock();break;case"undock":this.elfinder.undock();break;case"destroy":this.elfinder.destroy();break}})}})(jQuery);(function(b){elFinder.prototype.view=function(e,g){var a=this;this.fm=e;this.kinds={unknown:"Unknown",directory:"Folder",symlink:"Alias","symlink-broken":"Broken alias","application/x-empty":"Plain text","application/postscript":"Postscript document","application/octet-stream":"Application","application/vnd.ms-office":"Microsoft Office document","application/vnd.ms-word":"Microsoft Word document","application/vnd.ms-excel":"Microsoft Excel document","application/vnd.ms-powerpoint":"Microsoft Powerpoint presentation","application/pdf":"Portable Document Format (PDF)","application/vnd.oasis.opendocument.text":"Open Office document","application/x-shockwave-flash":"Flash application","application/xml":"XML document","application/x-bittorrent":"Bittorrent file","application/x-7z-compressed":"7z archive","application/x-tar":"TAR archive","application/x-gzip":"GZIP archive","application/x-bzip2":"BZIP archive","application/zip":"ZIP archive","application/x-rar":"RAR archive","application/javascript":"Javascript application","text/plain":"Plain text","text/x-php":"PHP source","text/html":"HTML document","text/javascript":"Javascript source","text/css":"CSS style sheet","text/rtf":"Rich Text Format (RTF)","text/rtfd":"RTF with attachments (RTFD)","text/x-c":"C source","text/x-c++":"C++ source","text/x-shellscript":"Unix shell script","text/x-python":"Python source","text/x-java":"Java source","text/x-ruby":"Ruby source","text/x-perl":"Perl script","text/xml":"XML document","image/x-ms-bmp":"BMP image","image/jpeg":"JPEG image","image/gif":"GIF Image","image/png":"PNG image","image/x-targa":"TGA image","image/tiff":"TIFF image","image/vnd.adobe.photoshop":"Adobe Photoshop image","audio/mpeg":"MPEG audio","audio/midi":"MIDI audio","audio/ogg":"Ogg Vorbis audio","audio/mp4":"MP4 audio","audio/wav":"WAV audio","video/x-dv":"DV video","video/mp4":"MP4 video","video/mpeg":"MPEG video","video/x-msvideo":"AVI video","video/quicktime":"Quicktime video","video/x-ms-wmv":"WM video","video/x-flv":"Flash video","video/x-matroska":"Matroska video"};this.tlb=b("<ul />");this.nav=b('<div class="el-finder-nav"/>').resizable({handles:"e",autoHide:true,minWidth:200,maxWidth:500});this.cwd=b('<div class="el-finder-cwd"/>').attr("unselectable","on");this.spn=b('<div class="el-finder-spinner"/>');this.err=b('<p class="el-finder-err"><strong/></p>').click(function(){b(this).hide()});this.nfo=b('<div class="el-finder-stat"/>');this.pth=b('<div class="el-finder-path"/>');this.sel=b('<div class="el-finder-sel"/>');this.stb=b('<div class="el-finder-statusbar"/>').append(this.pth).append(this.nfo).append(this.sel);this.wrz=b('<div class="el-finder-workzone" />').append(this.nav).append(this.cwd).append(this.spn).append(this.err).append('<div style="clear:both" />');this.win=b(g).empty().attr("id",this.fm.id).addClass("el-finder "+(e.options.cssClass||"")).append(b('<div class="el-finder-toolbar" />').append(this.tlb)).append(this.wrz).append(this.stb);this.tree=b('<ul class="el-finder-tree"></ul>').appendTo(this.nav);this.plc=b('<ul class="el-finder-places"><li><a href="#" class="el-finder-places-root"><div/>'+this.fm.i18n(this.fm.options.places)+"</a><ul/></li></ul>").hide();this.nav[this.fm.options.placesFirst?"prepend":"append"](this.plc);this.spinner=function(c){this.win.toggleClass("el-finder-disabled",c);this.spn.toggle(c)};this.fatal=function(c){a.error(c.status!="404"?"Invalid backend configuration":"Unable to connect to backend")};this.error=function(d,c){this.fm.lock();this.err.show().children("strong").html(this.fm.i18n(d)+"!"+this.formatErrorData(c));setTimeout(function(){a.err.fadeOut("slow")},4000)};this.renderNav=function(j){var c=j.dirs.length?d(j.dirs):"",k='<li><a href="#" class="el-finder-tree-root" key="'+j.hash+'"><div'+(c?' class="collapsed expanded"':"")+"/>"+j.name+"</a>"+c+"</li>";this.tree.html(k);this.fm.options.places&&this.renderPlaces();function d(q){var o,h,r,p='<ul style="display:none">';for(o=0;o<q.length;o++){if(!q[o].name||!q[o].hash){continue}r="";if(!q[o].read&&!q[o].write){r="noaccess"}else{if(!q[o].read){r="dropbox"}else{if(!q[o].write){r="readonly"}}}p+='<li><a href="#" class="'+r+'" key="'+q[o].hash+'"><div'+(q[o].dirs.length?' class="collapsed"':"")+"/>"+q[o].name+"</a>";if(q[o].dirs.length){p+=d(q[o].dirs)}p+="</li>"}return p+"</ul>"}};this.renderPlaces=function(){var k,c,d=this.fm.getPlaces(),l=this.plc.show().find("ul").empty().hide();b("div:first",this.plc).removeClass("collapsed expanded");if(d.length){d.sort(function(n,o){var h=a.tree.find('a[key="'+n+'"]').text()||"",j=a.tree.find('a[key="'+o+'"]').text()||"";return h.localeCompare(j)});for(k=0;k<d.length;k++){if((c=this.tree.find('a[key="'+d[k]+'"]:not(.dropbox)').parent())&&c.length){l.append(c.clone().children("ul").remove().end().find("div").removeClass("collapsed expanded").end())}else{this.fm.removePlace(d[k])}}l.children().length&&b("div:first",this.plc).addClass("collapsed")}};this.renderCwd=function(){this.cwd.empty();var k=0,d=0,j="";for(var c in this.fm.cdc){k++;d+=this.fm.cdc[c].size;j+=this.fm.options.view=="icons"?this.renderIcon(this.fm.cdc[c]):this.renderRow(this.fm.cdc[c],k%2)}if(this.fm.options.view=="icons"){this.cwd.append(j)}else{this.cwd.append('<table><tr><th colspan="2">'+this.fm.i18n("Name")+"</th><th>"+this.fm.i18n("Permissions")+"</th><th>"+this.fm.i18n("Modified")+'</th><th class="size">'+this.fm.i18n("Size")+"</th><th>"+this.fm.i18n("Kind")+"</th></tr>"+j+"</table>")}this.pth.text(e.cwd.rel);this.nfo.text(e.i18n("items")+": "+k+", "+this.formatSize(d));this.sel.empty()};this.renderIcon=function(d){var c="<p"+(d.tmb?" style=\"background:url('"+d.tmb+"') 0 0 no-repeat\"":"")+"/><label>"+this.formatName(d.name)+"</label>";if(d.link||d.mime=="symlink-broken"){c+="<em/>"}if(!d.read&&!d.write){c+='<em class="noaccess"/>'}else{if(d.read&&!d.write){c+='<em class="readonly"/>'}else{if(!d.read&&d.write){c+='<em class="'+(d.mime=="directory"?"dropbox":"noread")+'" />'}}}return'<div class="'+this.mime2class(d.mime)+'" key="'+d.hash+'">'+c+"</div>"};this.renderRow=function(d,j){var c=d.link||d.mime=="symlink-broken"?"<em/>":"";if(!d.read&&!d.write){c+='<em class="noaccess"/>'}else{if(d.read&&!d.write){c+='<em class="readonly"/>'}else{if(!d.read&&d.write){c+='<em class="'+(d.mime=="directory"?"dropbox":"noread")+'" />'}}}return'<tr key="'+d.hash+'" class="'+a.mime2class(d.mime)+(j?" el-finder-row-odd":"")+'"><td class="icon"><p>'+c+"</p></td><td>"+d.name+"</td><td>"+a.formatPermissions(d.read,d.write,d.rm)+"</td><td>"+a.formatDate(d.date)+'</td><td class="size">'+a.formatSize(d.size)+"</td><td>"+a.mime2kind(d.link?"symlink":d.mime)+"</td></tr>"};this.updateFile=function(d){var c=this.cwd.find('[key="'+d.hash+'"]');c.replaceWith(c[0].nodeName=="DIV"?this.renderIcon(d):this.renderRow(d))};this.selectedInfo=function(){var j,d=0,c;if(a.fm.selected.length){c=this.fm.getSelected();for(j=0;j<c.length;j++){d+=c[j].size}}this.sel.text(j>0?this.fm.i18n("selected items")+": "+c.length+", "+this.formatSize(d):"")};this.formatName=function(c){var d=a.fm.options.wrap;if(d>0){if(c.length>d*2){return c.substr(0,d)+"&shy;"+c.substr(d,d-5)+"&hellip;"+c.substr(c.length-3)}else{if(c.length>d){return c.substr(0,d)+"&shy;"+c.substr(d)}}}return c};this.formatErrorData=function(c){var j,d="";if(typeof(c)=="object"){d="<br />";for(j in c){d+=j+" "+a.fm.i18n(c[j])+"<br />"}}return d};this.mime2class=function(c){return c.replace("/"," ").replace(/\./g,"-")};this.formatDate=function(c){return c.replace(/([a-z]+)\s/i,function(d,j){return a.fm.i18n(j)+" "})};this.formatSize=function(d){var c=1,j="bytes";if(d>1073741824){c=1073741824;j="Gb"}else{if(d>1048576){c=1048576;j="Mb"}else{if(d>1024){c=1024;j="Kb"}}}return Math.round(d/c)+" "+j};this.formatPermissions=function(j,k,c){var d=[];j&&d.push(a.fm.i18n("read"));k&&d.push(a.fm.i18n("write"));c&&d.push(a.fm.i18n("remove"));return d.join("/")};this.mime2kind=function(c){return this.fm.i18n(this.kinds[c]||"unknown")}}})(jQuery);(function(b){elFinder.prototype.ui=function(d){var a=this;this.fm=d;this.cmd={};this.buttons={};this.menu=b('<div class="el-finder-contextmenu" />').appendTo(document.body).hide();this.dockButton=b('<div class="el-finder-dock-button" title="'+a.fm.i18n("Dock/undock filemanager window")+'" />');this.exec=function(c,g){if(this.cmd[c]){if(c!="open"&&!this.cmd[c].isAllowed()){return this.fm.view.error("Command not allowed")}if(!this.fm.locked){this.fm.quickLook.hide();b(".el-finder-info").remove();this.cmd[c].exec(g);this.update()}}};this.cmdName=function(c){if(this.cmd[c]&&this.cmd[c].name){return c=="archive"&&this.fm.params.archives.length==1?this.fm.i18n("Create")+" "+this.fm.view.mime2kind(this.fm.params.archives[0]).toLowerCase():this.fm.i18n(this.cmd[c].name)}return c};this.isCmdAllowed=function(c){return a.cmd[c]&&a.cmd[c].isAllowed()};this.execIfAllowed=function(c){this.isCmdAllowed(c)&&this.exec(c)};this.includeInCm=function(c,g){return this.isCmdAllowed(c)&&this.cmd[c].cm(g)};this.showMenu=function(l){var n,m,o,c="";this.hideMenu();if(!a.fm.selected.length){n="cwd"}else{if(a.fm.selected.length==1){n="file"}else{n="group"}}e(n);m=b(window);o={height:m.height(),width:m.width(),sT:m.scrollTop(),cW:this.menu.width(),cH:this.menu.height()};this.menu.css({left:((l.clientX+o.cW)>o.width?(l.clientX-o.cW):l.clientX),top:((l.clientY+o.cH)>o.height&&l.clientY>o.cH?(l.clientY+o.sT-o.cH):l.clientY+o.sT)}).show().find("div[name]").hover(function(){var h=b(this),g=h.children("div"),j;h.addClass("hover");if(g.length){if(!g.attr("pos")){j=h.outerWidth();g.css(b(window).width()-j-h.offset().left>g.width()?"left":"right",j-5).attr("pos",true)}g.show()}},function(){b(this).removeClass("hover").children("div").hide()}).click(function(g){g.stopPropagation();var h=b(this);if(!h.children("div").length){a.hideMenu();a.exec(h.attr("name"),h.attr("argc"))}});function e(j){var s,v,g,u,k,h=a.fm.options.contextmenu[j]||[];for(s=0;s<h.length;s++){if(h[s]=="delim"){a.menu.children().length&&!a.menu.children(":last").hasClass("delim")&&a.menu.append('<div class="delim" />')}else{if(a.fm.ui.includeInCm(h[s],j)){g=a.cmd[h[s]].argc();u="";if(g.length){u='<span/><div class="el-finder-contextmenu-sub" style="z-index:'+(parseInt(a.menu.css("z-index"))+1)+'">';for(var v=0;v<g.length;v++){u+='<div name="'+h[s]+'" argc="'+g[v].argc+'" class="'+g[v]["class"]+'">'+g[v].text+"</div>"}u+="</div>"}a.menu.append('<div class="'+h[s]+'" name="'+h[s]+'">'+u+a.cmdName(h[s])+"</div>")}}}}};this.hideMenu=function(){this.menu.hide().empty()};this.update=function(){for(var c in this.buttons){this.buttons[c].toggleClass("disabled",!this.cmd[c].isAllowed())}};this.init=function(n){var p,u,s,c=false,q=2,j,r=this.fm.options.toolbar;if(!this.fm.options.editorCallback){n.push("select")}if(!this.fm.params.archives.length&&b.inArray("archive",n)==-1){n.push("archive")}for(p in this.commands){if(b.inArray(p,n)==-1){this.commands[p].prototype=this.command.prototype;this.cmd[p]=new this.commands[p](this.fm)}}for(p=0;p<r.length;p++){if(c){this.fm.view.tlb.append('<li class="delim" />')}c=false;for(u=0;u<r[p].length;u++){s=r[p][u];if(this.cmd[s]){c=true;this.buttons[s]=b('<li class="'+s+'" title="'+this.cmdName(s)+'" name="'+s+'" />').appendTo(this.fm.view.tlb).click(function(e){e.stopPropagation()}).bind("click",(function(e){return function(){!b(this).hasClass("disabled")&&e.exec(b(this).attr("name"))}})(this)).hover(function(){!b(this).hasClass("disabled")&&b(this).addClass("el-finder-tb-hover")},function(){b(this).removeClass("el-finder-tb-hover")})}}}this.update();this.menu.css("z-index",this.fm.zIndex);if(this.fm.options.docked){this.dockButton.hover(function(){b(this).addClass("el-finder-dock-button-hover")},function(){b(this).removeClass("el-finder-dock-button-hover")}).click(function(){a.fm.view.win.attr("undocked")?a.fm.dock():a.fm.undock();b(this).trigger("mouseout")}).prependTo(this.fm.view.tlb)}}};elFinder.prototype.ui.prototype.command=function(a){};elFinder.prototype.ui.prototype.command.prototype.isAllowed=function(){return true};elFinder.prototype.ui.prototype.command.prototype.cm=function(a){return false};elFinder.prototype.ui.prototype.command.prototype.argc=function(a){return[]};elFinder.prototype.ui.prototype.commands={back:function(d){var a=this;this.name="Back";this.fm=d;this.exec=function(){if(this.fm.history.length){this.fm.ajax({cmd:"open",target:this.fm.history.pop()},function(c){a.fm.reload(c)})}};this.isAllowed=function(){return this.fm.history.length}},reload:function(d){var a=this;this.name="Reload";this.fm=d;this.exec=function(){this.fm.ajax({cmd:"open",target:this.fm.cwd.hash,tree:true},function(c){a.fm.reload(c)})};this.cm=function(c){return c=="cwd"}},open:function(d){var a=this;this.name="Open";this.fm=d;this.exec=function(k){var j=null;if(k){j={hash:b(k).attr("key"),mime:"directory",read:!b(k).hasClass("noaccess")&&!b(k).hasClass("dropbox")}}else{j=this.fm.getSelected(0)}if(!j.hash){return}if(!j.read){return this.fm.view.error("Access denied")}if(j.type=="link"&&!j.link){return this.fm.view.error("Unable to open broken link")}if(j.mime=="directory"){c(j.link||j.hash)}else{l(j)}function c(e){a.fm.history.push(a.fm.cwd.hash);a.fm.ajax({cmd:"open",target:e},function(g){a.fm.reload(g)})}function l(e){var g,h="";if(e.dim){g=e.dim.split("x");h="width="+(parseInt(g[0])+20)+",height="+(parseInt(g[1])+20)+","}window.open(e.url||a.fm.options.url+"?cmd=open&current="+(e.parent||a.fm.cwd.hash)+"&target="+(e.link||e.hash),false,"top=50,left=50,"+h+"scrollbars=yes,resizable=yes")}};this.isAllowed=function(){return this.fm.selected.length==1&&this.fm.getSelected(0).read};this.cm=function(c){return c=="file"}},select:function(a){this.name="Select file";this.fm=a;if(a.options.selectMultiple){this.exec=function(){var d=b(a.getSelected()).map(function(){return a.options.cutURL=="root"?this.url.substr(a.params.url.length):this.url.replace(new RegExp("^("+a.options.cutURL+")"),"")});a.options.editorCallback(d);if(a.options.closeOnEditorCallback){a.dock();a.close()}}}else{this.exec=function(){var d=this.fm.getSelected(0);if(!d.url){return this.fm.view.error("File URL disabled by connector config")}this.fm.options.editorCallback(this.fm.options.cutURL=="root"?d.url.substr(this.fm.params.url.length):d.url.replace(new RegExp("^("+this.fm.options.cutURL+")"),""));if(this.fm.options.closeOnEditorCallback){this.fm.dock();this.fm.close();this.fm.destroy()}}}this.isAllowed=function(){return((this.fm.options.selectMultiple&&this.fm.selected.length>=1)||this.fm.selected.length==1)&&!/(symlink\-broken|directory)/.test(this.fm.getSelected(0).mime)};this.cm=function(d){return d!="cwd"}},quicklook:function(d){var a=this;this.name="Preview with Quick Look";this.fm=d;this.exec=function(){a.fm.quickLook.toggle()};this.isAllowed=function(){return this.fm.selected.length==1};this.cm=function(){return true}},info:function(d){var a=this;this.name="Get info";this.fm=d;this.exec=function(){var h,l,n=this.fm.selected.length,o=b(window).width(),m=b(window).height();this.fm.lockShortcuts(true);if(!n){c(a.fm.cwd)}else{b.each(this.fm.getSelected(),function(){c(this)})}function c(e){var r=["50%","50%"],j,k,p,g='<table cellspacing="0"><tr><td>'+a.fm.i18n("Name")+"</td><td>"+e.name+"</td></tr><tr><td>"+a.fm.i18n("Kind")+"</td><td>"+a.fm.view.mime2kind(e.link?"symlink":e.mime)+"</td></tr><tr><td>"+a.fm.i18n("Size")+"</td><td>"+a.fm.view.formatSize(e.size)+"</td></tr><tr><td>"+a.fm.i18n("Modified")+"</td><td>"+a.fm.view.formatDate(e.date)+"</td></tr><tr><td>"+a.fm.i18n("Permissions")+"</td><td>"+a.fm.view.formatPermissions(e.read,e.write,e.rm)+"</td></tr>";if(e.link){g+="<tr><td>"+a.fm.i18n("Link to")+"</td><td>"+e.linkTo+"</td></tr>"}if(e.dim){g+="<tr><td>"+a.fm.i18n("Dimensions")+"</td><td>"+e.dim+" px.</td></tr>"}if(e.url){g+="<tr><td>"+a.fm.i18n("URL")+'</td><td><a href="'+e.url+'" target="_blank">'+e.url+"</a></td></tr>"}if(n>1){p=b(".el-finder-dialog-info:last");if(!p.length){j=Math.round(((o-350)/2)-(n*10));k=Math.round(((m-300)/2)-(n*10));r=[j>20?j:20,k>20?k:20]}else{j=p.offset().left+10;k=p.offset().top+10;r=[j<o-350?j:20,k<m-300?k:20]}}b("<div />").append(g+"</table>").dialog({dialogClass:"el-finder-dialog el-finder-dialog-info",width:390,position:r,title:a.fm.i18n(e.mime=="directory"?"Folder info":"File info"),close:function(){if(--n<=0){a.fm.lockShortcuts()}b(this).dialog("destroy")},buttons:{Ok:function(){b(this).dialog("close")}}})}};this.cm=function(c){return true}},rename:function(d){var a=this;this.name="Rename";this.fm=d;this.exec=function(){var o=this.fm.getSelected(),p,c,r,n,m;if(o.length==1){n=o[0];p=this.fm.view.cwd.find('[key="'+n.hash+'"]');c=this.fm.options.view=="icons"?p.children("label"):p.find("td").eq(1);m=c.html();r=b('<input type="text" />').val(n.name).appendTo(c.empty()).bind("change blur",s).keydown(function(e){e.stopPropagation();if(e.keyCode==27){q()}else{if(e.keyCode==13){if(n.name==r.val()){q()}else{b(this).trigger("change")}}}}).click(function(e){e.stopPropagation()}).select().focus();this.fm.lockShortcuts(true)}function q(){c.html(m);a.fm.lockShortcuts()}function s(){if(!a.fm.locked){var g,e=r.val();if(n.name==r.val()){return q()}if(!a.fm.isValidName(e)){g="Invalid name"}else{if(a.fm.fileExists(e)){g="File or folder with the same name already exists"}}if(g){a.fm.view.error(g);p.addClass("ui-selected");a.fm.lockShortcuts(true);return r.select().focus()}a.fm.ajax({cmd:"rename",current:a.fm.cwd.hash,target:n.hash,name:e},function(h){if(h.error){q()}else{n.mime=="directory"&&a.fm.removePlace(n.hash)&&a.fm.addPlace(h.target);a.fm.reload(h)}},{force:true})}}};this.isAllowed=function(){return this.fm.cwd.write&&this.fm.getSelected(0).write};this.cm=function(c){return c=="file"}},copy:function(a){this.name="Copy";this.fm=a;this.exec=function(){this.fm.setBuffer(this.fm.selected)};this.isAllowed=function(){if(this.fm.selected.length){var e=this.fm.getSelected(),g=e.length;while(g--){if(e[g].read){return true}}}return false};this.cm=function(d){return d!="cwd"}},cut:function(a){this.name="Cut";this.fm=a;this.exec=function(){this.fm.setBuffer(this.fm.selected,1)};this.isAllowed=function(){if(this.fm.selected.length){var e=this.fm.getSelected(),g=e.length;while(g--){if(e[g].read&&e[g].rm){return true}}}return false};this.cm=function(d){return d!="cwd"}},paste:function(d){var a=this;this.name="Paste";this.fm=d;this.exec=function(){var q,c,o,p,m="";if(!this.fm.buffer.dst){this.fm.buffer.dst=this.fm.cwd.hash}c=this.fm.view.tree.find('[key="'+this.fm.buffer.dst+'"]');if(!c.length||c.hasClass("noaccess")||c.hasClass("readonly")){return this.fm.view.error("Access denied")}if(this.fm.buffer.src==this.fm.buffer.dst){return this.fm.view.error("Unable to copy into itself")}var n={cmd:"paste",current:this.fm.cwd.hash,src:this.fm.buffer.src,dst:this.fm.buffer.dst,cut:this.fm.buffer.cut};if(this.fm.jquery>132){n.targets=this.fm.buffer.files}else{n["targets[]"]=this.fm.buffer.files}this.fm.ajax(n,function(e){e.cdc&&a.fm.reload(e)},{force:true})};this.isAllowed=function(){return this.fm.buffer.files};this.cm=function(c){return c=="cwd"}},rm:function(d){var a=this;this.name="Remove";this.fm=d;this.exec=function(){var j,c=[],h=this.fm.getSelected();for(var j=0;j<h.length;j++){if(!h[j].rm){return this.fm.view.error(h[j].name+": "+this.fm.i18n("Access denied"))}c.push(h[j].hash)}if(c.length){this.fm.lockShortcuts(true);b('<div><div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><strong>'+this.fm.i18n("Are you sure you want to remove files?<br /> This cannot be undone!")+"</strong></div></div>").dialog({title:this.fm.i18n("Confirmation required"),dialogClass:"el-finder-dialog",width:350,close:function(){a.fm.lockShortcuts()},buttons:{Cancel:function(){b(this).dialog("close")},Ok:function(){b(this).dialog("close");var e={cmd:"rm",current:a.fm.cwd.hash};if(a.fm.jquery>132){e.targets=c}else{e["targets[]"]=c}a.fm.ajax(e,function(g){g.tree&&a.fm.reload(g)},{force:true})}}})}};this.isAllowed=function(c){if(this.fm.selected.length){var h=this.fm.getSelected(),j=h.length;while(j--){if(h[j].rm){return true}}}return false};this.cm=function(c){return c!="cwd"}},mkdir:function(d){var a=this;this.name="New folder";this.fm=d;this.exec=function(){a.fm.unselectAll();var c=this.fm.uniqueName("untitled folder");input=b('<input type="text"/>').val(c);prev=this.fm.view.cwd.find(".directory:last");f={name:c,hash:"",mime:"directory",read:true,write:true,date:"",size:0},el=this.fm.options.view=="list"?b(this.fm.view.renderRow(f)).children("td").eq(1).empty().append(input).end().end():b(this.fm.view.renderIcon(f)).children("label").empty().append(input).end();el.addClass("directory ui-selected");if(prev.length){el.insertAfter(prev)}else{if(this.fm.options.view=="list"){el.insertAfter(this.fm.view.cwd.find("tr").eq(0))}else{el.prependTo(this.fm.view.cwd)}}a.fm.checkSelectedPos();input.select().focus().click(function(e){e.stopPropagation()}).bind("change blur",g).keydown(function(e){e.stopPropagation();if(e.keyCode==27){el.remove();a.fm.lockShortcuts()}else{if(e.keyCode==13){g()}}});a.fm.lockShortcuts(true);function g(){if(!a.fm.locked){var e,j=input.val();if(!a.fm.isValidName(j)){e="Invalid name"}else{if(a.fm.fileExists(j)){e="File or folder with the same name already exists"}}if(e){a.fm.view.error(e);a.fm.lockShortcuts(true);el.addClass("ui-selected");return input.select().focus()}a.fm.ajax({cmd:"mkdir",current:a.fm.cwd.hash,name:j},function(h){if(h.error){el.addClass("ui-selected");return input.select().focus()}a.fm.reload(h)},{force:true})}}};this.isAllowed=function(){return this.fm.cwd.write};this.cm=function(c){return c=="cwd"}},mkfile:function(d){var a=this;this.name="New text file";this.fm=d;this.exec=function(){a.fm.unselectAll();var c=this.fm.uniqueName("untitled file",".txt"),l=b('<input type="text"/>').val(c),j={name:c,hash:"",mime:"text/plain",read:true,write:true,date:"",size:0},k=this.fm.options.view=="list"?b(this.fm.view.renderRow(j)).children("td").eq(1).empty().append(l).end().end():b(this.fm.view.renderIcon(j)).children("label").empty().append(l).end();k.addClass("text ui-selected").appendTo(this.fm.options.view=="list"?a.fm.view.cwd.children("table"):a.fm.view.cwd);l.select().focus().bind("change blur",m).click(function(e){e.stopPropagation()}).keydown(function(e){e.stopPropagation();if(e.keyCode==27){k.remove();a.fm.lockShortcuts()}else{if(e.keyCode==13){m()}}});a.fm.lockShortcuts(true);function m(){if(!a.fm.locked){var e,g=l.val();if(!a.fm.isValidName(g)){e="Invalid name"}else{if(a.fm.fileExists(g)){e="File or folder with the same name already exists"}}if(e){a.fm.view.error(e);a.fm.lockShortcuts(true);k.addClass("ui-selected");return l.select().focus()}a.fm.ajax({cmd:"mkfile",current:a.fm.cwd.hash,name:g},function(h){if(h.error){k.addClass("ui-selected");return l.select().focus()}a.fm.reload(h)},{force:true})}}};this.isAllowed=function(c){return this.fm.cwd.write};this.cm=function(c){return c=="cwd"}},upload:function(d){var a=this;this.name="Upload files";this.fm=d;this.exec=function(){var C="el-finder-io-"+(new Date().getTime()),w=b('<div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><div/></div>'),B=this.fm.params.uplMaxSize?"<p>"+this.fm.i18n("Maximum allowed files size")+": "+this.fm.params.uplMaxSize+"</p>":"",D=b('<p class="el-finder-add-field"><span class="ui-state-default ui-corner-all"><em class="ui-icon ui-icon-circle-plus"/></span>'+this.fm.i18n("Add field")+"</p>").click(function(){b(this).before('<p><input type="file" name="upload[]"/></p>')}),z='<form method="post" enctype="multipart/form-data" action="'+a.fm.options.url+'" target="'+C+'"><input type="hidden" name="cmd" value="upload" /><input type="hidden" name="current" value="'+a.fm.cwd.hash+'" />',u=b("<div/>"),A=3;while(A--){z+='<p><input type="file" name="upload[]"/></p>'}var c=b("meta[name=csrf-token]").attr("content");var e=b("meta[name=csrf-param]").attr("content");if(e!=null&&c!=null){z+='<input name="'+e+'" value="'+c+'" type="hidden" />'}z=b(z+"</form>");u.append(z.append(w.hide()).prepend(B).append(D)).dialog({dialogClass:"el-finder-dialog",title:a.fm.i18n("Upload files"),modal:true,resizable:false,close:function(){a.fm.lockShortcuts()},buttons:{Cancel:function(){b(this).dialog("close")},Ok:function(){if(!b(":file[value]",z).length){return m(a.fm.i18n("Select at least one file to upload"))}setTimeout(function(){a.fm.lock();if(b.browser.safari){b.ajax({url:a.fm.options.url,data:{cmd:"ping"},error:v,success:v})}else{v()}});b(this).dialog("close")}}});a.fm.lockShortcuts(true);function m(g){w.show().find("div").empty().text(g)}function v(){var j=b('<iframe name="'+C+'" name="'+C+'" src="about:blank"/>'),h=j[0],n=50,k,o,l;j.css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body").bind("load",function(){j.unbind("load");p()});a.fm.lock(true);z.submit();function p(){try{k=h.contentWindow?h.contentWindow.document:h.contentDocument?h.contentDocument:h.document;if(k.body==null||k.body.innerHTML==""){if(--n){return setTimeout(p,100)}else{g();return a.fm.view.error("Unable to access iframe DOM after 50 tries")}}o=b(k.body).html();if(a.fm.jquery>=141){l=b.parseJSON(o)}else{if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){l=window.JSON&&window.JSON.parse?window.JSON.parse(o):(new Function("return "+o))()}else{l={error:"Unable to parse server response"}}}}catch(q){l={error:"Unable to parse server response"}}g();l.error&&a.fm.view.error(l.error,l.errorData);l.cwd&&a.fm.reload(l);l.tmb&&a.fm.tmb()}function g(){a.fm.lock();j.remove()}}};this.isAllowed=function(){return this.fm.cwd.write};this.cm=function(c){return c=="cwd"}},duplicate:function(d){var a=this;this.name="Duplicate";this.fm=d;this.exec=function(){this.fm.ajax({cmd:"duplicate",current:this.fm.cwd.hash,target:this.fm.selected[0]},function(c){a.fm.reload(c)})};this.isAllowed=function(){return this.fm.cwd.write&&this.fm.selected.length==1&&this.fm.getSelected()[0].read};this.cm=function(c){return c=="file"}},edit:function(d){var a=this;this.name="Edit text file";this.fm=d;this.exec=function(){var c=this.fm.getSelected(0);this.fm.lockShortcuts(true);this.fm.ajax({cmd:"read",current:this.fm.cwd.hash,target:c.hash},function(h){a.fm.lockShortcuts(true);var j=b("<textarea/>").val(h.content||"").keydown(function(g){g.stopPropagation();if(g.keyCode==9){g.preventDefault();if(b.browser.msie){var m=document.selection.createRange();m.text="\t"+m.text;this.focus()}else{var l=this.value.substr(0,this.selectionStart),e=this.value.substr(this.selectionEnd);this.value=l+"\t"+e;this.setSelectionRange(l.length+1,l.length+1)}}});b("<div/>").append(j).dialog({dialogClass:"el-finder-dialog",title:a.fm.i18n(a.name),modal:true,width:500,close:function(){a.fm.lockShortcuts()},buttons:{Cancel:function(){b(this).dialog("close")},Ok:function(){var e=j.val();b(this).dialog("close");a.fm.ajax({cmd:"edit",current:a.fm.cwd.hash,target:c.hash,content:e},function(g){if(g.target){a.fm.cdc[g.target.hash]=g.target;a.fm.view.updateFile(g.target);a.fm.selectById(g.target.hash)}},{type:"POST"})}}})})};this.isAllowed=function(){if(a.fm.selected.length==1){var c=this.fm.getSelected()[0];return c.write&&c.read&&(c.mime.indexOf("text")==0||c.mime=="application/x-empty"||c.mime=="application/xml")}};this.cm=function(c){return c=="file"}},archive:function(d){var a=this;this.name="Create archive";this.fm=d;this.exec=function(g){var c={cmd:"archive",current:a.fm.cwd.hash,type:b.inArray(g,this.fm.params.archives)!=-1?g:this.fm.params.archives[0],name:a.fm.i18n("Archive")};if(this.fm.jquery>132){c.targets=a.fm.selected}else{c["targets[]"]=a.fm.selected}this.fm.ajax(c,function(e){a.fm.reload(e)})};this.isAllowed=function(){if(this.fm.cwd.write&&this.fm.selected.length){var c=this.fm.getSelected(),g=c.length;while(g--){if(c[g].read){return true}}}return false};this.cm=function(c){return c!="cwd"};this.argc=function(){var c,g=[];for(c=0;c<a.fm.params.archives.length;c++){g.push({"class":"archive",argc:a.fm.params.archives[c],text:a.fm.view.mime2kind(a.fm.params.archives[c])})}return g}},extract:function(d){var a=this;this.name="Uncompress archive";this.fm=d;this.exec=function(){this.fm.ajax({cmd:"extract",current:this.fm.cwd.hash,target:this.fm.getSelected(0).hash},function(c){a.fm.reload(c)})};this.isAllowed=function(){var c=this.fm.params.extract,g=c&&c.length;return this.fm.cwd.write&&this.fm.selected.length==1&&this.fm.getSelected(0).read&&g&&b.inArray(this.fm.getSelected(0).mime,c)!=-1};this.cm=function(c){return c=="file"}},resize:function(d){var a=this;this.name="Resize image";this.fm=d;this.exec=function(){var h=this.fm.getSelected();if(h[0]&&h[0].write&&h[0].dim){var o=h[0].dim.split("x"),q=parseInt(o[0]),n=parseInt(o[1]),r=q/n;iw=b('<input type="text" size="9" value="'+q+'" name="width"/>'),ih=b('<input type="text" size="9" value="'+n+'" name="height"/>'),f=b("<form/>").append(iw).append(" x ").append(ih).append(" px");iw.add(ih).bind("change",p);a.fm.lockShortcuts(true);var c=b("<div/>").append(b("<div/>").text(a.fm.i18n("Dimensions")+":")).append(f).dialog({title:a.fm.i18n("Resize image"),dialogClass:"el-finder-dialog",width:230,modal:true,close:function(){a.fm.lockShortcuts()},buttons:{Cancel:function(){b(this).dialog("close")},Ok:function(){var g=parseInt(iw.val())||0,e=parseInt(ih.val())||0;if(g>0&&g!=q&&e>0&&e!=n){a.fm.ajax({cmd:"resize",current:a.fm.cwd.hash,target:h[0].hash,width:g,height:e},function(j){a.fm.reload(j)})}b(this).dialog("close")}}})}function p(){var g=parseInt(iw.val())||0,e=parseInt(ih.val())||0;if(g<=0||e<=0){g=q;e=n}else{if(this==iw.get(0)){e=parseInt(g/r)}else{g=parseInt(e*r)}}iw.val(g);ih.val(e)}};this.isAllowed=function(){return this.fm.selected.length==1&&this.fm.cdc[this.fm.selected[0]].write&&this.fm.cdc[this.fm.selected[0]].read&&this.fm.cdc[this.fm.selected[0]].resize};this.cm=function(c){return c=="file"}},icons:function(a){this.name="View as icons";this.fm=a;this.exec=function(){this.fm.view.win.addClass("el-finder-disabled");this.fm.setView("icons");this.fm.updateCwd();this.fm.view.win.removeClass("el-finder-disabled");b("div.image",this.fm.view.cwd).length&&this.fm.tmb()};this.isAllowed=function(){return this.fm.options.view!="icons"};this.cm=function(d){return d=="cwd"}},list:function(a){this.name="View as list";this.fm=a;this.exec=function(){this.fm.view.win.addClass("el-finder-disabled");this.fm.setView("list");this.fm.updateCwd();this.fm.view.win.removeClass("el-finder-disabled")};this.isAllowed=function(){return this.fm.options.view!="list"};this.cm=function(d){return d=="cwd"}},help:function(a){this.name="Help";this.fm=a;this.exec=function(){var h,n=this.fm.i18n("helpText"),o,l,m;h='<div class="el-finder-logo"/><strong>'+this.fm.i18n("elFinder: Web file manager")+"</strong><br/>"+this.fm.i18n("Version")+": "+this.fm.version+"<br/>jQuery/jQueryUI: "+b().jquery+"/"+b.ui.version+'<br clear="all"/><p><strong><a href="http://elrte.org/'+this.fm.options.lang+'/elfinder" target="_blank">'+this.fm.i18n("Donate to support project development")+'</a></strong></p><p><a href="http://elrte.org/redmine/projects/elfinder/wiki" target="_blank">'+this.fm.i18n("elFinder documentation")+"</a></p>";h+="<p>"+(n!="helpText"?n:"elFinder works similar to file manager on your computer. <br /> To make actions on files/folders use icons on top panel. If icon action it is not clear for you, hold mouse cursor over it to see the hint. <br /> Manipulations with existing files/folders can be done through the context menu (mouse right-click).<br/> To copy/delete a group of files/folders, select them using Shift/Alt(Command) + mouse left-click.")+"</p>";h+="<p><strong>"+this.fm.i18n("elFinder support following shortcuts")+":</strong><ul><li><kbd>Ctrl+A</kbd> - "+this.fm.i18n("Select all files")+"</li><li><kbd>Ctrl+C/Ctrl+X/Ctrl+V</kbd> - "+this.fm.i18n("Copy/Cut/Paste files")+"</li><li><kbd>Enter</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Space</kbd> - "+this.fm.i18n("Open/close QuickLook window")+"</li><li><kbd>Delete/Cmd+Backspace</kbd> - "+this.fm.i18n("Remove selected files")+"</li><li><kbd>Ctrl+I</kbd> - "+this.fm.i18n("Selected files or current directory info")+"</li><li><kbd>Ctrl+N</kbd> - "+this.fm.i18n("Create new directory")+"</li><li><kbd>Ctrl+U</kbd> - "+this.fm.i18n("Open upload files form")+"</li><li><kbd>Left arrow</kbd> - "+this.fm.i18n("Select previous file")+"</li><li><kbd>Right arrow </kbd> - "+this.fm.i18n("Select next file")+"</li><li><kbd>Ctrl+Right arrow</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Ctrl+Left arrow</kbd> - "+this.fm.i18n("Return into previous folder")+"</li><li><kbd>Shift+arrows</kbd> - "+this.fm.i18n("Increase/decrease files selection")+"</li></ul></p><p>"+this.fm.i18n("Contacts us if you need help integrating elFinder in you products")+": dev@std42.ru</p>";o='<div class="el-finder-help-std"/><p>'+this.fm.i18n("Javascripts/PHP programming: Dmitry (dio) Levashov, dio@std42.ru")+"</p><p>"+this.fm.i18n("Python programming, techsupport: Troex Nevelin, troex@fury.scancode.ru")+"</p><p>"+this.fm.i18n("Design: Valentin Razumnih")+"</p><p>"+this.fm.i18n("Chezh localization")+": Roman Matna, info@romanmatena.cz</p><p>"+this.fm.i18n("Chinese (traditional) localization")+": Tad, tad0616@gmail.com</p><p>"+this.fm.i18n("Dutch localization")+': Kurt Aerts, <a href="http://ilabsolutions.net/" target="_blank">http://ilabsolutions.net</a></p><p>'+this.fm.i18n("Greek localization")+": Panagiotis Skarvelis</p><p>"+this.fm.i18n("Hungarian localization")+": Viktor Tamas, tamas.viktor@totalstudio.hu</p><p>"+this.fm.i18n("Italian localization")+":  Ugo Punzolo, sadraczerouno@gmail.com</p><p>"+this.fm.i18n("Latvian localization")+":  Uldis Ploti, uldis.plotins@gmail.com</p><p>"+this.fm.i18n("Poland localization")+":  Darek Wapiski, darek@wapinski.us</p><p>"+this.fm.i18n("Spanish localization")+': Alex (xand) Vavilin, xand@xand.es, <a href="http://xand.es" target="_blank">http://xand.es</a></p><p>'+this.fm.i18n("Icons")+': <a href="http://pixelmixer.ru/" target="_blank">pixelmixer</a>,  <a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank">Famfam silk icons</a>, <a href="http://www.fatcow.com/free-icons/" target="_blank">Fatcow icons</a></p><p>'+this.fm.i18n('Copyright: <a href="http://www.std42.ru" target="_blank">Studio 42 LTD</a>')+"</p><p>"+this.fm.i18n("License: BSD License")+"</p><p>"+this.fm.i18n('Web site: <a href="http://elrte.org/elfinder/" target="_blank">elrte.org/elfinder</a>')+"</p>";l='<div class="el-finder-logo"/><strong><a href="http://www.eldorado-cms.ru" target="_blank">ELDORADO.CMS</a></strong><br/>'+this.fm.i18n("Simple and usefull Content Management System")+"<hr/>"+this.fm.i18n("Support project development and we will place here info about you");m='<ul><li><a href="#el-finder-help-h">'+this.fm.i18n("Help")+'</a></li><li><a href="#el-finder-help-a">'+this.fm.i18n("Authors")+'</a><li><a href="#el-finder-help-sp">'+this.fm.i18n("Sponsors")+'</a></li></ul><div id="el-finder-help-h"><p>'+h+'</p></div><div id="el-finder-help-a"><p>'+o+'</p></div><div id="el-finder-help-sp"><p>'+l+"</p></div>";var d=b("<div/>").html(m).dialog({width:617,title:this.fm.i18n("Help"),dialogClass:"el-finder-dialog",modal:true,close:function(){d.tabs("destroy").dialog("destroy").remove()},buttons:{Ok:function(){b(this).dialog("close")}}}).tabs()};this.cm=function(d){return d=="cwd"}}}})(jQuery);(function(b){elFinder.prototype.quickLook=function(m,w){var a=this;this.fm=m;this._hash="";this.title=b("<strong/>");this.ico=b("<p/>");this.info=b("<label/>");this.media=b('<div class="el-finder-ql-media"/>').hide();this.name=b('<span class="el-finder-ql-name"/>');this.kind=b('<span class="el-finder-ql-kind"/>');this.size=b('<span class="el-finder-ql-size"/>');this.date=b('<span class="el-finder-ql-date"/>');this.url=b('<a href="#"/>').hide().click(function(c){c.preventDefault();window.open(b(this).attr("href"));a.hide()});this.add=b("<div/>");this.content=b('<div class="el-finder-ql-content"/>');this.win=b('<div class="el-finder-ql"/>').hide().append(b('<div class="el-finder-ql-drag-handle"/>').append(b('<span class="ui-icon ui-icon-circle-close"/>').click(function(){a.hide()})).append(this.title)).append(this.ico).append(this.media).append(this.content.append(this.name).append(this.kind).append(this.size).append(this.date).append(this.url).append(this.add)).appendTo("body").draggable({handle:".el-finder-ql-drag-handle"}).resizable({minWidth:420,minHeight:150,resize:function(){if(a.media.children().length){var c=a.media.children(":first");switch(c[0].nodeName){case"IMG":var j=c.width(),k=c.height(),d=a.win.width(),g=a.win.css("height")=="auto"?350:a.win.height()-a.content.height()-a.th,h=j>d||k>g?Math.min(Math.min(d,j)/j,Math.min(g,k)/k):Math.min(Math.max(d,j)/j,Math.max(g,k)/k);c.css({width:Math.round(c.width()*h),height:Math.round(c.height()*h)});break;case"IFRAME":case"EMBED":c.css("height",a.win.height()-a.content.height()-a.th);break;case"OBJECT":c.children("embed").css("height",a.win.height()-a.content.height()-a.th)}}}});this.th=parseInt(this.win.children(":first").css("height"))||18;this.mimes={"image/jpeg":"jpg","image/gif":"gif","image/png":"png"};for(var r=0;r<navigator.mimeTypes.length;r++){var e=navigator.mimeTypes[r].type;if(e&&e!="*"){this.mimes[e]=navigator.mimeTypes[r].suffixes}}if((b.browser.safari&&navigator.platform.indexOf("Mac")!=-1)||b.browser.msie){this.mimes["application/pdf"]="pdf"}else{for(var v=0;v<navigator.plugins.length;v++){for(var u=0;u<navigator.plugins[v].length;u++){var n=navigator.plugins[v][u].description.toLowerCase();if(n.substring(0,n.indexOf(" "))=="pdf"){this.mimes["application/pdf"]="pdf";break}}}}if(this.mimes["image/x-bmp"]){this.mimes["image/x-ms-bmp"]="bmp"}if(b.browser.msie&&!this.mimes["application/x-shockwave-flash"]){this.mimes["application/x-shockwave-flash"]="swf"}this.show=function(){if(this.win.is(":hidden")&&a.fm.selected.length==1){s();var c=a.fm.selected[0],g=a.fm.view.cwd.find('[key="'+c+'"]'),d=g.offset();a.fm.lockShortcuts(true);this.win.css({width:g.width()-20,height:g.height(),left:d.left,top:d.top,opacity:0}).show().animate({width:420,height:150,opacity:1,top:Math.round(b(window).height()/5),left:b(window).width()/2-210},450,function(){a.win.css({height:"auto"});a.fm.lockShortcuts()})}};this.hide=function(){if(this.win.is(":visible")){var c,d=a.fm.view.cwd.find('[key="'+this._hash+'"]');if(d){c=d.offset();this.media.hide(200);this.win.animate({width:d.width()-20,height:d.height(),left:c.left,top:c.top,opacity:0},350,function(){a.fm.lockShortcuts();q();a.win.hide().css("height","auto")})}else{this.win.fadeOut(200);q();a.fm.lockShortcuts()}}};this.toggle=function(){if(this.win.is(":visible")){this.hide()}else{this.show()}};this.update=function(){if(this.fm.selected.length!=1){this.hide()}else{if(this.win.is(":visible")&&this.fm.selected[0]!=this._hash){s()}}};this.mediaHeight=function(){return this.win.is(":animated")||this.win.css("height")=="auto"?315:this.win.height()-this.content.height()-this.th};function q(){a.media.hide().empty();a.win.attr("class","el-finder-ql").css("z-index",a.fm.zIndex);a.title.empty();a.ico.attr("style","").show();a.add.hide().empty();a._hash=""}function s(){var c=a.fm.getSelected(0);q();a._hash=c.hash;a.title.text(c.name);a.win.addClass(a.fm.view.mime2class(c.mime));a.name.text(c.name);a.kind.text(a.fm.view.mime2kind(c.link?"symlink":c.mime));a.size.text(a.fm.view.formatSize(c.size));a.date.text(a.fm.i18n("Modified")+": "+a.fm.view.formatDate(c.date));c.dim&&a.add.append("<span>"+c.dim+" px</span>").show();c.tmb&&a.ico.css("background",'url("'+c.tmb+'") 0 0 no-repeat');if(c.url){a.url.text(c.url).attr("href",c.url).show();for(var d in a.plugins){if(a.plugins[d].test&&a.plugins[d].test(c.mime,a.mimes,c.name)){a.plugins[d].show(a,c);return}}}else{a.url.hide()}a.win.css({width:"420px",height:"auto"})}};elFinder.prototype.quickLook.prototype.plugins={image:new function(){this.test=function(d,a){return d.match(/^image\//)};this.show=function(j,k){var a,l;if(j.mimes[k.mime]&&k.hash==j._hash){b("<img/>").hide().appendTo(j.media.show()).attr("src",k.url+(b.browser.msie||b.browser.opera?"?"+Math.random():"")).load(function(){l=b(this).unbind("load");if(k.hash==j._hash){j.win.is(":animated")?setTimeout(function(){h(l)},330):h(l)}})}function h(e){var g=e.width(),c=e.height(),p=j.win.is(":animated"),d=p?420:j.win.width(),q=p||j.win.css("height")=="auto"?315:j.win.height()-j.content.height()-j.th,r=g>d||c>q?Math.min(Math.min(d,g)/g,Math.min(q,c)/c):Math.min(Math.max(d,g)/g,Math.max(q,c)/c);j.fm.lockShortcuts(true);j.ico.hide();e.css({width:j.ico.width(),height:j.ico.height()}).show().animate({width:Math.round(r*g),height:Math.round(r*c)},450,function(){j.fm.lockShortcuts()})}}},text:new function(){this.test=function(d,a){return(d.indexOf("text")==0&&d.indexOf("rtf")==-1)||d.match(/application\/(xml|javascript|json)/)};this.show=function(d,a){if(a.hash==d._hash){d.ico.hide();d.media.append('<iframe src="'+a.url+'" style="height:'+d.mediaHeight()+'px" />').show()}}},swf:new function(){this.test=function(d,a){return d=="application/x-shockwave-flash"&&a[d]};this.show=function(g,a){if(a.hash==g._hash){g.ico.hide();var e=g.media.append('<embed pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high" src="'+a.url+'" style="width:100%;height:'+g.mediaHeight()+'px" type="application/x-shockwave-flash" />');if(g.win.is(":animated")){e.slideDown(450)}else{e.show()}}}},audio:new function(){this.test=function(d,a){return d.indexOf("audio")==0&&a[d]};this.show=function(e,g){if(g.hash==e._hash){e.ico.hide();var a=e.win.is(":animated")||e.win.css("height")=="auto"?100:e.win.height()-e.content.height()-e.th;e.media.append('<embed src="'+g.url+'" style="width:100%;height:'+a+'px" />').show()}}},video:new function(){this.test=function(d,a){return d.indexOf("video")==0&&a[d]};this.show=function(d,a){if(a.hash==d._hash){d.ico.hide();d.media.append('<embed src="'+a.url+'" style="width:100%;height:'+d.mediaHeight()+'px" />').show()}}},pdf:new function(){this.test=function(d,a){return d=="application/pdf"&&a[d]};this.show=function(d,a){if(a.hash==d._hash){d.ico.hide();d.media.append('<embed src="'+a.url+'" style="width:100%;height:'+d.mediaHeight()+'px" />').show()}}}}})(jQuery);(function(b){elFinder.prototype.eventsManager=function(h,j){var a=this;this.lock=false;this.fm=h;this.ui=h.ui;this.tree=h.view.tree;this.cwd=h.view.cwd;this.pointer="";this.init=function(){var d=this,c=false;d.lock=false;this.cwd.bind("click",function(e){var k=b(e.target);if(k.hasClass("ui-selected")){d.fm.unselectAll()}else{if(!k.attr("key")){k=k.parent("[key]")}if(e.ctrlKey||e.metaKey){d.fm.toggleSelect(k)}else{d.fm.select(k,true)}}}).bind(window.opera?"click":"contextmenu",function(e){if(window.opera&&!e.ctrlKey){return}e.preventDefault();e.stopPropagation();var k=b(e.target);if(b.browser.mozilla){c=true}if(k.hasClass("el-finder-cwd")){d.fm.unselectAll()}else{d.fm.select(k.attr("key")?k:k.parent("[key]"))}d.fm.quickLook.hide();d.fm.ui.showMenu(e)}).selectable({filter:"[key]",delay:300,stop:function(){d.fm.updateSelect();d.fm.log("mouseup")}});b(document).bind("click",function(e){!c&&d.fm.ui.hideMenu();c=false;b("input",d.cwd).trigger("change");if(!b(e.target).is("input,textarea,select")){b("input,textarea").blur()}});b("input,textarea").live("focus",function(e){d.lock=true}).live("blur",function(e){d.lock=false});this.tree.bind("select",function(e){d.tree.find("a").removeClass("selected");b(e.target).addClass("selected").parents("li:has(ul)").children("ul").show().prev().children("div").addClass("expanded")});if(this.fm.options.places){this.fm.view.plc.click(function(e){e.preventDefault();var n=b(e.target),m=n.attr("key"),o;if(m){m!=d.fm.cwd.hash&&d.ui.exec("open",e.target)}else{if(e.target.nodeName=="A"||e.target.nodeName=="DIV"){o=d.fm.view.plc.find("ul");if(o.children().length){o.toggle(300);d.fm.view.plc.children("li").find("div").toggleClass("expanded")}}}});this.fm.view.plc.droppable({accept:"(div,tr).directory",tolerance:"pointer",over:function(){b(this).addClass("el-finder-droppable")},out:function(){b(this).removeClass("el-finder-droppable")},drop:function(e,l){b(this).removeClass("el-finder-droppable");var m=false;l.helper.children(".directory:not(.noaccess,.dropbox)").each(function(){if(d.fm.addPlace(b(this).attr("key"))){m=true;b(this).hide()}});if(m){d.fm.view.renderPlaces();d.updatePlaces();d.fm.view.plc.children("li").children("div").trigger("click")}if(!l.helper.children("div:visible").length){l.helper.hide()}}})}b(document).bind(b.browser.mozilla||b.browser.opera?"keypress":"keydown",function(e){var k=e.ctrlKey||e.metaKey;if(d.lock){return}switch(e.keyCode){case 37:case 38:e.stopPropagation();e.preventDefault();if(e.keyCode==37&&k){d.ui.execIfAllowed("back")}else{g(false,!e.shiftKey)}break;case 39:case 40:e.stopPropagation();e.preventDefault();if(k){d.ui.execIfAllowed("open")}else{g(true,!e.shiftKey)}break}});b(document).bind(b.browser.opera?"keypress":"keydown",function(e){if(d.lock){return}switch(e.keyCode){case 32:e.preventDefault();e.stopPropagation();d.fm.quickLook.toggle();break;case 27:d.fm.quickLook.hide();break}});if(!this.fm.options.disableShortcuts){b(document).bind("keydown",function(e){var k=e.ctrlKey||e.metaKey;if(d.lock){return}switch(e.keyCode){case 8:if(k&&d.ui.isCmdAllowed("rm")){e.preventDefault();d.ui.exec("rm")}break;case 13:if(d.ui.isCmdAllowed("select")){return d.ui.exec("select")}d.ui.execIfAllowed("open");break;case 46:d.ui.execIfAllowed("rm");break;case 65:if(k){e.preventDefault();d.fm.selectAll()}break;case 67:k&&d.ui.execIfAllowed("copy");break;case 73:if(k){e.preventDefault();d.ui.exec("info")}break;case 78:if(k){e.preventDefault();d.ui.execIfAllowed("mkdir")}break;case 85:if(k){e.preventDefault();d.ui.execIfAllowed("upload")}break;case 86:k&&d.ui.execIfAllowed("paste");break;case 88:k&&d.ui.execIfAllowed("cut");break;case 113:d.ui.execIfAllowed("rename");break}})}};this.updateNav=function(){b("a",this.tree).click(function(d){d.preventDefault();var e=b(this),c;if(d.target.nodeName=="DIV"&&b(d.target).hasClass("collapsed")){b(d.target).toggleClass("expanded").parent().next("ul").toggle(300)}else{if(e.attr("key")!=a.fm.cwd.hash){if(e.hasClass("noaccess")||e.hasClass("dropbox")){a.fm.view.error("Access denied")}else{a.ui.exec("open",e.trigger("select")[0])}}else{c=e.children(".collapsed");if(c.length){c.toggleClass("expanded");e.next("ul").toggle(300)}}}});b("a:not(.noaccess,.readonly)",this.tree).droppable({tolerance:"pointer",accept:"div[key],tr[key]",over:function(){b(this).addClass("el-finder-droppable")},out:function(){b(this).removeClass("el-finder-droppable")},drop:function(c,d){b(this).removeClass("el-finder-droppable");a.fm.drop(c,d,b(this).attr("key"))}});this.fm.options.places&&this.updatePlaces()};this.updatePlaces=function(){this.fm.view.plc.children("li").find("li").draggable({scroll:false,stop:function(){if(a.fm.removePlace(b(this).children("a").attr("key"))){b(this).remove();if(!b("li",a.fm.view.plc.children("li")).length){a.fm.view.plc.children("li").find("div").removeClass("collapsed expanded").end().children("ul").hide()}}}})};this.updateCwd=function(){b("[key]",this.cwd).bind("dblclick",function(c){a.fm.select(b(this),true);a.ui.exec(a.ui.isCmdAllowed("select")?"select":"open")}).draggable({delay:3,addClasses:false,appendTo:".el-finder-cwd",revert:true,drag:function(c,d){d.helper.toggleClass("el-finder-drag-copy",c.shiftKey||c.ctrlKey)},helper:function(){var e=b(this),d=b('<div class="el-finder-drag-helper"/>'),c=0;!e.hasClass("ui-selected")&&a.fm.select(e,true);a.cwd.find(".ui-selected").each(function(m){var l=a.fm.options.view=="icons"?b(this).clone().removeClass("ui-selected"):b(a.fm.view.renderIcon(a.fm.cdc[b(this).attr("key")]));if(c++==0||c%12==0){l.css("margin-left",0)}d.append(l)});return d.css("width",(c<=12?85+(c-1)*29:387)+"px")}}).filter(".directory").droppable({tolerance:"pointer",accept:"div[key],tr[key]",over:function(){b(this).addClass("el-finder-droppable")},out:function(){b(this).removeClass("el-finder-droppable")},drop:function(c,d){b(this).removeClass("el-finder-droppable");a.fm.drop(c,d,b(this).attr("key"))}});if(b.browser.msie){b("*",this.cwd).attr("unselectable","on").filter("[key]").bind("dragstart",function(){a.cwd.selectable("disable").removeClass("ui-state-disabled ui-selectable-disabled")}).bind("dragstop",function(){a.cwd.selectable("enable")})}};function g(l,e){var d,m,c;if(!b("[key]",a.cwd).length){return}if(a.fm.selected.length==0){d=b("[key]:"+(l?"first":"last"),a.cwd);a.fm.select(d)}else{if(e){d=b(".ui-selected:"+(l?"last":"first"),a.cwd);m=d[l?"next":"prev"]("[key]");if(m.length){d=m}a.fm.select(d,true)}else{if(a.pointer){c=b('[key="'+a.pointer+'"].ui-selected',a.cwd)}if(!c||!c.length){c=b(".ui-selected:"+(l?"last":"first"),a.cwd)}d=c[l?"next":"prev"]("[key]");if(!d.length){d=c}else{if(!d.hasClass("ui-selected")){a.fm.select(d)}else{if(!c.hasClass("ui-selected")){a.fm.unselect(d)}else{m=c[l?"prev":"next"]("[key]");if(!m.length||!m.hasClass("ui-selected")){a.fm.unselect(c)}else{while((m=l?d.next("[key]"):d.prev("[key]"))&&d.hasClass("ui-selected")){d=m}a.fm.select(d)}}}}}}a.pointer=d.attr("key");a.fm.checkSelectedPos(l)}}})(jQuery);if(!document.createElement("canvas").getContext){(function(){var aF=Math;var aT=aF.round;var aU=aF.sin;var aG=aF.cos;var au=aF.abs;var an=aF.sqrt;var a0=10;var aY=a0/2;var aI=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function aJ(){return this.context_||(this.context_=new az(this))}var aO=Array.prototype.slice;function aX(b,a,d){var c=aO.call(arguments,2);return function(){return b.apply(a,c.concat(aO.call(arguments)))}}function ax(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function j(a,b,c){if(!a.namespaces[b]){a.namespaces.add(b,c,"#default#VML")}}function aj(a){j(a,"g_vml_","urn:schemas-microsoft-com:vml");j(a,"g_o_","urn:schemas-microsoft-com:office:office");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}aj(document);var aZ={init:function(b){var a=b||document;a.createElement("canvas");a.attachEvent("onreadystatechange",aX(this.init_,this,a))},init_:function(c){var a=c.getElementsByTagName("canvas");for(var b=0;b<a.length;b++){this.initElement(a[b])}},initElement:function(a){if(!a.getContext){a.getContext=aJ;aj(a.ownerDocument);a.innerHTML="";a.attachEvent("onpropertychange",aK);a.attachEvent("onresize",p);var b=a.attributes;if(b.width&&b.width.specified){a.style.width=b.width.nodeValue+"px"}else{a.width=a.clientWidth}if(b.height&&b.height.specified){a.style.height=b.height.nodeValue+"px"}else{a.height=a.clientHeight}}return a}};function aK(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect();b.style.width=b.attributes.width.nodeValue+"px";b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect();b.style.height=b.attributes.height.nodeValue+"px";b.firstChild.style.height=b.clientHeight+"px";break}}function p(a){var b=a.srcElement;if(b.firstChild){b.firstChild.style.width=b.clientWidth+"px";b.firstChild.style.height=b.clientHeight+"px"}}aZ.init();var aV=[];for(var aA=0;aA<16;aA++){for(var aB=0;aB<16;aB++){aV[aA*16+aB]=aA.toString(16)+aB.toString(16)}}function aE(){return[[1,0,0],[0,1,0],[0,0,1]]}function ar(h,a){var d=aE();for(var e=0;e<3;e++){for(var b=0;b<3;b++){var g=0;for(var c=0;c<3;c++){g+=h[e][c]*a[c][b]}d[e][b]=g}}return d}function aM(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}var a2={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function ao(b){var d=b.indexOf("(",3);var c=b.indexOf(")",d+1);var a=b.substring(d+1,c).split(",");if(a.length!=4||b.charAt(3)!="a"){a[3]=1}return a}function a1(a){return parseFloat(a)/100}function aQ(b,a,c){return Math.min(c,Math.max(a,b))}function at(l){var d,h,g,k,e,a;k=parseFloat(l[0])/360%360;if(k<0){k++}e=aQ(a1(l[1]),0,1);a=aQ(a1(l[2]),0,1);if(e==0){d=h=g=a}else{var c=a<0.5?a*(1+e):a+e-a*e;var b=2*a-c;d=a3(b,c,k+1/3);h=a3(b,c,k);g=a3(b,c,k-1/3)}return"#"+aV[Math.floor(d*255)]+aV[Math.floor(h*255)]+aV[Math.floor(g*255)]}function a3(b,c,a){if(a<0){a++}if(a>1){a--}if(6*a<1){return b+(c-b)*6*a}else{if(2*a<1){return c}else{if(3*a<2){return b+(c-b)*(2/3-a)*6}else{return b}}}}var aC={};function aw(d){if(d in aC){return aC[d]}var c,g=1;d=String(d);if(d.charAt(0)=="#"){c=d}else{if(/^rgb/.test(d)){var e=ao(d);var c="#",b;for(var a=0;a<3;a++){if(e[a].indexOf("%")!=-1){b=Math.floor(a1(e[a])*255)}else{b=+e[a]}c+=aV[aQ(b,0,255)]}g=+e[3]}else{if(/^hsl/.test(d)){var e=ao(d);c=at(e);g=e[3]}else{c=a2[d]||d}}}return aC[d]={color:c,alpha:g}}var aS={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var ap={};function ay(c){if(ap[c]){return ap[c]}var d=document.createElement("div");var a=d.style;try{a.font=c}catch(b){}return ap[c]={style:a.fontStyle||aS.style,variant:a.fontVariant||aS.variant,weight:a.fontWeight||aS.weight,size:a.fontSize||aS.size,family:a.fontFamily||aS.family}}function aN(a,d){var e={};for(var b in a){e[b]=a[b]}var c=parseFloat(d.currentStyle.fontSize),g=parseFloat(a.size);if(typeof a.size=="number"){e.size=a.size}else{if(a.size.indexOf("px")!=-1){e.size=g}else{if(a.size.indexOf("em")!=-1){e.size=c*g}else{if(a.size.indexOf("%")!=-1){e.size=(c/100)*g}else{if(a.size.indexOf("pt")!=-1){e.size=g/0.75}else{e.size=c}}}}}e.size*=0.981;return e}function aD(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family}var aP={butt:"flat",round:"round"};function ai(a){return aP[a]||"square"}function az(c){this.m_=aE();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=a0*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=c;var a="width:"+c.clientWidth+"px;height:"+c.clientHeight+"px;overflow:hidden;position:absolute";var b=c.ownerDocument.createElement("div");b.style.cssText=a;c.appendChild(b);var d=b.cloneNode(false);d.style.backgroundColor="red";d.style.filter="alpha(opacity=0)";c.appendChild(d);this.element_=b;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var aR=az.prototype;aR.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};aR.beginPath=function(){this.currentPath_=[]};aR.moveTo=function(b,c){var a=Z(this,b,c);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};aR.lineTo=function(b,c){var a=Z(this,b,c);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};aR.bezierCurveTo=function(b,c,e,g,h,l){var d=Z(this,h,l);var k=Z(this,b,c);var a=Z(this,e,g);aq(this,k,a,d)};function aq(c,d,a,b){c.currentPath_.push({type:"bezierCurveTo",cp1x:d.x,cp1y:d.y,cp2x:a.x,cp2y:a.y,x:b.x,y:b.y});c.currentX_=b.x;c.currentY_=b.y}aR.quadraticCurveTo=function(b,a,e,g){var c=Z(this,b,a);var d=Z(this,e,g);var k={x:this.currentX_+2/3*(c.x-this.currentX_),y:this.currentY_+2/3*(c.y-this.currentY_)};var h={x:k.x+(d.x-this.currentX_)/3,y:k.y+(d.y-this.currentY_)/3};aq(this,k,h,d)};aR.arc=function(l,o,n,s,d,b){n*=a0;var c=b?"at":"wa";var k=l+aG(s)*n-aY;var g=o+aU(s)*n-aY;var e=l+aG(d)*n-aY;var h=o+aU(d)*n-aY;if(k==e&&!b){k+=0.125}var a=Z(this,l,o);var q=Z(this,k,g);var r=Z(this,e,h);this.currentPath_.push({type:c,x:a.x,y:a.y,radius:n,xStart:q.x,yStart:q.y,xEnd:r.x,yEnd:r.y})};aR.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};aR.strokeRect=function(a,b,c,e){var d=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+e);this.lineTo(a,b+e);this.closePath();this.stroke();this.currentPath_=d};aR.fillRect=function(a,b,c,e){var d=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+e);this.lineTo(a,b+e);this.closePath();this.fill();this.currentPath_=d};aR.createLinearGradient=function(b,e,c,a){var d=new ag("gradient");d.x0_=b;d.y0_=e;d.x1_=c;d.y1_=a;return d};aR.createRadialGradient=function(h,c,a,d,g,e){var b=new ag("gradientradial");b.x0_=h;b.y0_=c;b.r0_=a;b.x1_=d;b.y1_=g;b.r1_=e;return b};aR.drawImage=function(n,v){var D,F,z,c,s,w,k,q;var A=n.runtimeStyle.width;var r=n.runtimeStyle.height;n.runtimeStyle.width="auto";n.runtimeStyle.height="auto";var E=n.width;var e=n.height;n.runtimeStyle.width=A;n.runtimeStyle.height=r;if(arguments.length==3){D=arguments[1];F=arguments[2];s=w=0;k=z=E;q=c=e}else{if(arguments.length==5){D=arguments[1];F=arguments[2];z=arguments[3];c=arguments[4];s=w=0;k=E;q=e}else{if(arguments.length==9){s=arguments[1];w=arguments[2];k=arguments[3];q=arguments[4];D=arguments[5];F=arguments[6];z=arguments[7];c=arguments[8]}else{throw Error("Invalid number of arguments")}}}var b=Z(this,D,F);var o=k/2;var B=q/2;var d=[];var C=10;var G=10;d.push(" <g_vml_:group",' coordsize="',a0*C,",",a0*G,'"',' coordorigin="0,0"',' style="width:',C,"px;height:",G,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var a=[];a.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",aT(b.x/a0),",","Dy=",aT(b.y/a0),"");var g=b;var h=Z(this,D+z,F);var l=Z(this,D,F+c);var u=Z(this,D+z,F+c);g.x=aF.max(g.x,h.x,l.x,u.x);g.y=aF.max(g.y,h.y,l.y,u.y);d.push("padding:0 ",aT(g.x/a0),"px ",aT(g.y/a0),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",a.join(""),", sizingmethod='clip');")}else{d.push("top:",aT(b.y/a0),"px;left:",aT(b.x/a0),"px;")}d.push(' ">','<g_vml_:image src="',n.src,'"',' style="width:',a0*z,"px;"," height:",a0*c,'px"',' cropleft="',s/E,'"',' croptop="',w/e,'"',' cropright="',(E-s-k)/E,'"',' cropbottom="',(e-w-q)/e,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",d.join(""))};aR.stroke=function(e){var a=10;var d=10;var r=5000;var o={x:null,y:null};var g={x:null,y:null};for(var n=0;n<this.currentPath_.length;n+=r){var h=[];var q=false;h.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',a,"px;height:",d,'px;"',' coordorigin="0,0"',' coordsize="',a0*a,",",a0*d,'"',' stroked="',!e,'"',' path="');var c=false;for(var l=n;l<Math.min(n+r,this.currentPath_.length);l++){if(l%r==0&&l>0){h.push(" m ",aT(this.currentPath_[l-1].x),",",aT(this.currentPath_[l-1].y))}var b=this.currentPath_[l];var k;switch(b.type){case"moveTo":k=b;h.push(" m ",aT(b.x),",",aT(b.y));break;case"lineTo":h.push(" l ",aT(b.x),",",aT(b.y));break;case"close":h.push(" x ");b=null;break;case"bezierCurveTo":h.push(" c ",aT(b.cp1x),",",aT(b.cp1y),",",aT(b.cp2x),",",aT(b.cp2y),",",aT(b.x),",",aT(b.y));break;case"at":case"wa":h.push(" ",b.type," ",aT(b.x-this.arcScaleX_*b.radius),",",aT(b.y-this.arcScaleY_*b.radius)," ",aT(b.x+this.arcScaleX_*b.radius),",",aT(b.y+this.arcScaleY_*b.radius)," ",aT(b.xStart),",",aT(b.yStart)," ",aT(b.xEnd),",",aT(b.yEnd));break}if(b){if(o.x==null||b.x<o.x){o.x=b.x}if(g.x==null||b.x>g.x){g.x=b.x}if(o.y==null||b.y<o.y){o.y=b.y}if(g.y==null||b.y>g.y){g.y=b.y}}}h.push(' ">');if(!e){aL(this,h)}else{av(this,h,o,g)}h.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",h.join(""))}};function aL(a,b){var c=aw(a.strokeStyle);var g=c.color;var e=c.alpha*a.globalAlpha;var d=a.lineScale_*a.lineWidth;if(d<1){e*=d}b.push("<g_vml_:stroke",' opacity="',e,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',ai(a.lineCap),'"',' weight="',d,'px"',' color="',g,'" />')}function av(n,z,E,l){var w=n.fillStyle;var N=n.arcScaleX_;var O=n.arcScaleY_;var R=l.x-E.x;var P=l.y-E.y;if(w instanceof ag){var r=0;var J={x:0,y:0};var d=0;var s=1;if(w.type_=="gradient"){var u=w.x0_/N;var Q=w.y0_/O;var v=w.x1_/N;var C=w.y1_/O;var F=Z(n,u,Q);var G=Z(n,v,C);var B=G.x-F.x;var a=G.y-F.y;r=Math.atan2(B,a)*180/Math.PI;if(r<0){r+=360}if(r<0.000001){r=0}}else{var F=Z(n,w.x0_,w.y0_);J={x:(F.x-E.x)/R,y:(F.y-E.y)/P};R/=N*a0;P/=O*a0;var L=aF.max(R,P);d=2*w.r0_/L;s=2*w.r1_/L-d}var g=w.colors_;g.sort(function(T,S){return T.offset-S.offset});var o=g.length;var h=g[0].color;var k=g[o-1].color;var b=g[0].alpha*n.globalAlpha;var c=g[o-1].alpha*n.globalAlpha;var K=[];for(var H=0;H<o;H++){var q=g[H];K.push(q.offset*s+d+" "+q.color)}z.push('<g_vml_:fill type="',w.type_,'"',' method="none" focus="100%"',' color="',h,'"',' color2="',k,'"',' colors="',K.join(","),'"',' opacity="',c,'"',' g_o_:opacity2="',b,'"',' angle="',r,'"',' focusposition="',J.x,",",J.y,'" />')}else{if(w instanceof ah){if(R&&P){var A=-E.x;var M=-E.y;z.push("<g_vml_:fill",' position="',A/R*N*N,",",M/P*O*O,'"',' type="tile"',' src="',w.src_,'" />')}}else{var D=aw(n.fillStyle);var e=D.color;var I=D.alpha*n.globalAlpha;z.push('<g_vml_:fill color="',e,'" opacity="',I,'" />')}}}aR.fill=function(){this.stroke(true)};aR.closePath=function(){this.currentPath_.push({type:"close"})};function Z(a,d,c){var b=a.m_;return{x:a0*(d*b[0][0]+c*b[1][0]+b[2][0])-aY,y:a0*(d*b[0][1]+c*b[1][1]+b[2][1])-aY}}aR.save=function(){var a={};aM(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=ar(aE(),this.m_)};aR.restore=function(){if(this.aStack_.length){aM(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function aW(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function aH(a,b,d){if(!aW(b)){return}a.m_=b;if(d){var c=b[0][0]*b[1][1]-b[0][1]*b[1][0];a.lineScale_=an(au(c))}}aR.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];aH(this,ar(c,this.m_),false)};aR.rotate=function(b){var d=aG(b);var a=aU(b);var c=[[d,a,0],[-a,d,0],[0,0,1]];aH(this,ar(c,this.m_),false)};aR.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];aH(this,ar(c,this.m_),true)};aR.transform=function(h,g,b,c,d,e){var a=[[h,g,0],[b,c,0],[d,e,1]];aH(this,ar(a,this.m_),true)};aR.setTransform=function(c,h,a,b,g,d){var e=[[c,h,0],[a,b,0],[g,d,1]];aH(this,e,true)};aR.drawText_=function(n,q,s,h,v){var k=this.m_,c=1000,r=0,d=c,w={x:0,y:0},z=[];var u=aN(ay(this.font),this.element_);var g=aD(u);var b=this.element_.currentStyle;var a=this.textAlign.toLowerCase();switch(a){case"left":case"center":case"right":break;case"end":a=b.direction=="ltr"?"right":"left";break;case"start":a=b.direction=="rtl"?"right":"left";break;default:a="left"}switch(this.textBaseline){case"hanging":case"top":w.y=u.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":w.y=-u.size/2.25;break}switch(a){case"right":r=c;d=0.05;break;case"center":r=d=c/2;break}var e=Z(this,q+w.x,s+w.y);z.push('<g_vml_:line from="',-r,' 0" to="',d,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!v,'" stroked="',!!v,'" style="position:absolute;width:1px;height:1px;">');if(v){aL(this,z)}else{av(this,z,{x:-r,y:0},{x:d,y:u.size})}var l=k[0][0].toFixed(3)+","+k[1][0].toFixed(3)+","+k[0][1].toFixed(3)+","+k[1][1].toFixed(3)+",0,0";var o=aT(e.x/a0)+","+aT(e.y/a0);z.push('<g_vml_:skew on="t" matrix="',l,'" ',' offset="',o,'" origin="',r,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ax(n),'" style="v-text-align:',a,";font:",ax(g),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",z.join(""))};aR.fillText=function(a,c,d,b){this.drawText_(a,c,d,b,false)};aR.strokeText=function(a,c,d,b){this.drawText_(a,c,d,b,true)};aR.measureText=function(a){if(!this.textMeasureEl_){var c='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",c);this.textMeasureEl_=this.element_.lastChild}var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};aR.clip=function(){};aR.arcTo=function(){};aR.createPattern=function(a,b){return new ah(a,b)};function ag(a){this.type_=a;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}ag.prototype.addColorStop=function(a,b){b=aw(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};function ah(a,b){ak(a);switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:am("SYNTAX_ERR")}this.src_=a.src;this.width_=a.width;this.height_=a.height}function am(a){throw new al(a)}function ak(a){if(!a||a.nodeType!=1||a.tagName!="IMG"){am("TYPE_MISMATCH_ERR")}if(a.readyState!="complete"){am("INVALID_STATE_ERR")}}function al(a){this.code=this[a];this.message=a+": DOM Exception "+this.code}var m=al.prototype=new Error;m.INDEX_SIZE_ERR=1;m.DOMSTRING_SIZE_ERR=2;m.HIERARCHY_REQUEST_ERR=3;m.WRONG_DOCUMENT_ERR=4;m.INVALID_CHARACTER_ERR=5;m.NO_DATA_ALLOWED_ERR=6;m.NO_MODIFICATION_ALLOWED_ERR=7;m.NOT_FOUND_ERR=8;m.NOT_SUPPORTED_ERR=9;m.INUSE_ATTRIBUTE_ERR=10;m.INVALID_STATE_ERR=11;m.SYNTAX_ERR=12;m.INVALID_MODIFICATION_ERR=13;m.NAMESPACE_ERR=14;m.INVALID_ACCESS_ERR=15;m.VALIDATION_ERR=16;m.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=aZ;CanvasRenderingContext2D=az;CanvasGradient=ag;CanvasPattern=ah;DOMException=al})()}
/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,h,g){var c={};c.r=d||0;c.g=e||0;c.b=h||0;c.a=g!=null?g:1;c.add=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]+=k}return c.normalize()};c.scale=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]*=k}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function j(l,k,m){return k<l?l:(k>m?m:k)}c.r=j(0,parseInt(c.r),255);c.g=j(0,parseInt(c.g),255);c.b=j(0,parseInt(c.b),255);c.a=j(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).toLowerCase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,g=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return g(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return g(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return g(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return g(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]))}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return g(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16))}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return g(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16))}var e=b.trim(c).toLowerCase();if(e=="transparent"){return g(255,255,255,0)}else{d=a[e]||[0,0,0];return g(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(c){function b(az,am,N,aj){var U=[],S={colors:["#ee7951","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:0,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:[-5,-25],backgroundColor:"#fafafa",backgroundOpacity:1},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:0},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:"#e3e3e3",tickColor:"#e3e3e3",labelMargin:5,axisMargin:8,borderWidth:0,minBorderMargin:10,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:5},hooks:{}},aD=null,ah=null,C=null,L=null,E=null,q=[],aA=[],r={left:0,right:0,top:0,bottom:0},K=0,M=0,j=0,A=0,ao={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},av=this;av.setData=an;av.setupGrid=v;av.draw=aa;av.getPlaceholder=function(){return az};av.getCanvas=function(){return aD};av.getPlotOffset=function(){return r};av.width=function(){return j};av.height=function(){return A};av.offset=function(){var aF=C.offset();aF.left+=r.left;aF.top+=r.top;return aF};av.getData=function(){return U};av.getAxes=function(){var aG={},aF;c.each(q.concat(aA),function(aH,aI){if(aI){aG[aI.direction+(aI.n!=1?aI.n:"")+"axis"]=aI}});return aG};av.getXAxes=function(){return q};av.getYAxes=function(){return aA};av.c2p=G;av.p2c=aw;av.getOptions=function(){return S};av.highlight=B;av.unhighlight=X;av.triggerRedrawOverlay=g;av.pointOffset=function(aF){return{left:parseInt(q[aE(aF,"x")-1].p2c(+aF.x)+r.left),top:parseInt(aA[aE(aF,"y")-1].p2c(+aF.y)+r.top)}};av.shutdown=ak;av.resize=function(){F();h(aD);h(ah)};av.hooks=ao;J(av);ad(N);ab();an(am);v();aa();al();function ar(aH,aF){aF=[av].concat(aF);for(var aG=0;aG<aH.length;++aG){aH[aG].apply(this,aF)}}function J(){for(var aF=0;aF<aj.length;++aF){var aG=aj[aF];aG.init(av);if(aG.options){c.extend(true,S,aG.options)}}}function ad(aG){var aF;c.extend(true,S,aG);if(S.xaxis.color==null){S.xaxis.color=S.grid.color}if(S.yaxis.color==null){S.yaxis.color=S.grid.color}if(S.xaxis.tickColor==null){S.xaxis.tickColor=S.grid.tickColor}if(S.yaxis.tickColor==null){S.yaxis.tickColor=S.grid.tickColor}if(S.grid.borderColor==null){S.grid.borderColor=S.grid.color}if(S.grid.tickColor==null){S.grid.tickColor=c.color.parse(S.grid.color).scale("a",0.22).toString()}for(aF=0;aF<Math.max(1,S.xaxes.length);++aF){S.xaxes[aF]=c.extend(true,{},S.xaxis,S.xaxes[aF])}for(aF=0;aF<Math.max(1,S.yaxes.length);++aF){S.yaxes[aF]=c.extend(true,{},S.yaxis,S.yaxes[aF])}if(S.xaxis.noTicks&&S.xaxis.ticks==null){S.xaxis.ticks=S.xaxis.noTicks}if(S.yaxis.noTicks&&S.yaxis.ticks==null){S.yaxis.ticks=S.yaxis.noTicks}if(S.x2axis){S.xaxes[1]=c.extend(true,{},S.xaxis,S.x2axis);S.xaxes[1].position="top"}if(S.y2axis){S.yaxes[1]=c.extend(true,{},S.yaxis,S.y2axis);S.yaxes[1].position="right"}if(S.grid.coloredAreas){S.grid.markings=S.grid.coloredAreas}if(S.grid.coloredAreasColor){S.grid.markingsColor=S.grid.coloredAreasColor}if(S.lines){c.extend(true,S.series.lines,S.lines)}if(S.points){c.extend(true,S.series.points,S.points)}if(S.bars){c.extend(true,S.series.bars,S.bars)}if(S.shadowSize!=null){S.series.shadowSize=S.shadowSize}for(aF=0;aF<S.xaxes.length;++aF){Z(q,aF+1).options=S.xaxes[aF]}for(aF=0;aF<S.yaxes.length;++aF){Z(aA,aF+1).options=S.yaxes[aF]}for(var aH in ao){if(S.hooks[aH]&&S.hooks[aH].length){ao[aH]=ao[aH].concat(S.hooks[aH])}}ar(ao.processOptions,[S])}function an(aF){U=ac(aF);aB();D()}function ac(aI){var aG=[];for(var aF=0;aF<aI.length;++aF){var aH=c.extend(true,{},S.series);if(aI[aF].data!=null){aH.data=aI[aF].data;delete aI[aF].data;c.extend(true,aH,aI[aF]);aI[aF].data=aH.data}else{aH.data=aI[aF]}aG.push(aH)}return aG}function aE(aG,aH){var aF=aG[aH+"axis"];if(typeof aF=="object"){aF=aF.n}if(typeof aF!="number"){aF=1}return aF}function n(){return c.grep(q.concat(aA),function(aF){return aF})}function G(aI){var aG={},aF,aH;for(aF=0;aF<q.length;++aF){aH=q[aF];if(aH&&aH.used){aG["x"+aH.n]=aH.c2p(aI.left)}}for(aF=0;aF<aA.length;++aF){aH=aA[aF];if(aH&&aH.used){aG["y"+aH.n]=aH.c2p(aI.top)}}if(aG.x1!==undefined){aG.x=aG.x1}if(aG.y1!==undefined){aG.y=aG.y1}return aG}function aw(aJ){var aH={},aG,aI,aF;for(aG=0;aG<q.length;++aG){aI=q[aG];if(aI&&aI.used){aF="x"+aI.n;if(aJ[aF]==null&&aI.n==1){aF="x"}if(aJ[aF]!=null){aH.left=aI.p2c(aJ[aF]);break}}}for(aG=0;aG<aA.length;++aG){aI=aA[aG];if(aI&&aI.used){aF="y"+aI.n;if(aJ[aF]==null&&aI.n==1){aF="y"}if(aJ[aF]!=null){aH.top=aI.p2c(aJ[aF]);break}}}return aH}function Z(aG,aF){if(!aG[aF-1]){aG[aF-1]={n:aF,direction:aG==q?"x":"y",options:c.extend(true,{},aG==q?S.xaxis:S.yaxis)}}return aG[aF-1]}function aB(){var aK;var aQ=U.length,aF=[],aI=[];for(aK=0;aK<U.length;++aK){var aN=U[aK].color;if(aN!=null){--aQ;if(typeof aN=="number"){aI.push(aN)}else{aF.push(c.color.parse(U[aK].color))}}}for(aK=0;aK<aI.length;++aK){aQ=Math.max(aQ,aI[aK]+1)}var aG=[],aJ=0;aK=0;while(aG.length<aQ){var aM;if(S.colors.length==aK){aM=c.color.make(100,100,100)}else{aM=c.color.parse(S.colors[aK])}var aH=aJ%2==1?-1:1;aM.scale("rgb",1+aH*Math.ceil(aJ/2)*0.2);aG.push(aM);++aK;if(aK>=S.colors.length){aK=0;++aJ}}var aL=0,aR;for(aK=0;aK<U.length;++aK){aR=U[aK];if(aR.color==null){aR.color=aG[aL].toString();++aL}else{if(typeof aR.color=="number"){aR.color=aG[aR.color].toString()}}if(aR.lines.show==null){var aP,aO=true;for(aP in aR){if(aR[aP]&&aR[aP].show){aO=false;break}}if(aO){aR.lines.show=true}}aR.xaxis=Z(q,aE(aR,"x"));aR.yaxis=Z(aA,aE(aR,"y"))}}function D(){var aS=Number.POSITIVE_INFINITY,aM=Number.NEGATIVE_INFINITY,aF=Number.MAX_VALUE,aY,aW,aV,aR,aH,aN,aX,aT,aL,aK,aG,a4,a1,aP;function aJ(a7,a6,a5){if(a6<a7.datamin&&a6!=-aF){a7.datamin=a6}if(a5>a7.datamax&&a5!=aF){a7.datamax=a5}}c.each(n(),function(a5,a6){a6.datamin=aS;a6.datamax=aM;a6.used=false});for(aY=0;aY<U.length;++aY){aN=U[aY];aN.datapoints={points:[]};ar(ao.processRawData,[aN,aN.data,aN.datapoints])}for(aY=0;aY<U.length;++aY){aN=U[aY];var a3=aN.data,a0=aN.datapoints.format;if(!a0){a0=[];a0.push({x:true,number:true,required:true});a0.push({y:true,number:true,required:true});if(aN.bars.show||(aN.lines.show&&aN.lines.fill)){a0.push({y:true,number:true,required:false,defaultValue:0});if(aN.bars.horizontal){delete a0[a0.length-1].y;a0[a0.length-1].x=true}}aN.datapoints.format=a0}if(aN.datapoints.pointsize!=null){continue}aN.datapoints.pointsize=a0.length;aT=aN.datapoints.pointsize;aX=aN.datapoints.points;insertSteps=aN.lines.show&&aN.lines.steps;aN.xaxis.used=aN.yaxis.used=true;for(aW=aV=0;aW<a3.length;++aW,aV+=aT){aP=a3[aW];var aI=aP==null;if(!aI){for(aR=0;aR<aT;++aR){a4=aP[aR];a1=a0[aR];if(a1){if(a1.number&&a4!=null){a4=+a4;if(isNaN(a4)){a4=null}else{if(a4==Infinity){a4=aF}else{if(a4==-Infinity){a4=-aF}}}}if(a4==null){if(a1.required){aI=true}if(a1.defaultValue!=null){a4=a1.defaultValue}}}aX[aV+aR]=a4}}if(aI){for(aR=0;aR<aT;++aR){a4=aX[aV+aR];if(a4!=null){a1=a0[aR];if(a1.x){aJ(aN.xaxis,a4,a4)}if(a1.y){aJ(aN.yaxis,a4,a4)}}aX[aV+aR]=null}}else{if(insertSteps&&aV>0&&aX[aV-aT]!=null&&aX[aV-aT]!=aX[aV]&&aX[aV-aT+1]!=aX[aV+1]){for(aR=0;aR<aT;++aR){aX[aV+aT+aR]=aX[aV+aR]}aX[aV+1]=aX[aV-aT+1];aV+=aT}}}}for(aY=0;aY<U.length;++aY){aN=U[aY];ar(ao.processDatapoints,[aN,aN.datapoints])}for(aY=0;aY<U.length;++aY){aN=U[aY];aX=aN.datapoints.points,aT=aN.datapoints.pointsize;var aO=aS,aU=aS,aQ=aM,aZ=aM;for(aW=0;aW<aX.length;aW+=aT){if(aX[aW]==null){continue}for(aR=0;aR<aT;++aR){a4=aX[aW+aR];a1=a0[aR];if(!a1||a4==aF||a4==-aF){continue}if(a1.x){if(a4<aO){aO=a4}if(a4>aQ){aQ=a4}}if(a1.y){if(a4<aU){aU=a4}if(a4>aZ){aZ=a4}}}}if(aN.bars.show){var a2=aN.bars.align=="left"?0:-aN.bars.barWidth/2;if(aN.bars.horizontal){aU+=a2;aZ+=a2+aN.bars.barWidth}else{aO+=a2;aQ+=a2+aN.bars.barWidth}}aJ(aN.xaxis,aO,aQ);aJ(aN.yaxis,aU,aZ)}c.each(n(),function(a5,a6){if(a6.datamin==aS){a6.datamin=null}if(a6.datamax==aM){a6.datamax=null}})}function k(aF,aG){var aH=document.createElement("canvas");aH.className=aG;aH.width=K;aH.height=M;if(!aF){c(aH).css({position:"absolute",left:0,top:0})}c(aH).appendTo(az);if(!aH.getContext){aH=window.G_vmlCanvasManager.initElement(aH)}aH.getContext("2d").save();return aH}function F(){K=az.width();M=az.height();if(K<=0||M<=0){throw"Invalid dimensions for plot, width = "+K+", height = "+M}}function h(aG){if(aG.width!=K){aG.width=K}if(aG.height!=M){aG.height=M}var aF=aG.getContext("2d");aF.restore();aF.save()}function ab(){var aG,aF=az.children("canvas.base"),aH=az.children("canvas.overlay");if(aF.length==0||aH==0){az.html("");az.css({padding:0});if(az.css("position")=="static"){az.css("position","relative")}F();aD=k(true,"base");ah=k(false,"overlay");aG=false}else{aD=aF.get(0);ah=aH.get(0);aG=true}L=aD.getContext("2d");E=ah.getContext("2d");C=c([ah,aD]);if(aG){az.data("plot").shutdown();av.resize();E.clearRect(0,0,K,M);C.unbind();az.children().not([aD,ah]).remove()}az.data("plot",av)}function al(){if(S.grid.hoverable){C.mousemove(ae);C.mouseleave(m)}if(S.grid.clickable){C.click(V)}ar(ao.bindEvents,[C])}function ak(){if(Q){clearTimeout(Q)}C.unbind("mousemove",ae);C.unbind("mouseleave",m);C.unbind("click",V);ar(ao.shutdown,[C])}function s(aK){function aG(aL){return aL}var aJ,aF,aH=aK.options.transform||aG,aI=aK.options.inverseTransform;if(aK.direction=="x"){aJ=aK.scale=j/Math.abs(aH(aK.max)-aH(aK.min));aF=Math.min(aH(aK.max),aH(aK.min))}else{aJ=aK.scale=A/Math.abs(aH(aK.max)-aH(aK.min));aJ=-aJ;aF=Math.max(aH(aK.max),aH(aK.min))}if(aH==aG){aK.p2c=function(aL){return(aL-aF)*aJ}}else{aK.p2c=function(aL){return(aH(aL)-aF)*aJ}}if(!aI){aK.c2p=function(aL){return aF+aL/aJ}}else{aK.c2p=function(aL){return aI(aF+aL/aJ)}}}function P(aH){var aF=aH.options,aJ,aN=aH.ticks||[],aM=[],aI,aO=aF.labelWidth,aK=aF.labelHeight,aG;function aL(aQ,aP){return c('<div style="position:absolute;top:-10000px;'+aP+'font-size:smaller"><div class="'+aH.direction+"Axis "+aH.direction+aH.n+'Axis">'+aQ.join("")+"</div></div>").appendTo(az)}if(aH.direction=="x"){if(aO==null){aO=Math.floor(K/(aN.length>0?aN.length:1))}if(aK==null){aM=[];for(aJ=0;aJ<aN.length;++aJ){aI=aN[aJ].label;if(aI){aM.push('<div class="tickLabel" style="float:left;width:'+aO+'px">'+aI+"</div>")}}if(aM.length>0){aM.push('<div style="clear:left"></div>');aG=aL(aM,"width:10000px;");aK=aG.height();aG.remove()}}}else{if(aO==null||aK==null){for(aJ=0;aJ<aN.length;++aJ){aI=aN[aJ].label;if(aI){aM.push('<div class="tickLabel">'+aI+"</div>")}}if(aM.length>0){aG=aL(aM,"");if(aO==null){aO=aG.children().width()}if(aK==null){aK=aG.find("div.tickLabel").height()}aG.remove()}}}if(aO==null){aO=0}if(aK==null){aK=0}aH.labelWidth=aO;aH.labelHeight=aK}function ay(aH){var aG=aH.labelWidth,aP=aH.labelHeight,aL=aH.options.position,aJ=aH.options.tickLength,aK=S.grid.axisMargin,aN=S.grid.labelMargin,aO=aH.direction=="x"?q:aA,aI;var aF=c.grep(aO,function(aR){return aR&&aR.options.position==aL&&aR.reserveSpace});if(c.inArray(aH,aF)==aF.length-1){aK=0}if(aJ==null){aJ="full"}var aM=c.grep(aO,function(aR){return aR&&aR.reserveSpace});var aQ=c.inArray(aH,aM)==0;if(!aQ&&aJ=="full"){aJ=5}if(!isNaN(+aJ)){aN+=+aJ}if(aH.direction=="x"){aP+=aN;if(aL=="bottom"){r.bottom+=aP+aK;aH.box={top:M-r.bottom,height:aP}}else{aH.box={top:r.top+aK,height:aP};r.top+=aP+aK}}else{aG+=aN;if(aL=="left"){aH.box={left:r.left+aK,width:aG};r.left+=aG+aK}else{r.right+=aG+aK;aH.box={left:K-r.right,width:aG}}}aH.position=aL;aH.tickLength=aJ;aH.box.padding=aN;aH.innermost=aQ}function Y(aF){if(aF.direction=="x"){aF.box.left=r.left;aF.box.width=j}else{aF.box.top=r.top;aF.box.height=A}}function v(){var aG,aI=n();c.each(aI,function(aJ,aK){aK.show=aK.options.show;if(aK.show==null){aK.show=aK.used}aK.reserveSpace=aK.show||aK.options.reserveSpace;o(aK)});allocatedAxes=c.grep(aI,function(aJ){return aJ.reserveSpace});r.left=r.right=r.top=r.bottom=0;if(S.grid.show){c.each(allocatedAxes,function(aJ,aK){W(aK);T(aK);au(aK,aK.ticks);P(aK)});for(aG=allocatedAxes.length-1;aG>=0;--aG){ay(allocatedAxes[aG])}var aH=S.grid.minBorderMargin;if(aH==null){aH=0;for(aG=0;aG<U.length;++aG){aH=Math.max(aH,U[aG].points.radius+U[aG].points.lineWidth/2)}}for(var aF in r){r[aF]+=S.grid.borderWidth;r[aF]=Math.max(aH,r[aF])}}j=K-r.left-r.right;A=M-r.bottom-r.top;c.each(aI,function(aJ,aK){s(aK)});if(S.grid.show){c.each(allocatedAxes,function(aJ,aK){Y(aK)});l()}p()}function o(aI){var aJ=aI.options,aH=+(aJ.min!=null?aJ.min:aI.datamin),aF=+(aJ.max!=null?aJ.max:aI.datamax),aL=aF-aH;if(aL==0){var aG=aF==0?1:0.01;if(aJ.min==null){aH-=aG}if(aJ.max==null||aJ.min!=null){aF+=aG}}else{var aK=aJ.autoscaleMargin;if(aK!=null){if(aJ.min==null){aH-=aL*aK;if(aH<0&&aI.datamin!=null&&aI.datamin>=0){aH=0}}if(aJ.max==null){aF+=aL*aK;if(aF>0&&aI.datamax!=null&&aI.datamax<=0){aF=0}}}}aI.min=aH;aI.max=aF}function W(aK){var aQ=aK.options;var aL;if(typeof aQ.ticks=="number"&&aQ.ticks>0){aL=aQ.ticks}else{aL=0.3*Math.sqrt(aK.direction=="x"?K:M)}var aX=(aK.max-aK.min)/aL,aS,aF,aR,aV,aW,aU,aM;if(aQ.mode=="time"){var aN={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aO=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aG=0;if(aQ.minTickSize!=null){if(typeof aQ.tickSize=="number"){aG=aQ.tickSize}else{aG=aQ.minTickSize[0]*aN[aQ.minTickSize[1]]}}for(var aW=0;aW<aO.length-1;++aW){if(aX<(aO[aW][0]*aN[aO[aW][1]]+aO[aW+1][0]*aN[aO[aW+1][1]])/2&&aO[aW][0]*aN[aO[aW][1]]>=aG){break}}aS=aO[aW][0];aR=aO[aW][1];if(aR=="year"){aU=Math.pow(10,Math.floor(Math.log(aX/aN.year)/Math.LN10));aM=(aX/aN.year)/aU;if(aM<1.5){aS=1}else{if(aM<3){aS=2}else{if(aM<7.5){aS=5}else{aS=10}}}aS*=aU}aK.tickSize=aQ.tickSize||[aS,aR];aF=function(a1){var a6=[],a4=a1.tickSize[0],a7=a1.tickSize[1],a5=new Date(a1.min);var a0=a4*aN[a7];if(a7=="second"){a5.setUTCSeconds(a(a5.getUTCSeconds(),a4))}if(a7=="minute"){a5.setUTCMinutes(a(a5.getUTCMinutes(),a4))}if(a7=="hour"){a5.setUTCHours(a(a5.getUTCHours(),a4))}if(a7=="month"){a5.setUTCMonth(a(a5.getUTCMonth(),a4))}if(a7=="year"){a5.setUTCFullYear(a(a5.getUTCFullYear(),a4))}a5.setUTCMilliseconds(0);if(a0>=aN.minute){a5.setUTCSeconds(0)}if(a0>=aN.hour){a5.setUTCMinutes(0)}if(a0>=aN.day){a5.setUTCHours(0)}if(a0>=aN.day*4){a5.setUTCDate(1)}if(a0>=aN.year){a5.setUTCMonth(0)}var a9=0,a8=Number.NaN,a2;do{a2=a8;a8=a5.getTime();a6.push(a8);if(a7=="month"){if(a4<1){a5.setUTCDate(1);var aZ=a5.getTime();a5.setUTCMonth(a5.getUTCMonth()+1);var a3=a5.getTime();a5.setTime(a8+a9*aN.hour+(a3-aZ)*a4);a9=a5.getUTCHours();a5.setUTCHours(0)}else{a5.setUTCMonth(a5.getUTCMonth()+a4)}}else{if(a7=="year"){a5.setUTCFullYear(a5.getUTCFullYear()+a4)}else{a5.setTime(a8+a0)}}}while(a8<a1.max&&a8!=a2);return a6};aV=function(aZ,a2){var a4=new Date(aZ);if(aQ.timeformat!=null){return c.plot.formatDate(a4,aQ.timeformat,aQ.monthNames)}var a0=a2.tickSize[0]*aN[a2.tickSize[1]];var a1=a2.max-a2.min;var a3=(aQ.twelveHourClock)?" %p":"";if(a0<aN.minute){fmt="%h:%M:%S"+a3}else{if(a0<aN.day){if(a1<2*aN.day){fmt="%h:%M"+a3}else{fmt="%b %d %h:%M"+a3}}else{if(a0<aN.month){fmt="%b %d"}else{if(a0<aN.year){if(a1<aN.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatDate(a4,fmt,aQ.monthNames)}}else{var aY=aQ.tickDecimals;var aT=-Math.floor(Math.log(aX)/Math.LN10);if(aY!=null&&aT>aY){aT=aY}aU=Math.pow(10,-aT);aM=aX/aU;if(aM<1.5){aS=1}else{if(aM<3){aS=2;if(aM>2.25&&(aY==null||aT+1<=aY)){aS=2.5;++aT}}else{if(aM<7.5){aS=5}else{aS=10}}}aS*=aU;if(aQ.minTickSize!=null&&aS<aQ.minTickSize){aS=aQ.minTickSize}aK.tickDecimals=Math.max(0,aY!=null?aY:aT);aK.tickSize=aQ.tickSize||aS;aF=function(a1){var a3=[];var a4=a(a1.min,a1.tickSize),a0=0,aZ=Number.NaN,a2;do{a2=aZ;aZ=a4+a0*a1.tickSize;a3.push(aZ);++a0}while(aZ<a1.max&&aZ!=a2);return a3};aV=function(aZ,a0){return aZ.toFixed(a0.tickDecimals)}}if(aQ.alignTicksWithAxis!=null){var aJ=(aK.direction=="x"?q:aA)[aQ.alignTicksWithAxis-1];if(aJ&&aJ.used&&aJ!=aK){var aP=aF(aK);if(aP.length>0){if(aQ.min==null){aK.min=Math.min(aK.min,aP[0])}if(aQ.max==null&&aP.length>1){aK.max=Math.max(aK.max,aP[aP.length-1])}}aF=function(a1){var a2=[],aZ,a0;for(a0=0;a0<aJ.ticks.length;++a0){aZ=(aJ.ticks[a0].v-aJ.min)/(aJ.max-aJ.min);aZ=a1.min+aZ*(a1.max-a1.min);a2.push(aZ)}return a2};if(aK.mode!="time"&&aQ.tickDecimals==null){var aI=Math.max(0,-Math.floor(Math.log(aX)/Math.LN10)+1),aH=aF(aK);if(!(aH.length>1&&/\..*0$/.test((aH[1]-aH[0]).toFixed(aI)))){aK.tickDecimals=aI}}}}aK.tickGenerator=aF;if(c.isFunction(aQ.tickFormatter)){aK.tickFormatter=function(aZ,a0){return""+aQ.tickFormatter(aZ,a0)}}else{aK.tickFormatter=aV}}function T(aJ){var aL=aJ.options.ticks,aK=[];if(aL==null||(typeof aL=="number"&&aL>0)){aK=aJ.tickGenerator(aJ)}else{if(aL){if(c.isFunction(aL)){aK=aL({min:aJ.min,max:aJ.max})}else{aK=aL}}}var aI,aF;aJ.ticks=[];for(aI=0;aI<aK.length;++aI){var aG=null;var aH=aK[aI];if(typeof aH=="object"){aF=+aH[0];if(aH.length>1){aG=aH[1]}}else{aF=+aH}if(aG==null){aG=aJ.tickFormatter(aF,aJ)}if(!isNaN(aF)){aJ.ticks.push({v:aF,label:aG})}}}function au(aF,aG){if(aF.options.autoscaleMargin&&aG.length>0){if(aF.options.min==null){aF.min=Math.min(aF.min,aG[0].v)}if(aF.options.max==null&&aG.length>1){aF.max=Math.max(aF.max,aG[aG.length-1].v)}}}function aa(){L.clearRect(0,0,K,M);var aG=S.grid;if(aG.show&&aG.backgroundColor){R()}if(aG.show&&!aG.aboveData){ag()}for(var aF=0;aF<U.length;++aF){ar(ao.drawSeries,[L,U[aF]]);d(U[aF])}ar(ao.draw,[L]);if(aG.show&&aG.aboveData){ag()}}function H(aF,aM){var aI,aL,aK,aH,aJ=n();for(i=0;i<aJ.length;++i){aI=aJ[i];if(aI.direction==aM){aH=aM+aI.n+"axis";if(!aF[aH]&&aI.n==1){aH=aM+"axis"}if(aF[aH]){aL=aF[aH].from;aK=aF[aH].to;break}}}if(!aF[aH]){aI=aM=="x"?q[0]:aA[0];aL=aF[aM+"1"];aK=aF[aM+"2"]}if(aL!=null&&aK!=null&&aL>aK){var aG=aL;aL=aK;aK=aG}return{from:aL,to:aK,axis:aI}}function R(){L.save();L.translate(r.left,r.top);L.fillStyle=aq(S.grid.backgroundColor,A,0,"rgba(255, 255, 255, 0)");L.fillRect(0,0,j,A);L.restore()}function ag(){var aJ;L.save();L.translate(r.left,r.top);var aL=S.grid.markings;if(aL){if(c.isFunction(aL)){var aO=av.getAxes();aO.xmin=aO.xaxis.min;aO.xmax=aO.xaxis.max;aO.ymin=aO.yaxis.min;aO.ymax=aO.yaxis.max;aL=aL(aO)}for(aJ=0;aJ<aL.length;++aJ){var aH=aL[aJ],aG=H(aH,"x"),aM=H(aH,"y");if(aG.from==null){aG.from=aG.axis.min}if(aG.to==null){aG.to=aG.axis.max}if(aM.from==null){aM.from=aM.axis.min}if(aM.to==null){aM.to=aM.axis.max}if(aG.to<aG.axis.min||aG.from>aG.axis.max||aM.to<aM.axis.min||aM.from>aM.axis.max){continue}aG.from=Math.max(aG.from,aG.axis.min);aG.to=Math.min(aG.to,aG.axis.max);aM.from=Math.max(aM.from,aM.axis.min);aM.to=Math.min(aM.to,aM.axis.max);if(aG.from==aG.to&&aM.from==aM.to){continue}aG.from=aG.axis.p2c(aG.from);aG.to=aG.axis.p2c(aG.to);aM.from=aM.axis.p2c(aM.from);aM.to=aM.axis.p2c(aM.to);if(aG.from==aG.to||aM.from==aM.to){L.beginPath();L.strokeStyle=aH.color||S.grid.markingsColor;L.lineWidth=aH.lineWidth||S.grid.markingsLineWidth;L.moveTo(aG.from,aM.from);L.lineTo(aG.to,aM.to);L.stroke()}else{L.fillStyle=aH.color||S.grid.markingsColor;L.fillRect(aG.from,aM.to,aG.to-aG.from,aM.from-aM.to)}}}var aO=n(),aQ=S.grid.borderWidth;for(var aI=0;aI<aO.length;++aI){var aF=aO[aI],aK=aF.box,aU=aF.tickLength,aR,aP,aT,aN;if(!aF.show||aF.ticks.length==0){continue}L.strokeStyle=aF.options.tickColor||c.color.parse(aF.options.color).scale("a",0.22).toString();L.lineWidth=1;if(aF.direction=="x"){aR=0;if(aU=="full"){aP=(aF.position=="top"?0:A)}else{aP=aK.top-r.top+(aF.position=="top"?aK.height:0)}}else{aP=0;if(aU=="full"){aR=(aF.position=="left"?0:j)}else{aR=aK.left-r.left+(aF.position=="left"?aK.width:0)}}if(!aF.innermost){L.beginPath();aT=aN=0;if(aF.direction=="x"){aT=j}else{aN=A}if(L.lineWidth==1){aR=Math.floor(aR)+0.5;aP=Math.floor(aP)+0.5}L.moveTo(aR,aP);L.lineTo(aR+aT,aP+aN);L.stroke()}L.beginPath();for(aJ=0;aJ<aF.ticks.length;++aJ){var aS=aF.ticks[aJ].v;aT=aN=0;if(aS<aF.min||aS>aF.max||(aU=="full"&&aQ>0&&(aS==aF.min||aS==aF.max))){continue}if(aF.direction=="x"){aR=aF.p2c(aS);aN=aU=="full"?-A:aU;if(aF.position=="top"){aN=-aN}}else{aP=aF.p2c(aS);aT=aU=="full"?-j:aU;if(aF.position=="left"){aT=-aT}}if(L.lineWidth==1){if(aF.direction=="x"){aR=Math.floor(aR)+0.5}else{aP=Math.floor(aP)+0.5}}L.moveTo(aR,aP);L.lineTo(aR+aT,aP+aN)}L.stroke()}if(aQ){L.lineWidth=aQ;L.strokeStyle=S.grid.borderColor;L.strokeRect(-aQ/2,-aQ/2,j+aQ,A+aQ)}L.restore()}function l(){az.find(".tickLabels").remove();var aK=['<div class="tickLabels" style="font-size:smaller">'];var aN=n();for(var aH=0;aH<aN.length;++aH){var aG=aN[aH],aJ=aG.box;if(!aG.show){continue}aK.push('<div class="'+aG.direction+"Axis "+aG.direction+aG.n+'Axis" style="color:'+aG.options.color+'">');for(var aI=0;aI<aG.ticks.length;++aI){var aL=aG.ticks[aI];if(!aL.label||aL.v<aG.min||aL.v>aG.max){continue}var aO={},aM;if(aG.direction=="x"){aM="center";aO.left=Math.round(r.left+aG.p2c(aL.v)-aG.labelWidth/2);if(aG.position=="bottom"){aO.top=aJ.top+aJ.padding}else{aO.bottom=M-(aJ.top+aJ.height-aJ.padding)}}else{aO.top=Math.round(r.top+aG.p2c(aL.v)-aG.labelHeight/2);if(aG.position=="left"){aO.right=K-(aJ.left+aJ.width-aJ.padding);aM="right"}else{aO.left=aJ.left+aJ.padding;aM="left"}}aO.width=aG.labelWidth;var aF=["position:absolute","text-align:"+aM];for(var aP in aO){aF.push(aP+":"+aO[aP]+"px")}aK.push('<div class="tickLabel" style="'+aF.join(";")+'">'+aL.label+"</div>")}aK.push("</div>")}aK.push("</div>");az.append(aK.join(""))}function d(aF){if(aF.lines.show){ax(aF)}if(aF.bars.show){e(aF)}if(aF.points.show){at(aF)}}function ax(aI){function aH(aT,aU,aM,aY,aX){var aZ=aT.points,aN=aT.pointsize,aR=null,aQ=null;L.beginPath();for(var aS=aN;aS<aZ.length;aS+=aN){var aP=aZ[aS-aN],aW=aZ[aS-aN+1],aO=aZ[aS],aV=aZ[aS+1];if(aP==null||aO==null){continue}if(aW<=aV&&aW<aX.min){if(aV<aX.min){continue}aP=(aX.min-aW)/(aV-aW)*(aO-aP)+aP;aW=aX.min}else{if(aV<=aW&&aV<aX.min){if(aW<aX.min){continue}aO=(aX.min-aW)/(aV-aW)*(aO-aP)+aP;aV=aX.min}}if(aW>=aV&&aW>aX.max){if(aV>aX.max){continue}aP=(aX.max-aW)/(aV-aW)*(aO-aP)+aP;aW=aX.max}else{if(aV>=aW&&aV>aX.max){if(aW>aX.max){continue}aO=(aX.max-aW)/(aV-aW)*(aO-aP)+aP;aV=aX.max}}if(aP<=aO&&aP<aY.min){if(aO<aY.min){continue}aW=(aY.min-aP)/(aO-aP)*(aV-aW)+aW;aP=aY.min}else{if(aO<=aP&&aO<aY.min){if(aP<aY.min){continue}aV=(aY.min-aP)/(aO-aP)*(aV-aW)+aW;aO=aY.min}}if(aP>=aO&&aP>aY.max){if(aO>aY.max){continue}aW=(aY.max-aP)/(aO-aP)*(aV-aW)+aW;aP=aY.max}else{if(aO>=aP&&aO>aY.max){if(aP>aY.max){continue}aV=(aY.max-aP)/(aO-aP)*(aV-aW)+aW;aO=aY.max}}if(aP!=aR||aW!=aQ){L.moveTo(aY.p2c(aP)+aU,aX.p2c(aW)+aM)}aR=aO;aQ=aV;L.lineTo(aY.p2c(aO)+aU,aX.p2c(aV)+aM)}L.stroke()}function aJ(aM,aU,aT){var a0=aM.points,aZ=aM.pointsize,aR=Math.min(Math.max(0,aT.min),aT.max),a1=0,aY,aX=false,aQ=1,aP=0,aV=0;while(true){if(aZ>0&&a1>a0.length+aZ){break}a1+=aZ;var a3=a0[a1-aZ],aO=a0[a1-aZ+aQ],a2=a0[a1],aN=a0[a1+aQ];if(aX){if(aZ>0&&a3!=null&&a2==null){aV=a1;aZ=-aZ;aQ=2;continue}if(aZ<0&&a1==aP+aZ){L.fill();aX=false;aZ=-aZ;aQ=1;a1=aP=aV+aZ;continue}}if(a3==null||a2==null){continue}if(a3<=a2&&a3<aU.min){if(a2<aU.min){continue}aO=(aU.min-a3)/(a2-a3)*(aN-aO)+aO;a3=aU.min}else{if(a2<=a3&&a2<aU.min){if(a3<aU.min){continue}aN=(aU.min-a3)/(a2-a3)*(aN-aO)+aO;a2=aU.min}}if(a3>=a2&&a3>aU.max){if(a2>aU.max){continue}aO=(aU.max-a3)/(a2-a3)*(aN-aO)+aO;a3=aU.max}else{if(a2>=a3&&a2>aU.max){if(a3>aU.max){continue}aN=(aU.max-a3)/(a2-a3)*(aN-aO)+aO;a2=aU.max}}if(!aX){L.beginPath();L.moveTo(aU.p2c(a3),aT.p2c(aR));aX=true}if(aO>=aT.max&&aN>=aT.max){L.lineTo(aU.p2c(a3),aT.p2c(aT.max));L.lineTo(aU.p2c(a2),aT.p2c(aT.max));continue}else{if(aO<=aT.min&&aN<=aT.min){L.lineTo(aU.p2c(a3),aT.p2c(aT.min));L.lineTo(aU.p2c(a2),aT.p2c(aT.min));continue}}var aS=a3,aW=a2;if(aO<=aN&&aO<aT.min&&aN>=aT.min){a3=(aT.min-aO)/(aN-aO)*(a2-a3)+a3;aO=aT.min}else{if(aN<=aO&&aN<aT.min&&aO>=aT.min){a2=(aT.min-aO)/(aN-aO)*(a2-a3)+a3;aN=aT.min}}if(aO>=aN&&aO>aT.max&&aN<=aT.max){a3=(aT.max-aO)/(aN-aO)*(a2-a3)+a3;aO=aT.max}else{if(aN>=aO&&aN>aT.max&&aO<=aT.max){a2=(aT.max-aO)/(aN-aO)*(a2-a3)+a3;aN=aT.max}}if(a3!=aS){L.lineTo(aU.p2c(aS),aT.p2c(aO))}L.lineTo(aU.p2c(a3),aT.p2c(aO));L.lineTo(aU.p2c(a2),aT.p2c(aN));if(a2!=aW){L.lineTo(aU.p2c(a2),aT.p2c(aN));L.lineTo(aU.p2c(aW),aT.p2c(aN))}}}L.save();L.translate(r.left,r.top);L.lineJoin="round";var aK=aI.lines.lineWidth,aF=aI.shadowSize;if(aK>0&&aF>0){L.lineWidth=aF;L.strokeStyle="rgba(0,0,0,0.1)";var aL=Math.PI/18;aH(aI.datapoints,Math.sin(aL)*(aK/2+aF/2),Math.cos(aL)*(aK/2+aF/2),aI.xaxis,aI.yaxis);L.lineWidth=aF/2;aH(aI.datapoints,Math.sin(aL)*(aK/2+aF/4),Math.cos(aL)*(aK/2+aF/4),aI.xaxis,aI.yaxis)}L.lineWidth=aK;L.strokeStyle=aI.color;var aG=ai(aI.lines,aI.color,0,A);if(aG){L.fillStyle=aG;aJ(aI.datapoints,aI.xaxis,aI.yaxis)}if(aK>0){aH(aI.datapoints,0,0,aI.xaxis,aI.yaxis)}L.restore()}function at(aI){function aL(aR,aQ,aY,aO,aW,aX,aU,aN){var aV=aR.points,aM=aR.pointsize;for(var aP=0;aP<aV.length;aP+=aM){var aT=aV[aP],aS=aV[aP+1];if(aT==null||aT<aX.min||aT>aX.max||aS<aU.min||aS>aU.max){continue}L.beginPath();aT=aX.p2c(aT);aS=aU.p2c(aS)+aO;if(aN=="circle"){L.arc(aT,aS,aQ,0,aW?Math.PI:Math.PI*2,false)}else{aN(L,aT,aS,aQ,aW)}L.closePath();if(aY){L.fillStyle=aY;L.fill()}L.stroke()}}L.save();L.translate(r.left,r.top);var aK=aI.points.lineWidth,aG=aI.shadowSize,aF=aI.points.radius,aJ=aI.points.symbol;if(aK>0&&aG>0){var aH=aG/2;L.lineWidth=aH;L.strokeStyle="rgba(0,0,0,0.1)";aL(aI.datapoints,aF,null,aH+aH/2,true,aI.xaxis,aI.yaxis,aJ);L.strokeStyle="rgba(0,0,0,0.2)";aL(aI.datapoints,aF,null,aH/2,true,aI.xaxis,aI.yaxis,aJ)}L.lineWidth=aK;L.strokeStyle=aI.color;aL(aI.datapoints,aF,ai(aI.points,aI.color),0,false,aI.xaxis,aI.yaxis,aJ);L.restore()}function I(aR,aQ,aZ,aM,aU,aJ,aH,aP,aO,aY,aV,aG){var aI,aX,aN,aT,aK,aF,aS,aL,aW;if(aV){aL=aF=aS=true;aK=false;aI=aZ;aX=aR;aT=aQ+aM;aN=aQ+aU;if(aX<aI){aW=aX;aX=aI;aI=aW;aK=true;aF=false}}else{aK=aF=aS=true;aL=false;aI=aR+aM;aX=aR+aU;aN=aZ;aT=aQ;if(aT<aN){aW=aT;aT=aN;aN=aW;aL=true;aS=false}}if(aX<aP.min||aI>aP.max||aT<aO.min||aN>aO.max){return}if(aI<aP.min){aI=aP.min;aK=false}if(aX>aP.max){aX=aP.max;aF=false}if(aN<aO.min){aN=aO.min;aL=false}if(aT>aO.max){aT=aO.max;aS=false}aI=aP.p2c(aI);aN=aO.p2c(aN);aX=aP.p2c(aX);aT=aO.p2c(aT);if(aH){aY.beginPath();aY.moveTo(aI,aN);aY.lineTo(aI,aT);aY.lineTo(aX,aT);aY.lineTo(aX,aN);aY.fillStyle=aH(aN,aT);aY.fill()}if(aG>0&&(aK||aF||aS||aL)){aY.beginPath();aY.moveTo(aI,aN+aJ);if(aK){aY.lineTo(aI,aT+aJ)}else{aY.moveTo(aI,aT+aJ)}if(aS){aY.lineTo(aX,aT+aJ)}else{aY.moveTo(aX,aT+aJ)}if(aF){aY.lineTo(aX,aN+aJ)}else{aY.moveTo(aX,aN+aJ)}if(aL){aY.lineTo(aI,aN+aJ)}else{aY.moveTo(aI,aN+aJ)}aY.stroke()}}function e(aH){function aG(aN,aM,aP,aK,aO,aR,aQ){var aS=aN.points,aJ=aN.pointsize;for(var aL=0;aL<aS.length;aL+=aJ){if(aS[aL]==null){continue}I(aS[aL],aS[aL+1],aS[aL+2],aM,aP,aK,aO,aR,aQ,L,aH.bars.horizontal,aH.bars.lineWidth)}}L.save();L.translate(r.left,r.top);L.lineWidth=aH.bars.lineWidth;L.strokeStyle=aH.color;var aF=aH.bars.align=="left"?0:-aH.bars.barWidth/2;var aI=aH.bars.fill?function(aJ,aK){return ai(aH.bars,aH.color,aJ,aK)}:null;aG(aH.datapoints,aF,aF+aH.bars.barWidth,0,aI,aH.xaxis,aH.yaxis);L.restore()}function ai(aH,aF,aG,aJ){var aI=aH.fill;if(!aI){return null}if(aH.fillColor){return aq(aH.fillColor,aG,aJ,aF)}var aK=c.color.parse(aF);aK.a=typeof aI=="number"?aI:0.4;aK.normalize();return aK.toString()}function p(){az.find(".legend").remove();if(!S.legend.show){return}var aL=[],aJ=false,aR=S.legend.labelFormatter,aQ,aN;for(var aI=0;aI<U.length;++aI){aQ=U[aI];aN=aQ.label;if(!aN){continue}if(aI%S.legend.noColumns==0){if(aJ){aL.push("</tr>")}aL.push("<tr>");aJ=true}if(aR){aN=aR(aN,aQ)}aL.push('<td class="legendColorBox"><div style="'+S.legend.labelBoxBorderColor+'"><div style="width:15px;height:0;border:3px solid '+aQ.color+';overflow:hidden"></div></div></td><td class="legendLabel"><span>'+aN+"</span></td>")}if(aJ){aL.push("</tr>")}if(aL.length==0){return}var aP='<table style="font-size: 11px; color:'+S.grid.color+'">'+aL.join("")+"</table>";if(S.legend.container!=null){c(S.legend.container).html(aP)}else{var aM="",aG=S.legend.position,aH=S.legend.margin;if(aH[0]==null){aH=[aH,aH]}if(aG.charAt(0)=="n"){aM+="top:"+(aH[1]+r.top)+"px;"}else{if(aG.charAt(0)=="s"){aM+="bottom:"+(aH[1]+r.bottom)+"px;"}}if(aG.charAt(1)=="e"){aM+="right:"+(aH[0]+r.right)+"px;"}else{if(aG.charAt(1)=="w"){aM+="left:"+(aH[0]+r.left)+"px;"}}var aO=c('<div class="legend">'+aP.replace('style="','style="position:absolute;'+aM+";")+"</div>").appendTo(az);if(S.legend.backgroundOpacity!=0){var aK=S.legend.backgroundColor;if(aK==null){aK=S.grid.backgroundColor;if(aK&&typeof aK=="string"){aK=c.color.parse(aK)}else{aK=c.color.extract(aO,"background-color")}aK.a=1;aK=aK.toString()}var aF=aO.children();c('<div style="position:absolute;width:'+aF.width()+"px;height:"+aF.height()+"px;"+aM+"background-color:"+aK+';"> </div>').prependTo(aO).css("opacity",S.legend.backgroundOpacity)}}}var af=[],Q=null;function O(aM,aK,aH){var aS=S.grid.mouseActiveRadius,a4=aS*aS+1,a2=null,aV=false,a0,aY;for(a0=U.length-1;a0>=0;--a0){if(!aH(U[a0])){continue}var aT=U[a0],aL=aT.xaxis,aJ=aT.yaxis,aZ=aT.datapoints.points,aX=aT.datapoints.pointsize,aU=aL.c2p(aM),aR=aJ.c2p(aK),aG=aS/aL.scale,aF=aS/aJ.scale;if(aL.options.inverseTransform){aG=Number.MAX_VALUE}if(aJ.options.inverseTransform){aF=Number.MAX_VALUE}if(aT.lines.show||aT.points.show){for(aY=0;aY<aZ.length;aY+=aX){var aO=aZ[aY],aN=aZ[aY+1];if(aO==null){continue}if(aO-aU>aG||aO-aU<-aG||aN-aR>aF||aN-aR<-aF){continue}var aQ=Math.abs(aL.p2c(aO)-aM),aP=Math.abs(aJ.p2c(aN)-aK),aW=aQ*aQ+aP*aP;if(aW<a4){a4=aW;a2=[a0,aY/aX]}}}if(aT.bars.show&&!a2){var aI=aT.bars.align=="left"?0:-aT.bars.barWidth/2,a1=aI+aT.bars.barWidth;for(aY=0;aY<aZ.length;aY+=aX){var aO=aZ[aY],aN=aZ[aY+1],a3=aZ[aY+2];if(aO==null){continue}if(U[a0].bars.horizontal?(aU<=Math.max(a3,aO)&&aU>=Math.min(a3,aO)&&aR>=aN+aI&&aR<=aN+a1):(aU>=aO+aI&&aU<=aO+a1&&aR>=Math.min(a3,aN)&&aR<=Math.max(a3,aN))){a2=[a0,aY/aX]}}}}if(a2){a0=a2[0];aY=a2[1];aX=U[a0].datapoints.pointsize;return{datapoint:U[a0].datapoints.points.slice(aY*aX,(aY+1)*aX),dataIndex:aY,series:U[a0],seriesIndex:a0}}return null}function ae(aF){if(S.grid.hoverable){w("plothover",aF,function(aG){return aG.hoverable!=false})}}function m(aF){if(S.grid.hoverable){w("plothover",aF,function(aG){return false})}}function V(aF){w("plotclick",aF,function(aG){return aG.clickable!=false})}function w(aG,aF,aH){var aI=C.offset(),aL=aF.pageX-aI.left-r.left,aJ=aF.pageY-aI.top-r.top,aN=G({left:aL,top:aJ});aN.pageX=aF.pageX;aN.pageY=aF.pageY;var aO=O(aL,aJ,aH);if(aO){aO.pageX=parseInt(aO.series.xaxis.p2c(aO.datapoint[0])+aI.left+r.left);aO.pageY=parseInt(aO.series.yaxis.p2c(aO.datapoint[1])+aI.top+r.top)}if(S.grid.autoHighlight){for(var aK=0;aK<af.length;++aK){var aM=af[aK];if(aM.auto==aG&&!(aO&&aM.series==aO.series&&aM.point[0]==aO.datapoint[0]&&aM.point[1]==aO.datapoint[1])){X(aM.series,aM.point)}}if(aO){B(aO.series,aO.datapoint,aG)}}az.trigger(aG,[aN,aO])}function g(){if(!Q){Q=setTimeout(u,30)}}function u(){Q=null;E.save();E.clearRect(0,0,K,M);E.translate(r.left,r.top);var aG,aF;for(aG=0;aG<af.length;++aG){aF=af[aG];if(aF.series.bars.show){z(aF.series,aF.point)}else{aC(aF.series,aF.point)}}E.restore();ar(ao.drawOverlay,[E])}function B(aH,aF,aJ){if(typeof aH=="number"){aH=U[aH]}if(typeof aF=="number"){var aI=aH.datapoints.pointsize;aF=aH.datapoints.points.slice(aI*aF,aI*(aF+1))}var aG=ap(aH,aF);if(aG==-1){af.push({series:aH,point:aF,auto:aJ});g()}else{if(!aJ){af[aG].auto=false}}}function X(aH,aF){if(aH==null&&aF==null){af=[];g()}if(typeof aH=="number"){aH=U[aH]}if(typeof aF=="number"){aF=aH.data[aF]}var aG=ap(aH,aF);if(aG!=-1){af.splice(aG,1);g()}}function ap(aH,aI){for(var aF=0;aF<af.length;++aF){var aG=af[aF];if(aG.series==aH&&aG.point[0]==aI[0]&&aG.point[1]==aI[1]){return aF}}return -1}function aC(aI,aH){var aG=aH[0],aM=aH[1],aL=aI.xaxis,aK=aI.yaxis;if(aG<aL.min||aG>aL.max||aM<aK.min||aM>aK.max){return}var aJ=aI.points.radius+aI.points.lineWidth/2;E.lineWidth=aJ;E.strokeStyle=c.color.parse(aI.color).scale("a",0.5).toString();var aF=1.5*aJ,aG=aL.p2c(aG),aM=aK.p2c(aM);E.beginPath();if(aI.points.symbol=="circle"){E.arc(aG,aM,aF,0,2*Math.PI,false)}else{aI.points.symbol(E,aG,aM,aF,false)}E.closePath();E.stroke()}function z(aI,aF){E.lineWidth=aI.bars.lineWidth;E.strokeStyle=c.color.parse(aI.color).scale("a",0.5).toString();var aH=c.color.parse(aI.color).scale("a",0.5).toString();var aG=aI.bars.align=="left"?0:-aI.bars.barWidth/2;I(aF[0],aF[1],aF[2]||0,aG,aG+aI.bars.barWidth,0,function(){return aH},aI.xaxis,aI.yaxis,E,aI.bars.horizontal,aI.bars.lineWidth)}function aq(aN,aF,aL,aG){if(typeof aN=="string"){return aN}else{var aM=L.createLinearGradient(0,aL,0,aF);for(var aI=0,aH=aN.colors.length;aI<aH;++aI){var aJ=aN.colors[aI];if(typeof aJ!="string"){var aK=c.color.parse(aG);if(aJ.brightness!=null){aK=aK.scale("rgb",aJ.brightness)}if(aJ.opacity!=null){aK.a*=aJ.opacity}aJ=aK.toString()}aM.addColorStop(aI/(aH-1),aJ)}return aM}}}c.plot=function(h,e,d){var g=new b(c(h),e,d,c.plot.plugins);return g};c.plot.version="0.7";c.plot.plugins=[];c.plot.formatDate=function(m,g,j){var p=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var q=false,k=false;var o=m.getUTCHours();var l=o<12;if(j==null){j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(g.search(/%p|%P/)!=-1){if(o>12){o=o-12}else{if(o==0){o=12}}}for(var h=0;h<g.length;++h){var n=g.charAt(h);if(q){switch(n){case"h":n=""+o;break;case"H":n=p(o);break;case"M":n=p(m.getUTCMinutes());break;case"S":n=p(m.getUTCSeconds());break;case"d":n=""+m.getUTCDate();break;case"m":n=""+(m.getUTCMonth()+1);break;case"y":n=""+m.getUTCFullYear();break;case"b":n=""+j[m.getUTCMonth()];break;case"p":n=(l)?("am"):("pm");break;case"P":n=(l)?("AM"):("PM");break;case"0":n="";k=true;break}if(n&&k){n=p(n);k=false}e.push(n);if(!k){q=false}}else{if(n=="%"){q=true}else{e.push(n)}}}return e.join("")};function a(e,d){return d*Math.floor(e/d)}})(jQuery);(function(b){function c(F){var j=null;var N=null;var o=null;var D=null;var q=null;var O=0;var H=true;var p=10;var A=0.95;var C=0;var d=false;var B=false;var k=[];F.hooks.processOptions.push(h);F.hooks.bindEvents.push(e);function h(Q,P){if(P.series.pie.show){P.grid.show=false;if(P.series.pie.label.show=="auto"){if(P.legend.show){P.series.pie.label.show=false}else{P.series.pie.label.show=true}}if(P.series.pie.radius=="auto"){if(P.series.pie.label.show){P.series.pie.radius=3/4}else{P.series.pie.radius=1}}if(P.series.pie.tilt>1){P.series.pie.tilt=1}if(P.series.pie.tilt<0){P.series.pie.tilt=0}Q.hooks.processDatapoints.push(G);Q.hooks.drawOverlay.push(J);Q.hooks.draw.push(s)}}function e(R,P){var Q=R.getOptions();if(Q.series.pie.show&&Q.grid.hoverable){P.unbind("mousemove").mousemove(v)}if(Q.series.pie.show&&Q.grid.clickable){P.unbind("click").click(m)}}function I(Q){var R="";function P(U,V){if(!V){V=0}for(var T=0;T<U.length;++T){for(var S=0;S<V;S++){R+="\t"}if(typeof U[T]=="object"){R+=""+T+":\n";P(U[T],V+1)}else{R+=""+T+": "+U[T]+"\n"}}}P(Q);alert(R)}function r(R){for(var P=0;P<R.length;++P){var Q=parseFloat(R[P].data[0][1]);if(Q){O+=Q}}}function G(S,P,Q,R){if(!d){d=true;j=S.getCanvas();N=b(j).parent();a=S.getOptions();S.setData(M(S.getData()))}}function K(){C=N.children().filter(".legend").children().width();o=Math.min(j.width,(j.height/a.series.pie.tilt))/2;q=(j.height/2)+a.series.pie.offset.top;D=(j.width/2);if(a.series.pie.offset.left=="auto"){if(a.legend.position.match("w")){D+=C/2}else{D-=C/2}}else{D+=a.series.pie.offset.left}if(D<o){D=o}else{if(D>j.width-o){D=j.width-o}}}function z(Q){for(var P=0;P<Q.length;++P){if(typeof(Q[P].data)=="number"){Q[P].data=[[1,Q[P].data]]}else{if(typeof(Q[P].data)=="undefined"||typeof(Q[P].data[0])=="undefined"){if(typeof(Q[P].data)!="undefined"&&typeof(Q[P].data.label)!="undefined"){Q[P].label=Q[P].data.label}Q[P].data=[[1,0]]}}}return Q}function M(S){S=z(S);r(S);var R=0;var U=0;var P=a.series.pie.combine.color;var T=[];for(var Q=0;Q<S.length;++Q){S[Q].data[0][1]=parseFloat(S[Q].data[0][1]);if(!S[Q].data[0][1]){S[Q].data[0][1]=0}if(S[Q].data[0][1]/O<=a.series.pie.combine.threshold){R+=S[Q].data[0][1];U++;if(!P){P=S[Q].color}}else{T.push({data:[[1,S[Q].data[0][1]]],color:S[Q].color,label:S[Q].label,angle:(S[Q].data[0][1]*(Math.PI*2))/O,percent:(S[Q].data[0][1]/O*100)})}}if(U>0){T.push({data:[[1,R]],color:P,label:a.series.pie.combine.label,angle:(R*(Math.PI*2))/O,percent:(R/O*100)})}return T}function s(U,S){if(!N){return}ctx=S;K();var V=U.getData();var R=0;while(H&&R<p){H=false;if(R>0){o*=A}R+=1;P();if(a.series.pie.tilt<=0.8){Q()}T()}if(R>=p){P();N.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')}if(U.setSeries&&U.insertLegend){U.setSeries(V);U.insertLegend()}function P(){ctx.clearRect(0,0,j.width,j.height);N.children().filter(".pieLabel, .pieLabelBackground").remove()}function Q(){var ab=5;var aa=15;var Y=10;var Z=0.02;if(a.series.pie.radius>1){var W=a.series.pie.radius}else{var W=o*a.series.pie.radius}if(W>=(j.width/2)-ab||W*a.series.pie.tilt>=(j.height/2)-aa||W<=Y){return}ctx.save();ctx.translate(ab,aa);ctx.globalAlpha=Z;ctx.fillStyle="#000";ctx.translate(D,q);ctx.scale(1,a.series.pie.tilt);for(var X=1;X<=Y;X++){ctx.beginPath();ctx.arc(0,0,W,0,Math.PI*2,false);ctx.fill();W-=X}ctx.restore()}function T(){startAngle=Math.PI*a.series.pie.startAngle;if(a.series.pie.radius>1){var W=a.series.pie.radius}else{var W=o*a.series.pie.radius}ctx.save();ctx.translate(D,q);ctx.scale(1,a.series.pie.tilt);ctx.save();var aa=startAngle;for(var Y=0;Y<V.length;++Y){V[Y].startAngle=aa;Z(V[Y].angle,V[Y].color,true)}ctx.restore();ctx.save();ctx.lineWidth=a.series.pie.stroke.width;aa=startAngle;for(var Y=0;Y<V.length;++Y){Z(V[Y].angle,a.series.pie.stroke.color,false)}ctx.restore();L(ctx);if(a.series.pie.label.show){X()}ctx.restore();function Z(ad,ab,ac){if(ad<=0){return}if(ac){ctx.fillStyle=ab}else{ctx.strokeStyle=ab;ctx.lineJoin="round"}ctx.beginPath();if(Math.abs(ad-Math.PI*2)>1e-9){ctx.moveTo(0,0)}else{if(b.browser.msie){ad-=0.0001}}ctx.arc(0,0,W,aa,aa+ad,false);ctx.closePath();aa+=ad;if(ac){ctx.fill()}else{ctx.stroke()}}function X(){var ae=startAngle;if(a.series.pie.label.radius>1){var ab=a.series.pie.label.radius}else{var ab=o*a.series.pie.label.radius}for(var ad=0;ad<V.length;++ad){if(V[ad].percent>=a.series.pie.label.threshold*100){ac(V[ad],ae,ad)}ae+=V[ad].angle}function ac(ar,ak,ai){if(ar.data[0][1]==0){return}var au=a.legend.labelFormatter,at,ag=a.series.pie.label.formatter;if(au){at=au(ar.label,ar)}else{at=ar.label}if(ag){at=ag(at,ar)}var al=((ak+ar.angle)+ak)/2;var aq=D+Math.round(Math.cos(al)*ab);var ao=q+Math.round(Math.sin(al)*ab)*a.series.pie.tilt;var ah='<span class="pieLabel" id="pieLabel'+ai+'" style="position:absolute;top:'+ao+"px;left:"+aq+'px;">'+at+"</span>";N.append(ah);var ap=N.children("#pieLabel"+ai);var af=(ao-ap.height()/2);var aj=(aq-ap.width()/2);ap.css("top",af);ap.css("left",aj);if(0-af>0||0-aj>0||j.height-(af+ap.height())<0||j.width-(aj+ap.width())<0){H=true}if(a.series.pie.label.background.opacity!=0){var am=a.series.pie.label.background.color;if(am==null){am=ar.color}var an="top:"+af+"px;left:"+aj+"px;";b('<div class="pieLabelBackground" style="position:absolute;width:'+ap.width()+"px;height:"+ap.height()+"px;"+an+"background-color:"+am+';"> </div>').insertBefore(ap).css("opacity",a.series.pie.label.background.opacity)}}}}}function L(P){if(a.series.pie.innerRadius>0){P.save();innerRadius=a.series.pie.innerRadius>1?a.series.pie.innerRadius:o*a.series.pie.innerRadius;P.globalCompositeOperation="destination-out";P.beginPath();P.fillStyle=a.series.pie.stroke.color;P.arc(0,0,innerRadius,0,Math.PI*2,false);P.fill();P.closePath();P.restore();P.save();P.beginPath();P.strokeStyle=a.series.pie.stroke.color;P.arc(0,0,innerRadius,0,Math.PI*2,false);P.stroke();P.closePath();P.restore()}}function u(S,T){for(var U=false,R=-1,P=S.length,Q=P-1;++R<P;Q=R){((S[R][1]<=T[1]&&T[1]<S[Q][1])||(S[Q][1]<=T[1]&&T[1]<S[R][1]))&&(T[0]<(S[Q][0]-S[R][0])*(T[1]-S[R][1])/(S[Q][1]-S[R][1])+S[R][0])&&(U=!U)}return U}function w(T,R){var V=F.getData(),Q=F.getOptions(),P=Q.series.pie.radius>1?Q.series.pie.radius:o*Q.series.pie.radius;for(var S=0;S<V.length;++S){var U=V[S];if(U.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,P,U.startAngle,U.startAngle+U.angle,false);ctx.closePath();x=T-D;y=R-q;if(ctx.isPointInPath){if(ctx.isPointInPath(T-D,R-q)){ctx.restore();return{datapoint:[U.percent,U.data],dataIndex:0,series:U,seriesIndex:S}}}else{p1X=(P*Math.cos(U.startAngle));p1Y=(P*Math.sin(U.startAngle));p2X=(P*Math.cos(U.startAngle+(U.angle/4)));p2Y=(P*Math.sin(U.startAngle+(U.angle/4)));p3X=(P*Math.cos(U.startAngle+(U.angle/2)));p3Y=(P*Math.sin(U.startAngle+(U.angle/2)));p4X=(P*Math.cos(U.startAngle+(U.angle/1.5)));p4Y=(P*Math.sin(U.startAngle+(U.angle/1.5)));p5X=(P*Math.cos(U.startAngle+U.angle));p5Y=(P*Math.sin(U.startAngle+U.angle));arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];if(u(arrPoly,arrPoint)){ctx.restore();return{datapoint:[U.percent,U.data],dataIndex:0,series:U,seriesIndex:S}}}ctx.restore()}}return null}function v(P){n("plothover",P)}function m(P){n("plotclick",P)}function n(P,V){var Q=F.offset(),T=parseInt(V.pageX-Q.left),R=parseInt(V.pageY-Q.top),X=w(T,R);if(a.grid.autoHighlight){for(var S=0;S<k.length;++S){var U=k[S];if(U.auto==P&&!(X&&U.series==X.series)){g(U.series)}}}if(X){l(X.series,P)}var W={pageX:V.pageX,pageY:V.pageY};N.trigger(P,[W,X])}function l(Q,R){if(typeof Q=="number"){Q=series[Q]}var P=E(Q);if(P==-1){k.push({series:Q,auto:R});F.triggerRedrawOverlay()}else{if(!R){k[P].auto=false}}}function g(Q){if(Q==null){k=[];F.triggerRedrawOverlay()}if(typeof Q=="number"){Q=series[Q]}var P=E(Q);if(P!=-1){k.splice(P,1);F.triggerRedrawOverlay()}}function E(R){for(var P=0;P<k.length;++P){var Q=k[P];if(Q.series==R){return P}}return -1}function J(S,T){var R=S.getOptions();var P=R.series.pie.radius>1?R.series.pie.radius:o*R.series.pie.radius;T.save();T.translate(D,q);T.scale(1,R.series.pie.tilt);for(i=0;i<k.length;++i){Q(k[i].series)}L(T);T.restore();function Q(U){if(U.angle<0){return}T.fillStyle="rgba(255, 255, 255, "+R.series.pie.highlight.opacity+")";T.beginPath();if(Math.abs(U.angle-Math.PI*2)>1e-9){T.moveTo(0,0)}T.arc(0,0,P,U.startAngle,U.startAngle+U.angle,false);T.closePath();T.fill()}}}var a={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(d,e){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+e.color+';">'+d+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};b.plot.plugins.push({init:c,options:a,name:"pie",version:"1.0"})})(jQuery);(function(n,p,v){var z=n([]),s=n.resize=n.extend(n.resize,{}),o,l="setTimeout",m="resize",u=m+"-special-event",w="delay",r="throttleWindow";s[w]=250;s[r]=true;n.event.special[m]={setup:function(){if(!s[r]&&this[l]){return false}var a=n(this);z=z.add(a);n.data(this,u,{w:a.width(),h:a.height()});if(z.length===1){q()}},teardown:function(){if(!s[r]&&this[l]){return false}var a=n(this);z=z.not(a);a.removeData(u);if(!z.length){clearTimeout(o)}},add:function(b){if(!s[r]&&this[l]){return false}var c;function a(d,j,h){var g=n(this),e=n.data(this,u);e.w=j!==v?j:g.width();e.h=h!==v?h:g.height();c.apply(this,arguments)}if(n.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function q(){o=p[l](function(){z.each(function(){var d=n(this),a=d.width(),b=d.height(),c=n.data(this,u);if(a!==c.w||b!==c.h){d.trigger(m,[c.w=a,c.h=b])}});q()},s[w])}})(jQuery,this);(function(b){var c=0;var a={};function d(e){function g(k,h){if(!c){k.getPlaceholder().resize(j)}function j(){var l=k.getPlaceholder();if(l.width()==0||l.height()==0){return}++c;b.plot(l,k.getData(),k.getOptions());--c}}e.hooks.bindEvents.push(g)}b.plot.plugins.push({init:d,options:a,name:"resize",version:"1.0"})})(jQuery);
/*
 * Autogrow Textarea Plugin Version v2.0
 * http://www.technoreply.com/autogrow-textarea-plugin-version-2-0
 *
 * Copyright 2011, Jevin O. Sewaruth
 *
 * Date: March 13, 2011
 */
jQuery.fn.autoGrow=function(){return this.each(function(){var c=this.cols;var b=this.rows;var d=function(){e(this)};var e=function(k){var j=0;var g=k.value.split("\n");for(var h=g.length-1;h>=0;--h){j+=Math.floor((g[h].length/c)+1)}if(j>=b){k.rows=j+1}else{k.rows=b}};var a=function(h){var g=0;var l=0;var k=0;var j=h.cols;h.cols=1;l=h.offsetWidth;h.cols=2;k=h.offsetWidth;g=k-l;h.cols=j;return g};this.style.height="auto";this.style.overflow="hidden";this.onkeyup=d;this.onfocus=d;this.onblur=d;e(this)})};(function(a){var b=function(c){var g=null;var e=a("#"+c);var d=a("input[name="+c+"]");if(e.length){g=e}else{if(d!=undefined){g=d}}return g};a.fn.autotab_magic=function(c){for(var d=0;d<this.length;d++){var g=d+1;var e=d-1;if(d>0&&g<this.length){a(this[d]).autotab({target:a(this[g]),previous:a(this[e])})}else{if(d>0){a(this[d]).autotab({previous:a(this[e])})}else{a(this[d]).autotab({target:a(this[g])})}}if(c!=null&&(isNaN(c)&&c==a(this[d]).attr("id"))||(!isNaN(c)&&c==d)){a(this[d]).focus()}}return this};a.fn.autotab_filter=function(c){var e={format:"all",uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof c=="string"||typeof c=="function"){e.format=c}else{a.extend(e,c)}for(var d=0;d<this.length;d++){a(this[d]).bind("keyup",function(h){var j=this.value;switch(e.format){case"text":var g=new RegExp("[0-9]+","g");j=j.replace(g,"");break;case"alpha":var g=new RegExp("[^a-zA-Z]+","g");j=j.replace(g,"");break;case"number":case"numeric":var g=new RegExp("[^0-9]+","g");j=j.replace(g,"");break;case"alphanumeric":var g=new RegExp("[^0-9a-zA-Z]+","g");j=j.replace(g,"");break;case"custom":var g=new RegExp(e.pattern,"g");j=j.replace(g,"");break;case"all":default:if(typeof e.format=="function"){var j=e.format(j)}break}if(e.nospace){var g=new RegExp("[ ]+","g");j=j.replace(g,"")}if(e.uppercase){j=j.toUpperCase()}if(e.lowercase){j=j.toLowerCase()}if(j!=this.value){this.value=j}})}};a.fn.autotab=function(c){var e={format:"all",maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null};a.extend(e,c);if(typeof e.target=="string"){e.target=b(e.target)}if(typeof e.previous=="string"){e.previous=b(e.previous)}var d=a(this).attr("maxlength");if(e.maxlength==2147483647&&d!=2147483647){e.maxlength=d}else{if(e.maxlength>0){a(this).attr("maxlength",e.maxlength)}else{e.target=null}}if(e.format!="all"){a(this).autotab_filter(e)}return a(this).bind("keydown",function(g){if(g.which==8&&this.value.length==0&&e.previous){e.previous.focus().val(e.previous.val())}}).bind("keyup",function(h){var g=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(h.which!=8){var j=a(this).val();if(a.inArray(h.which,g)==-1&&j.length==e.maxlength&&e.target){e.target.focus()}}})}})(jQuery);(function(d){var c={preloadImg:true};var e=false;var k=function(n){n=n.replace(/^url\((.*)\)/,"$1").replace(/^\"(.*)\"$/,"$1");var l=new Image();l.src=n.replace(/\.([a-zA-Z]*)$/,"-hover.$1");var m=new Image();m.src=n.replace(/\.([a-zA-Z]*)$/,"-focus.$1")};var b=function(n){var l=d(n.get(0).form);var o=n.next();if(!o.is("label")){o=n.prev();if(o.is("label")){var m=n.attr("id");if(m){o=l.find('label[for="'+m+'"]')}}}if(o.is("label")){return o.css("cursor","pointer")}return false};var a=function(l){var m=d(".jqTransformSelectWrapper ul:visible");m.each(function(){var n=d(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);if(!(l&&n.oLabel&&n.oLabel.get(0)==l.get(0))){d(this).hide()}})};var g=function(l){if(d(l.target).parents(".jqTransformSelectWrapper").length===0){a(d(l.target))}};var j=function(){d(document).mousedown(g)};var h=function(m){var l;d(".jqTransformSelectWrapper select",m).each(function(){l=(this.selectedIndex<0)?0:this.selectedIndex;d("ul",d(this).parent()).each(function(){d("a:eq("+l+")",this).click()})});d("a.jqTransformCheckbox, a.jqTransformRadio",m).removeClass("jqTransformChecked");d("input:checkbox, input:radio",m).each(function(){if(this.checked){d("a",d(this).parent()).addClass("jqTransformChecked")}})};d.fn.jqTransInputButton=function(){return this.each(function(){var l=d('<button id="'+this.id+'" name="'+this.name+'" type="'+this.type+'" class="'+this.className+' jqTransformButton"><span><span>'+d(this).attr("value")+"</span></span>").hover(function(){l.addClass("jqTransformButton_hover")},function(){l.removeClass("jqTransformButton_hover")}).mousedown(function(){l.addClass("jqTransformButton_click")}).mouseup(function(){l.removeClass("jqTransformButton_click")});d(this).replaceWith(l)})};d.fn.jqTransInputText=function(){return this.each(function(){var o=d(this);if(o.hasClass("jqtranformdone")||!o.is("input")){return}o.addClass("jqtranformdone");var n=b(d(this));n&&n.bind("click",function(){o.focus()});var l=o.width();if(o.attr("size")){l=o.attr("size");o.css("width")}o.addClass("jqTransformInput").wrap('<div class="jqTransformInputWrapper"><div></div></div>');var m=o.parent().parent().parent();m.css("width");o.focus(function(){m.addClass("jqTransformInputWrapper_focus")}).blur(function(){m.removeClass("jqTransformInputWrapper_focus")}).hover(function(){m.addClass("jqTransformInputWrapper_hover")},function(){m.removeClass("jqTransformInputWrapper_hover")});d.browser.safari&&m.addClass("jqTransformSafari");d.browser.safari&&o.css("width");this.wrapper=m})};d.fn.jqTransCheckBox=function(){return this.each(function(){if(d(this).hasClass("jqTransformHidden")){return}var o=d(this);var m=this;var n=b(o);n&&n.click(function(){l.trigger("click")});var l=d('<a href="#" class="jqTransformCheckbox"></a>');o.addClass("jqTransformHidden").wrap('<span class="jqTransformCheckboxWrapper"></span>').parent().prepend(l);o.change(function(){this.checked&&l.addClass("jqTransformChecked")||l.removeClass("jqTransformChecked");return true});l.click(function(){if(o.attr("disabled")){return false}o.trigger("click").trigger("change");return false});this.checked&&l.addClass("jqTransformChecked")})};d.fn.jqTransRadio=function(){return this.each(function(){if(d(this).hasClass("jqTransformHidden")){return}var n=d(this);var m=this;oLabel=b(n);oLabel&&oLabel.click(function(){l.trigger("click")});var l=d('<a href="#" class="jqTransformRadio" rel="'+this.name+'"></a>');n.addClass("jqTransformHidden").wrap('<span class="jqTransformRadioWrapper"></span>').parent().prepend(l);n.change(function(){m.checked&&l.addClass("jqTransformChecked")||l.removeClass("jqTransformChecked");return true});l.click(function(){if(n.attr("disabled")){return false}n.trigger("click").trigger("change");d('input[name="'+n.attr("name")+'"]',m.form).not(n).each(function(){d(this).attr("type")=="radio"&&d(this).trigger("change")});return false});m.checked&&l.addClass("jqTransformChecked")})};d.fn.jqTransSelect=function(){return this.each(function(q){var l=d(this);if(l.hasClass("jqTransformHidden")){return}if(l.attr("multiple")){return}var r=b(l);var p=l.addClass("jqTransformHidden").wrap('<div class="jqTransformSelectWrapper"></div>').parent().css({zIndex:10-q});p.prepend('<div><span></span><a href="#" class="jqTransformSelectOpen"></a></div><ul></ul>');var n=d("ul",p).css("width",l.width()).hide();d("option",this).each(function(w){var z=d('<li><a href="#" index="'+w+'">'+d(this).html()+"</a></li>");n.append(z)});n.find("a").click(function(){d("a.selected",p).removeClass("selected");d(this).addClass("selected");if(l[0].selectedIndex!=d(this).attr("index")&&l[0].onchange){l[0].selectedIndex=d(this).attr("index");l[0].onchange()}l[0].selectedIndex=d(this).attr("index");d("span:eq(0)",p).html(d(this).html());n.hide();return false});d("a:eq("+this.selectedIndex+")",n).click();d("span:first",p).click(function(){d("a.jqTransformSelectOpen",p).trigger("click")});r&&r.click(function(){d("a.jqTransformSelectOpen",p).trigger("click")});this.oLabel=r;var u=d("a.jqTransformSelectOpen",p).click(function(){if(n.css("display")=="none"){a()}if(l.attr("disabled")){return false}n.slideToggle(100,function(){var w=(d("a.selected",n).offset().top-n.offset().top);n.animate({scrollTop:w})});return false});var s=l.outerWidth();var o=d("span:first",p);var m=(s>o.innerWidth())?s+u.outerWidth():p.width();p.css("width",m-24);n.css("width",m-24);o.css({width:s});n.css({display:"block",visibility:"hidden"});var v=(d("li",n).length)*(d("li:first",n).height());(v<n.height())&&n.css({height:v,overflow:"hidden"});n.css({display:"none",visibility:"visible"})})};d.fn.jqTransform=function(l){var m=d.extend({},c,l);return this.each(function(){var n=d(this);d("input:checkbox",this).jqTransCheckBox();d("input:radio",this).jqTransRadio();if(d("select",this).jqTransSelect().length>0){j()}n.bind("reset",function(){var o=function(){h(this)};window.setTimeout(o,10)})})}})(jQuery);(function(m){var j=new Array();var c=new Array();var a=new Array();var h=new Array();m.configureBoxes=function(r){var q=j.push({box1View:"box1View",box1Storage:"box1Storage",box1Filter:"box1Filter",box1Clear:"box1Clear",box1Counter:"box1Counter",box2View:"box2View",box2Storage:"box2Storage",box2Filter:"box2Filter",box2Clear:"box2Clear",box2Counter:"box2Counter",to1:"to1",allTo1:"allTo1",to2:"to2",allTo2:"allTo2",transferMode:"move",sortBy:"text",useFilters:true,useCounters:true,useSorting:true,selectOnSubmit:true});q--;m.extend(j[q],r);c.push({view:j[q].box1View,storage:j[q].box1Storage,filter:j[q].box1Filter,clear:j[q].box1Clear,counter:j[q].box1Counter,index:q});a.push({view:j[q].box2View,storage:j[q].box2Storage,filter:j[q].box2Filter,clear:j[q].box2Clear,counter:j[q].box2Counter,index:q});if(j[q].sortBy=="text"){h.push(function(v,u){var s=v.text.toLowerCase();var w=u.text.toLowerCase();if(s<w){return -1}if(s>w){return 1}return 0})}else{h.push(function(v,u){var s=v.value.toLowerCase();var w=u.value.toLowerCase();if(s<w){return -1}if(s>w){return 1}return 0})}if(j[q].useFilters){m("#"+c[q].filter).keyup(function(){g(c[q])});m("#"+a[q].filter).keyup(function(){g(a[q])});m("#"+c[q].clear).click(function(){d(c[q])});m("#"+a[q].clear).click(function(){d(a[q])})}if(k(j[q])){m("#"+a[q].view).dblclick(function(){l(a[q],c[q])});m("#"+j[q].to1).click(function(){l(a[q],c[q])});m("#"+j[q].allTo1).click(function(){e(a[q],c[q])})}else{m("#"+a[q].view).dblclick(function(){n(a[q],c[q])});m("#"+j[q].to1).click(function(){n(a[q],c[q])});m("#"+j[q].allTo1).click(function(){o(a[q],c[q])})}m("#"+c[q].view).dblclick(function(){l(c[q],a[q])});m("#"+j[q].to2).click(function(){l(c[q],a[q])});m("#"+j[q].allTo2).click(function(){e(c[q],a[q])});if(j[q].useCounters){b(c[q]);b(a[q])}if(j[q].useSorting){p(c[q]);p(a[q])}m("#"+c[q].storage+",#"+a[q].storage).css("display","none");if(j[q].selectOnSubmit){m("#"+j[q].box2View).closest("form").submit(function(){m("#"+j[q].box2View).children("option").attr("selected","selected")})}};function b(q){var s=m("#"+q.view+" option").size();var r=m("#"+q.storage+" option").size();m("#"+q.counter).text("Showing "+s+" of "+(s+r))}function g(u){var q=u.index;var s;if(j[q].useFilters){s=m("#"+u.filter).val().toString().toLowerCase()}else{s=""}m("#"+u.view+" option").filter(function(v){var w=m(this).text().toString().toLowerCase();return w.indexOf(s)==-1}).appendTo("#"+u.storage);m("#"+u.storage+" option").filter(function(v){var w=m(this).text().toString().toLowerCase();return w.indexOf(s)!=-1}).appendTo("#"+u.view);try{m("#"+u.view+" option").removeAttr("selected")}catch(r){}if(j[q].useSorting){p(u)}if(j[q].useCounters){b(u)}}function p(r){var q=m("#"+r.view+" option");q.sort(h[r.index]);m("#"+r.view).empty().append(q)}function l(s,q){if(k(j[s.index])){m("#"+s.view+" option:selected").appendTo("#"+q.view)}else{m("#"+s.view+" option:selected:not([class*=copiedOption])").clone().appendTo("#"+q.view).end().end().addClass("copiedOption")}try{m("#"+s.view+" option,#"+q.view+" option").removeAttr("selected")}catch(r){}g(q);if(j[s.index].useCounters){b(s)}}function e(s,q){if(k(j[s.index])){m("#"+s.view+" option").appendTo("#"+q.view)}else{m("#"+s.view+" option:not([class*=copiedOption])").clone().appendTo("#"+q.view).end().end().addClass("copiedOption")}try{m("#"+s.view+" option,#"+q.view+" option").removeAttr("selected")}catch(r){}g(q);if(j[s.index].useCounters){b(s)}}function n(s,r){m("#"+r.view+" option.copiedOption").add("#"+r.storage+" option.copiedOption").remove();try{m("#"+s.view+" option:selected").appendTo("#"+r.view).removeAttr("selected")}catch(q){}m("#"+s.view+" option").add("#"+s.storage+" option").clone().addClass("copiedOption").appendTo("#"+r.view);g(r);if(j[s.index].useCounters){b(s)}}function o(s,r){m("#"+r.view+" option.copiedOption").add("#"+r.storage+" option.copiedOption").remove();try{m("#"+s.storage+" option").clone().addClass("copiedOption").add("#"+s.view+" option").appendTo("#"+r.view).removeAttr("selected")}catch(q){}g(r);if(j[s.index].useCounters){b(s)}}function d(r){m("#"+r.filter).val("");m("#"+r.storage+" option").appendTo("#"+r.view);try{m("#"+r.view+" option").removeAttr("selected")}catch(q){}if(j[r.index].useSorting){p(r)}if(j[r.index].useCounters){b(r)}}function k(q){return q.transferMode=="move"}})(jQuery);(function(a){a.fn.filestyle=function(b){var c={width:250};if(b){a.extend(c,b)}return this.each(function(){var e=this;var g=a("<div class='feat'>").css({display:"inline",position:"absolute",overflow:"hidden"});var d=a('<input class="file">').addClass(a(e).attr("class")).css({display:"inline",width:c.width+"px"});a(e).before(d);a(e).wrap(g);a(e).css({position:"relative",height:c.imageheight+"px",width:c.width+"px",display:"inline",cursor:"pointer",opacity:"0.0"});if(a.browser.mozilla){if(/Win/.test(navigator.platform)){a(e).css("margin-left","-142px")}else{a(e).css("margin-left","-168px")}}else{a(e).css("margin-left",c.imagewidth-c.width+"px")}a(e).bind("change",function(){d.val(a(e).val())})})}})(jQuery);(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* ",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* "},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Email"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* --"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}};a.validationEngineLanguage.newLang()})(jQuery);(function(b){var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){a._saveOptions(d,c);b(".formError").live("click",function(){b(this).fadeOut(150,function(){b(this).remove()})})}},attach:function(g){var e=this;var d;if(g){d=a._saveOptions(e,g)}else{d=e.data("jqv")}var c=(e.find("[data-validation-engine*=validate]"))?"data-validation-engine":"class";if(!d.binded){if(d.bindMethod=="bind"){e.find("[class*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(d.validationEventTrigger,a._onFieldEvent);e.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").bind("click",a._onFieldEvent);e.find("[class*=validate][class*=datepicker]").bind(d.validationEventTrigger,{delay:300},a._onFieldEvent);e.bind("submit",a._onSubmitEvent)}else{if(d.bindMethod=="live"){e.find("[class*=validate]").not("[type=checkbox]").not(".datepicker").live(d.validationEventTrigger,a._onFieldEvent);e.find("[class*=validate][type=checkbox]").live("click",a._onFieldEvent);e.find("[class*=validate][class*=datepicker]").live(d.validationEventTrigger,{delay:300},a._onFieldEvent);e.live("submit",a._onSubmitEvent)}}d.binded=true}return this},detach:function(){var d=this;var c=d.data("jqv");if(c.binded){d.find("[class*=validate]").not("[type=checkbox]").unbind(c.validationEventTrigger,a._onFieldEvent);d.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",a._onFieldEvent);d.unbind("submit",a.onAjaxFormComplete);d.find("[class*=validate]").not("[type=checkbox]").die(c.validationEventTrigger,a._onFieldEvent);d.find("[class*=validate][type=checkbox]").die("click",a._onFieldEvent);d.die("submit",a.onAjaxFormComplete);d.removeData("jqv")}},validate:function(){return a._validateFields(this)},validateField:function(d){var c=b(this).data("jqv");return a._validateField(b(d),c)},validateform:function(){return a._onSubmitEvent.call(this)},updatePromptsPosition:function(){var d=this.closest("form");var c=d.data("jqv");d.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var h=b(this);var e=a._getPrompt(h);var g=b(e).find(".formErrorContent").html();if(e){a._updatePrompt(h,b(e),g,undefined,false,c)}})},showPrompt:function(d,g,j,e){var h=this.closest("form");var c=h.data("jqv");if(!c){c=a._saveOptions(this,c)}if(j){c.promptPosition=j}c.showArrow=e==true;a._showPrompt(this,d,g,false,c)},hidePrompt:function(){var c="."+a._getClassName(b(this).attr("id"))+"formError";b(c).fadeTo("fast",0.3,function(){b(this).remove()})},hide:function(){var c;if(b(this).is("form")){c="parentForm"+b(this).attr("id")}else{c=b(this).attr("id")+"formError"}b("."+c).fadeTo("fast",0.3,function(){b(this).remove()})},hideAll:function(){b(".formError").fadeTo("fast",0.3,function(){b(this).remove()})},_onFieldEvent:function(e){var g=b(this);var d=g.closest("form");var c=d.data("jqv");window.setTimeout(function(){a._validateField(g,c)},(e.data)?e.data.delay:0)},_onSubmitEvent:function(){var e=b(this);var c=e.data("jqv");var d=a._validateFields(e,true);if(d&&c.ajaxFormValidation){a._validateFormWithAjax(e,c);return false}if(c.onValidationComplete){c.onValidationComplete(e,d);return false}return d},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,g){if(!g){c=false;return false}});return c},_validateFields:function(g,q){var r=g.data("jqv");var h=false;g.trigger("jqv.form.validating");g.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var d=b(this);h|=a._validateField(d,r,q)});g.trigger("jqv.form.result",[h]);if(h){if(r.scroll){var p=Number.MAX_VALUE;var k=0;var m=b(".formError:not('.greenPopup')");for(var l=0;l<m.length;l++){var n=b(m[l]).offset().top;if(n<p){p=n;k=b(m[l]).offset().left}}if(!r.isOverflown){b("html:not(:animated),body:not(:animated)").animate({scrollTop:p,scrollLeft:k},1100)}else{var c=b(r.overflownDIV);var e=c.scrollTop();var j=-parseInt(c.offset().top);p+=e+j-5;var o=b(r.overflownDIV+":not(:animated)");o.animate({scrollTop:p},1100);b("html:not(:animated),body:not(:animated)").animate({scrollTop:c.offset().top,scrollLeft:k},1100)}}return false}return true},_validateFormWithAjax:function(e,d){var g=e.serialize();var c=(d.ajaxFormValidationURL)?d.ajaxFormValidationURL:e.attr("action");b.ajax({type:"GET",url:c,cache:false,dataType:"json",data:g,form:e,methods:a,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(e,d)},error:function(h,j){a._ajaxError(h,j)},success:function(m){if(m!==true){var k=false;for(var l=0;l<m.length;l++){var n=m[l];var p=n[0];var j=b(b("#"+p)[0]);if(j.length==1){var o=n[2];if(n[1]==true){if(o==""||!o){a._closePrompt(j)}else{if(d.allrules[o]){var h=d.allrules[o].alertTextOk;if(h){o=h}}a._showPrompt(j,o,"pass",false,d,true)}}else{k|=true;if(d.allrules[o]){var h=d.allrules[o].alertText;if(h){o=h}}a._showPrompt(j,o,"",false,d,true)}}}d.onAjaxFormComplete(!k,e,m,d)}else{d.onAjaxFormComplete(true,e,"",d)}}})},_validateField:function(p,v,q){if(!p.attr("id")){b.error("jQueryValidate: an ID attribute is required for this field: "+p.attr("name")+" class:"+p.attr("class"))}var u=p.attr("class");var k=/validate\[(.*)\]/.exec(u);if(!k){return false}var o=k[1];var s=o.split(/\[|,|\]/);var e=false;var r=p.attr("name");var c="";var n=false;v.isError=false;v.showArrow=true;for(var j=0;j<s.length;j++){var m=undefined;switch(s[j]){case"required":n=true;m=a._required(p,s,j,v);break;case"custom":m=a._customRegex(p,s,j,v);break;case"groupRequired":var d="[class*="+s[j+1]+"]";var h=p.closest("form").find(d).eq(0);if(h[0]!=p[0]){a._validateField(h,v,q);v.showArrow=true;continue}m=a._groupRequired(p,s,j,v);if(m){n=true}v.showArrow=false;break;case"ajax":if(!q){a._ajax(p,s,j,v);e=true}break;case"minSize":m=a._minSize(p,s,j,v);break;case"maxSize":m=a._maxSize(p,s,j,v);break;case"min":m=a._min(p,s,j,v);break;case"max":m=a._max(p,s,j,v);break;case"past":m=a._past(p,s,j,v);break;case"future":m=a._future(p,s,j,v);break;case"dateRange":var d="[class*="+s[j+1]+"]";var h=p.closest("form").find(d).eq(0);var g=p.closest("form").find(d).eq(1);if(h[0].value||g[0].value){m=a._dateRange(h,g,s,j,v)}if(m){n=true}v.showArrow=false;break;case"dateTimeRange":var d="[class*="+s[j+1]+"]";var h=p.closest("form").find(d).eq(0);var g=p.closest("form").find(d).eq(1);if(h[0].value||g[0].value){m=a._dateTimeRange(h,g,s,j,v)}if(m){n=true}v.showArrow=false;break;case"maxCheckbox":m=a._maxCheckbox(p,s,j,v);p=b(b("input[name='"+r+"']"));break;case"minCheckbox":m=a._minCheckbox(p,s,j,v);p=b(b("input[name='"+r+"']"));break;case"equals":m=a._equals(p,s,j,v);break;case"funcCall":m=a._funcCall(p,s,j,v);break;default:}if(m!==undefined){c+=m+"<br/>";v.isError=true}}if(!n){if(p.val()==""){v.isError=false}}var l=p.attr("type");if((l=="radio"||l=="checkbox")&&b("input[name='"+r+"']").size()>1){p=b(b("input[name='"+r+"'][type!=hidden]:first"));v.showArrow=false}if(l=="text"&&b("input[name='"+r+"']").size()>1){p=b(b("input[name='"+r+"'][type!=hidden]:first"));v.showArrow=false}if(v.isError){a._showPrompt(p,c,"",false,v)}else{if(!e){a._closePrompt(p)}}p.trigger("jqv.field.result",[p,v.isError,c]);return v.isError},_required:function(g,h,e,d){switch(g.attr("type")){case"text":case"password":case"textarea":case"file":default:if(!g.val()){return d.allrules[h[e]].alertText}break;case"radio":case"checkbox":var c=g.attr("name");if(b("input[name='"+c+"']:checked").size()==0){if(b("input[name='"+c+"']").size()==1){return d.allrules[h[e]].alertTextCheckboxe}else{return d.allrules[h[e]].alertTextCheckboxMultiple}}break;case"select-one":if(!g.val()){return d.allrules[h[e]].alertText}break;case"select-multiple":if(!g.find("option:selected").val()){return d.allrules[h[e]].alertText}break}},_groupRequired:function(g,j,d,c){var h="[class*="+j[d+1]+"]";var e=false;g.closest("form").find(h).each(function(){if(!a._required(b(this),j,d,c)){e=true;return false}});if(!e){return c.allrules[j[d]].alertText}},_customRegex:function(k,l,g,d){var c=l[g+1];var j=d.allrules[c];if(!j){alert("jqv:custom rule not found "+c);return}var e=j.regex;if(!e){alert("jqv:custom regex not found "+c);return}var h=new RegExp(e);if(!h.test(k.val())){return d.allrules[c].alertText}},_funcCall:function(h,j,d,c){var g=j[d+1];var e=window[g];if(typeof(e)=="function"){return e(h,j,d,c)}},_equals:function(g,h,e,d){var c=h[e+1];if(g.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_maxSize:function(j,k,g,e){var d=k[g+1];var c=j.val().length;if(c>d){var h=e.allrules.maxSize;return h.alertText+d+h.alertText2}},_minSize:function(j,k,g,d){var e=k[g+1];var c=j.val().length;if(c<e){var h=d.allrules.minSize;return h.alertText+e+h.alertText2}},_min:function(j,k,g,d){var e=parseFloat(k[g+1]);var c=parseFloat(j.val());if(c<e){var h=d.allrules.min;if(h.alertText2){return h.alertText+e+h.alertText2}return h.alertText+e}},_max:function(j,k,g,e){var d=parseFloat(k[g+1]);var c=parseFloat(j.val());if(c>d){var h=e.allrules.max;if(h.alertText2){return h.alertText+d+h.alertText2}return h.alertText+d}},_past:function(k,l,e,c){var j=l[e+1];var d=(j.toLowerCase()=="now")?new Date():a._parseDate(j);var g=a._parseDate(k.val());if(g<d){var h=c.allrules.past;if(h.alertText2){return h.alertText+a._dateToString(d)+h.alertText2}return h.alertText+a._dateToString(d)}},_future:function(k,l,e,c){var j=l[e+1];var d=(j.toLowerCase()=="now")?new Date():a._parseDate(j);var g=a._parseDate(k.val());if(g>d){var h=c.allrules.future;if(h.alertText2){return h.alertText+a._dateToString(d)+h.alertText2}return h.alertText+a._dateToString(d)}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);if(c.test(d)){return true}return false},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);if(c.test(d)){return true}return false},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()))},_dateRange:function(h,d,g,e,c){if((!h[0].value&&d[0].value)||(h[0].value&&!d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}if(!a._isDate(h[0].value)||!a._isDate(d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}if(!a._dateCompare(h[0].value,d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}},_dateTimeRange:function(h,d,g,e,c){if((!h[0].value&&d[0].value)||(h[0].value&&!d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}if(!a._isDateTime(h[0].value)||!a._isDateTime(d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}if(!a._dateCompare(h[0].value,d[0].value)){return c.allrules[g[e]].alertText+c.allrules[g[e]].alertText2}},_maxCheckbox:function(j,k,h,g){var d=k[h+1];var e=j.attr("name");var c=b("input[name='"+e+"']:checked").size();if(c>d){g.showArrow=false;if(g.allrules.maxCheckbox.alertText2){return g.allrules.maxCheckbox.alertText+" "+d+" "+g.allrules.maxCheckbox.alertText2}return g.allrules.maxCheckbox.alertText}},_minCheckbox:function(j,k,h,g){var d=k[h+1];var e=j.attr("name");var c=b("input[name='"+e+"']:checked").size();if(c<d){g.showArrow=false;return g.allrules.minCheckbox.alertText+" "+d+" "+g.allrules.minCheckbox.alertText2}},_ajax:function(n,p,j,q){var o=p[j+1];var m=q.allrules[o];var e=m.extraData;var k=m.extraDataDynamic;if(!e){e=""}if(k){var h=[];var l=String(k).split(",");for(var j=0;j<l.length;j++){var c=l[j];if(b(c).length){var d=n.closest("form").find(c).val();var g=c.replace("#","")+"="+escape(d);h.push(g)}}k=h.join("&")}else{k=""}if(!q.isError){b.ajax({type:"GET",url:m.url,cache:false,dataType:"json",data:"fieldId="+n.attr("id")+"&fieldValue="+n.val()+"&extraData="+e+"&"+k,field:n,rule:m,methods:a,options:q,beforeSend:function(){var r=m.alertTextLoad;if(r){a._showPrompt(n,r,"load",true,q)}},error:function(r,s){a._ajaxError(r,s)},success:function(v){var z=v[0];var u=b(b("#"+z)[0]);if(u.length==1){var s=v[1];var w=v[2];if(!s){q.ajaxValidCache[z]=false;q.isError=true;if(w){if(q.allrules[w]){var r=q.allrules[w].alertText;if(r){w=r}}}else{w=m.alertText}a._showPrompt(u,w,"",true,q)}else{if(q.ajaxValidCache[z]!==undefined){q.ajaxValidCache[z]=true}if(w){if(q.allrules[w]){var r=q.allrules[w].alertTextOk;if(r){w=r}}}else{w=m.alertTextOk}if(w){a._showPrompt(u,w,"pass",true,q)}else{a._closePrompt(u)}}}}})}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed")}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d)}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/")}return new Date(c[0],(c[1]-1),c[2])},_showPrompt:function(k,h,j,g,e,d){var c=a._getPrompt(k);if(d){c=false}if(c){a._updatePrompt(k,c,h,j,g,e)}else{a._buildPrompt(k,h,j,g,e)}},_buildPrompt:function(h,c,e,k,l){var d=b("<div>");d.addClass(a._getClassName(h.attr("id"))+"formError");if(h.is(":input")){d.addClass("parentForm"+a._getClassName(h.parents("form").attr("id")))}d.addClass("formError");switch(e){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup")}if(k){d.addClass("ajaxed")}var m=b("<div>").addClass("formErrorContent").html(c).appendTo(d);if(l.showArrow){var j=b("<div>").addClass("formErrorArrow");switch(l.promptPosition){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(j);j.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":j.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(j);break}}if(l.isOverflown){h.before(d)}else{b("body").append(d)}var g=a._calculatePosition(h,d,l);d.css({top:g.callerTopPosition,left:g.callerleftPosition,marginTop:g.marginTopSize,opacity:0});return d.animate({opacity:0.87})},_updatePrompt:function(j,c,g,h,e,d){if(c){if(h=="pass"){c.addClass("greenPopup")}else{c.removeClass("greenPopup")}if(h=="load"){c.addClass("blackPopup")}else{c.removeClass("blackPopup")}if(e){c.addClass("ajaxed")}else{c.removeClass("ajaxed")}c.find(".formErrorContent").html(g);var k=a._calculatePosition(j,c,d);c.animate({top:k.callerTopPosition,left:k.callerleftPosition,marginTop:k.marginTopSize})}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.remove()})}},closePrompt:function(c){return a._closePrompt(c)},_getPrompt:function(e){var d=e.attr("id").replace(":","_")+"formError";var c=b("."+a._escapeExpression(d))[0];if(c){return b(c)}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},_calculatePosition:function(k,e,n){var c,l,j;var h=k.width();var m=e.height();var d=n.isOverflown;if(d){c=l=0;j=-m}else{var g=k.offset();c=g.top;l=g.left;j=0}switch(n.promptPosition){default:case"topRight":if(d){l+=h-80}else{l+=h-80;c+=-m-2}break;case"topLeft":c+=-m-10;break;case"centerRight":l+=h+13;break;case"bottomLeft":c=c+k.height()+15;break;case"bottomRight":l+=h-30;c+=k.height()+5}return{callerTopPosition:c+"px",callerleftPosition:l+"px",marginTopSize:j+"px"}},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}b.validationEngine.defaults.allrules=c;var g=b.extend({},b.validationEngine.defaults,d);e.data("jqv",g);return g},_getClassName:function(c){return c.replace(":","_").replace(".","_")}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return false}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hidePrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c)}return a[d].apply(c,Array.prototype.slice.call(arguments,1))}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c)}else{b.error("Method "+d+" does not exist in jQuery.validationEngine")}}};b.validationEngine={defaults:{validationEventTrigger:"blur",scroll:true,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,isOverflown:false,overflownDIV:"",binded:false,showArrow:true,isError:false,ajaxValidCache:{}}}})(jQuery);(function(e){var m={};var c={};var l={};var g=[];var d;jQuery.fn.jBreadCrumb=function(o){m=e.extend({},e.fn.jBreadCrumb.defaults,o);return this.each(function(){c=e(this);j()})};function j(){if(typeof(jQuery.easing)=="object"){d="easeOutQuad"}else{d="swing"}l=jQuery(c).find("li");jQuery(c).find("ul").wrap('<div style="overflow:hidden; position:relative;  width: '+jQuery(c).css("width")+';"><div>');jQuery(c).find("ul").width(5000);if(l.length>0){jQuery(l[l.length-1]).addClass("lastB");jQuery(l[0]).addClass("firstB");if(l.length>m.minimumCompressionElements){n()}}}function n(){var o=jQuery(l[l.length-1]);if(jQuery(o).width()>m.maxFinalElementLength){if(m.beginingElementsToLeaveOpen>0){m.beginingElementsToLeaveOpen--}if(m.endElementsToLeaveOpen>0){m.endElementsToLeaveOpen--}}if(jQuery(o).width()<m.maxFinalElementLength&&jQuery(o).width()>m.minFinalElementLength){if(m.beginingElementsToLeaveOpen>0){m.beginingElementsToLeaveOpen--}}var p=l.length-1-m.endElementsToLeaveOpen;jQuery(l[l.length-1]).css({background:"none"});e(l).each(function(r,s){if(r>m.beginingElementsToLeaveOpen&&r<p){jQuery(s).find("a").wrap("<span></span>").width(jQuery(s).find("a").width()+5);jQuery(s).append(jQuery('<div class="'+m.overlayClass+'"></div>').css({display:"block"})).css({background:"none"});if(h()){a(jQuery(s).find("."+m.overlayClass).css({width:"20px",right:"-1px"}))}var q={id:r,width:jQuery(s).width(),listElement:jQuery(s).find("span"),isAnimating:false,element:jQuery(s).find("span")};jQuery(s).bind("mouseover",q,k).bind("mouseout",q,b);jQuery(s).find("a").unbind("mouseover",k).unbind("mouseout",b);s.autoInterval=setInterval(function(){clearInterval(s.autoInterval);jQuery(s).find("span").animate({width:m.previewWidth},m.timeInitialCollapse,m.easing)},(150*(r-2)))}})}function k(p){var o=p.data.id;var q=p.data.width;jQuery(p.data.element).stop();jQuery(p.data.element).animate({width:q},{duration:m.timeExpansionAnimation,easing:m.easing,queue:false});return false}function b(p){var o=p.data.id;jQuery(p.data.element).stop();jQuery(p.data.element).animate({width:m.previewWidth},{duration:m.timeCompressionAnimation,easing:m.easing,queue:false});return false}function h(){var o=e.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent);return o}function a(o){var p;if(jQuery(o).is("img")){p=jQuery(o).attr("src")}else{p=e(o).css("backgroundImage");p.match(/^url\(["']?(.*\.png)["']?\)$/i);p=RegExp.$1}e(o).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src='"+p+"')"})}jQuery.fn.jBreadCrumb.defaults={maxFinalElementLength:400,minFinalElementLength:200,minimumCompressionElements:4,endElementsToLeaveOpen:1,beginingElementsToLeaveOpen:1,timeExpansionAnimation:100,timeCompressionAnimation:100,timeInitialCollapse:200,easing:d,overlayClass:"chevronOverlay",previewWidth:10}})(jQuery);(function(a){a.fn.UItoTop=function(d){var g={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1000,easingType:"linear"};var e=a.extend(g,d);var c="#"+e.containerID;var b="#"+e.containerHoverID;a("body").append('<a href="#" id="'+e.containerID+'">'+e.text+"</a>");a(c).hide().click(function(){a("html, body").animate({scrollTop:0},e.scrollSpeed,e.easingType);a("#"+e.containerHoverID,this).stop().animate({opacity:0},e.inDelay,e.easingType);return false}).prepend('<span id="'+e.containerHoverID+'"></span>').hover(function(){a(b,this).stop().animate({opacity:1},300,"linear")},function(){a(b,this).stop().animate({opacity:0},300,"linear")});a(window).scroll(function(){var h=a(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){a(c).css({position:"absolute",top:a(window).scrollTop()+a(window).height()-50})}if(h>e.min){a(c).fadeIn(e.inDelay)}else{a(c).fadeOut(e.Outdelay)}})}})(jQuery);var strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY";var oMultiDiff={"19969":"DZ","19975":"WM","19988":"QJ","20048":"YL","20056":"SC","20060":"NM","20094":"QG","20127":"QJ","20167":"QC","20193":"YG","20250":"KH","20256":"ZC","20282":"SC","20285":"QJG","20291":"TD","20314":"YD","20340":"NE","20375":"TD","20389":"YJ","20391":"CZ","20415":"PB","20446":"YS","20447":"SQ","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20504":"TC","20608":"KG","20854":"QJ","20857":"ZC","20911":"PF","20985":"AW","21032":"PB","21048":"XQ","21049":"SC","21089":"YS","21119":"JC","21242":"SB","21273":"SC","21305":"YP","21306":"QO","21330":"ZC","21333":"SDC","21345":"QK","21378":"CA","21397":"SC","21414":"XS","21442":"SC","21477":"JG","21480":"TD","21484":"ZS","21494":"YX","21505":"YX","21512":"HG","21523":"XH","21537":"PB","21542":"PF","21549":"KH","21571":"E","21574":"DA","21588":"TD","21589":"O","21618":"ZC","21621":"KHA","21632":"ZJ","21654":"KG","21679":"LKG","21683":"KH","21710":"A","21719":"YH","21734":"WOE","21769":"A","21780":"WN","21804":"XH","21834":"A","21899":"ZD","21903":"RN","21908":"WO","21939":"ZC","21956":"SA","21964":"YA","21970":"TD","22003":"A","22031":"JG","22040":"XS","22060":"ZC","22066":"ZC","22079":"MH","22129":"XJ","22179":"XA","22237":"NJ","22244":"TD","22280":"JQ","22300":"YH","22313":"XW","22331":"YQ","22343":"YJ","22351":"PH","22395":"DC","22412":"TD","22484":"PB","22500":"PB","22534":"ZD","22549":"DH","22561":"PB","22612":"TD","22771":"KQ","22831":"HB","22841":"JG","22855":"QJ","22865":"XQ","23013":"ML","23081":"WM","23487":"SX","23558":"QJ","23561":"YW","23586":"YW","23614":"YW","23615":"SN","23631":"PB","23646":"ZS","23663":"ZT","23673":"YG","23762":"TD","23769":"ZS","23780":"QJ","23884":"QK","24055":"XH","24113":"DC","24162":"ZC","24191":"GA","24273":"QJ","24324":"NL","24377":"TD","24378":"QJ","24439":"PF","24554":"ZS","24683":"TD","24694":"WE","24733":"LK","24925":"TN","25094":"ZG","25100":"XQ","25103":"XH","25153":"PB","25170":"PB","25179":"KG","25203":"PB","25240":"ZS","25282":"FB","25303":"NA","25324":"KG","25341":"ZY","25373":"WZ","25375":"XJ","25384":"A","25457":"A","25528":"SD","25530":"SC","25552":"TD","25774":"ZC","25874":"ZC","26044":"YW","26080":"WM","26292":"PB","26333":"PB","26355":"ZY","26366":"CZ","26397":"ZC","26399":"QJ","26415":"ZS","26451":"SB","26526":"ZC","26552":"JG","26561":"TD","26588":"JG","26597":"CZ","26629":"ZS","26638":"YL","26646":"XQ","26653":"KG","26657":"XJ","26727":"HG","26894":"ZC","26937":"ZS","26946":"ZC","26999":"KJ","27099":"KJ","27449":"YQ","27481":"XS","27542":"ZS","27663":"ZS","27748":"TS","27784":"SC","27788":"ZD","27795":"TD","27812":"O","27850":"PB","27852":"MB","27895":"SL","27898":"PL","27973":"QJ","27981":"KH","27986":"HX","27994":"XJ","28044":"YC","28065":"WG","28177":"SM","28267":"QJ","28291":"KH","28337":"ZQ","28463":"TL","28548":"DC","28601":"TD","28689":"PB","28805":"JG","28820":"QG","28846":"PB","28952":"TD","28975":"ZC","29100":"A","29325":"QJ","29575":"SL","29602":"FB","30010":"TD","30044":"CX","30058":"PF","30091":"YSP","30111":"YN","30229":"XJ","30427":"SC","30465":"SX","30631":"YQ","30655":"QJ","30684":"QJG","30707":"SD","30729":"XH","30796":"LG","30917":"PB","31074":"NM","31085":"JZ","31109":"SC","31181":"ZC","31192":"MLB","31293":"JQ","31400":"YX","31584":"YJ","31896":"ZN","31909":"ZY","31995":"XJ","32321":"PF","32327":"ZY","32418":"HG","32420":"XQ","32421":"HG","32438":"LG","32473":"GJ","32488":"TD","32521":"QJ","32527":"PB","32562":"ZSQ","32564":"JZ","32735":"ZD","32793":"PB","33071":"PF","33098":"XL","33100":"YA","33152":"PB","33261":"CX","33324":"BP","33333":"TD","33406":"YA","33426":"WM","33432":"PB","33445":"JG","33486":"ZN","33493":"TS","33507":"QJ","33540":"QJ","33544":"ZC","33564":"XQ","33617":"YT","33632":"QJ","33636":"XH","33637":"YX","33694":"WG","33705":"PF","33728":"YW","33882":"SR","34067":"WM","34074":"YW","34121":"QJ","34255":"ZC","34259":"XL","34425":"JH","34430":"XH","34485":"KH","34503":"YS","34532":"HG","34552":"XS","34558":"YE","34593":"ZL","34660":"YQ","34892":"XH","34928":"SC","34999":"QJ","35048":"PB","35059":"SC","35098":"ZC","35203":"TQ","35265":"JX","35299":"JX","35782":"SZ","35828":"YS","35830":"E","35843":"TD","35895":"YG","35977":"MH","36158":"JG","36228":"QJ","36426":"XQ","36466":"DC","36710":"JC","36711":"ZYG","36767":"PB","36866":"SK","36951":"YW","37034":"YX","37063":"XH","37218":"ZC","37325":"ZC","38063":"PB","38079":"TD","38085":"QY","38107":"DC","38116":"TD","38123":"YD","38224":"HG","38241":"XTC","38271":"ZC","38415":"YE","38426":"KH","38461":"YD","38463":"AE","38466":"PB","38477":"XJ","38518":"YT","38551":"WK","38585":"ZC","38704":"XS","38739":"LJ","38761":"GJ","38808":"SQ","39048":"JG","39049":"XJ","39052":"HG","39076":"CZ","39271":"XT","39534":"TD","39552":"TD","39584":"PB","39647":"SB","39730":"LG","39748":"TPB","40109":"ZQ","40479":"ND","40516":"HG","40536":"HG","40583":"QJ","40765":"YQ","40784":"QJ","40840":"YK","40863":"QJG"};function makePy(e){if(typeof(e)!="string"){throw new Error(-1,"makePy!")}var b=new Array();for(var c=0,a=e.length;c<a;c++){var d=e.charAt(c);b.push(checkCh(d))}return mkRslt(b)}function checkCh(a){var b=a.charCodeAt(0);if(b>40869||b<19968){return a}return(oMultiDiff[b]?oMultiDiff[b]:(strChineseFirstPY.charAt(b-19968)))}function mkRslt(g){var l=[""];for(var e=0,h=g.length;e<h;e++){var m=g[e];var n=m.length;if(n==1){for(var a=0;a<l.length;a++){l[a]+=m}}else{var c=l.slice(0);l=[];for(a=0;a<n;a++){var d=c.slice(0);for(var b=0;b<d.length;b++){d[b]+=m.charAt(a)}l=l.concat(d)}}}return l}(function(h){h.fn.collapsible=function(u,s){if(typeof u=="string"){return h.fn.collapsible.dispatcher[u](this,s)}return h.fn.collapsible.dispatcher._create(this,u)};h.fn.collapsible.dispatcher={_create:function(u,s){o(u,s)},toggle:function(s){k(s,d(s));return s},open:function(s){j(s,d(s));return s},close:function(s){r(s,d(s));return s},collapsed:function(s){return e(s,d(s))}};function o(v,s){var u=h.extend({},h.fn.collapsible.defaults,s);var w=new Array();v.each(function(){var z=h(this);q(z,u);if(u.bind=="mouseenter"){z.bind("mouseenter",function(A){A.preventDefault();k(z,u)})}if(u.bind=="mouseover"){z.bind("mouseover",function(A){A.preventDefault();k(z,u)})}if(u.bind=="click"){z.bind("click",function(A){A.preventDefault();k(z,u)})}if(u.bind=="dblclick"){z.bind("dblclick",function(A){A.preventDefault();k(z,u)})}id=z.attr("id");if(!c(u)){dOpenIndex=l(id,u);if(dOpenIndex===false){z.addClass(u.cssClose);z.next().hide()}else{z.addClass(u.cssOpen);z.next().show();w.push(id)}}else{if(m(u)){cookieIndex=a(id,u);if(cookieIndex===false){z.addClass(u.cssClose);z.next().hide()}else{z.addClass(u.cssOpen);z.next().show();w.push(id)}}else{dOpenIndex=l(id,u);if(dOpenIndex===false){z.addClass(u.cssClose);z.next().hide()}else{z.addClass(u.cssOpen);z.next().show();w.push(id)}}}});if(w.length>0&&c(u)){p(w.toString(),u)}else{p("",u)}return v}function d(s){return s.data("collapsible-opts")}function q(u,s){return u.data("collapsible-opts",s)}function e(u,s){return u.hasClass(s.cssClose)}function r(u,s){u.addClass(s.cssClose).removeClass(s.cssOpen);s.animateOpen(u,s);if(c(s)){id=u.attr("id");n(id,s)}}function j(u,s){u.removeClass(s.cssClose).addClass(s.cssOpen);s.animateClose(u,s);if(c(s)){id=u.attr("id");b(id,s)}}function k(u,s){if(e(u,s)){j(u,s)}else{r(u,s)}return false}function c(s){if(!h.cookie||s.cookieName==""){return false}return true}function b(u,s){if(!c(s)){return false}if(!m(s)){p(u,s);return true}if(a(u,s)){return true}cookie=h.cookie(s.cookieName);cookie=unescape(cookie);cookieArray=cookie.split(",");cookieArray.push(u);p(cookieArray.toString(),s);return true}function n(u,s){if(!c(s)){return false}if(!m(s)){return true}cookieIndex=a(u,s);if(cookieIndex===false){return true}cookie=h.cookie(s.cookieName);cookie=unescape(cookie);cookieArray=cookie.split(",");cookieArray.splice(cookieIndex,1);p(cookieArray.toString(),s)}function p(u,s){if(!c(s)){return false}h.cookie(s.cookieName,u,s.cookieOptions)}function a(u,s){if(!c(s)){return false}if(!m(s)){return false}cookie=unescape(h.cookie(s.cookieName));cookieArray=cookie.split(",");cookieIndex=h.inArray(u,cookieArray);if(cookieIndex==-1){return false}return cookieIndex}function m(s){if(!c(s)){return false}if(h.cookie(s.cookieName)==null){return false}return true}function l(u,s){defaultOpen=g(s);index=h.inArray(u,defaultOpen);if(index==-1){return false}return index}function g(s){defaultOpen=new Array();if(s.defaultOpen!=""){defaultOpen=s.defaultOpen.split(",")}return defaultOpen}h.fn.collapsible.defaults={cssClose:"collapse-close",cssOpen:"collapse-open",cookieName:"collapsible",cookieOptions:{path:"/",expires:7,domain:"",secure:""},defaultOpen:"",speed:"slow",bind:"click",animateOpen:function(u,s){u.next().slideUp(s.speed)},animateClose:function(u,s){u.next().slideDown(s.speed)}}})(jQuery);(function(a){a.fn.listnav=function(b){var d=a.extend({},a.fn.listnav.defaults,b);var e=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"];var c=false;d.prefixes=a.map(d.prefixes,function(g){return g.toLowerCase()});return this.each(function(){var w,A,g,p,m,s;s=this.id;w=a("#"+s+"-nav");g=a(this);var C={},k=0,l=true,j=0,B="";function v(){w.append(q());p=a(".ln-letters",w).slice(0,1);if(d.showCounts){m=a(".ln-letter-count",w).slice(0,1)}h();o();if(d.flagDisabled){r()}n();if(!d.includeAll){g.show()}if(!d.includeAll){a(".all",p).remove()}if(!d.includeNums){a("._",p).remove()}if(!d.includeOther){a(".-",p).remove()}a(":last",p).addClass("ln-last");if(a.cookie&&(d.cookieName!=null)){var F=a.cookie(d.cookieName);if(F!=null){d.initLetter=F}}if(d.initLetter!=""){c=true;a("."+d.initLetter.toLowerCase(),p).slice(0,1).click()}else{if(d.includeAll){a(".all",p).addClass("ln-selected")}else{for(var E=((d.includeNums)?0:1);E<e.length;E++){if(C[e[E]]>0){c=true;a("."+e[E],p).slice(0,1).click();break}}}}}function u(){m.css({top:a(".a",p).slice(0,1).offset({margin:false,border:true}).top-m.outerHeight({margin:true})})}function h(){var I,F,J,G,H,E=(d.prefixes.length>0);a(g).children().each(function(){H=a(this),F="",I=a.trim(H.text()).toLowerCase();if(I!=""){if(E){G=I.split(" ");if((G.length>1)&&(a.inArray(G[0],d.prefixes)>-1)){F=G[1].charAt(0);z(F,H,true)}}F=I.charAt(0);z(F,H)}})}function z(G,F,E){if(/\W/.test(G)){G="-"}if(!isNaN(G)){G="_"}F.addClass("ln-"+G);if(C[G]==undefined){C[G]=0}C[G]++;if(!E){k++}}function r(){for(var E=0;E<e.length;E++){if(C[e[E]]==undefined){a("."+e[E],p).addClass("ln-disabled")}}}function o(){g.append('<li class="ln-no-match" style="display:none">'+d.noMatchText+"</li>")}function D(E){if(a(E).hasClass("all")){return k}else{var F=C[a(E).attr("class").split(" ")[0]];return(F!=undefined)?F:0}}function n(){if(d.showCounts){w.mouseover(function(){u()})}if(d.showCounts){a("a",p).mouseover(function(){var G=a(this).position().left;var E=(a(this).outerWidth({margin:true})-1)+"px";var F=D(this);m.css({left:G,width:E}).text(F).show()});a("a",p).mouseout(function(){m.hide()})}a("a",p).click(function(){a("a.ln-selected",p).removeClass("ln-selected");var F=a(this).attr("class").split(" ")[0];if(F=="all"){g.children().show();g.children(".ln-no-match").hide();l=true}else{if(l){g.children().hide();l=false}else{if(B!=""){g.children(".ln-"+B).hide()}}var E=D(this);if(E>0){g.children(".ln-no-match").hide();g.children(".ln-"+F).show()}else{g.children(".ln-no-match").show()}B=F}if(a.cookie&&(d.cookieName!=null)){a.cookie(d.cookieName,F)}a(this).addClass("ln-selected");a(this).blur();if(!c&&(d.onClick!=null)){d.onClick(F)}else{c=false}return false})}function q(){var F=[];for(var E=1;E<e.length;E++){if(F.length==0){F.push('<a class="all" href="#">ALL</a><a class="_" href="#">0-9</a>')}F.push('<a class="'+e[E]+'" href="#">'+((e[E]=="-")?"...":e[E].toUpperCase())+"</a>")}return'<div class="ln-letters">'+F.join("")+"</div>"+((d.showCounts)?'<div class="ln-letter-count" style="display:none; position:absolute; top:0; left:0; width:20px;">0</div>':"")}v()})};a.fn.listnav.defaults={initLetter:"",includeAll:true,incudeOther:false,includeNums:true,flagDisabled:true,noMatchText:"No matching entries",showCounts:true,cookieName:null,onClick:null,prefixes:[]}})(jQuery);(function(b){b.fn.smartWizard=function(a){var e=b.extend({},b.fn.smartWizard.defaults,a),d=arguments;return this.each(function(){function c(){var h=S.children("div");S.children("ul").addClass("anchor");h.addClass("wContent");N=b("<div>Loading</div>").addClass("loader");P=b("<div></div>").addClass("actionBar");M=b("<div></div>").addClass("stepContainer");L=b("<a>"+e.labelNext+"</a>").attr("href","#").addClass("buttonNext blueBtn button");K=b("<a>"+e.labelPrevious+"</a>").attr("href","#").addClass("buttonPrevious");I=b("<a>"+e.labelFinish+"</a>").attr("href","#").addClass("buttonFinish");e.errorSteps&&e.errorSteps.length>0&&b.each(e.errorSteps,function(l,j){C(j,!0)});M.append(h);P.append(N);S.append(M);S.append(P);P.append(I).append(L).append(K);u=M.width();b(L).click(function(){k();return !1});b(K).click(function(){g();return !1});b(I).click(function(){if(!b(this).hasClass("buttonDisabled")){if(b.isFunction(e.onFinish)){e.onFinish.call(this,b(R))}else{var j=S.parents("form");j&&j.length&&j.submit()}}return !1});b(R).bind("click",function(){if(R.index(this)==Q){return !1}var j=R.index(this);R.eq(j).attr("isDone")-0==1&&H(j);return !1});e.keyNavigation&&b(document).keyup(function(j){j.which==39?k():j.which==37&&g()});J();H(Q)}function J(){e.enableAllSteps?(b(R,S).removeClass("selected").removeClass("disabled").addClass("done"),b(R,S).attr("isDone",1)):(b(R,S).removeClass("selected").removeClass("done").addClass("disabled"),b(R,S).attr("isDone",0));b(R,S).each(function(h){b(b(this).attr("href"),S).hide();b(this).attr("rel",h+1)})}function H(n){var m=R.eq(n),l=e.contentURL,j=m.data("hasContent");stepNum=n+1;l&&l.length>0?e.contentCache&&j?D(n):b.ajax({url:l,type:"POST",data:{step_number:stepNum},dataType:"text",beforeSend:function(){N.show()},error:function(){N.hide()},success:function(h){N.hide();h&&h.length>0&&(m.data("hasContent",!0),b(b(m,S).attr("href"),S).html(h),D(n))}}):D(n)}function D(m){var l=R.eq(m),j=R.eq(Q);if(m!=Q&&b.isFunction(e.onLeaveStep)&&!e.onLeaveStep.call(this,b(j))){return !1}M.height(b(b(l,S).attr("href"),S).outerHeight());if(e.transitionEffect=="slide"){b(b(j,S).attr("href"),S).slideUp("fast",function(){b(b(l,S).attr("href"),S).slideDown("fast");Q=m;F(j,l)})}else{if(e.transitionEffect=="fade"){b(b(j,S).attr("href"),S).fadeOut("fast",function(){b(b(l,S).attr("href"),S).fadeIn("fast");Q=m;F(j,l)})}else{if(e.transitionEffect=="slideleft"){var h=0;m>Q?(nextElmLeft1=u+10,nextElmLeft2=0,h=0-b(b(j,S).attr("href"),S).outerWidth()):(nextElmLeft1=0-b(b(l,S).attr("href"),S).outerWidth()+20,nextElmLeft2=0,h=10+b(b(j,S).attr("href"),S).outerWidth());m==Q?(nextElmLeft1=b(b(l,S).attr("href"),S).outerWidth()+20,nextElmLeft2=0,h=0-b(b(j,S).attr("href"),S).outerWidth()):b(b(j,S).attr("href"),S).animate({left:h},"fast",function(){b(b(j,S).attr("href"),S).hide()});b(b(l,S).attr("href"),S).css("left",nextElmLeft1);b(b(l,S).attr("href"),S).show();b(b(l,S).attr("href"),S).animate({left:nextElmLeft2},"fast",function(){Q=m;F(j,l)})}else{b(b(j,S).attr("href"),S).hide(),b(b(l,S).attr("href"),S).show(),Q=m,F(j,l)}}}return !0}function F(j,h){b(j,S).removeClass("selected");b(j,S).addClass("done");b(h,S).removeClass("disabled");b(h,S).removeClass("done");b(h,S).addClass("selected");b(h,S).attr("isDone",1);e.cycleSteps||(0>=Q?b(K).addClass("buttonDisabled button blueBtn"):b(K).removeClass("buttonDisabled"),R.length-1<=Q?b(L).addClass("buttonDisabled button blueBtn"):b(L).removeClass("buttonDisabled"));!R.hasClass("disabled")||e.enableFinishButton?b(I).removeClass("buttonDisabled"):b(I).addClass("buttonDisabled button redBtn");if(b.isFunction(e.onShowStep)&&!e.onShowStep.call(this,b(h))){return !1}}function k(){var h=Q+1;if(R.length<=h){if(!e.cycleSteps){return !1}h=0}H(h)}function g(){var h=Q-1;if(0>h){if(!e.cycleSteps){return !1}h=R.length-1}H(h)}function G(h){b(".wContent",O).html(h);O.show()}function C(h,j){j?b(R.eq(h-1),S).addClass("error"):b(R.eq(h-1),S).removeClass("error")}var S=b(this),Q=e.selected,R=b("ul > li > a",S),u=0,N,O,P,M,L,K,I;P=b(".actionBar",S);P.length==0&&(P=b("s<div></div>").addClass("actionBar"));O=b(".msgBox",S);O.length==0&&(O=b('<div class="msgBox"><div class="wContent"></div><a href="#" class="close">X</a></div>'),P.append(O));b(".close",O).click(function(){O.fadeOut("normal");return !1});if(!a||a==="init"||typeof a==="object"){c()}else{if(a==="showMessage"){var E=Array.prototype.slice.call(d,1);G(E[0]);return !0}else{if(a==="setError"){return E=Array.prototype.slice.call(d,1),C(E[0].stepnum,E[0].iserror),!0}else{b.error("Method "+a+" does not exist")}}}})};b.fn.smartWizard.defaults={selected:0,keyNavigation:!0,enableAllSteps:!1,transitionEffect:"fade",contentURL:null,contentCache:!0,cycleSteps:!1,enableFinishButton:!1,errorSteps:[],labelNext:"Next",labelPrevious:"Previous",labelFinish:"Finish",onLeaveStep:null,onShowStep:null,onFinish:null}})(jQuery);(function(e){String.prototype.highlight=function(o){var j=this;if(this.length){for(var k=0;k<o.length;k++){for(var h in o[k]){var l=new RegExp(h,"gi");var m=j.search(l);var n=j.indexOf("//");if(m<=n||n===-1||n===0){j=j.replace(l,"<span class='"+o[k][h]+"'>$&</span>")}}}}else{j="&nbsp;"}return j};function b(j){var h=[];if(j.indexOf("html")!==-1){h.push(g)}if(j.indexOf("js")!==-1){h.push(d)}if(j.indexOf("css")!==-1){h.push(c)}if(j.indexOf("php")!==-1){h.push(a)}return(h.length)?h:false}String.prototype.escapeHTML=function(){return(this.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/&lt;!--\?php/g,"&lt;?php").replace(/\?--&gt;/g,"?&gt;"))};var g={"&lt;!--.*--&gt;":"SC_grey","&lt;\\/*(div|p|br|hr|link|em|meta|html|h2|h1|h3|ul|!DOCTYPE html|li|ol|body|select|span|head|title|canvas|video|audio|source|pre)\\s*(([A-Za-z]+)=(\"|')[a-zA-Z0-9\\.\\/\\(\\)\\?,&'_#\\s;:%=\\-~]*(\"|')\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_blue",'&lt;\\/*script\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_red",'&lt;\\/*a\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\)\\[\\]\\?\\s\\$=,\'_#;:&~(&lt;)(&gt;)-]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_green",'&lt;img\\s+(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\),\\s\'_#;:]+"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_red",'&lt;\\/*(form|input|textarea|button|option|select)\\s*(([A-Za-z]+)="[a-zA-Z0-9\\(\\);,\':\\s\\.]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_gold",'&lt;\\/*(td|tr|table|tbody)\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\)\\s,\'_%#;:~-]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_teal",'"[a-zA-Z0-9\\s\\/\\.\\?\\[\\]\\$#;:_\',&=%\\)\\(~-]*"(?!(.*--&gt;)|(s*[A-Za-z]))':"SC_navy"};var c={"((#|\\.)*[a-zA-Z0-9_:,\\s\\.\\*#]+\\s*\\{)|(\\})":"SC_pink","\\/\\*.*\\*\\/":"SC_grey","[a-zA-Z0-9-]+:(?![a-zA-Z0-9_:\\s\\.]+\\{)":"SC_blue","[a-zA-Z0-9,'_#\\(\\)\\/%@\\s\\.\"-]+;":"SC_green"};var d={"\\/\\/.*":"SC_grey","((function|var|this|for|if|else|switch|while|try|catch)\\s*(\\{|\\())":"SC_blue","(\\.[a-zA-Z]+(?=\\())|(alert\\()|((String|Date|Array|Number)\\.)":"SC_teal","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?#!;:_',&=%\\)\\(~]*(\"|'))(?!(\\>)|(.*--&gt;)|(s*[A-Za-z])))|(this\\.)|(var\\s)|(return\\s)|(true;)|(false;)|(return;)":"SC_navy","([\\(\\)\\{\\}\\*\\[\\]\\+-]{1})":"SC_blue","[0-9]+(?![A-Za-z]+)":"SC_red","(function|var|this|false|true|return|for|if|else|switch|while|try|catch|do|in)(\\s*[A-Za-z]*\\s*(\\(|\\{))*":"SC_bold"};var a={"(\\/\\/.*)|(\\/\\*.*\\*\\/)":"SC_grey","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?\\*#;:_',&=%\\)\\(~]*(\"|'))(?!\\>))":"SC_navy","(((&lt;\\?php)|(\\?&gt;))(?!.*\\*\\/))|([0-9](?![A_Za-z]*\"|'))":"SC_red","(([a-zA-Z0-9_]+\\()|(echo)|(\\$_[a-zA-Z0-9]+))(?!.*\\*\\/)":"SC_green","[\\(\\)\\{\\}(\\*\\+]{1}(?!.*\\*\\/)":"SC_blue","\\$[A-Za-z0-9]+":"SC_teal"};e.fn.extend({sourcerer:function(j){var l=this.selector;var k={lang:false,numbers:true,title:false};var h={};return this.each(function(){if(!e(this).children(".SRC_Wrap").length){j=(typeof(j)=="string")?{lang:j}:j;e.extend(h,k,j);var q=[];if(h.lang){var o=e(this).html().escapeHTML().split("\n");q.push("<div class='SRC_Wrap'>");if(h.title){q.push("<div class='SRC_Title'>"+h.title+"</div>")}q.push("<div class='SRC_NumBox'></div><div class='SRC_CodeBox'>");for(var m=0;m<o.length;m++){q.push("<div class='SRC_Line'><pre class='SRC_CodeContent'>"+o[m].highlight(b(h.lang))+"</pre></div>")}q.push("</div><div style='clear:both;'></div></div>");e(this).html(q.join(""));if(h.numbers){var p=e(this).find(".SRC_NumBox");q=[];for(var m=0;m<o.length;m++){var n=e(e(".SRC_Line")[m]).height();q.push("<div class='SRC_Line' style='height:"+n+"px'><div class='SRC_NumContent'>"+(m+1)+"</div></div>")}p.html(q.join(""))}else{e(this).find(".SRC_CodeBox").width("100%");e(this).find(".SRC_CodeContent").css("border-left",0)}}else{throw"::No language given or language was invalid for sourcerer call with selector '"+l+"'"}}})}})})(jQuery);(function(d){function c(){this._disabledInputs=[];this.regional=[];this.regional[""]={show24Hours:false,separator:":",ampmPrefix:"",ampmNames:["AM","PM"],spinnerTexts:["Now","Previous field","Next field","Increment","Decrement"]};this._defaults={appendText:"",showSeconds:false,timeSteps:[1,1,1],initialField:0,useMouseWheel:true,defaultTime:null,minTime:null,maxTime:null,spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:false,spinnerRepeat:[500,250],beforeShow:null,beforeSetTime:null};d.extend(this._defaults,this.regional[""])}var a="timeEntry";d.extend(c.prototype,{markerClassName:"hasTimeEntry",setDefaults:function(g){b(this._defaults,g||{});return this},_connectTimeEntry:function(s,r){var q=d(s);if(q.hasClass(this.markerClassName)){return}var p={};p.options=d.extend({},r);p._selectedHour=0;p._selectedMinute=0;p._selectedSecond=0;p._field=0;p.input=d(s);d.data(s,a,p);var o=this._get(p,"spinnerImage");var n=this._get(p,"spinnerText");var m=this._get(p,"spinnerSize");var l=this._get(p,"appendText");var k=(!o?null:d('<span class="timeEntry_control" style="display: inline-block; background: url(\''+o+"') 0 0 no-repeat; width: "+m[0]+"px; height: "+m[1]+"px;"+(d.browser.mozilla&&d.browser.version<"1.9"?" padding-left: "+m[0]+"px; padding-bottom: "+(m[1]-18)+"px;":"")+'"></span>'));q.wrap('<span class="timeEntry_wrap"></span>').after(l?'<span class="timeEntry_append">'+l+"</span>":"").after(k||"");q.addClass(this.markerClassName).bind("focus.timeEntry",this._doFocus).bind("blur.timeEntry",this._doBlur).bind("click.timeEntry",this._doClick).bind("keydown.timeEntry",this._doKeyDown).bind("keypress.timeEntry",this._doKeyPress);if(d.browser.mozilla){q.bind("input.timeEntry",function(g){d.timeEntry._parseTime(p)})}if(d.browser.msie){q.bind("paste.timeEntry",function(g){setTimeout(function(){d.timeEntry._parseTime(p)},1)})}if(this._get(p,"useMouseWheel")&&d.fn.mousewheel){q.mousewheel(this._doMouseWheel)}if(k){k.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)}},_enableTimeEntry:function(g){this._enableDisable(g,false)},_disableTimeEntry:function(g){this._enableDisable(g,true)},_enableDisable:function(g,j){var h=d.data(g,a);if(!h){return}g.disabled=j;if(g.nextSibling&&g.nextSibling.nodeName.toLowerCase()=="span"){d.timeEntry._changeSpinner(h,g.nextSibling,(j?5:-1))}d.timeEntry._disabledInputs=d.map(d.timeEntry._disabledInputs,function(k){return(k==g?null:k)});if(j){d.timeEntry._disabledInputs.push(g)}},_isDisabledTimeEntry:function(g){return d.inArray(g,this._disabledInputs)>-1},_changeTimeEntry:function(h,g,m){var l=d.data(h,a);if(l){if(typeof g=="string"){var k=g;g={};g[k]=m}var j=this._extractTime(l);b(l.options,g||{});if(j){this._setTime(l,new Date(0,0,0,j[0],j[1],j[2]))}}d.data(h,a,l)},_destroyTimeEntry:function(g){$input=d(g);if(!$input.hasClass(this.markerClassName)){return}$input.removeClass(this.markerClassName).unbind(".timeEntry");if(d.fn.mousewheel){$input.unmousewheel()}this._disabledInputs=d.map(this._disabledInputs,function(h){return(h==g?null:h)});$input.parent().replaceWith($input);d.removeData(g,a)},_setTimeTimeEntry:function(h,g){var j=d.data(h,a);if(j){if(g===null||g===""){j.input.val("")}else{this._setTime(j,g?(typeof g=="object"?new Date(g.getTime()):g):null)}}},_getTimeTimeEntry:function(h){var g=d.data(h,a);var j=(g?this._extractTime(g):null);return(!j?null:new Date(0,0,0,j[0],j[1],j[2]))},_getOffsetTimeEntry:function(h){var g=d.data(h,a);var j=(g?this._extractTime(g):null);return(!j?0:(j[0]*3600+j[1]*60+j[2])*1000)},_doFocus:function(h){var g=(h.nodeName&&h.nodeName.toLowerCase()=="input"?h:this);if(d.timeEntry._lastInput==g||d.timeEntry._isDisabledTimeEntry(g)){d.timeEntry._focussed=false;return}var k=d.data(g,a);d.timeEntry._focussed=true;d.timeEntry._lastInput=g;d.timeEntry._blurredInput=null;var j=d.timeEntry._get(k,"beforeShow");b(k.options,(j?j.apply(g,[g]):{}));d.data(g,a,k);d.timeEntry._parseTime(k);setTimeout(function(){d.timeEntry._showField(k)},10)},_doBlur:function(g){d.timeEntry._blurredInput=d.timeEntry._lastInput;d.timeEntry._lastInput=null},_doClick:function(v){var u=v.target;var s=d.data(u,a);if(!d.timeEntry._focussed){var r=d.timeEntry._get(s,"separator").length+2;s._field=0;if(u.selectionStart!=null){for(var q=0;q<=Math.max(1,s._secondField,s._ampmField);q++){var p=(q!=s._ampmField?(q*r)+2:(s._ampmField*r)+d.timeEntry._get(s,"ampmPrefix").length+d.timeEntry._get(s,"ampmNames")[0].length);s._field=q;if(u.selectionStart<p){break}}}else{if(u.createTextRange){var o=d(v.srcElement);var n=u.createTextRange();var m=function(g){return{thin:2,medium:4,thick:6}[g]||g};var l=v.clientX+document.documentElement.scrollLeft-(o.offset().left+parseInt(m(o.css("border-left-width")),10))-n.offsetLeft;for(var q=0;q<=Math.max(1,s._secondField,s._ampmField);q++){var p=(q!=s._ampmField?(q*r)+2:(s._ampmField*r)+d.timeEntry._get(s,"ampmPrefix").length+d.timeEntry._get(s,"ampmNames")[0].length);n.collapse();n.moveEnd("character",p);s._field=q;if(l<n.boundingWidth){break}}}}}d.data(u,a,s);d.timeEntry._showField(s);d.timeEntry._focussed=false},_doKeyDown:function(h){if(h.keyCode>=48){return true}var g=d.data(h.target,a);switch(h.keyCode){case 9:return(h.shiftKey?d.timeEntry._changeField(g,-1,true):d.timeEntry._changeField(g,+1,true));case 35:if(h.ctrlKey){d.timeEntry._setValue(g,"")}else{g._field=Math.max(1,g._secondField,g._ampmField);d.timeEntry._adjustField(g,0)}break;case 36:if(h.ctrlKey){d.timeEntry._setTime(g)}else{g._field=0;d.timeEntry._adjustField(g,0)}break;case 37:d.timeEntry._changeField(g,-1,false);break;case 38:d.timeEntry._adjustField(g,+1);break;case 39:d.timeEntry._changeField(g,+1,false);break;case 40:d.timeEntry._adjustField(g,-1);break;case 46:d.timeEntry._setValue(g,"");break}return false},_doKeyPress:function(h){var g=String.fromCharCode(h.charCode==undefined?h.keyCode:h.charCode);if(g<" "){return true}var j=d.data(h.target,a);d.timeEntry._handleKeyPress(j,g);return false},_doMouseWheel:function(h,g){if(d.timeEntry._isDisabledTimeEntry(h.target)){return}g=(d.browser.opera?-g/Math.abs(g):(d.browser.safari?g/Math.abs(g):g));var j=d.data(h.target,a);j.input.focus();if(!j.input.val()){d.timeEntry._parseTime(j)}d.timeEntry._adjustField(j,g);h.preventDefault()},_expandSpinner:function(j){var q=d.timeEntry._getSpinnerTarget(j);var p=d.data(d.timeEntry._getInput(q),a);if(d.timeEntry._isDisabledTimeEntry(p.input[0])){return}var o=d.timeEntry._get(p,"spinnerBigImage");if(o){p._expanded=true;var n=d(q).offset();var m=null;d(q).parents().each(function(){var g=d(this);if(g.css("position")=="relative"||g.css("position")=="absolute"){m=g.offset()}return !m});var l=d.timeEntry._get(p,"spinnerSize");var k=d.timeEntry._get(p,"spinnerBigSize");d('<div class="timeEntry_expand" style="position: absolute; left: '+(n.left-(k[0]-l[0])/2-(m?m.left:0))+"px; top: "+(n.top-(k[1]-l[1])/2-(m?m.top:0))+"px; width: "+k[0]+"px; height: "+k[1]+"px; background: transparent url("+o+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(d.timeEntry._handleSpinner).mouseup(d.timeEntry._endSpinner).mouseout(d.timeEntry._endExpand).mousemove(d.timeEntry._describeSpinner).insertAfter(q)}},_getInput:function(g){return d(g).siblings("."+d.timeEntry.markerClassName)[0]},_describeSpinner:function(h){var g=d.timeEntry._getSpinnerTarget(h);var j=d.data(d.timeEntry._getInput(g),a);g.title=d.timeEntry._get(j,"spinnerTexts")[d.timeEntry._getSpinnerRegion(j,h)]},_handleSpinner:function(h){var g=d.timeEntry._getSpinnerTarget(h);var m=d.timeEntry._getInput(g);if(d.timeEntry._isDisabledTimeEntry(m)){return}if(m==d.timeEntry._blurredInput){d.timeEntry._lastInput=m;d.timeEntry._blurredInput=null}var l=d.data(m,a);d.timeEntry._doFocus(m);var k=d.timeEntry._getSpinnerRegion(l,h);d.timeEntry._changeSpinner(l,g,k);d.timeEntry._actionSpinner(l,k);d.timeEntry._timer=null;d.timeEntry._handlingSpinner=true;var j=d.timeEntry._get(l,"spinnerRepeat");if(k>=3&&j[0]){d.timeEntry._timer=setTimeout(function(){d.timeEntry._repeatSpinner(l,k)},j[0]);d(g).one("mouseout",d.timeEntry._releaseSpinner).one("mouseup",d.timeEntry._releaseSpinner)}},_actionSpinner:function(h,g){if(!h.input.val()){d.timeEntry._parseTime(h)}switch(g){case 0:this._setTime(h);break;case 1:this._changeField(h,-1,false);break;case 2:this._changeField(h,+1,false);break;case 3:this._adjustField(h,+1);break;case 4:this._adjustField(h,-1);break}},_repeatSpinner:function(h,g){if(!d.timeEntry._timer){return}d.timeEntry._lastInput=d.timeEntry._blurredInput;this._actionSpinner(h,g);this._timer=setTimeout(function(){d.timeEntry._repeatSpinner(h,g)},this._get(h,"spinnerRepeat")[1])},_releaseSpinner:function(g){clearTimeout(d.timeEntry._timer);d.timeEntry._timer=null},_endExpand:function(h){d.timeEntry._timer=null;var g=d.timeEntry._getSpinnerTarget(h);var k=d.timeEntry._getInput(g);var j=d.data(k,a);d(g).remove();j._expanded=false},_endSpinner:function(h){d.timeEntry._timer=null;var g=d.timeEntry._getSpinnerTarget(h);var k=d.timeEntry._getInput(g);var j=d.data(k,a);if(!d.timeEntry._isDisabledTimeEntry(k)){d.timeEntry._changeSpinner(j,g,-1)}if(d.timeEntry._handlingSpinner){d.timeEntry._lastInput=d.timeEntry._blurredInput}if(d.timeEntry._lastInput&&d.timeEntry._handlingSpinner){d.timeEntry._showField(j)}d.timeEntry._handlingSpinner=false},_getSpinnerTarget:function(g){return g.target||g.srcElement},_getSpinnerRegion:function(A,z){var w=this._getSpinnerTarget(z);var v=(d.browser.opera||d.browser.safari?d.timeEntry._findPos(w):d(w).offset());var u=(d.browser.safari?d.timeEntry._findScroll(w):[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]);var s=this._get(A,"spinnerIncDecOnly");var r=(s?99:z.clientX+u[0]-v.left-(d.browser.msie?2:0));var q=z.clientY+u[1]-v.top-(d.browser.msie?2:0);var p=this._get(A,(A._expanded?"spinnerBigSize":"spinnerSize"));var o=(s?99:p[0]-1-r);var n=p[1]-1-q;if(p[2]>0&&Math.abs(r-o)<=p[2]&&Math.abs(q-n)<=p[2]){return 0}var m=Math.min(r,q,o,n);return(m==r?1:(m==o?2:(m==q?3:4)))},_changeSpinner:function(h,g,j){d(g).css("","-"+((j+1)*this._get(h,(h._expanded?"spinnerBigSize":"spinnerSize"))[0])+"px 0px")},_findPos:function(h){var g=curTop=0;if(h.offsetParent){g=h.offsetLeft;curTop=h.offsetTop;while(h=h.offsetParent){var j=g;g+=h.offsetLeft;if(g<0){g=j}curTop+=h.offsetTop}}return{left:g,top:curTop}},_findScroll:function(h){var g=false;d(h).parents().each(function(){g|=d(this).css("position")=="fixed"});if(g){return[0,0]}var k=h.scrollLeft;var j=h.scrollTop;while(h=h.parentNode){k+=h.scrollLeft||0;j+=h.scrollTop||0}return[k,j]},_get:function(h,g){return(h.options[g]!=null?h.options[g]:d.timeEntry._defaults[g])},_parseTime:function(h){var g=this._extractTime(h);var k=this._get(h,"showSeconds");if(g){h._selectedHour=g[0];h._selectedMinute=g[1];h._selectedSecond=g[2]}else{var j=this._constrainTime(h);h._selectedHour=j[0];h._selectedMinute=j[1];h._selectedSecond=(k?j[2]:0)}h._secondField=(k?2:-1);h._ampmField=(this._get(h,"show24Hours")?-1:(k?3:2));h._lastChr="";h._field=Math.max(0,Math.min(Math.max(1,h._secondField,h._ampmField),this._get(h,"initialField")));if(h.input.val()!=""){this._showTime(h)}},_extractTime:function(w,v){v=v||w.input.val();var u=this._get(w,"separator");var s=v.split(u);if(u==""&&v!=""){s[0]=v.substring(0,2);s[1]=v.substring(2,4);s[2]=v.substring(4,6)}var r=this._get(w,"ampmNames");var q=this._get(w,"show24Hours");if(s.length>=2){var p=!q&&(v.indexOf(r[0])>-1);var o=!q&&(v.indexOf(r[1])>-1);var n=parseInt(s[0],10);n=(isNaN(n)?0:n);n=((p||o)&&n==12?0:n)+(o?12:0);var m=parseInt(s[1],10);m=(isNaN(m)?0:m);var l=(s.length>=3?parseInt(s[2],10):0);l=(isNaN(l)||!this._get(w,"showSeconds")?0:l);return this._constrainTime(w,[n,m,l])}return null},_constrainTime:function(h,g){var n=(g!=null);if(!n){var m=this._determineTime(h,this._get(h,"defaultTime"))||new Date();g=[m.getHours(),m.getMinutes(),m.getSeconds()]}var l=false;var k=this._get(h,"timeSteps");for(var j=0;j<k.length;j++){if(l){g[j]=0}else{if(k[j]>1){g[j]=Math.round(g[j]/k[j])*k[j];l=true}}}return g},_showTime:function(h){var g=this._get(h,"show24Hours");var k=this._get(h,"separator");var j=(this._formatNumber(g?h._selectedHour:((h._selectedHour+11)%12)+1)+k+this._formatNumber(h._selectedMinute)+(this._get(h,"showSeconds")?k+this._formatNumber(h._selectedSecond):"")+(g?"":this._get(h,"ampmPrefix")+this._get(h,"ampmNames")[(h._selectedHour<12?0:1)]));this._setValue(h,j);this._showField(h)},_showField:function(j){var h=j.input[0];if(j.input.is(":hidden")||d.timeEntry._lastInput!=h){return}var o=this._get(j,"separator");var n=o.length+2;var m=(j._field!=j._ampmField?(j._field*n):(j._ampmField*n)-o.length+this._get(j,"ampmPrefix").length);var l=m+(j._field!=j._ampmField?2:this._get(j,"ampmNames")[0].length);if(h.setSelectionRange){h.setSelectionRange(m,l)}else{if(h.createTextRange){var k=h.createTextRange();k.moveStart("character",m);k.moveEnd("character",l-j.input.val().length);k.select()}}if(!h.disabled){h.focus()}},_formatNumber:function(g){return(g<10?"0":"")+g},_setValue:function(h,g){if(g!=h.input.val()){h.input.val(g).trigger("change")}},_changeField:function(h,g,k){var j=(h.input.val()==""||h._field==(g==-1?0:Math.max(1,h._secondField,h._ampmField)));if(!j){h._field+=g}this._showField(h);h._lastChr="";d.data(h.input[0],a,h);return(j&&k)},_adjustField:function(h,g){if(h.input.val()==""){g=0}var j=this._get(h,"timeSteps");this._setTime(h,new Date(0,0,0,h._selectedHour+(h._field==0?g*j[0]:0)+(h._field==h._ampmField?g*12:0),h._selectedMinute+(h._field==1?g*j[1]:0),h._selectedSecond+(h._field==h._secondField?g*j[2]:0)))},_setTime:function(h,g){g=this._determineTime(h,g);var m=this._constrainTime(h,g?[g.getHours(),g.getMinutes(),g.getSeconds()]:null);g=new Date(0,0,0,m[0],m[1],m[2]);var g=this._normaliseTime(g);var l=this._normaliseTime(this._determineTime(h,this._get(h,"minTime")));var k=this._normaliseTime(this._determineTime(h,this._get(h,"maxTime")));g=(l&&g<l?l:(k&&g>k?k:g));var j=this._get(h,"beforeSetTime");if(j){g=j.apply(h.input[0],[this._getTimeTimeEntry(h.input[0]),g,l,k])}h._selectedHour=g.getHours();h._selectedMinute=g.getMinutes();h._selectedSecond=g.getSeconds();this._showTime(h);d.data(h.input[0],a,h)},_normaliseTime:function(g){if(!g){return null}g.setFullYear(1900);g.setMonth(0);g.setDate(0);return g},_determineTime:function(n,m){var h=function(k){var j=new Date();j.setTime(j.getTime()+k*1000);return j};var g=function(k){var j=d.timeEntry._extractTime(n,k);var s=new Date();var r=(j?j[0]:s.getHours());var q=(j?j[1]:s.getMinutes());var p=(j?j[2]:s.getSeconds());if(!j){var o=/([+-]?[0-9]+)\s*(s|S|m|M|h|H)?/g;var l=o.exec(k);while(l){switch(l[2]||"s"){case"s":case"S":p+=parseInt(l[1],10);break;case"m":case"M":q+=parseInt(l[1],10);break;case"h":case"H":r+=parseInt(l[1],10);break}l=o.exec(k)}}s=new Date(0,0,10,r,q,p,0);if(/^!/.test(k)){if(s.getDate()>10){s=new Date(0,0,10,23,59,59)}else{if(s.getDate()<10){s=new Date(0,0,10,0,0,0)}}}return s};return(m?(typeof m=="string"?g(m):(typeof m=="number"?h(m):m)):null)},_handleKeyPress:function(w,v){if(v==this._get(w,"separator")){this._changeField(w,+1,false)}else{if(v>="0"&&v<="9"){var u=parseInt(v,10);var s=parseInt(w._lastChr+v,10);var r=this._get(w,"show24Hours");var q=(w._field!=0?w._selectedHour:(r?(s<24?s:u):(s>=1&&s<=12?s:(u>0?u:w._selectedHour))%12+(w._selectedHour>=12?12:0)));var p=(w._field!=1?w._selectedMinute:(s<60?s:u));var o=(w._field!=w._secondField?w._selectedSecond:(s<60?s:u));var n=this._constrainTime(w,[q,p,o]);this._setTime(w,new Date(0,0,0,n[0],n[1],n[2]));w._lastChr=v}else{if(!this._get(w,"show24Hours")){v=v.toLowerCase();var m=this._get(w,"ampmNames");if((v==m[0].substring(0,1).toLowerCase()&&w._selectedHour>=12)||(v==m[1].substring(0,1).toLowerCase()&&w._selectedHour<12)){var l=w._field;w._field=w._ampmField;this._adjustField(w,+1);w._field=l;this._showField(w)}}}}}});function b(h,g){d.extend(h,g);for(var j in g){if(g[j]==null){h[j]=null}}return h}var e=["getOffset","getTime","isDisabled"];d.fn.timeEntry=function(h){var g=Array.prototype.slice.call(arguments,1);if(typeof h=="string"&&d.inArray(h,e)>-1){return d.timeEntry["_"+h+"TimeEntry"].apply(d.timeEntry,[this[0]].concat(g))}return this.each(function(){var k=this.nodeName.toLowerCase();if(k=="input"){if(typeof h=="string"){d.timeEntry["_"+h+"TimeEntry"].apply(d.timeEntry,[this].concat(g))}else{var j=(d.fn.metadata?d(this).metadata():{});d.timeEntry._connectTimeEntry(this,d.extend(j,h))}}})};d.timeEntry=new c()})(jQuery);(function(l){var D,E,F,G,H,I,p={},J={},s={},M=0,K={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0},data:{key:{children:"children",name:"name",title:""},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null}},t=[function(b){var a=b.treeObj,c=f.event;a.unbind(c.NODECREATED);a.bind(c.NODECREATED,function(a,c,h){k.apply(b.callback.onNodeCreated,[a,c,h])});a.unbind(c.CLICK);a.bind(c.CLICK,function(a,c,h,j){k.apply(b.callback.onClick,[a,c,h,j])});a.unbind(c.EXPAND);a.bind(c.EXPAND,function(a,c,h){k.apply(b.callback.onExpand,[a,c,h])});a.unbind(c.COLLAPSE);a.bind(c.COLLAPSE,function(a,c,h){k.apply(b.callback.onCollapse,[a,c,h])});a.unbind(c.ASYNC_SUCCESS);a.bind(c.ASYNC_SUCCESS,function(a,c,h,j){k.apply(b.callback.onAsyncSuccess,[a,c,h,j])});a.unbind(c.ASYNC_ERROR);a.bind(c.ASYNC_ERROR,function(a,c,h,j,g,f){k.apply(b.callback.onAsyncError,[a,c,h,j,g,f])})}],q=[function(b){var a=g.getCache(b);a||(a={},g.setCache(b,a));a.nodes=[];a.doms=[]}],v=[function(b,a,c,d,e,h){if(c){var j=b.data.key.children;c.level=a;c.tId=b.treeId+"_"+ ++M;c.parentTId=d?d.tId:null;if(c[j]&&c[j].length>0){if(typeof c.open=="string"){c.open=k.eqs(c.open,"true")}c.open=!!c.open;c.isParent=!0;c.zAsync=!0}else{c.open=!1;if(typeof c.isParent=="string"){c.isParent=k.eqs(c.isParent,"true")}c.isParent=!!c.isParent;c.zAsync=!c.isParent}c.isFirstNode=e;c.isLastNode=h;c.getParentNode=function(){return g.getNodeCache(b,c.parentTId)};c.getPreNode=function(){return g.getPreNode(b,c)};c.getNextNode=function(){return g.getNextNode(b,c)};c.isAjaxing=!1;g.fixPIdKeyValue(b,c)}}],w=[function(b){var a=b.target,c=p[b.data.treeId],d="",e=null,h="",j="",i=null,o=null,l=null;if(k.eqs(b.type,"mousedown")){j="mousedown"}else{if(k.eqs(b.type,"mouseup")){j="mouseup"}else{if(k.eqs(b.type,"contextmenu")){j="contextmenu"}else{if(k.eqs(b.type,"click")){if(k.eqs(a.tagName,"button")&&a.blur(),k.eqs(a.tagName,"button")&&a.getAttribute("treeNode"+f.id.SWITCH)!==null){d=a.parentNode.id,h="switchNode"}else{if(l=k.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+f.id.A}])){d=l.parentNode.id,h="clickNode"}}}else{if(k.eqs(b.type,"dblclick")&&(j="dblclick",l=k.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+f.id.A}]))){d=l.parentNode.id,h="switchNode"}}}}}if(j.length>0&&d.length==0&&(l=k.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+f.id.A}]))){d=l.parentNode.id}if(d.length>0){switch(e=g.getNodeCache(c,d),h){case"switchNode":e.isParent?k.eqs(b.type,"click")||k.eqs(b.type,"dblclick")&&k.apply(c.view.dblClickExpand,[c.treeId,e],c.view.dblClickExpand)?i=D:h="":h="";break;case"clickNode":i=E}}switch(j){case"mousedown":o=F;break;case"mouseup":o=G;break;case"dblclick":o=H;break;case"contextmenu":o=I}return{stop:!1,node:e,nodeEventType:h,nodeEventCallback:i,treeEventType:j,treeEventCallback:o}}],x=[function(b){var a=g.getRoot(b);a||(a={},g.setRoot(b,a));a.children=[];a.expandTriggerFlag=!1;a.curSelectedList=[];a.noSelection=!0;a.createdNodes=[]}],y=[],z=[],A=[],B=[],C=[],g={addNodeCache:function(b,a){g.getCache(b).nodes[a.tId]=a},addAfterA:function(b){z.push(b)},addBeforeA:function(b){y.push(b)},addInnerAfterA:function(b){B.push(b)},addInnerBeforeA:function(b){A.push(b)},addInitBind:function(b){t.push(b)},addInitCache:function(b){q.push(b)},addInitNode:function(b){v.push(b)},addInitProxy:function(b){w.push(b)},addInitRoot:function(b){x.push(b)},addNodesData:function(b,a,c){var d=b.data.key.children;a[d]||(a[d]=[]);if(a[d].length>0){a[d][a[d].length-1].isLastNode=!1,i.setNodeLineIcos(b,a[d][a[d].length-1])}a.isParent=!0;a[d]=a[d].concat(c)},addSelectedNode:function(b,a){var c=g.getRoot(b);g.isSelectedNode(b,a)||c.curSelectedList.push(a)},addCreatedNode:function(b,a){(b.callback.onNodeCreated||b.view.addDiyDom)&&g.getRoot(b).createdNodes.push(a)},addZTreeTools:function(b){C.push(b)},exSetting:function(b){l.extend(!0,K,b)},fixPIdKeyValue:function(b,a){b.data.simpleData.enable&&(a[b.data.simpleData.pIdKey]=a.parentTId?a.getParentNode()[b.data.simpleData.idKey]:b.data.simpleData.rootPId)},getAfterA:function(b,a,c){for(var d=0,e=z.length;d<e;d++){z[d].apply(this,arguments)}},getBeforeA:function(b,a,c){for(var d=0,e=y.length;d<e;d++){y[d].apply(this,arguments)}},getInnerAfterA:function(b,a,c){for(var d=0,e=B.length;d<e;d++){B[d].apply(this,arguments)}},getInnerBeforeA:function(b,a,c){for(var d=0,e=A.length;d<e;d++){A[d].apply(this,arguments)}},getCache:function(b){return s[b.treeId]},getNextNode:function(b,a){if(!a){return null}var c=b.data.key.children,d=a.parentTId?a.getParentNode():g.getRoot(b);if(!a.isLastNode){if(a.isFirstNode){return d[c][1]}else{for(var e=1,h=d[c].length-1;e<h;e++){if(d[c][e]===a){return d[c][e+1]}}}}return null},getNodeByParam:function(b,a,c,d){if(!a||!c){return null}for(var e=b.data.key.children,h=0,j=a.length;h<j;h++){if(a[h][c]==d){return a[h]}var f=g.getNodeByParam(b,a[h][e],c,d);if(f){return f}}return null},getNodeCache:function(b,a){if(!a){return null}var c=s[b.treeId].nodes[a];return c?c:null},getNodes:function(b){return g.getRoot(b)[b.data.key.children]},getNodesByParam:function(b,a,c,d){if(!a||!c){return[]}for(var e=b.data.key.children,h=[],j=0,f=a.length;j<f;j++){a[j][c]==d&&h.push(a[j]),h=h.concat(g.getNodesByParam(b,a[j][e],c,d))}return h},getNodesByParamFuzzy:function(b,a,c,d){if(!a||!c){return[]}for(var e=b.data.key.children,h=[],j=0,f=a.length;j<f;j++){typeof a[j][c]=="string"&&a[j][c].indexOf(d)>-1&&h.push(a[j]),h=h.concat(g.getNodesByParamFuzzy(b,a[j][e],c,d))}return h},getPreNode:function(b,a){if(!a){return null}var c=b.data.key.children,d=a.parentTId?a.getParentNode():g.getRoot(b);if(!a.isFirstNode){if(a.isLastNode){return d[c][d[c].length-2]}else{for(var e=1,h=d[c].length-1;e<h;e++){if(d[c][e]===a){return d[c][e-1]}}}}return null},getRoot:function(b){return b?J[b.treeId]:null},getSetting:function(b){return p[b]},getSettings:function(){return p},getTitleKey:function(b){return b.data.key.title===""?b.data.key.name:b.data.key.title},getZTreeTools:function(b){return(b=this.getRoot(this.getSetting(b)))?b.treeTools:null},initCache:function(b){for(var a=0,c=q.length;a<c;a++){q[a].apply(this,arguments)}},initNode:function(b,a,c,d,e,h){for(var j=0,f=v.length;j<f;j++){v[j].apply(this,arguments)}},initRoot:function(b){for(var a=0,c=x.length;a<c;a++){x[a].apply(this,arguments)}},isSelectedNode:function(b,a){for(var c=g.getRoot(b),d=0,e=c.curSelectedList.length;d<e;d++){if(a===c.curSelectedList[d]){return !0}}return !1},removeNodeCache:function(b,a){var c=b.data.key.children;if(a[c]){for(var d=0,e=a[c].length;d<e;d++){arguments.callee(b,a[c][d])}}delete g.getCache(b).nodes[a.tId]},removeSelectedNode:function(b,a){for(var c=g.getRoot(b),d=0,e=c.curSelectedList.length;d<e;d++){if(a===c.curSelectedList[d]||!g.getNodeCache(b,c.curSelectedList[d].tId)){c.curSelectedList.splice(d,1),d--,e--}}},setCache:function(b,a){s[b.treeId]=a},setRoot:function(b,a){J[b.treeId]=a},setZTreeTools:function(b,a){for(var c=0,d=C.length;c<d;c++){C[c].apply(this,arguments)}},transformToArrayFormat:function(b,a){if(!a){return[]}var c=b.data.key.children,d=[];if(k.isArray(a)){for(var e=0,h=a.length;e<h;e++){d.push(a[e]),a[e][c]&&(d=d.concat(g.transformToArrayFormat(b,a[e][c])))}}else{d.push(a),a[c]&&(d=d.concat(g.transformToArrayFormat(b,a[c])))}return d},transformTozTreeFormat:function(b,a){var c,d,e=b.data.simpleData.idKey,h=b.data.simpleData.pIdKey,j=b.data.key.children;if(!e||e==""||!a){return[]}if(k.isArray(a)){var f=[],g=[];for(c=0,d=a.length;c<d;c++){g[a[c][e]]=a[c]}for(c=0,d=a.length;c<d;c++){g[a[c][h]]&&a[c][e]!=a[c][h]?(g[a[c][h]][j]||(g[a[c][h]][j]=[]),g[a[c][h]][j].push(a[c])):f.push(a[c])}return f}else{return[a]}}},m={bindEvent:function(b){for(var a=0,c=t.length;a<c;a++){t[a].apply(this,arguments)}},bindTree:function(b){var a={treeId:b.treeId},b=b.treeObj;b.unbind("click",m.proxy);b.bind("click",a,m.proxy);b.unbind("dblclick",m.proxy);b.bind("dblclick",a,m.proxy);b.unbind("mouseover",m.proxy);b.bind("mouseover",a,m.proxy);b.unbind("mouseout",m.proxy);b.bind("mouseout",a,m.proxy);b.unbind("mousedown",m.proxy);b.bind("mousedown",a,m.proxy);b.unbind("mouseup",m.proxy);b.bind("mouseup",a,m.proxy);b.unbind("contextmenu",m.proxy);b.bind("contextmenu",a,m.proxy)},doProxy:function(b){for(var a=[],c=0,d=w.length;c<d;c++){var e=w[c].apply(this,arguments);a.push(e);if(e.stop){break}}return a},proxy:function(b){var a=g.getSetting(b.data.treeId);if(!k.uCanDo(a,b)){return !0}for(var c=m.doProxy(b),d=!0,e=!1,h=0,j=c.length;h<j;h++){var f=c[h];f.nodeEventCallback&&(e=!0,d=f.nodeEventCallback.apply(f,[b,f.node])&&d);f.treeEventCallback&&(e=!0,d=f.treeEventCallback.apply(f,[b,f.node])&&d)}try{e&&l("input:focus").length==0&&k.noSel(a)}catch(i){}return d}};D=function(b,a){var c=p[b.data.treeId];if(a.open){if(k.apply(c.callback.beforeCollapse,[c.treeId,a],!0)==!1){return !0}}else{if(k.apply(c.callback.beforeExpand,[c.treeId,a],!0)==!1){return !0}}g.getRoot(c).expandTriggerFlag=!0;i.switchNode(c,a);return !0};E=function(b,a){var c=p[b.data.treeId],d=c.view.autoCancelSelected&&b.ctrlKey&&g.isSelectedNode(c,a)?0:c.view.autoCancelSelected&&b.ctrlKey&&c.view.selectedMulti?2:1;if(k.apply(c.callback.beforeClick,[c.treeId,a,d],!0)==!1){return !0}d===0?i.cancelPreSelectedNode(c,a):i.selectNode(c,a,d===2);c.treeObj.trigger(f.event.CLICK,[c.treeId,a,d]);return !0};F=function(b,a){var c=p[b.data.treeId];k.apply(c.callback.beforeMouseDown,[c.treeId,a],!0)&&k.apply(c.callback.onMouseDown,[b,c.treeId,a]);return !0};G=function(b,a){var c=p[b.data.treeId];k.apply(c.callback.beforeMouseUp,[c.treeId,a],!0)&&k.apply(c.callback.onMouseUp,[b,c.treeId,a]);return !0};H=function(b,a){var c=p[b.data.treeId];k.apply(c.callback.beforeDblClick,[c.treeId,a],!0)&&k.apply(c.callback.onDblClick,[b,c.treeId,a]);return !0};I=function(b,a){var c=p[b.data.treeId];k.apply(c.callback.beforeRightClick,[c.treeId,a],!0)&&k.apply(c.callback.onRightClick,[b,c.treeId,a]);return typeof c.callback.onRightClick!="function"};var k={apply:function(b,a,c){return typeof b=="function"?b.apply(L,a?a:[]):c},canAsync:function(b,a){var c=b.data.key.children;return a&&a.isParent&&!(a.zAsync||a[c]&&a[c].length>0)},clone:function(b){var a;if(b instanceof Array){a=[];for(var c=b.length;c--;){a[c]=arguments.callee(b[c])}return a}else{if(typeof b=="function"){return b}else{if(b instanceof Object){a={};for(c in b){a[c]=arguments.callee(b[c])}return a}else{return b}}}},eqs:function(b,a){return b.toLowerCase()===a.toLowerCase()},isArray:function(b){return Object.prototype.toString.apply(b)==="[object Array]"},getMDom:function(b,a,c){if(!a){return null}for(;a&&a.id!==b.treeId;){for(var d=0,e=c.length;a.tagName&&d<e;d++){if(k.eqs(a.tagName,c[d].tagName)&&a.getAttribute(c[d].attrName)!==null){return a}}a=a.parentNode}return null},noSel:function(b){if(g.getRoot(b).noSelection){try{window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}catch(a){}}},uCanDo:function(){return !0}},i={addNodes:function(b,a,c,d){if(!b.data.keep.leaf||!a||a.isParent){if(k.isArray(c)||(c=[c]),b.data.simpleData.enable&&(c=g.transformTozTreeFormat(b,c)),a){var e=l("#"+a.tId+f.id.SWITCH),h=l("#"+a.tId+f.id.ICON),j=l("#"+a.tId+f.id.UL);if(!a.open){i.replaceSwitchClass(a,e,f.folder.CLOSE),i.replaceIcoClass(a,h,f.folder.CLOSE),a.open=!1,j.css({display:"none"})}g.addNodesData(b,a,c);i.createNodes(b,a.level+1,c,a);d||i.expandCollapseParentNode(b,a,!0)}else{g.addNodesData(b,g.getRoot(b),c),i.createNodes(b,0,c,null)}}},appendNodes:function(b,a,c,d,e,h){if(!c){return[]}for(var j=[],l=b.data.key.children,o=b.data.key.name,m=g.getTitleKey(b),p=0,N=c.length;p<N;p++){var n=c[p],u=(d?d:g.getRoot(b))[l].length==c.length&&p==0,r=p==c.length-1;e&&(g.initNode(b,a,n,d,u,r,h),g.addNodeCache(b,n));u=[];n[l]&&n[l].length>0&&(u=i.appendNodes(b,a+1,n[l],n,e,h&&n.open));if(h){var r=i.makeNodeUrl(b,n),s=i.makeNodeFontCss(b,n),t=[],q;for(q in s){t.push(q,":",s[q],";")}j.push("<li id='",n.tId,"' class='level",n.level,"' treenode>","<button type='button' hidefocus='true'",n.isParent?"":"disabled"," id='",n.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(b,n),"' treeNode",f.id.SWITCH,"></button>");g.getBeforeA(b,n,j);j.push("<a id='",n.tId,f.id.A,"' class='level",n.level,"' treeNode",f.id.A,' onclick="',n.click||"",'" ',r!=null&&r.length>0?"href='"+r+"'":""," target='",i.makeNodeTarget(n),"' style='",t.join(""),"'");k.apply(b.view.showTitle,[b.treeId,n],b.view.showTitle)&&n[m]&&j.push("title='",n[m].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'");j.push(">");g.getInnerBeforeA(b,n,j);r=b.view.nameIsHTML?n[o]:n[o].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");j.push("<button type='button' hidefocus='true' id='",n.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(b,n),"' style='",i.makeNodeIcoStyle(b,n),"'></button><span id='",n.tId,f.id.SPAN,"'>",r,"</span>");g.getInnerAfterA(b,n,j);j.push("</a>");g.getAfterA(b,n,j);n.isParent&&n.open&&i.makeUlHtml(b,n,j,u.join(""));j.push("</li>");g.addCreatedNode(b,n)}}return j},appendParentULDom:function(b,a){var c=[],d=l("#"+a.tId),e=l("#"+a.tId+f.id.UL),h=i.appendNodes(b,a.level+1,a[b.data.key.children],a,!1,!0);i.makeUlHtml(b,a,c,h.join(""));!d.get(0)&&a.parentTId&&(i.appendParentULDom(b,a.getParentNode()),d=l("#"+a.tId));e.get(0)&&e.remove();d.append(c.join(""));i.createNodeCallback(b)},asyncNode:function(b,a,c,d){var e,h;if(a&&!a.isParent){return k.apply(d),!1}else{if(a&&a.isAjaxing){return !1}else{if(k.apply(b.callback.beforeAsync,[b.treeId,a],!0)==!1){return k.apply(d),!1}}}if(a){a.isAjaxing=!0,l("#"+a.tId+f.id.ICON).attr({style:"","class":"ico_loading"})}var j=b.async.contentType=="application/json",g=j?"{":"",o="";for(e=0,h=b.async.autoParam.length;a&&e<h;e++){var m=b.async.autoParam[e].split("="),p=m;m.length>1&&(p=m[1],m=m[0]);j?(o=typeof a[m]=="string"?'"':"",g+='"'+p+('":'+o+a[m]).replace(/'/g,"\\'")+o+","):g+=p+("="+a[m]).replace(/&/g,"%26")+"&"}if(k.isArray(b.async.otherParam)){for(e=0,h=b.async.otherParam.length;e<h;e+=2){j?(o=typeof b.async.otherParam[e+1]=="string"?'"':"",g+='"'+b.async.otherParam[e]+('":'+o+b.async.otherParam[e+1]).replace(/'/g,"\\'")+o+","):g+=b.async.otherParam[e]+("="+b.async.otherParam[e+1]).replace(/&/g,"%26")+"&"}}else{for(var q in b.async.otherParam){j?(o=typeof b.async.otherParam[q]=="string"?'"':"",g+='"'+q+('":'+o+b.async.otherParam[q]).replace(/'/g,"\\'")+o+","):g+=q+("="+b.async.otherParam[q]).replace(/&/g,"%26")+"&"}}g.length>1&&(g=g.substring(0,g.length-1));j&&(g+="}");l.ajax({contentType:b.async.contentType,type:b.async.type,url:k.apply(b.async.url,[b.treeId,a],b.async.url),data:g,dataType:b.async.dataType,success:function(e){var h=[];try{h=!e||e.length==0?[]:typeof e=="string"?eval("("+e+")"):e}catch(g){}if(a){a.isAjaxing=null,a.zAsync=!0}i.setNodeLineIcos(b,a);h&&h!=""?(h=k.apply(b.async.dataFilter,[b.treeId,a,h],h),i.addNodes(b,a,k.clone(h),!!c)):i.addNodes(b,a,[],!!c);b.treeObj.trigger(f.event.ASYNC_SUCCESS,[b.treeId,a,e]);k.apply(d)},error:function(c,d,e){i.setNodeLineIcos(b,a);if(a){a.isAjaxing=null}b.treeObj.trigger(f.event.ASYNC_ERROR,[b.treeId,a,c,d,e])}});return !0},cancelPreSelectedNode:function(b,a){for(var c=g.getRoot(b).curSelectedList,d=c.length-1;d>=0;d--){if(!a||a===c[d]){if(l("#"+c[d].tId+f.id.A).removeClass(f.node.CURSELECTED),i.setNodeName(b,c[d]),a){g.removeSelectedNode(b,a);break}}}if(!a){g.getRoot(b).curSelectedList=[]}},createNodeCallback:function(b){if(b.callback.onNodeCreated||b.view.addDiyDom){for(var a=g.getRoot(b);a.createdNodes.length>0;){var c=a.createdNodes.shift();k.apply(b.view.addDiyDom,[b.treeId,c]);b.callback.onNodeCreated&&b.treeObj.trigger(f.event.NODECREATED,[b.treeId,c])}}},createNodes:function(b,a,c,d){if(c&&c.length!=0){var e=g.getRoot(b),h=b.data.key.children,h=!d||d.open||!!l("#"+d[h][0].tId).get(0);e.createdNodes=[];a=i.appendNodes(b,a,c,d,!0,h);d?(d=l("#"+d.tId+f.id.UL),d.get(0)&&d.append(a.join(""))):b.treeObj.append(a.join(""));i.createNodeCallback(b)}},expandCollapseNode:function(b,a,c,d,e){var h=g.getRoot(b),j=b.data.key.children;if(a){if(h.expandTriggerFlag){var m=e,e=function(){m&&m();a.open?b.treeObj.trigger(f.event.EXPAND,[b.treeId,a]):b.treeObj.trigger(f.event.COLLAPSE,[b.treeId,a])};h.expandTriggerFlag=!1}if(a.open==c){k.apply(e,[])}else{!a.open&&a.isParent&&(!l("#"+a.tId+f.id.UL).get(0)||a[j]&&a[j].length>0&&!l("#"+a[j][0].tId).get(0))&&i.appendParentULDom(b,a);var c=l("#"+a.tId+f.id.UL),h=l("#"+a.tId+f.id.SWITCH),o=l("#"+a.tId+f.id.ICON);a.isParent?(a.open=!a.open,a.iconOpen&&a.iconClose&&o.attr("style",i.makeNodeIcoStyle(b,a)),a.open?(i.replaceSwitchClass(a,h,f.folder.OPEN),i.replaceIcoClass(a,o,f.folder.OPEN),d==!1||b.view.expandSpeed==""?(c.show(),k.apply(e,[])):a[j]&&a[j].length>0?c.slideDown(b.view.expandSpeed,e):(c.show(),k.apply(e,[]))):(i.replaceSwitchClass(a,h,f.folder.CLOSE),i.replaceIcoClass(a,o,f.folder.CLOSE),d==!1||b.view.expandSpeed==""?(c.hide(),k.apply(e,[])):c.slideUp(b.view.expandSpeed,e))):k.apply(e,[])}}else{k.apply(e,[])}},expandCollapseParentNode:function(b,a,c,d,e){a&&(a.parentTId?(i.expandCollapseNode(b,a,c,d),a.parentTId&&i.expandCollapseParentNode(b,a.getParentNode(),c,d,e)):i.expandCollapseNode(b,a,c,d,e))},expandCollapseSonNode:function(b,a,c,d,e){var h=g.getRoot(b),f=b.data.key.children,h=a?a[f]:h[f],f=a?!1:d,k=g.getRoot(b).expandTriggerFlag;g.getRoot(b).expandTriggerFlag=!1;if(h){for(var l=0,m=h.length;l<m;l++){h[l]&&i.expandCollapseSonNode(b,h[l],c,f)}}g.getRoot(b).expandTriggerFlag=k;i.expandCollapseNode(b,a,c,d,e)},makeNodeFontCss:function(b,a){var c=k.apply(b.view.fontCss,[b.treeId,a],b.view.fontCss);return c&&typeof c!="function"?c:{}},makeNodeIcoClass:function(b,a){var c=["ico"];a.isAjaxing||(c[0]=(a.iconSkin?a.iconSkin+"_":"")+c[0],a.isParent?c.push(a.open?f.folder.OPEN:f.folder.CLOSE):c.push(f.folder.DOCU));return c.join("_")},makeNodeIcoStyle:function(b,a){var c=[];if(!a.isAjaxing){var d=a.isParent&&a.iconOpen&&a.iconClose?a.open?a.iconOpen:a.iconClose:a.icon;d&&c.push("background:url(",d,") 0 0 no-repeat;");(b.view.showIcon==!1||!k.apply(b.view.showIcon,[b.treeId,a],!0))&&c.push("width:0px;height:0px;")}return c.join("")},makeNodeLineClass:function(b,a){var c=[];b.view.showLine?a.level==0&&a.isFirstNode&&a.isLastNode?c.push(f.line.ROOT):a.level==0&&a.isFirstNode?c.push(f.line.ROOTS):a.isLastNode?c.push(f.line.BOTTOM):c.push(f.line.CENTER):c.push(f.line.NOLINE);a.isParent?c.push(a.open?f.folder.OPEN:f.folder.CLOSE):c.push(f.folder.DOCU);return i.makeNodeLineClassEx(a)+c.join("_")},makeNodeLineClassEx:function(b){return"level"+b.level+" switch "},makeNodeTarget:function(b){return b.target||"_blank"},makeNodeUrl:function(b,a){return a.url?a.url:null},makeUlHtml:function(b,a,c,d){c.push("<ul id='",a.tId,f.id.UL,"' class='level",a.level," ",i.makeUlLineClass(b,a),"' style='display:",a.open?"block":"none","'>");c.push(d);c.push("</ul>")},makeUlLineClass:function(b,a){return b.view.showLine&&!a.isLastNode?f.line.LINE:""},replaceIcoClass:function(b,a,c){if(a&&!b.isAjaxing&&(b=a.attr("class"),b!=void 0)){b=b.split("_");switch(c){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:b[b.length-1]=c}a.attr("class",b.join("_"))}},replaceSwitchClass:function(b,a,c){if(a){var d=a.attr("class");if(d!=void 0){d=d.split("_");switch(c){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:d[0]=i.makeNodeLineClassEx(b)+c;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:d[1]=c}a.attr("class",d.join("_"));c!==f.folder.DOCU?a.removeAttr("disabled"):a.attr("disabled","disabled")}}},selectNode:function(b,a,c){c||i.cancelPreSelectedNode(b);l("#"+a.tId+f.id.A).addClass(f.node.CURSELECTED);g.addSelectedNode(b,a)},setNodeFontCss:function(b,a){var c=l("#"+a.tId+f.id.A),d=i.makeNodeFontCss(b,a);d&&c.css(d)},setNodeLineIcos:function(b,a){if(a){var c=l("#"+a.tId+f.id.SWITCH),d=l("#"+a.tId+f.id.UL),e=l("#"+a.tId+f.id.ICON),h=i.makeUlLineClass(b,a);h.length==0?d.removeClass(f.line.LINE):d.addClass(h);c.attr("class",i.makeNodeLineClass(b,a));a.isParent?c.removeAttr("disabled"):c.attr("disabled","disabled");e.removeAttr("style");e.attr("style",i.makeNodeIcoStyle(b,a));e.attr("class",i.makeNodeIcoClass(b,a))}},setNodeName:function(b,a){var c=b.data.key.name,d=g.getTitleKey(b),e=l("#"+a.tId+f.id.SPAN);e.empty();b.view.nameIsHTML?e.html(a[c]):e.text(a[c]);k.apply(b.view.showTitle,[b.treeId,a],b.view.showTitle)&&a[d]&&l("#"+a.tId+f.id.A).attr("title",a[d])},setNodeTarget:function(b){l("#"+b.tId+f.id.A).attr("target",i.makeNodeTarget(b))},setNodeUrl:function(b,a){var c=l("#"+a.tId+f.id.A),d=i.makeNodeUrl(b,a);d==null||d.length==0?c.removeAttr("href"):c.attr("href",d)},switchNode:function(b,a){a.open||!k.canAsync(b,a)?i.expandCollapseNode(b,a,!a.open):b.async.enable?i.asyncNode(b,a)||i.expandCollapseNode(b,a,!a.open):a&&i.expandCollapseNode(b,a,!a.open)}};l.fn.zTree={consts:{event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:k,view:i,event:m,data:g},getZTreeObj:function(b){return(b=g.getZTreeTools(b))?b:null},init:function(b,a,c){var d=k.clone(K);l.extend(!0,d,a);d.treeId=b.attr("id");d.treeObj=b;d.treeObj.empty();p[d.treeId]=d;if(l.browser.msie&&parseInt(l.browser.version)<7){d.view.expandSpeed=""}g.initRoot(d);b=g.getRoot(d);a=d.data.key.children;c=c?k.clone(k.isArray(c)?c:[c]):[];b[a]=d.data.simpleData.enable?g.transformTozTreeFormat(d,c):c;g.initCache(d);m.bindTree(d);m.bindEvent(d);c={setting:d,cancelSelectedNode:function(a){i.cancelPreSelectedNode(this.setting,a)},expandAll:function(a){a=!!a;i.expandCollapseSonNode(this.setting,null,a,!0);return a},expandNode:function(a,b,c,m,o){if(!a||!a.isParent){return null}b!==!0&&b!==!1&&(b=!a.open);if((o=!!o)&&b&&k.apply(d.callback.beforeExpand,[d.treeId,a],!0)==!1){return null}else{if(o&&!b&&k.apply(d.callback.beforeCollapse,[d.treeId,a],!0)==!1){return null}}b&&a.parentTId&&i.expandCollapseParentNode(this.setting,a.getParentNode(),b,!1);if(b===a.open&&!c){return null}g.getRoot(d).expandTriggerFlag=o;c?i.expandCollapseSonNode(this.setting,a,b,!0,function(){m!==!1&&l("#"+a.tId+f.id.ICON).focus().blur()}):(a.open=!b,i.switchNode(this.setting,a),m!==!1&&l("#"+a.tId+f.id.ICON).focus().blur());return b},getNodes:function(){return g.getNodes(this.setting)},getNodeByParam:function(a,b,c){return !a?null:g.getNodeByParam(this.setting,c?c[this.setting.data.key.children]:g.getNodes(this.setting),a,b)},getNodeByTId:function(a){return g.getNodeCache(this.setting,a)},getNodesByParam:function(a,b,c){return !a?null:g.getNodesByParam(this.setting,c?c[this.setting.data.key.children]:g.getNodes(this.setting),a,b)},getNodesByParamFuzzy:function(a,b,c){return !a?null:g.getNodesByParamFuzzy(this.setting,c?c[this.setting.data.key.children]:g.getNodes(this.setting),a,b)},getNodeIndex:function(a){if(!a){return null}for(var b=d.data.key.children,c=a.parentTId?a.getParentNode():g.getRoot(this.setting),f=0,i=c[b].length;f<i;f++){if(c[b][f]==a){return f}}return -1},getSelectedNodes:function(){for(var a=[],b=g.getRoot(this.setting).curSelectedList,c=0,d=b.length;c<d;c++){a.push(b[c])}return a},isSelectedNode:function(a){return g.isSelectedNode(this.setting,a)},reAsyncChildNodes:function(a,b,c){if(this.setting.async.enable){var d=!a;d&&(a=g.getRoot(this.setting));b=="refresh"&&(a[this.setting.data.key.children]=[],d?this.setting.treeObj.empty():l("#"+a.tId+f.id.UL).empty());i.asyncNode(this.setting,d?null:a,!!c)}},refresh:function(){this.setting.treeObj.empty();var a=g.getRoot(this.setting),b=a[this.setting.data.key.children];g.initRoot(this.setting);a[this.setting.data.key.children]=b;g.initCache(this.setting);i.createNodes(this.setting,0,a[this.setting.data.key.children])},selectNode:function(a,b){a&&k.uCanDo(this.setting)&&(b=d.view.selectedMulti&&b,a.parentTId?i.expandCollapseParentNode(this.setting,a.getParentNode(),!0,!1,function(){l("#"+a.tId+f.id.ICON).focus().blur()}):l("#"+a.tId+f.id.ICON).focus().blur(),i.selectNode(this.setting,a,b))},transformTozTreeNodes:function(a){return g.transformTozTreeFormat(this.setting,a)},transformToArray:function(a){return g.transformToArrayFormat(this.setting,a)},updateNode:function(a){a&&l("#"+a.tId).get(0)&&k.uCanDo(this.setting)&&(i.setNodeName(this.setting,a),i.setNodeTarget(a),i.setNodeUrl(this.setting,a),i.setNodeLineIcos(this.setting,a),i.setNodeFontCss(this.setting,a))}};b.treeTools=c;g.setZTreeTools(d,c);b[a]&&b[a].length>0?i.createNodes(d,0,b[a]):d.async.enable&&d.async.url&&d.async.url!==""&&i.asyncNode(d);return c}};var L=l.fn.zTree,f=L.consts})(jQuery);(function(m){var c,b,a,d={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},w={check:{enable:!1,autoCheckTrigger:!1,chkStyle:d.checkbox.STYLE,nocheckInherit:!1,radioType:d.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};c=function(j,g){if(g.chkDisabled===!0){return !1}var e=u.getSetting(j.data.treeId),h=e.data.key.checked;if(k.apply(e.callback.beforeCheck,[e.treeId,g],!0)==!1){return !0}g[h]=!g[h];v.checkNodeRelation(e,g);h=m("#"+g.tId+l.id.CHECK);v.setChkClass(e,h,g);v.repairParentChkClassWithSelf(e,g);e.treeObj.trigger(l.event.CHECK,[e.treeId,g]);return !0};b=function(j,g){if(g.chkDisabled===!0){return !1}var e=u.getSetting(j.data.treeId),h=m("#"+g.tId+l.id.CHECK);g.check_Focus=!0;v.setChkClass(e,h,g);return !0};a=function(j,g){if(g.chkDisabled===!0){return !1}var e=u.getSetting(j.data.treeId),h=m("#"+g.tId+l.id.CHECK);g.check_Focus=!1;v.setChkClass(e,h,g);return !0};m.extend(!0,m.fn.zTree.consts,d);m.extend(!0,m.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(q,h){var e,p,o,j=q.data.key.children,g=q.data.key.checked;e=l.radio;if(q.check.chkStyle==e.STYLE){var n=u.getRadioCheckedList(q);if(h[g]){if(q.check.radioType==e.TYPE_ALL){for(p=n.length-1;p>=0;p--){e=n[p],e[g]=!1,n.splice(p,1),v.setChkClass(q,m("#"+e.tId+l.id.CHECK),e),e.parentTId!=h.parentTId&&v.repairParentChkClassWithSelf(q,e)}n.push(h)}else{n=h.parentTId?h.getParentNode():u.getRoot(q);for(p=0,o=n[j].length;p<o;p++){e=n[j][p],e[g]&&e!=h&&(e[g]=!1,v.setChkClass(q,m("#"+e.tId+l.id.CHECK),e))}}}else{if(q.check.radioType==e.TYPE_ALL){for(p=0,o=n.length;p<o;p++){if(h==n[p]){n.splice(p,1);break}}}}}else{h[g]&&(!h[j]||h[j].length==0||q.check.chkboxType.Y.indexOf("s")>-1)&&v.setSonNodeCheckBox(q,h,!0),!h[g]&&(!h[j]||h[j].length==0||q.check.chkboxType.N.indexOf("s")>-1)&&v.setSonNodeCheckBox(q,h,!1),h[g]&&q.check.chkboxType.Y.indexOf("p")>-1&&v.setParentNodeCheckBox(q,h,!0),!h[g]&&q.check.chkboxType.N.indexOf("p")>-1&&v.setParentNodeCheckBox(q,h,!1)}},makeChkClass:function(o,g){var e=o.data.key.checked,n=l.checkbox,j=l.radio,h="",h=g.chkDisabled===!0?n.DISABLED:g.halfCheck?n.PART:o.check.chkStyle==j.STYLE?g.check_Child_State<1?n.FULL:n.PART:g[e]?g.check_Child_State===2||g.check_Child_State===-1?n.FULL:n.PART:g.check_Child_State<1?n.FULL:n.PART,e=o.check.chkStyle+"_"+(g[e]?n.TRUE:n.FALSE)+"_"+h,e=g.check_Focus&&g.chkDisabled!==!0?e+"_"+n.FOCUS:e;return n.DEFAULT+" "+e},repairAllChk:function(q,h){if(q.check.enable&&q.check.chkStyle===l.checkbox.STYLE){for(var e=q.data.key.checked,p=q.data.key.children,o=u.getRoot(q),j=0,g=o[p].length;j<g;j++){var n=o[p][j];n.nocheck!==!0&&(n[e]=h);v.setSonNodeCheckBox(q,n,h)}}},repairChkClass:function(h,g){if(g){u.makeChkFlag(h,g);var e=m("#"+g.tId+l.id.CHECK);v.setChkClass(h,e,g)}},repairParentChkClass:function(h,g){if(g&&g.parentTId){var e=g.getParentNode();v.repairChkClass(h,e);v.repairParentChkClass(h,e)}},repairParentChkClassWithSelf:function(h,g){if(g){var e=h.data.key.children;g[e]&&g[e].length>0?v.repairParentChkClass(h,g[e][0]):v.repairParentChkClass(h,g)}},repairSonChkDisabled:function(o,g,e){if(g){var n=o.data.key.children;if(g.chkDisabled!=e){g.chkDisabled=e,g.nocheck!==!0&&v.repairChkClass(o,g)}if(g[n]){for(var j=0,h=g[n].length;j<h;j++){v.repairSonChkDisabled(o,g[n][j],e)}}}},repairParentChkDisabled:function(h,g,e){if(g){if(g.chkDisabled!=e){g.chkDisabled=e,g.nocheck!==!0&&v.repairChkClass(h,g)}v.repairParentChkDisabled(h,g.getParentNode(),e)}},setChkClass:function(h,g,e){g&&(e.nocheck===!0?g.hide():g.show(),g.removeClass(),g.addClass(v.makeChkClass(h,e)))},setParentNodeCheckBox:function(p,r,q,o){var n=p.data.key.children,h=p.data.key.checked,g=m("#"+r.tId+l.id.CHECK);o||(o=r);u.makeChkFlag(p,r);r.nocheck!==!0&&r.chkDisabled!==!0&&(r[h]=q,v.setChkClass(p,g,r),p.check.autoCheckTrigger&&r!=o&&r.nocheck!==!0&&p.treeObj.trigger(l.event.CHECK,[p.treeId,r]));if(r.parentTId){g=!0;if(!q){for(var n=r.getParentNode()[n],j=0,e=n.length;j<e;j++){if(n[j].nocheck!==!0&&n[j][h]||n[j].nocheck===!0&&n[j].check_Child_State>0){g=!1;break}}}g&&v.setParentNodeCheckBox(p,r.getParentNode(),q,o)}},setSonNodeCheckBox:function(A,C,B,s){if(C){var r=A.data.key.children,p=A.data.key.checked,j=m("#"+C.tId+l.id.CHECK);s||(s=C);var q=!1;if(C[r]){for(var h=0,g=C[r].length;h<g&&C.chkDisabled!==!0;h++){var e=C[r][h];v.setSonNodeCheckBox(A,e,B,s);e.chkDisabled===!0&&(q=!0)}}if(C!=u.getRoot(A)&&C.chkDisabled!==!0){q&&C.nocheck!==!0&&u.makeChkFlag(A,C);if(C.nocheck!==!0){if(C[p]=B,!q){C.check_Child_State=C[r]&&C[r].length>0?B?2:0:-1}}else{C.check_Child_State=-1}v.setChkClass(A,j,C);A.check.autoCheckTrigger&&C!=s&&C.nocheck!==!0&&A.treeObj.trigger(l.event.CHECK,[A.treeId,C])}}}},event:{},data:{getRadioCheckedList:function(j){for(var g=u.getRoot(j).radioCheckedList,e=0,h=g.length;e<h;e++){u.getNodeCache(j,g[e].tId)||(g.splice(e,1),e--,h--)}return g},getCheckStatus:function(h,g){if(!h.check.enable||g.nocheck){return null}var e=h.data.key.checked;return{checked:g[e],half:g.halfCheck?g.halfCheck:h.check.chkStyle==l.radio.STYLE?g.check_Child_State===2:g[e]?g.check_Child_State>-1&&g.check_Child_State<2:g.check_Child_State>0}},getTreeCheckedNodes:function(r,h,g,q){if(!h){return[]}for(var o=r.data.key.children,j=r.data.key.checked,q=!q?[]:q,p=0,n=h.length;p<n;p++){h[p].nocheck!==!0&&h[p][j]==g&&q.push(h[p]),u.getTreeCheckedNodes(r,h[p][o],g,q)}return q},getTreeChangeCheckedNodes:function(q,h,g){if(!h){return[]}for(var p=q.data.key.children,n=q.data.key.checked,g=!g?[]:g,j=0,o=h.length;j<o;j++){h[j].nocheck!==!0&&h[j][n]!=h[j].checkedOld&&g.push(h[j]),u.getTreeChangeCheckedNodes(q,h[j][p],g)}return g},makeChkFlag:function(A,C){if(C){var B=A.data.key.children,s=A.data.key.checked,q=-1;if(C[B]){for(var r=!1,p=0,n=C[B].length;p<n;p++){var j=C[B][p],o=-1;if(A.check.chkStyle==l.radio.STYLE){if(o=j.nocheck===!0?j.check_Child_State:j.halfCheck===!0?2:j.nocheck!==!0&&j[s]?2:j.check_Child_State>0?2:0,o==2){q=2;break}else{o==0&&(q=0)}}else{if(A.check.chkStyle==l.checkbox.STYLE){o=j.nocheck===!0?j.check_Child_State:j.halfCheck===!0?1:j.nocheck!==!0&&j[s]?j.check_Child_State===-1||j.check_Child_State===2?2:1:j.check_Child_State>0?1:0;if(o===1){q=1;break}else{if(o===2&&r&&o!==q){q=1;break}else{if(q===2&&o>-1&&o<2){q=1;break}else{o>-1&&(q=o)}}}r||(r=j.nocheck!==!0)}}}}C.check_Child_State=q}}}});var d=m.fn.zTree,k=d._z.tools,l=d.consts,v=d._z.view,u=d._z.data;u.exSetting(w);u.addInitBind(function(h){var g=h.treeObj,e=l.event;g.unbind(e.CHECK);g.bind(e.CHECK,function(n,j,o){k.apply(h.callback.onCheck,[n,j,o])})});u.addInitCache(function(){});u.addInitNode(function(p,h,g,o,j,n){if(g){h=p.data.key.checked;typeof g[h]=="string"&&(g[h]=k.eqs(g[h],"true"));g[h]=!!g[h];g.checkedOld=g[h];g.nocheck=!!g.nocheck||p.check.nocheckInherit&&o&&!!o.nocheck;g.chkDisabled=!!g.chkDisabled||o&&!!o.chkDisabled;if(typeof g.halfCheck=="string"){g.halfCheck=k.eqs(g.halfCheck,"true")}g.halfCheck=!!g.halfCheck;g.check_Child_State=-1;g.check_Focus=!1;g.getCheckStatus=function(){return u.getCheckStatus(p,g)};n&&u.makeChkFlag(p,o)}});u.addInitProxy(function(r){var j=r.target,g=u.getSetting(r.data.treeId),q="",o=null,p="",n=null;if(k.eqs(r.type,"mouseover")){if(g.check.enable&&k.eqs(j.tagName,"button")&&j.getAttribute("treeNode"+l.id.CHECK)!==null){q=j.parentNode.id,p="mouseoverCheck"}}else{if(k.eqs(r.type,"mouseout")){if(g.check.enable&&k.eqs(j.tagName,"button")&&j.getAttribute("treeNode"+l.id.CHECK)!==null){q=j.parentNode.id,p="mouseoutCheck"}}else{if(k.eqs(r.type,"click")&&g.check.enable&&k.eqs(j.tagName,"button")&&j.getAttribute("treeNode"+l.id.CHECK)!==null){q=j.parentNode.id,p="checkNode"}}}if(q.length>0){switch(o=u.getNodeCache(g,q),p){case"checkNode":n=c;break;case"mouseoverCheck":n=b;break;case"mouseoutCheck":n=a}}return{stop:!1,node:o,nodeEventType:p,nodeEventCallback:n,treeEventType:"",treeEventCallback:null}});u.addInitRoot(function(e){u.getRoot(e).radioCheckedList=[]});u.addBeforeA(function(j,g,e){var h=j.data.key.checked;j.check.enable&&(u.makeChkFlag(j,g),j.check.chkStyle==l.radio.STYLE&&j.check.radioType==l.radio.TYPE_ALL&&g[h]&&u.getRoot(j).radioCheckedList.push(g),e.push("<button type='button' ID='",g.tId,l.id.CHECK,"' class='",v.makeChkClass(j,g),"' treeNode",l.id.CHECK," onfocus='this.blur();' ",g.nocheck===!0?"style='display:none;'":"","></button>"))});u.addZTreeTools(function(h,g){g.checkNode=function(o,j,q,n){var p=this.setting.data.key.checked;if(o.chkDisabled!==!0&&(j!==!0&&j!==!1&&(j=!o[p]),n=!!n,(o[p]!==j||q)&&!(n&&k.apply(this.setting.callback.beforeCheck,[this.setting.treeId,o],!0)==!1)&&k.uCanDo(this.setting)&&this.setting.check.enable&&o.nocheck!==!0)){o[p]=j,j=m("#"+o.tId+l.id.CHECK),(q||this.setting.check.chkStyle===l.radio.STYLE)&&v.checkNodeRelation(this.setting,o),v.setChkClass(this.setting,j,o),v.repairParentChkClassWithSelf(this.setting,o),n&&h.treeObj.trigger(l.event.CHECK,[h.treeId,o])}};g.checkAllNodes=function(j){v.repairAllChk(this.setting,!!j)};g.getCheckedNodes=function(n){var j=this.setting.data.key.children;return u.getTreeCheckedNodes(this.setting,u.getRoot(h)[j],n!==!1)};g.getChangeCheckedNodes=function(){var j=this.setting.data.key.children;return u.getTreeChangeCheckedNodes(this.setting,u.getRoot(h)[j])};g.setChkDisabled=function(n,j){j=!!j;v.repairSonChkDisabled(this.setting,n,j);j||v.repairParentChkDisabled(this.setting,n,j)};var e=g.updateNode;g.updateNode=function(o,n){e&&e.apply(g,arguments);if(o&&this.setting.check.enable&&m("#"+o.tId).get(0)&&k.uCanDo(this.setting)){var j=m("#"+o.tId+l.id.CHECK);(n==!0||this.setting.check.chkStyle===l.radio.STYLE)&&v.checkNodeRelation(this.setting,o);v.setChkClass(this.setting,j,o);v.repairParentChkClassWithSelf(this.setting,o)}}});var z=v.createNodes;v.createNodes=function(j,g,e,h){z&&z.apply(v,arguments);e&&v.repairParentChkClassWithSelf(j,h)}})(jQuery);(function(e){var a={onHoverOverNode:function(d,h){var o=c.getSetting(d.data.treeId),m=c.getRoot(o);if(m.curHoverNode!=h){a.onHoverOutNode(d)}m.curHoverNode=h;j.addHoverDom(o,h)},onHoverOutNode:function(d){var d=c.getSetting(d.data.treeId),h=c.getRoot(d);if(h.curHoverNode&&!c.isSelectedNode(d,h.curHoverNode)){j.removeTreeDom(d,h.curHoverNode),h.curHoverNode=null}},onMousedownNode:function(ac,ad){function ab(ai){if(m.dragFlag==0&&Math.abs(B-ai.clientX)<Z.edit.drag.minMoveSize&&Math.abs(s-ai.clientY)<Z.edit.drag.minMoveSize){return !0}var aj,ah,ag,ae,af;af=Z.data.key.children;g.noSel(Z);e("body").css("cursor","pointer");if(m.dragFlag==0){if(g.apply(Z.callback.beforeDrag,[Z.treeId,U],!0)==!1){return X(ai),!0}for(aj=0,ah=U.length;aj<ah;aj++){if(aj==0){m.dragNodeShowBefore=[]}ag=U[aj];ag.isParent&&ag.open?(j.expandCollapseNode(Z,ag,!ag.open),m.dragNodeShowBefore[ag.tId]=!0):m.dragNodeShowBefore[ag.tId]=!1}m.dragFlag=1;m.showHoverDom=!1;g.showIfameMask(Z,!0);ag=!0;ae=-1;if(U.length>1){var H=U[0].parentTId?U[0].getParentNode()[af]:c.getNodes(Z);af=[];for(aj=0,ah=H.length;aj<ah;aj++){if(m.dragNodeShowBefore[H[aj].tId]!==void 0&&(ag&&ae>-1&&ae+1!==aj&&(ag=!1),af.push(H[aj]),ae=aj),U.length===af.length){U=af;break}}}ag&&(Q=U[0].getPreNode(),o=U[U.length-1].getNextNode());E=e("<ul class='zTreeDragUL'></ul>");for(aj=0,ah=U.length;aj<ah;aj++){if(ag=U[aj],ag.editNameFlag=!1,j.selectNode(Z,ag,aj>0),j.removeTreeDom(Z,ag),ae=e("<li id='"+ag.tId+"_tmp'></li>"),ae.append(e("#"+ag.tId+k.id.A).clone()),ae.css("padding","0"),ae.children("#"+ag.tId+k.id.A).removeClass(k.node.CURSELECTED),E.append(ae),aj==Z.edit.drag.maxShowNodeNum-1){ae=e("<li id='"+ag.tId+"_moretmp'><a>  ...  </a></li>");E.append(ae);break}}E.attr("id",U[0].tId+k.id.UL+"_tmp");E.addClass(Z.treeObj.attr("class"));E.appendTo("body");N=e("<button class='tmpzTreeMove_arrow'></button>");N.attr("id","zTreeMove_arrow_tmp");N.appendTo("body");Z.treeObj.trigger(k.event.DRAG,[Z.treeId,U])}if(m.dragFlag==1&&N.attr("id")!=ai.target.id){R&&(R.removeClass(k.node.TMPTARGET_TREE),G&&e("#"+G+k.id.A,R).removeClass(k.node.TMPTARGET_NODE));G=R=null;P=!1;W=Z;ag=c.getSettings();for(var I in ag){if(ag[I].treeId&&ag[I].edit.enable&&ag[I].treeId!=Z.treeId&&(ai.target.id==ag[I].treeId||e(ai.target).parents("#"+ag[I].treeId).length>0)){P=!0,W=ag[I]}}I=A.scrollTop();ae=A.scrollLeft();af=W.treeObj.offset();aj=W.treeObj.get(0).scrollHeight;ag=W.treeObj.get(0).scrollWidth;ah=ai.clientY+I-af.top;var F=W.treeObj.height()+af.top-ai.clientY-I,J=ai.clientX+ae-af.left,M=W.treeObj.width()+af.left-ai.clientX-ae;af=ah<Z.edit.drag.borderMax&&ah>Z.edit.drag.borderMin;var H=F<Z.edit.drag.borderMax&&F>Z.edit.drag.borderMin,w=J<Z.edit.drag.borderMax&&J>Z.edit.drag.borderMin,D=M<Z.edit.drag.borderMax&&M>Z.edit.drag.borderMin,F=ah>Z.edit.drag.borderMin&&F>Z.edit.drag.borderMin&&J>Z.edit.drag.borderMin&&M>Z.edit.drag.borderMin,J=af&&W.treeObj.scrollTop()<=0,M=H&&W.treeObj.scrollTop()+W.treeObj.height()+10>=aj,v=w&&W.treeObj.scrollLeft()<=0,u=D&&W.treeObj.scrollLeft()+W.treeObj.width()+10>=ag;if(ai.target.id&&W.treeObj.find("#"+ai.target.id).length>0){for(var L=ai.target;L&&L.tagName&&!g.eqs(L.tagName,"li")&&L.id!=W.treeId;){L=L.parentNode}var z=!0;for(aj=0,ah=U.length;aj<ah;aj++){if(ag=U[aj],L.id===ag.tId){z=!1;break}else{if(e("#"+ag.tId).find("#"+L.id).length>0){z=!1;break}}}if(z&&ai.target.id&&(ai.target.id==L.id+k.id.A||e(ai.target).parents("#"+L.id+k.id.A).length>0)){R=e(L),G=L.id}}ag=U[0];if(F&&(ai.target.id==W.treeId||e(ai.target).parents("#"+W.treeId).length>0)){if(!R&&(ai.target.id==W.treeId||J||M||v||u)&&(P||!P&&ag.parentTId)){R=W.treeObj}af?W.treeObj.scrollTop(W.treeObj.scrollTop()-10):H&&W.treeObj.scrollTop(W.treeObj.scrollTop()+10);w?W.treeObj.scrollLeft(W.treeObj.scrollLeft()-10):D&&W.treeObj.scrollLeft(W.treeObj.scrollLeft()+10);R&&R!=W.treeObj&&R.offset().left<W.treeObj.offset().left&&W.treeObj.scrollLeft(W.treeObj.scrollLeft()+R.offset().left-W.treeObj.offset().left)}E.css({top:ai.clientY+I+3+"px",left:ai.clientX+ae+3+"px"});ae=aj=0;if(R&&R.attr("id")!=W.treeId){var C=G==null?null:c.getNodeCache(W,G);ah=ai.ctrlKey&&Z.edit.drag.isMove&&Z.edit.drag.isCopy||!Z.edit.drag.isMove&&Z.edit.drag.isCopy;aj=!!(Q&&G===Q.tId);af=!!(o&&G===o.tId);ae=ag.parentTId&&ag.parentTId==G;ag=(ah||!af)&&g.apply(W.edit.drag.prev,[W.treeId,U,C],!!W.edit.drag.prev);aj=(ah||!aj)&&g.apply(W.edit.drag.next,[W.treeId,U,C],!!W.edit.drag.next);af=(ah||!ae)&&!(W.data.keep.leaf&&!C.isParent)&&g.apply(W.edit.drag.inner,[W.treeId,U,C],!!W.edit.drag.inner);if(!ag&&!aj&&!af){if(R=null,G="",O=k.move.TYPE_INNER,N.css({display:"none"}),window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null}}else{ah=e("#"+G+k.id.A,R);ah.addClass(k.node.TMPTARGET_NODE);ae=ag?af?0.25:aj?0.5:1:-1;af=aj?af?0.75:ag?0.5:0:-1;ai=(ai.clientY+I-ah.offset().top)/ah.height();(ae==1||ai<=ae&&ai>=-0.2)&&ag?(aj=1-N.width(),ae=0-N.height()/2,O=k.move.TYPE_PREV):(af==0||ai>=af&&ai<=1.2)&&aj?(aj=1-N.width(),ae=ah.height()-N.height()/2,O=k.move.TYPE_NEXT):(aj=5-N.width(),ae=0,O=k.move.TYPE_INNER);N.css({display:"block",top:ah.offset().top+ae+"px",left:ah.offset().left+aj+"px"});if(h!=G||d!=O){K=(new Date).getTime()}if(C&&C.isParent&&O==k.move.TYPE_INNER&&(ai=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==C.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===C.tId&&(ai=!1),ai)){window.zTreeMoveTimer=setTimeout(function(){O==k.move.TYPE_INNER&&C&&C.isParent&&!C.open&&(new Date).getTime()-K>W.edit.drag.autoOpenTime&&g.apply(W.callback.beforeDragOpen,[W.treeId,C],!0)&&(j.switchNode(W,C),W.edit.drag.autoExpandTrigger&&W.treeObj.trigger(k.event.EXPAND,[W.treeId,C]))},W.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=C.tId}}}else{if(O=k.move.TYPE_INNER,R&&g.apply(W.edit.drag.inner,[W.treeId,U,null],!!W.edit.drag.inner)?R.addClass(k.node.TMPTARGET_TREE):R=null,N.css({display:"none"}),window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null}}h=G;d=O}return !1}function X(u){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null}d=h=null;A.unbind("mousemove",ab);A.unbind("mouseup",X);A.unbind("selectstart",aa);e("body").css("cursor","auto");R&&(R.removeClass(k.node.TMPTARGET_TREE),G&&e("#"+G+k.id.A,R).removeClass(k.node.TMPTARGET_NODE));g.showIfameMask(Z,!1);m.showHoverDom=!0;if(m.dragFlag!=0){m.dragFlag=0;var w,v,z;for(w=0,v=U.length;w<v;w++){z=U[w],z.isParent&&m.dragNodeShowBefore[z.tId]&&!z.open&&(j.expandCollapseNode(Z,z,!z.open),delete m.dragNodeShowBefore[z.tId])}E&&E.remove();N&&N.remove();var D=u.ctrlKey&&Z.edit.drag.isMove&&Z.edit.drag.isCopy||!Z.edit.drag.isMove&&Z.edit.drag.isCopy;!D&&R&&G&&U[0].parentTId&&G==U[0].parentTId&&O==k.move.TYPE_INNER&&(R=null);if(R){var F=G==null?null:c.getNodeCache(W,G);if(g.apply(Z.callback.beforeDrop,[W.treeId,U,F,O],!0)!=!1){var C=D?g.clone(U):U,u=function(){if(P){if(!D){for(var p=0,H=U.length;p<H;p++){j.removeNode(Z,U[p])}}if(O==k.move.TYPE_INNER){j.addNodes(W,F,C)}else{if(j.addNodes(W,F.getParentNode(),C),O==k.move.TYPE_PREV){for(p=0,H=C.length;p<H;p++){j.moveNode(W,F,C[p],O,!1)}}else{for(p=-1,H=C.length-1;p<H;H--){j.moveNode(W,F,C[H],O,!1)}}}}else{if(D&&O==k.move.TYPE_INNER){j.addNodes(W,F,C)}else{if(D&&j.addNodes(W,F.getParentNode(),C),O==k.move.TYPE_PREV){for(p=0,H=C.length;p<H;p++){j.moveNode(W,F,C[p],O,!1)}}else{for(p=-1,H=C.length-1;p<H;H--){j.moveNode(W,F,C[H],O,!1)}}}}for(p=0,H=C.length;p<H;p++){j.selectNode(W,C[p],p>0)}e("#"+C[0].tId+k.id.ICON).focus().blur()};O==k.move.TYPE_INNER&&g.canAsync(W,F)?j.asyncNode(W,F,!1,u):u();Z.treeObj.trigger(k.event.DROP,[W.treeId,C,F,O])}}else{for(w=0,v=U.length;w<v;w++){j.selectNode(W,U[w],w>0)}Z.treeObj.trigger(k.event.DROP,[Z.treeId,null,null,null])}}}function aa(){return !1}var V,Y,Z=c.getSetting(ac.data.treeId),m=c.getRoot(Z);if(ac.button==2||!Z.edit.enable||!Z.edit.drag.isCopy&&!Z.edit.drag.isMove){return !0}var T=ac.target,S=c.getRoot(Z).curSelectedList,U=[];if(c.isSelectedNode(Z,ad)){for(V=0,Y=S.length;V<Y;V++){if(S[V].editNameFlag&&g.eqs(T.tagName,"input")&&T.getAttribute("treeNode"+k.id.INPUT)!==null){return !0}U.push(S[V]);if(U[0].parentTId!==S[V].parentTId){U=[ad];break}}}else{U=[ad]}j.editNodeBlur=!0;j.cancelCurEditNode(Z,null,!0);var A=e(document),E,N,R,P=!1,W=Z,Q,o,h=null,d=null,G=null,O=k.move.TYPE_INNER,B=ac.clientX,s=ac.clientY,K=(new Date).getTime();g.uCanDo(Z)&&A.bind("mousemove",ab);A.bind("mouseup",X);A.bind("selectstart",aa);ac.preventDefault&&ac.preventDefault();return !0}},b={tools:{getAbs:function(d){d=d.getBoundingClientRect();return[d.left,d.top]},inputFocus:function(d){d.get(0)&&(d.focus(),g.setCursorPosition(d.get(0),d.val().length))},inputSelect:function(d){d.get(0)&&(d.focus(),d.select())},setCursorPosition:function(d,h){if(d.setSelectionRange){d.focus(),d.setSelectionRange(h,h)}else{if(d.createTextRange){var m=d.createTextRange();m.collapse(!0);m.moveEnd("character",h);m.moveStart("character",h);m.select()}}},showIfameMask:function(h,m){for(var w=c.getRoot(h);w.dragMaskList.length>0;){w.dragMaskList[0].remove(),w.dragMaskList.shift()}if(m){for(var o=e("iframe"),u=0,v=o.length;u<v;u++){var s=o.get(u),p=g.getAbs(s),s=e("<div id='zTreeMask_"+u+"' class='zTreeMask' style='background-color:yellow;opacity: 0.3;filter: alpha(opacity=30);    top:"+p[1]+"px; left:"+p[0]+"px; width:"+s.offsetWidth+"px; height:"+s.offsetHeight+"px;'></div>");s.appendTo("body");w.dragMaskList.push(s)}}}},view:{addEditBtn:function(d,h){if(!(h.editNameFlag||e("#"+h.tId+k.id.EDIT).length>0)&&g.apply(d.edit.showRenameBtn,[d.treeId,h],d.edit.showRenameBtn)){var o=e("#"+h.tId+k.id.A),m="<button type='button' class='edit' id='"+h.tId+k.id.EDIT+"' title='"+g.apply(d.edit.renameTitle,[d.treeId,h],d.edit.renameTitle)+"' treeNode"+k.id.EDIT+" onfocus='this.blur();' style='display:none;'></button>";o.append(m);e("#"+h.tId+k.id.EDIT).bind("click",function(){if(!g.uCanDo(d)||g.apply(d.callback.beforeEditName,[d.treeId,h],!0)==!1){return !0}j.editNode(d,h);return !1}).show()}},addRemoveBtn:function(d,h){if(!(h.editNameFlag||e("#"+h.tId+k.id.REMOVE).length>0)&&g.apply(d.edit.showRemoveBtn,[d.treeId,h],d.edit.showRemoveBtn)){var o=e("#"+h.tId+k.id.A),m="<button type='button' class='remove' id='"+h.tId+k.id.REMOVE+"' title='"+g.apply(d.edit.removeTitle,[d.treeId,h],d.edit.removeTitle)+"' treeNode"+k.id.REMOVE+" onfocus='this.blur();' style='display:none;'></button>";o.append(m);e("#"+h.tId+k.id.REMOVE).bind("click",function(){if(!g.uCanDo(d)||g.apply(d.callback.beforeRemove,[d.treeId,h],!0)==!1){return !0}j.removeNode(d,h);d.treeObj.trigger(k.event.REMOVE,[d.treeId,h]);return !1}).bind("mousedown",function(){return !0}).show()}},addHoverDom:function(d,h){if(c.getRoot(d).showHoverDom){h.isHover=!0,d.edit.enable&&(j.addEditBtn(d,h),j.addRemoveBtn(d,h)),g.apply(d.view.addHoverDom,[d.treeId,h])}},cancelCurEditNode:function(d,m){var u=c.getRoot(d),o=d.data.key.name,s=u.curEditNode;if(s){var h=u.curEditInput,p=m?m:h.val();if(!m&&g.apply(d.callback.beforeRename,[d.treeId,s,p],!0)===!1){return s.editNameFlag=!0,!1}else{s[o]=p?p:h.val(),m||d.treeObj.trigger(k.event.RENAME,[d.treeId,s])}e("#"+s.tId+k.id.A).removeClass(k.node.CURSELECTED_EDIT);h.unbind();j.setNodeName(d,s);s.editNameFlag=!1;u.curEditNode=null;u.curEditInput=null;j.selectNode(d,s,!1)}return u.noSelection=!0},editNode:function(d,h){var p=c.getRoot(d);j.editNodeBlur=!1;if(c.isSelectedNode(d,h)&&p.curEditNode==h&&h.editNameFlag){setTimeout(function(){g.inputFocus(p.curEditInput)},0)}else{var m=d.data.key.name;h.editNameFlag=!0;j.removeTreeDom(d,h);j.cancelCurEditNode(d);j.selectNode(d,h,!1);e("#"+h.tId+k.id.SPAN).html("<input type=text class='rename' id='"+h.tId+k.id.INPUT+"' treeNode"+k.id.INPUT+" >");var o=e("#"+h.tId+k.id.INPUT);o.attr("value",h[m]);d.edit.editNameSelectAll?g.inputSelect(o):g.inputFocus(o);o.bind("blur",function(){j.editNodeBlur||j.cancelCurEditNode(d)}).bind("keydown",function(s){s.keyCode=="13"?(j.editNodeBlur=!0,j.cancelCurEditNode(d,null,!0)):s.keyCode=="27"&&j.cancelCurEditNode(d,h[m])}).bind("click",function(){return !1}).bind("dblclick",function(){return !1});e("#"+h.tId+k.id.A).addClass(k.node.CURSELECTED_EDIT);p.curEditInput=o;p.noSelection=!1;p.curEditNode=h}},moveNode:function(H,J,G,A,F,z){var B=c.getRoot(H),E=H.data.key.children;if(J!=G&&(!H.data.keep.leaf||!J||J.isParent||A!=k.move.TYPE_INNER)){var D=G.parentTId?G.getParentNode():B,s=J===null||J==B;s&&J===null&&(J=B);if(s){A=k.move.TYPE_INNER}B=J.parentTId?J.getParentNode():B;if(A!=k.move.TYPE_PREV&&A!=k.move.TYPE_NEXT){A=k.move.TYPE_INNER}var o,v;s?v=o=H.treeObj:z||(A==k.move.TYPE_INNER?j.expandCollapseNode(H,J,!0,!1):j.expandCollapseNode(H,J.getParentNode(),!0,!1),o=e("#"+J.tId),v=e("#"+J.tId+k.id.UL));var I=e("#"+G.tId).remove();v&&A==k.move.TYPE_INNER?v.append(I):o&&A==k.move.TYPE_PREV?o.before(I):o&&A==k.move.TYPE_NEXT&&o.after(I);var K=-1,L=0,d=null;o=null;var m=G.level;if(G.isFirstNode){if(K=0,D[E].length>1){d=D[E][1],d.isFirstNode=!0}}else{if(G.isLastNode){K=D[E].length-1,d=D[E][K-1],d.isLastNode=!0}else{for(v=0,I=D[E].length;v<I;v++){if(D[E][v].tId==G.tId){K=v;break}}}}K>=0&&D[E].splice(K,1);if(A!=k.move.TYPE_INNER){for(v=0,I=B[E].length;v<I;v++){B[E][v].tId==J.tId&&(L=v)}}if(A==k.move.TYPE_INNER){s?G.parentTId=null:(J.isParent=!0,J.open=!1,G.parentTId=J.tId);J[E]||(J[E]=[]);if(J[E].length>0){o=J[E][J[E].length-1],o.isLastNode=!1}J[E].splice(J[E].length,0,G);G.isLastNode=!0;G.isFirstNode=J[E].length==1}else{J.isFirstNode&&A==k.move.TYPE_PREV?(B[E].splice(L,0,G),o=J,o.isFirstNode=!1,G.parentTId=J.parentTId,G.isFirstNode=!0,G.isLastNode=!1):J.isLastNode&&A==k.move.TYPE_NEXT?(B[E].splice(L+1,0,G),o=J,o.isLastNode=!1,G.parentTId=J.parentTId,G.isFirstNode=!1,G.isLastNode=!0):(A==k.move.TYPE_PREV?B[E].splice(L,0,G):B[E].splice(L+1,0,G),G.parentTId=J.parentTId,G.isFirstNode=!1,G.isLastNode=!1)}c.fixPIdKeyValue(H,G);c.setSonNodeLevel(H,G.getParentNode(),G);j.setNodeLineIcos(H,G);j.repairNodeLevelClass(H,G,m);!H.data.keep.parent&&D[E].length<1?(D.isParent=!1,D.open=!1,J=e("#"+D.tId+k.id.UL),A=e("#"+D.tId+k.id.SWITCH),E=e("#"+D.tId+k.id.ICON),j.replaceSwitchClass(D,A,k.folder.DOCU),j.replaceIcoClass(D,E,k.folder.DOCU),J.css("display","none")):d&&j.setNodeLineIcos(H,d);o&&j.setNodeLineIcos(H,o);H.check.enable&&j.repairChkClass&&(j.repairChkClass(H,D),j.repairParentChkClassWithSelf(H,D),D!=G.parent&&j.repairParentChkClassWithSelf(H,G));z||j.expandCollapseParentNode(H,G.getParentNode(),!0,F)}},removeChildNodes:function(d,m){if(m){var s=d.data.key.children,o=m[s];if(o){e("#"+m.tId+k.id.UL).remove();for(var p=0,h=o.length;p<h;p++){c.removeNodeCache(d,o[p])}c.removeSelectedNode(d);delete m[s];if(!d.data.keep.parent){m.isParent=!1,m.open=!1,s=e("#"+m.tId+k.id.SWITCH),o=e("#"+m.tId+k.id.ICON),j.replaceSwitchClass(m,s,k.folder.DOCU),j.replaceIcoClass(m,o,k.folder.DOCU)}}}},removeEditBtn:function(d){e("#"+d.tId+k.id.EDIT).unbind().remove()},removeNode:function(w,z){var v=c.getRoot(w),m=w.data.key.children,u=z.parentTId?z.getParentNode():v;if(v.curEditNode===z){v.curEditNode=null}z.isFirstNode=!1;z.isLastNode=!1;z.getPreNode=function(){return null};z.getNextNode=function(){return null};e("#"+z.tId).remove();c.removeNodeCache(w,z);c.removeSelectedNode(w,z);for(var d=0,o=u[m].length;d<o;d++){if(u[m][d].tId==z.tId){u[m].splice(d,1);break}}var s;if(!w.data.keep.parent&&u[m].length<1){u.isParent=!1,u.open=!1,d=e("#"+u.tId+k.id.UL),o=e("#"+u.tId+k.id.SWITCH),s=e("#"+u.tId+k.id.ICON),j.replaceSwitchClass(u,o,k.folder.DOCU),j.replaceIcoClass(u,s,k.folder.DOCU),d.css("display","none")}else{if(w.view.showLine&&u[m].length>0){var p=u[m][u[m].length-1];p.isLastNode=!0;p.isFirstNode=u[m].length==1;d=e("#"+p.tId+k.id.UL);o=e("#"+p.tId+k.id.SWITCH);s=e("#"+p.tId+k.id.ICON);u==v?u[m].length==1?j.replaceSwitchClass(p,o,k.line.ROOT):(v=e("#"+u[m][0].tId+k.id.SWITCH),j.replaceSwitchClass(u[m][0],v,k.line.ROOTS),j.replaceSwitchClass(p,o,k.line.BOTTOM)):j.replaceSwitchClass(p,o,k.line.BOTTOM);d.removeClass(k.line.LINE)}}},removeRemoveBtn:function(d){e("#"+d.tId+k.id.REMOVE).unbind().remove()},removeTreeDom:function(d,h){h.isHover=!1;j.removeEditBtn(h);j.removeRemoveBtn(h);g.apply(d.view.removeHoverDom,[d.treeId,h])},repairNodeLevelClass:function(d,h,p){if(p!==h.level){var d=e("#"+h.tId),m=e("#"+h.tId+k.id.A),o=e("#"+h.tId+k.id.UL),p="level"+p,h="level"+h.level;d.removeClass(p);d.addClass(h);m.removeClass(p);m.addClass(h);o.removeClass(p);o.addClass(h)}}},event:b,data:{setSonNodeLevel:function(h,m,s){if(s){var p=h.data.key.children;s.level=m?m.level+1:0;if(s[p]){for(var m=0,o=s[p].length;m<o;m++){s[p][m]&&c.setSonNodeLevel(h,s,s[p][m])}}}}}};e.extend(!0,e.fn.zTree.consts,{event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}});e.extend(!0,e.fn.zTree._z,b);var b=e.fn.zTree,g=b._z.tools,k=b.consts,j=b._z.view,c=b._z.data,b=b._z.event;c.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRemove:null,beforeRename:null,onDrag:null,onDrop:null,onRemove:null,onRename:null}});c.addInitBind(function(d){var h=d.treeObj,m=k.event;h.unbind(m.RENAME);h.bind(m.RENAME,function(o,s,p){g.apply(d.callback.onRename,[o,s,p])});h.unbind(m.REMOVE);h.bind(m.REMOVE,function(o,s,p){g.apply(d.callback.onRemove,[o,s,p])});h.unbind(m.DRAG);h.bind(m.DRAG,function(o,s,p){g.apply(d.callback.onDrag,[o,s,p])});h.unbind(m.DROP);h.bind(m.DROP,function(o,v,u,s,p){g.apply(d.callback.onDrop,[o,v,u,s,p])})});c.addInitCache(function(){});c.addInitNode(function(d,h,m){if(m){m.isHover=!1,m.editNameFlag=!1}});c.addInitProxy(function(w){var z=w.target,v=c.getSetting(w.data.treeId),s=w.relatedTarget,u="",h=null,o="",p=null,d=null;if(g.eqs(w.type,"mouseover")){if(d=g.getMDom(v,z,[{tagName:"a",attrName:"treeNode"+k.id.A}])){u=d.parentNode.id,o="hoverOverNode"}}else{if(g.eqs(w.type,"mouseout")){d=g.getMDom(v,s,[{tagName:"a",attrName:"treeNode"+k.id.A}]),d||(u="remove",o="hoverOutNode")}else{if(g.eqs(w.type,"mousedown")&&(d=g.getMDom(v,z,[{tagName:"a",attrName:"treeNode"+k.id.A}]))){u=d.parentNode.id,o="mousedownNode"}}}if(u.length>0){switch(h=c.getNodeCache(v,u),o){case"mousedownNode":p=a.onMousedownNode;break;case"hoverOverNode":p=a.onHoverOverNode;break;case"hoverOutNode":p=a.onHoverOutNode}}return{stop:!1,node:h,nodeEventType:o,nodeEventCallback:p,treeEventType:"",treeEventCallback:null}});c.addInitRoot(function(d){d=c.getRoot(d);d.curEditNode=null;d.curEditInput=null;d.curHoverNode=null;d.dragFlag=0;d.dragNodeShowBefore=[];d.dragMaskList=[];d.showHoverDom=!0});c.addZTreeTools(function(d,h){h.addNodes=function(o,u,s){function m(){j.addNodes(d,o,p,s==!0)}if(!u){return null}o||(o=null);if(o&&!o.isParent&&d.data.keep.leaf){return null}var p=g.clone(g.isArray(u)?u:[u]);d.async.enable&&g.canAsync(d,o)?j.asyncNode(d,o,s,m):m();return p};h.cancelEditName=function(m){var s=c.getRoot(d),p=d.data.key.name,o=s.curEditNode;s.curEditNode&&j.cancelCurEditNode(d,m?m:o[p])};h.copyNode=function(o,p,u,m){if(!p){return null}if(o&&!o.isParent&&d.data.keep.leaf&&u===k.move.TYPE_INNER){return null}var s=g.clone(p);if(!o){o=null,u=k.move.TYPE_INNER}u==k.move.TYPE_INNER?(p=function(){j.addNodes(d,o,[s],m)},d.async.enable&&g.canAsync(d,o)?j.asyncNode(d,o,m,p):p()):(j.addNodes(d,o.parentNode,[s],m),j.moveNode(d,o,s,u,!1,m));return s};h.editName=function(m){m&&m.tId&&m===c.getNodeCache(d,m.tId)&&(m.parentTId&&j.expandCollapseParentNode(d,m.getParentNode(),!0),j.editNode(d,m))};h.moveNode=function(o,p,u,m){function s(){j.moveNode(d,o,p,u,!1,m)}if(!p){return p}if(o&&!o.isParent&&d.data.keep.leaf&&u===k.move.TYPE_INNER){return null}else{if(o&&(p.parentTId==o.tId&&u==k.move.TYPE_INNER||e("#"+p.tId).find("#"+o.tId).length>0)){return null}else{o||(o=null)}}d.async.enable&&g.canAsync(d,o)?j.asyncNode(d,o,m,s):s();return p};h.removeNode=function(m,o){m&&(o=!!o,o&&g.apply(d.callback.beforeRemove,[d.treeId,m],!0)==!1||(j.removeNode(d,m),o&&this.setting.treeObj.trigger(k.event.REMOVE,[d.treeId,m])))};h.removeChildNodes=function(m){if(!m){return null}var o=m[d.data.key.children];j.removeChildNodes(d,m);return o?o:null};h.setEditable=function(m){d.edit.enable=m;return this.refresh()}});var n=j.cancelPreSelectedNode;j.cancelPreSelectedNode=function(h,m){for(var s=c.getRoot(h).curSelectedList,p=0,o=s.length;p<o;p++){if(!m||m===s[p]){if(j.removeTreeDom(h,s[p]),m){break}}}n&&n.apply(j,arguments)};var l=j.createNodes;j.createNodes=function(h,m,p,o){l&&l.apply(j,arguments);p&&j.repairParentChkClassWithSelf&&j.repairParentChkClassWithSelf(h,o)};j.makeNodeUrl=function(d,h){return h.url&&!d.edit.enable?h.url:null};var r=j.selectNode;j.selectNode=function(h,m,p){var o=c.getRoot(h);if(c.isSelectedNode(h,m)&&o.curEditNode==m&&m.editNameFlag){return !1}r&&r.apply(j,arguments);j.addHoverDom(h,m);return !0};var q=g.uCanDo;g.uCanDo=function(d,h){var m=c.getRoot(d);return h&&(g.eqs(h.type,"mouseover")||g.eqs(h.type,"mouseout")||g.eqs(h.type,"mousedown")||g.eqs(h.type,"mouseup"))?!0:!m.curEditNode&&(q?q.apply(j,arguments):!0)}})(jQuery);(function(a){a.event.special.mousewheel={setup:function(){var b=a.event.special.mousewheel.handler;if(a.browser.mozilla){a(this).bind("mousemove.mousewheel",function(c){a.data(this,"mwcursorposdata",{pageX:c.pageX,pageY:c.pageY,clientX:c.clientX,clientY:c.clientY})})}if(this.addEventListener){this.addEventListener((a.browser.mozilla?"DOMMouseScroll":"mousewheel"),b,false)}else{this.onmousewheel=b}},teardown:function(){var b=a.event.special.mousewheel.handler;a(this).unbind("mousemove.mousewheel");if(this.removeEventListener){this.removeEventListener((a.browser.mozilla?"DOMMouseScroll":"mousewheel"),b,false)}else{this.onmousewheel=function(){}}a.removeData(this,"mwcursorposdata")},handler:function(d){var b=Array.prototype.slice.call(arguments,1);d=a.event.fix(d||window.event);a.extend(d,a.data(this,"mwcursorposdata")||{});var e=0,c=true;if(d.wheelDelta){e=d.wheelDelta/120}if(d.detail){e=-d.detail/3}if(a.browser.opera){e=-d.wheelDelta}d.data=d.data||{};d.type="mousewheel";b.unshift(e);b.unshift(d);return a.event.handle.apply(this,b)}};a.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);(function(e){var c=e.fn.remove;e.fn.remove=function(){e("*",this).add(this).each(function(){e(this).triggerHandler("remove")});return c.apply(this,arguments)};function b(g){function j(k){var l=k.style;return(l.display!="none"&&l.visibility!="hidden")}var h=j(g);(h&&e.each(e.dir(g,"parentNode"),function(){return(h=j(this))}));return h}e.extend(e.expr[":"],{data:function(h,j,g){return e.data(h,g[3])},tabbable:function(h,j,g){var k=h.nodeName.toLowerCase();return(h.tabIndex>=0&&(("a"==k&&h.href)||(/input|select|textarea|button/.test(k)&&"hidden"!=h.type&&!h.disabled))&&b(h))}});e.keyCode={BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38};var d=e.browser.mozilla&&(parseFloat(e.browser.version)<1.9);e.fn.extend({ariaRole:function(g){return(g!==undefined?this.attr("role",d?"wairole:"+g:g):(this.attr("role")||"").replace(/^wairole:/,""))},ariaState:function(h,g){return(g!==undefined?this.each(function(j,k){(d?k.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+h,g):e(k).attr("aria-"+h,g))}):this.attr(d?"aaa:"+h:"aria-"+h))}});function a(k,l,m,j){function h(o){var n=e[k][l][o]||[];return(typeof n=="string"?n.split(/,?\s+/):n)}var g=h("getter");if(j.length==1&&typeof j[0]=="string"){g=g.concat(h("getterSetter"))}return(e.inArray(m,g)!=-1)}e.widget=function(h,g){var j=h.split(".")[0];h=h.split(".")[1];e.fn[h]=function(n){var l=(typeof n=="string"),m=Array.prototype.slice.call(arguments,1);if(l&&n.substring(0,1)=="_"){return this}if(l&&a(j,h,n,m)){var k=e.data(this[0],h);return(k?k[n].apply(k,m):undefined)}return this.each(function(){var o=e.data(this,h);(!o&&!l&&e.data(this,h,new e[j][h](this,n)));(o&&l&&e.isFunction(o[n])&&o[n].apply(o,m))})};e[j]=e[j]||{};e[j][h]=function(m,l){var k=this;this.widgetName=h;this.widgetEventPrefix=e[j][h].eventPrefix||h;this.widgetBaseClass=j+"-"+h;this.options=e.extend({},e.widget.defaults,e[j][h].defaults,e.metadata&&e.metadata.get(m)[h],l);this.element=e(m).bind("setData."+h,function(p,n,o){return k._setData(n,o)}).bind("getData."+h,function(o,n){return k._getData(n)}).bind("remove",function(){return k.destroy()});this._init()};e[j][h].prototype=e.extend({},e.widget.prototype,g);e[j][h].getterSetter="option"};e.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName)},option:function(j,k){var h=j,g=this;if(typeof j=="string"){if(k===undefined){return this._getData(j)}h={};h[j]=k}e.each(h,function(l,m){g._setData(l,m)})},_getData:function(g){return this.options[g]},_setData:function(g,h){this.options[g]=h;if(g=="disabled"){this.element[h?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")}},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(h,k,j){var g=(h==this.widgetEventPrefix?h:this.widgetEventPrefix+h);k=k||e.event.fix({type:g,target:this.element[0]});return this.element.triggerHandler(g,[k,j],this.options[h])}};e.widget.defaults={disabled:false};e.ui={plugin:{add:function(h,j,l){var k=e.ui[h].prototype;for(var g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var l=g.plugins[j];if(!l){return}for(var k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},cssCache:{},css:function(g){if(e.ui.cssCache[g]){return e.ui.cssCache[g]}var h=e('<div class="ui-gen">').addClass(g).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");e.ui.cssCache[g]=!!((!(/auto|default/).test(h.css("cursor"))||(/^[1-9]/).test(h.css("height"))||(/^[1-9]/).test(h.css("width"))||!(/none/).test(h.css("backgroundImage"))||!(/transparent|rgba\(0, 0, 0, 0\)/).test(h.css("backgroundColor"))));try{e("body").get(0).removeChild(h.get(0))}catch(j){}return e.ui.cssCache[g]},disableSelection:function(g){return e(g).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},enableSelection:function(g){return e(g).attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},hasScroll:function(k,h){if(e(k).css("overflow")=="hidden"){return false}var g=(h&&h=="left")?"scrollLeft":"scrollTop",j=false;if(k[g]>0){return true}k[g]=1;j=(k[g]>0);k[g]=0;return j}};e.ui.mouse={_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(h){return g._mouseDown(h)});if(e.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(e.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},_mouseDown:function(j){(this._mouseStarted&&this._mouseUp(j));this._mouseDownEvent=j;var h=this,k=(j.which==1),g=(typeof this.options.cancel=="string"?e(j.target).parents().add(j.target).filter(this.options.cancel).length:false);if(!k||g||!this._mouseCapture(j)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(j)&&this._mouseDelayMet(j)){this._mouseStarted=(this._mouseStart(j)!==false);if(!this._mouseStarted){j.preventDefault();return true}}this._mouseMoveDelegate=function(l){return h._mouseMove(l)};this._mouseUpDelegate=function(l){return h._mouseUp(l)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);return false},_mouseMove:function(g){if(e.browser.msie&&!g.button){return this._mouseUp(g)}if(this._mouseStarted){this._mouseDrag(g);return false}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,g)!==false);(this._mouseStarted?this._mouseDrag(g):this._mouseUp(g))}return !this._mouseStarted},_mouseUp:function(g){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._mouseStop(g)}return false},_mouseDistanceMet:function(g){return(Math.max(Math.abs(this._mouseDownEvent.pageX-g.pageX),Math.abs(this._mouseDownEvent.pageY-g.pageY))>=this.options.distance)},_mouseDelayMet:function(g){return this.mouseDelayMet},_mouseStart:function(g){},_mouseDrag:function(g){},_mouseStop:function(g){},_mouseCapture:function(g){return true}};e.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(a){a.widget("ui.spinner",{_init:function(){this._trigger("init",null,this.ui(null));if(typeof this.options.items[0]=="object"&&!this.element.is("input")){var g=this.options.items;for(var d=0;d<g.length;d++){this._addItem(g[d])}}this._decimals=parseInt(this.options.decimals,10);if(this.options.stepping.toString().indexOf(".")!=-1){var e=this.options.stepping.toString();this._decimals=e.slice(e.indexOf(".")+1,e.length).length}var c=this;this.element.addClass("ui-spinner-box").attr("autocomplete","off");this._setValue(isNaN(this._getValue())?this.options.start:this._getValue());this.element.wrap("<div>").parent().addClass("ui-spinner").append('<button class="ui-spinner-up" type="button"></button>').find(".ui-spinner-up").bind("mousedown",function(h){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._mousedown(100,"_up",h)}).bind("mouseup",function(h){a(this).removeClass("ui-spinner-pressed");if(c.counter==1){c._up(h)}c._mouseup(h)}).bind("mouseout",function(h){a(this).removeClass("ui-spinner-pressed");if(c.timer){c._mouseup(h)}}).bind("dblclick",function(h){a(this).removeClass("ui-spinner-pressed");c._up(h);c._mouseup(h)}).bind("keydown.spinner",function(j){var h=a.keyCode;if(j.keyCode==h.SPACE||j.keyCode==h.ENTER){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._up.call(c,j)}else{if(j.keyCode==h.DOWN||j.keyCode==h.RIGHT){c.element.siblings(".ui-spinner-down").focus()}else{if(j.keyCode==h.LEFT){c.element.focus()}}}}).bind("keyup.spinner",function(h){a(this).removeClass("ui-spinner-pressed");c.counter=0;c._propagate("change",h)}).end().append('<button class="ui-spinner-down" type="button"></button>').find(".ui-spinner-down").bind("mousedown",function(h){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._mousedown(100,"_down",h)}).bind("mouseup",function(h){a(this).removeClass("ui-spinner-pressed");if(c.counter==1){c._down()}c._mouseup(h)}).bind("mouseout",function(h){a(this).removeClass("ui-spinner-pressed");if(c.timer){c._mouseup(h)}}).bind("dblclick",function(h){a(this).removeClass("ui-spinner-pressed");c._down(h);c._mouseup(h)}).bind("keydown.spinner",function(j){var h=a.keyCode;if(j.keyCode==h.SPACE||j.keyCode==h.ENTER){a(this).addClass("ui-spinner-pressed");if(!c.counter){c.counter=1}c._down.call(c,j)}else{if(j.keyCode==h.UP||j.keyCode==h.LEFT){c.element.siblings(".ui-spinner-up").focus()}}}).bind("keyup.spinner",function(h){a(this).removeClass("ui-spinner-pressed");c.counter=0;c._propagate("change",h)}).end();this._items=this.element.children().length;if(this._items>1){var b=this.element.outerHeight()/this._items;this.element.addClass("ui-spinner-list").height(b).children().addClass("ui-spinner-listitem").height(b).css("overflow","hidden").end().parent().height(b).end();this.options.stepping=1;this.options.min=0;this.options.max=this._items-1}this.element.bind("keydown.spinner",function(h){if(!c.counter){c.counter=1}return c._keydown.call(c,h)}).bind("keyup.spinner",function(h){c.counter=0;c._propagate("change",h)}).bind("blur.spinner",function(h){c._cleanUp()});if(a.fn.mousewheel){this.element.mousewheel(function(h,j){c._mousewheel(h,j)})}},_constrain:function(){if(this.options.min!=undefined&&this._getValue()<this.options.min){this._setValue(this.options.min)}if(this.options.max!=undefined&&this._getValue()>this.options.max){this._setValue(this.options.max)}},_cleanUp:function(){this._setValue(this._getValue());this._constrain()},_spin:function(c,b){if(this.disabled){return}if(isNaN(this._getValue())){this._setValue(this.options.start)}this._setValue(this._getValue()+(c=="up"?1:-1)*(this.options.incremental&&this.counter>100?(this.counter>200?100:10):1)*this.options.stepping);this._animate(c);this._constrain();if(this.counter){this.counter++}this._propagate("spin",b)},_down:function(b){this._spin("down",b);this._propagate("down",b)},_up:function(b){this._spin("up",b);this._propagate("up",b)},_mousedown:function(c,h,g){var b=this;c=c||100;if(this.timer){window.clearInterval(this.timer);this.timer=0}this.timer=window.setInterval(function(){b[h](g);if(b.counter>20){b._mousedown(20,h,g)}},c)},_mouseup:function(b){this.counter=0;if(this.timer){window.clearInterval(this.timer);this.timer=0}this.element[0].focus();this._propagate("change",b)},_keydown:function(c){var b=a.keyCode;if(c.keyCode==b.UP){this._up(c)}if(c.keyCode==b.DOWN){this._down(c)}if(c.keyCode==b.HOME){this._setValue(this.options.min||this.options.start)}if(c.keyCode==b.END&&this.options.max!=undefined){this._setValue(this.options.max)}return(c.keyCode==b.TAB||c.keyCode==b.BACKSPACE||c.keyCode==b.LEFT||c.keyCode==b.RIGHT||c.keyCode==b.PERIOD||c.keyCode==b.NUMPAD_DECIMAL||c.keyCode==b.NUMPAD_SUBTRACT||(c.keyCode>=96&&c.keyCode<=105)||(/[0-9\-\.]/).test(String.fromCharCode(c.keyCode)))?true:false},_mousewheel:function(c,d){var b=this;d=(a.browser.opera?-d/Math.abs(d):d);(d>0?b._up(c):b._down(c));if(b.timeout){window.clearTimeout(b.timeout);b.timeout=0}b.timeout=window.setTimeout(function(){b._propagate("change",c)},400);c.preventDefault()},_getValue:function(){return parseFloat(this.element.val().replace(/[^0-9\-\.]/g,""))},_setValue:function(b){if(isNaN(b)){b=this.options.start}this.element.val(this.options.currency?a.ui.spinner.format.currency(b,this.options.currency):a.ui.spinner.format.number(b,this._decimals))},_animate:function(b){if(this.element.hasClass("ui-spinner-list")&&((b=="up"&&this._getValue()<=this.options.max)||(b=="down"&&this._getValue()>=this.options.min))){this.element.animate({marginTop:"-"+this._getValue()*this.element.parent().height()},{duration:"fast",queue:false})}},_addItem:function(e,b){if(!this.element.is("input")){var g="div";if(this.element.is("ol")||this.element.is("ul")){g="li"}var c=e;if(typeof e=="object"){var d=(b!==undefined?b:this.options.format);c=d.replace(/%(\(([^)]+)\))?/g,(function(h){return function(k,j,l){if(!l){for(var m in h){return h[m]}}else{return h[l]}}})(e))}this.element.append("<"+g+' class="ui-spinner-data">'+c+"</"+g+">")}},plugins:{},ui:function(b){return{options:this.options,element:this.element,value:this._getValue(),add:this._addItem}},_propagate:function(c,b){a.ui.plugin.call(this,c,[b,this.ui()]);return this.element.triggerHandler(c=="spin"?c:"spin"+c,[b,this.ui()],this.options[c])},destroy:function(){if(!a.data(this.element[0],"spinner")){return}if(a.fn.mousewheel){this.element.unmousewheel()}this.element.removeClass("ui-spinner-box ui-spinner-list").removeAttr("disabled").removeAttr("autocomplete").removeData("spinner").unbind(".spinner").siblings().remove().end().children().removeClass("ui-spinner-listitem").remove(".ui-spinner-data").end().parent().removeClass("ui-spinner ui-spinner-disabled").before(this.element.clone()).remove().end()},enable:function(){this.element.removeAttr("disabled").siblings().removeAttr("disabled").parent().removeClass("ui-spinner-disabled");this.disabled=false},disable:function(){this.element.attr("disabled",true).siblings().attr("disabled",true).parent().addClass("ui-spinner-disabled");this.disabled=true}});a.extend(a.ui.spinner,{defaults:{decimals:0,stepping:1,start:0,incremental:true,currency:false,format:"%",items:[]},format:{currency:function(c,b){c=isNaN(c)?0:c;return(c!==Math.abs(c)?"-":"")+b+this.number(Math.abs(c),2)},number:function(b,d){var c=/(\d+)(\d{3})/;for(b=isNaN(b)?0:parseFloat(b,10).toFixed(d);c.test(b);b=b.replace(c,"$1,$2")){}return b}}})})(jQuery);(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.01,overlayColor:"#FFF",draggable:true,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(b,c,d){if(c==null){c="Alert"}a.alerts._show(c,b,null,"alert",function(e){if(d){d(e)}})},confirm:function(b,c,d){if(c==null){c="Confirm"}a.alerts._show(c,b,null,"confirm",function(e){if(d){d(e)}})},prompt:function(b,c,d,e){if(d==null){d="Prompt"}a.alerts._show(d,b,c,"prompt",function(g){if(e){e(g)}})},_show:function(h,g,c,b,k){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h5 id="popup_title"></h5><div id="popup_content"><div id="popup_message"></div></div></div>');if(a.alerts.dialogClass){a("#popup_container").addClass(a.alerts.dialogClass)}var j=(a.browser.msie&&parseInt(a.browser.version)<=6)?"absolute":"fixed";a("#popup_container").css({position:j,zIndex:99999,padding:5,margin:0});a("#popup_title").text(h);a("#popup_content").addClass(b);a("#popup_message").text(g);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(true);switch(b){case"alert":a("#popup_message").after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide();k(true)});a("#popup_ok").focus().keypress(function(l){if(l.keyCode==13||l.keyCode==27){a("#popup_ok").trigger("click")}});break;case"confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" class="basicBtn" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();if(k){k(true)}});a("#popup_cancel").click(function(){a.alerts._hide();if(k){k(false)}});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(l){if(l.keyCode==13){a("#popup_ok").trigger("click")}if(l.keyCode==27){a("#popup_cancel").trigger("click")}});break;case"prompt":a("#popup_message").append('<br /><input type="text" size="20" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" class="basicBtn" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_prompt").width(a("#popup_message").width(-10));a("#popup_ok").click(function(){var e=a("#popup_prompt").val();a.alerts._hide();if(k){k(e)}});a("#popup_cancel").click(function(){a.alerts._hide();if(k){k(null)}});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(l){if(l.keyCode==13){a("#popup_ok").trigger("click")}if(l.keyCode==27){a("#popup_cancel").trigger("click")}});if(c){a("#popup_prompt").val(c)}a("#popup_prompt").focus().select();break}if(a.alerts.draggable){try{a("#popup_container").draggable({handle:a("#popup_title")});a("#popup_title").css({cursor:"move"})}catch(d){}}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(b){switch(b){case"show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case"hide":a("#popup_overlay").remove();break}},_reposition:function(){var c=((a(window).height()/2)-(a("#popup_container").outerHeight()/2))+a.alerts.verticalOffset;var b=((a(window).width()/2)-(a("#popup_container").outerWidth()/2))+a.alerts.horizontalOffset;if(c<0){c=0}if(b<0){b=0}if(a.browser.msie&&parseInt(a.browser.version)<=6){c=c+a(window).scrollTop()}a("#popup_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize){switch(b){case true:a(window).bind("resize",a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition);break}}}};jAlert=function(b,c,d){a.alerts.alert(b,c,d)};jConfirm=function(b,c,d){a.alerts.confirm(b,c,d)};jPrompt=function(b,c,d,e){a.alerts.prompt(b,c,d,e)}})(jQuery);(function(a){a.jGrowl=function(b,c){if(a("#jGrowl").size()==0){a('<div id="jGrowl"></div>').addClass((c&&c.position)?c.position:a.jGrowl.defaults.position).appendTo("body")}a("#jGrowl").jGrowl(b,c)};a.fn.jGrowl=function(b,d){if(a.isFunction(this.each)){var c=arguments;return this.each(function(){var e=this;if(a(this).data("jGrowl.instance")==undefined){a(this).data("jGrowl.instance",a.extend(new a.fn.jGrowl(),{notifications:[],element:null,interval:null}));a(this).data("jGrowl.instance").startup(this)}if(a.isFunction(a(this).data("jGrowl.instance")[b])){a(this).data("jGrowl.instance")[b].apply(a(this).data("jGrowl.instance"),a.makeArray(c).slice(1))}else{a(this).data("jGrowl.instance").create(b,d)}})}};a.extend(a.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"2px",check:250,life:3000,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(c,b,d){},beforeOpen:function(c,b,d){},afterOpen:function(c,b,d){},open:function(c,b,d){},beforeClose:function(c,b,d){},close:function(c,b,d){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(b,c){var c=a.extend({},this.defaults,c);if(typeof c.speed!=="undefined"){c.openDuration=c.speed;c.closeDuration=c.speed}this.notifications.push({message:b,options:c});c.log.apply(this.element,[this.element,b,c])},render:function(d){var b=this;var c=d.message;var e=d.options;var d=a('<div class="jGrowl-notification '+e.themeState+" ui-corner-all"+((e.group!=undefined&&e.group!="")?" "+e.group:"")+'"><div class="jGrowl-close">'+e.closeTemplate+'</div><div class="jGrowl-header">'+e.header+'</div><div class="jGrowl-message">'+c+"</div></div>").data("jGrowl",e).addClass(e.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){a(this).parent().trigger("jGrowl.close")}).parent();a(d).bind("mouseover.jGrowl",function(){a("div.jGrowl-notification",b.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){a("div.jGrowl-notification",b.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(e.beforeOpen.apply(d,[d,c,e,b.element])!=false){a(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(e.open.apply(d,[d,c,e,b.element])!=false){if(e.glue=="after"){a("div.jGrowl-notification:last",b.element).after(d)}else{a("div.jGrowl-notification:first",b.element).before(d)}a(this).animate(e.animateOpen,e.openDuration,e.easing,function(){if(a.browser.msie&&(parseInt(a(this).css("opacity"),10)===1||parseInt(a(this).css("opacity"),10)===0)){this.style.removeAttribute("filter")}if(a(this).data("jGrowl")!=null){a(this).data("jGrowl").created=new Date()}a(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){e.afterOpen.apply(d,[d,c,e,b.element])}).bind("jGrowl.beforeClose",function(){if(e.beforeClose.apply(d,[d,c,e,b.element])!=false){a(this).trigger("jGrowl.close")}}).bind("jGrowl.close",function(){a(this).data("jGrowl.pause",true);a(this).animate(e.animateClose,e.closeDuration,e.easing,function(){if(a.isFunction(e.close)){if(e.close.apply(d,[d,c,e,b.element])!==false){a(this).remove()}}else{a(this).remove()}})}).trigger("jGrowl.beforeOpen");if(e.corners!=""&&a.fn.corner!=undefined){a(d).corner(e.corners)}if(a("div.jGrowl-notification:parent",b.element).size()>1&&a("div.jGrowl-closer",b.element).size()==0&&this.defaults.closer!=false){a(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(b.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){a(this).siblings().trigger("jGrowl.beforeClose");if(a.isFunction(b.defaults.closer)){b.defaults.closer.apply(a(this).parent()[0],[a(this).parent()[0]])}})}},update:function(){a(this.element).find("div.jGrowl-notification:parent").each(function(){if(a(this).data("jGrowl")!=undefined&&a(this).data("jGrowl").created!=undefined&&(a(this).data("jGrowl").created.getTime()+parseInt(a(this).data("jGrowl").life))<(new Date()).getTime()&&a(this).data("jGrowl").sticky!=true&&(a(this).data("jGrowl.pause")==undefined||a(this).data("jGrowl.pause")!=true)){a(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool==0||a(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)){this.render(this.notifications.shift())}if(a(this.element).find("div.jGrowl-notification:parent").size()<2){a(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){a(this).remove()})}},startup:function(b){this.element=a(b).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){a(b).data("jGrowl.instance").update()},parseInt(this.defaults.check));if(a.browser.msie&&parseInt(a.browser.version)<7&&!window.XMLHttpRequest){a(this.element).addClass("ie6")}},shutdown:function(){a(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove();clearInterval(this.interval)},close:function(){a(this.element).find("div.jGrowl-notification").each(function(){a(this).trigger("jGrowl.beforeClose")})}});a.jGrowl.defaults=a.fn.jGrowl.prototype.defaults})(jQuery);(function(a){a.fn.tipsy=function(b){b=a.extend({},a.fn.tipsy.defaults,b);return this.each(function(){var c=a.fn.tipsy.elementOptions(this,b);a(this).hover(function(){a.data(this,"cancel.tipsy",true);var d=a.data(this,"active.tipsy");if(!d){d=a('<div class="tipsy"><div class="tipsy-inner"/></div>');d.css({position:"absolute",zIndex:100000});a.data(this,"active.tipsy",d)}if(a(this).attr("title")||typeof(a(this).attr("original-title"))!="string"){a(this).attr("original-title",a(this).attr("title")||"").removeAttr("title")}var g;if(typeof c.title=="string"){g=a(this).attr(c.title=="title"?"original-title":c.title)}else{if(typeof c.title=="function"){g=c.title.call(this)}}d.find(".tipsy-inner")[c.html?"html":"text"](g||c.fallback);var k=a.extend({},a(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});d.get(0).className="tipsy";d.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var e=d[0].offsetWidth,j=d[0].offsetHeight;var h=(typeof c.gravity=="function")?c.gravity.call(this):c.gravity;switch(h.charAt(0)){case"n":d.css({top:k.top+k.height,left:k.left+k.width/2-e/2}).addClass("tipsy-north");break;case"s":d.css({top:k.top-j,left:k.left+k.width/2-e/2}).addClass("tipsy-south");break;case"e":d.css({top:k.top+k.height/2-j/2,left:k.left-e}).addClass("tipsy-east");break;case"w":d.css({top:k.top+k.height/2-j/2,left:k.left+k.width}).addClass("tipsy-west");break}if(c.fade){d.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:0.8})}else{d.css({visibility:"visible"})}},function(){a.data(this,"cancel.tipsy",false);var d=this;setTimeout(function(){if(a.data(this,"cancel.tipsy")){return}var e=a.data(d,"active.tipsy");if(c.fade){e.stop().fadeOut(function(){a(this).remove()})}else{e.remove()}},100)})})};a.fn.tipsy.elementOptions=function(c,b){return a.metadata?a.extend({},b,a(c).metadata()):b};a.fn.tipsy.defaults={fade:false,fallback:"",gravity:"n",html:false,title:"title"};a.fn.tipsy.autoNS=function(){return a(this).offset().top>(a(document).scrollTop()+a(window).height()/2)?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>(a(document).scrollLeft()+a(window).width()/2)?"e":"w"}})(jQuery);$(document).ready(function(){jQuery.fn.anim_progressbar=function(k){var e=1000;var j=60*e;var g=3600*e;var l=24*3600*e;var c={start:new Date(),finish:new Date().setTime(new Date().getTime()+60*e),interval:1};var d=jQuery.extend(c,k);var h=this;return this.each(function(){var m=d.finish-d.start;$(h).children(".pbar").progressbar();var n=setInterval(function(){var u=d.finish-new Date();var o=new Date()-d.start,v=parseInt(u/l),p=parseInt((u-(v*l))/g),r=parseInt((u-(v*l)-(p*g))/j),s=parseInt((u-(v*l)-(r*j)-(p*g))/e),q=(o>0)?o/m*100:0;$(h).children(".percent").html("<b>"+q.toFixed(1)+"%</b>");$(h).children(".elapsed").html(v+" days "+p+"h:"+r+"m:"+s+"s</b>");$(h).children(".pbar").children(".ui-progressbar-value").css("width",q+"%");if(q>=100){clearInterval(n);$(h).children(".percent").html("<b>100%</b>");$(h).children(".elapsed").html("Finished")}},d.interval)})};$("#progress1").anim_progressbar();var b=new Date().setTime(new Date().getTime()+5*1000);var a=new Date().setTime(new Date().getTime()+15*1000);$("#progress2").anim_progressbar({start:b,finish:a,interval:1});$("#progress3").anim_progressbar({interval:1000})});(function(){var v=0,p=[],n={},r={},C={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},o=/[<>&\"\']/g,B,A=window.setTimeout,z={},w;function s(){this.returnValue=false}function q(){this.cancelBubble=true}(function(e){var d=e.split(/,/),c,a,b;for(c=0;c<d.length;c+=2){b=d[c+1].split(/ /);for(a=0;a<b.length;a++){r[b[a]]=d[c]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats,docx pptx xlsx,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/html,htm html xhtml,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,text/csv,csv,text/plain,asc txt text diff log,application/octet-stream,exe");var u={VERSION:"1.5.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:r,ua:(function(){var b=navigator,c=b.userAgent,a=b.vendor,e,g,d;e=/WebKit/.test(c);d=e&&a.indexOf("Apple")!==-1;g=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,ie:!e&&!g&&(/MSIE/gi).test(c)&&(/Explorer/gi).test(b.appName),webkit:e,gecko:!e&&/Gecko/.test(c),safari:d,opera:!!g}}()),extend:function(a){u.each(arguments,function(c,b){if(b>0){u.each(c,function(d,e){a[e]=d})}});return a},cleanName:function(c){var b,a;a=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(b=0;b<a.length;b+=2){c=c.replace(a[b],a[b+1])}c=c.replace(/\s+/g,"_");c=c.replace(/[^a-z0-9_\-\.]+/gi,"");return c},addRuntime:function(b,a){a.name=b;p[b]=a;p.push(a);return a},guid:function(){var b=new Date().getTime().toString(32),a;for(a=0;a<5;a++){b+=Math.floor(Math.random()*65535).toString(32)}return(u.guidPrefix||"p")+b+(v++).toString(32)},buildUrl:function(b,c){var a="";u.each(c,function(d,e){a+=(a?"&":"")+encodeURIComponent(e)+"="+encodeURIComponent(d)});if(a){b+=(b.indexOf("?")>0?"&":"?")+a}return b},each:function(b,a){var c,d,e;if(b){c=b.length;if(c===B){for(d in b){if(b.hasOwnProperty(d)){if(a(b[d],d)===false){return}}}}else{for(e=0;e<c;e++){if(a(b[e],e)===false){return}}}}},formatSize:function(a){if(a===B||/\D/.test(a)){return u.translate("N/A")}if(a>1073741824){return Math.round(a/1073741824,1)+" GB"}if(a>1048576){return Math.round(a/1048576,1)+" MB"}if(a>1024){return Math.round(a/1024,1)+" KB"}return a+" b"},getPos:function(d,k){var j=0,a=0,g,h=document,c,b;d=d;k=k||h.body;function e(F){var E,l,m=0,D=0;if(F){l=F.getBoundingClientRect();E=h.compatMode==="CSS1Compat"?h.documentElement:h.body;m=l.left+E.scrollLeft;D=l.top+E.scrollTop}return{x:m,y:D}}if(d&&d.getBoundingClientRect&&(navigator.userAgent.indexOf("MSIE")>0&&h.documentMode!==8)){c=e(d);b=e(k);return{x:c.x-b.x,y:c.y-b.y}}g=d;while(g&&g!=k&&g.nodeType){j+=g.offsetLeft||0;a+=g.offsetTop||0;g=g.offsetParent}g=d.parentNode;while(g&&g!=k&&g.nodeType){j-=g.scrollLeft||0;a-=g.scrollTop||0;g=g.parentNode}return{x:j,y:a}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(b){var a;if(typeof(b)=="string"){b=/^([0-9]+)([mgk]?)$/.exec(b.toLowerCase().replace(/[^0-9mkg]/g,""));a=b[2];b=+b[1];if(a=="g"){b*=1073741824}if(a=="m"){b*=1048576}if(a=="k"){b*=1024}}return b},xmlEncode:function(a){return a?(""+a).replace(o,function(b){return C[b]?"&"+C[b]+";":b}):a},toArray:function(a){var b,c=[];for(b=0;b<a.length;b++){c[b]=a[b]}return c},addI18n:function(a){return u.extend(n,a)},translate:function(a){return n[a]||a},isEmptyObj:function(b){if(b===B){return true}for(var a in b){return false}return true},hasClass:function(a,b){var c;if(a.className==""){return false}c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");return c.test(a.className)},addClass:function(a,b){if(!u.hasClass(a,b)){a.className=a.className==""?b:a.className.replace(/\s+$/,"")+" "+b}},removeClass:function(a,b){var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");a.className=a.className.replace(c,function(e,g,d){return g===" "&&d===" "?" ":""})},getStyle:function(a,b){if(a.currentStyle){return a.currentStyle[b]}else{if(window.getComputedStyle){return window.getComputedStyle(a,null)[b]}}},addEvent:function(b,h,a){var c,d,e,g;g=arguments[3];h=h.toLowerCase();if(w===B){w="Plupload_"+u.guid()}if(b.addEventListener){c=a;b.addEventListener(h,c,false)}else{if(b.attachEvent){c=function(){var j=window.event;if(!j.target){j.target=j.srcElement}j.preventDefault=s;j.stopPropagation=q;a(j)};b.attachEvent("on"+h,c)}}if(b[w]===B){b[w]=u.guid()}if(!z.hasOwnProperty(b[w])){z[b[w]]={}}d=z[b[w]];if(!d.hasOwnProperty(h)){d[h]=[]}d[h].push({func:c,orig:a,key:g})},removeEvent:function(b,h){var d,a,e;if(typeof(arguments[2])=="function"){a=arguments[2]}else{e=arguments[2]}h=h.toLowerCase();if(b[w]&&z[b[w]]&&z[b[w]][h]){d=z[b[w]][h]}else{return}for(var g=d.length-1;g>=0;g--){if(d[g].key===e||d[g].orig===a){if(b.detachEvent){b.detachEvent("on"+h,d[g].func)}else{if(b.removeEventListener){b.removeEventListener(h,d[g].func,false)}}d[g].orig=null;d[g].func=null;d.splice(g,1);if(a!==B){break}}}if(!d.length){delete z[b[w]][h]}if(u.isEmptyObj(z[b[w]])){delete z[b[w]];try{delete b[w]}catch(c){b[w]=B}}},removeAllEvents:function(a){var b=arguments[1];if(a[w]===B||!a[w]){return}u.each(z[a[w]],function(c,d){u.removeEvent(a,d,b)})}};u.Uploader=function(d){var g={},a,b=[],e;a=new u.QueueProgress();d=u.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},d);function c(){var k,j=0,l;if(this.state==u.STARTED){for(l=0;l<b.length;l++){if(!k&&b[l].status==u.QUEUED){k=b[l];k.status=u.UPLOADING;if(this.trigger("BeforeUpload",k)){this.trigger("UploadFile",k)}}else{j++}}if(j==b.length){this.stop();this.trigger("UploadComplete",b)}}}function h(){var j,k;a.reset();for(j=0;j<b.length;j++){k=b[j];if(k.size!==B){a.size+=k.size;a.loaded+=k.loaded}else{a.size=B}if(k.status==u.DONE){a.uploaded++}else{if(k.status==u.FAILED){a.failed++}else{a.queued++}}}if(a.size===B){a.percent=b.length>0?Math.ceil(a.uploaded/b.length*100):0}else{a.bytesPerSec=Math.ceil(a.loaded/((+new Date()-e||1)/1000));a.percent=a.size>0?Math.ceil(a.loaded/a.size*100):0}}u.extend(this,{state:u.STOPPED,runtime:"",features:{},files:b,settings:d,total:a,id:u.guid(),init:function(){var E=this,k,l,m,F=0,j;if(typeof(d.preinit)=="function"){d.preinit(E)}else{u.each(d.preinit,function(G,H){E.bind(H,G)})}d.page_url=d.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(d.url)){d.url=d.page_url+d.url}d.chunk_size=u.parseSize(d.chunk_size);d.max_file_size=u.parseSize(d.max_file_size);E.bind("FilesAdded",function(O,L){var M,N,J=0,I,K=d.filters;if(K&&K.length){I=[];u.each(K,function(G){u.each(G.extensions.split(/,/),function(H){if(/^\s*\*\s*$/.test(H)){I.push("\\.*")}else{I.push("\\."+H.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});I=new RegExp(I.join("|")+"$","i")}for(M=0;M<L.length;M++){N=L[M];N.loaded=0;N.percent=0;N.status=u.QUEUED;if(I&&!I.test(N.name)){O.trigger("Error",{code:u.FILE_EXTENSION_ERROR,message:u.translate("File extension error."),file:N});continue}if(N.size!==B&&N.size>d.max_file_size){O.trigger("Error",{code:u.FILE_SIZE_ERROR,message:u.translate("File size error."),file:N});continue}b.push(N);J++}if(J){A(function(){E.trigger("QueueChanged");E.refresh()},1)}else{return false}});if(d.unique_names){E.bind("UploadFile",function(J,I){var G=I.name.match(/\.([^.]+)$/),H="tmp";if(G){H=G[1]}I.target_name=I.id+"."+H})}E.bind("UploadProgress",function(H,G){G.percent=G.size>0?Math.ceil(G.loaded/G.size*100):100;h()});E.bind("StateChanged",function(G){if(G.state==u.STARTED){e=(+new Date())}else{if(G.state==u.STOPPED){for(k=G.files.length-1;k>=0;k--){if(G.files[k].status==u.UPLOADING){G.files[k].status=u.QUEUED;h()}}}}});E.bind("QueueChanged",h);E.bind("Error",function(H,G){if(G.file){G.file.status=u.FAILED;h();if(H.state==u.STARTED){A(function(){c.call(E)},1)}}});E.bind("FileUploaded",function(H,G){G.status=u.DONE;G.loaded=G.size;H.trigger("UploadProgress",G);A(function(){c.call(E)},1)});if(d.runtimes){l=[];j=d.runtimes.split(/\s?,\s?/);for(k=0;k<j.length;k++){if(p[j[k]]){l.push(p[j[k]])}}}else{l=p}function D(){var G=l[F++],H,J,I;if(G){H=G.getFeatures();J=E.settings.required_features;if(J){J=J.split(",");for(I=0;I<J.length;I++){if(!H[J[I]]){D();return}}}G.init(E,function(K){if(K&&K.success){E.features=H;E.runtime=G.name;E.trigger("Init",{runtime:G.name});E.trigger("PostInit");E.refresh()}else{D()}})}else{E.trigger("Error",{code:u.INIT_ERROR,message:u.translate("Init error.")})}}D();if(typeof(d.init)=="function"){d.init(E)}else{u.each(d.init,function(G,H){E.bind(H,G)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(this.state!=u.STARTED){this.state=u.STARTED;this.trigger("StateChanged");c.call(this)}},stop:function(){if(this.state!=u.STOPPED){this.state=u.STOPPED;this.trigger("StateChanged")}},getFile:function(j){var k;for(k=b.length-1;k>=0;k--){if(b[k].id===j){return b[k]}}},removeFile:function(j){var k;for(k=b.length-1;k>=0;k--){if(b[k].id===j.id){return this.splice(k,1)[0]}}},splice:function(j,l){var k;k=b.splice(j===B?0:j,l===B?b.length:l);this.trigger("FilesRemoved",k);this.trigger("QueueChanged");return k},trigger:function(l){var j=g[l.toLowerCase()],k,m;if(j){m=Array.prototype.slice.call(arguments);m[0]=this;for(k=0;k<j.length;k++){if(j[k].func.apply(j[k].scope,m)===false){return false}}}return true},hasEventListener:function(j){return !!g[j.toLowerCase()]},bind:function(m,k,l){var j;m=m.toLowerCase();j=g[m]||[];j.push({func:k,scope:l||this});g[m]=j},unbind:function(m){m=m.toLowerCase();var j=g[m],l,k=arguments[1];if(j){if(k!==B){for(l=j.length-1;l>=0;l--){if(j[l].func===k){j.splice(l,1);break}}}else{j=[]}if(!j.length){delete g[m]}}},unbindAll:function(){var j=this;u.each(g,function(k,l){j.unbind(l)})},destroy:function(){this.trigger("Destroy");this.unbindAll()}})};u.File=function(a,c,b){var d=this;d.id=a;d.name=c;d.size=b;d.loaded=0;d.percent=0;d.status=0};u.Runtime=function(){this.getFeatures=function(){};this.init=function(b,a){}};u.QueueProgress=function(){var a=this;a.size=0;a.loaded=0;a.uploaded=0;a.failed=0;a.queued=0;a.percent=0;a.bytesPerSec=0;a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}};u.runtimes={};window.plupload=u})();(function(j){var h={};function g(a){return plupload.translate(a)||a}function e(a,b){b.contents().each(function(d,c){c=j(c);if(!c.is(".plupload")){c.remove()}});b.prepend('<div class="plupload_wrapper plupload_scroll"><div id="'+a+'_container" class="plupload_container"><div class="plupload"><div class="plupload_content"><div class="plupload_filelist_header"><div class="plupload_file_name">'+g("Filename")+'</div><div class="plupload_file_action">&nbsp;</div><div class="plupload_file_status"><span>'+g("Status")+'</span></div><div class="plupload_file_size">'+g("Size")+'</div><div class="plupload_clearer">&nbsp;</div></div><ul id="'+a+'_filelist" class="plupload_filelist"></ul><div class="plupload_filelist_footer"><div class="plupload_file_name"><div class="plupload_buttons"><a href="#" class="plupload_button plupload_add"><span>'+g("Add files")+'</span></a><a href="#" class="plupload_button plupload_start"><span>'+g("Upload")+'</span></a></div><span class="plupload_upload_status"></span></div><div class="plupload_file_action"></div><div class="plupload_file_status"><span class="plupload_total_status">0%</span></div><div class="plupload_file_size"><span class="plupload_total_file_size">0 b</span></div><div class="plupload_progress"><div class="plupload_progress_container"><div class="plupload_progress_bar"></div></div></div><div class="plupload_clearer">&nbsp;</div></div></div></div></div><input type="hidden" id="'+a+'_count" name="'+a+'_count" value="0" /></div>')}j.fn.pluploadQueue=function(a){if(a){this.each(function(){var c,d,b;d=j(this);b=d.attr("id");if(!b){b=plupload.guid();d.attr("id",b)}c=new plupload.Uploader(j.extend({dragdrop:true,container:b},a));h[b]=c;function l(o){var p;if(o.status==plupload.DONE){p="plupload_done"}if(o.status==plupload.FAILED){p="plupload_failed"}if(o.status==plupload.QUEUED){p="plupload_delete"}if(o.status==plupload.UPLOADING){p="plupload_uploading"}var k=j("#"+o.id).attr("class",p).find("a").css("display","block");if(o.hint){k.attr("title",o.hint)}}function n(){j("span.plupload_total_status",d).html(c.total.percent+"%");j("div.plupload_progress_bar",d).css("width",c.total.percent+"%");j("span.plupload_upload_status",d).text(g("Uploaded %d/%d files").replace(/%d\/%d/,c.total.uploaded+"/"+c.files.length))}function m(){var k=j("ul.plupload_filelist",d).html(""),p=0,o;j.each(c.files,function(q,r){o="";if(r.status==plupload.DONE){if(r.target_name){o+='<input type="hidden" name="'+b+"_"+p+'_tmpname" value="'+plupload.xmlEncode(r.target_name)+'" />'}o+='<input type="hidden" name="'+b+"_"+p+'_name" value="'+plupload.xmlEncode(r.name)+'" />';o+='<input type="hidden" name="'+b+"_"+p+'_status" value="'+(r.status==plupload.DONE?"done":"failed")+'" />';p++;j("#"+b+"_count").val(p)}k.append('<li id="'+r.id+'"><div class="plupload_file_name"><span>'+r.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+r.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(r.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+o+"</li>");l(r);j("#"+r.id+".plupload_delete a").click(function(s){j("#"+r.id).remove();c.removeFile(r);s.preventDefault()})});j("span.plupload_total_file_size",d).html(plupload.formatSize(c.total.size));if(c.total.queued===0){j("span.plupload_add_text",d).text(g("Add files."))}else{j("span.plupload_add_text",d).text(c.total.queued+" files queued.")}j("a.plupload_start",d).toggleClass("plupload_disabled",c.files.length==(c.total.uploaded+c.total.failed));k[0].scrollTop=k[0].scrollHeight;n();if(!c.files.length&&c.features.dragdrop&&c.settings.dragdrop){j("#"+b+"_filelist").append('<li class="plupload_droptext">'+g("Drag files here.")+"</li>")}}c.bind("UploadFile",function(o,k){j("#"+k.id).addClass("plupload_current_file")});c.bind("Init",function(o,k){e(b,d);if(!a.unique_names&&a.rename){j("#"+b+"_filelist div.plupload_file_name span",d).live("click",function(u){var w=j(u.target),A,v,B,z="";A=o.getFile(w.parents("li")[0].id);B=A.name;v=/^(.+)(\.[^.]+)$/.exec(B);if(v){B=v[1];z=v[2]}w.hide().after('<input type="text" />');w.next().val(B).focus().blur(function(){w.show().next().remove()}).keydown(function(p){var q=j(this);if(p.keyCode==13){p.preventDefault();A.name=q.val()+z;w.text(A.name);q.blur()}})})}j("a.plupload_add",d).attr("id",b+"_browse");o.settings.browse_button=b+"_browse";if(o.features.dragdrop&&o.settings.dragdrop){o.settings.drop_element=b+"_filelist";j("#"+b+"_filelist").append('<li class="plupload_droptext">'+g("Drag files here.")+"</li>")}j("#"+b+"_container").attr("title","Using runtime: "+k.runtime);j("a.plupload_start",d).click(function(p){if(!j(this).hasClass("plupload_disabled")){c.start()}p.preventDefault()});j("a.plupload_stop",d).click(function(p){p.preventDefault();c.stop()});j("a.plupload_start",d).addClass("plupload_disabled")});c.init();c.bind("Error",function(p,q){var k=q.file,r;if(k){r=q.message;if(q.details){r+=" ("+q.details+")"}if(q.code==plupload.FILE_SIZE_ERROR){alert(g("Error: File too large: ")+k.name)}if(q.code==plupload.FILE_EXTENSION_ERROR){alert(g("Error: Invalid file extension: ")+k.name)}k.hint=r;j("#"+k.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",r)}});c.bind("StateChanged",function(){if(c.state===plupload.STARTED){j("li.plupload_delete a,div.plupload_buttons",d).hide();j("span.plupload_upload_status,div.plupload_progress,a.plupload_stop",d).css("display","block");j("span.plupload_upload_status",d).text("Uploaded "+c.total.uploaded+"/"+c.files.length+" files");if(a.multiple_queues){j("span.plupload_total_status,span.plupload_total_file_size",d).show()}}else{m();j("a.plupload_stop,div.plupload_progress",d).hide();j("a.plupload_delete",d).css("display","block")}});c.bind("QueueChanged",m);c.bind("FileUploaded",function(o,k){l(k)});c.bind("UploadProgress",function(o,k){j("#"+k.id+" div.plupload_file_status",d).html(k.percent+"%");l(k);n();if(a.multiple_queues&&c.total.uploaded+c.total.failed==c.files.length){j(".plupload_buttons,.plupload_upload_status",d).css("display","inline");j(".plupload_start",d).addClass("plupload_disabled");j("span.plupload_total_status,span.plupload_total_file_size",d).hide()}});if(a.setup){a.setup(c)}});return this}else{return h[j(this[0]).attr("id")]}}})(jQuery);(function(k,h,g,l){function j(a){return h.getElementById(a)}g.runtimes.Html4=g.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(g.ua.gecko&&k.FormData||g.ua.webkit)}},init:function(b,a){b.bind("Init",function(e){var F=h.body,B,G="javascript",E,I,d,H=[],c=/MSIE/.test(navigator.userAgent),M=[],C=e.settings.filters,A,D,N,J;no_type_restriction:for(A=0;A<C.length;A++){D=C[A].extensions.split(/,/);for(J=0;J<D.length;J++){if(D[J]==="*"){M=[];break no_type_restriction}N=g.mimeTypes[D[J]];if(N){M.push(N)}}}M=M.join(",");function K(){var p,o,n,m;d=g.guid();H.push(d);p=h.createElement("form");p.setAttribute("id","form_"+d);p.setAttribute("method","post");p.setAttribute("enctype","multipart/form-data");p.setAttribute("encoding","multipart/form-data");p.setAttribute("target",e.id+"_iframe");p.style.position="absolute";o=h.createElement("input");o.setAttribute("id","input_"+d);o.setAttribute("type","file");o.setAttribute("accept",M);o.setAttribute("size",1);m=j(e.settings.browse_button);if(e.features.triggerDialog&&m){g.addEvent(j(e.settings.browse_button),"click",function(q){o.click();q.preventDefault()},e.id)}g.extend(o.style,{width:"100%",height:"100%",opacity:0,fontSize:"999px"});g.extend(p.style,{overflow:"hidden"});n=e.settings.shim_bgcolor;if(n){p.style.background=n}if(c){g.extend(o.style,{filter:"alpha(opacity=0)"})}g.addEvent(o,"change",function(r){var u=r.target,v,s=[],q;if(u.value){j("form_"+d).style.top=-1048575+"px";v=u.value.replace(/\\/g,"/");v=v.substring(v.length,v.lastIndexOf("/")+1);s.push(new g.File(d,v));if(!e.features.triggerDialog){g.removeAllEvents(p,e.id)}else{g.removeEvent(m,"click",e.id)}g.removeEvent(o,"change",e.id);K();if(s.length){b.trigger("FilesAdded",s)}}},e.id);p.appendChild(o);F.appendChild(p);e.refresh()}function L(){var m=h.createElement("div");m.innerHTML='<iframe id="'+e.id+'_iframe" name="'+e.id+'_iframe" src="'+G+':&quot;&quot;" style="display:none"></iframe>';B=m.firstChild;F.appendChild(B);g.addEvent(B,"load",function(p){var o=p.target,r,q;if(!E){return}try{r=o.contentWindow.document||o.contentDocument||k.frames[o.id].document}catch(n){e.trigger("Error",{code:g.SECURITY_ERROR,message:g.translate("Security error."),file:E});return}q=r.body.innerHTML;if(q){E.status=g.DONE;E.loaded=1025;E.percent=100;e.trigger("UploadProgress",E);e.trigger("FileUploaded",E,{response:q})}},e.id)}if(e.settings.container){F=j(e.settings.container);if(g.getStyle(F,"position")==="static"){F.style.position="relative"}}e.bind("UploadFile",function(n,m){var p,o;if(m.status==g.DONE||m.status==g.FAILED||n.state==g.STOPPED){return}p=j("form_"+m.id);o=j("input_"+m.id);o.setAttribute("name",n.settings.file_data_name);p.setAttribute("action",n.settings.url);g.each(g.extend({name:m.target_name||m.name},n.settings.multipart_params),function(q,s){var r=h.createElement("input");g.extend(r,{type:"hidden",name:s,value:q});p.insertBefore(r,p.firstChild)});E=m;j("form_"+d).style.top=-1048575+"px";p.submit();p.parentNode.removeChild(p)});e.bind("FileUploaded",function(m){m.refresh()});e.bind("StateChanged",function(m){if(m.state==g.STARTED){L()}if(m.state==g.STOPPED){k.setTimeout(function(){g.removeEvent(B,"load",m.id);if(B.parentNode){B.parentNode.removeChild(B)}},0)}});e.bind("Refresh",function(r){var v,p,o,n,q,u,s,w,m;v=j(r.settings.browse_button);if(v){q=g.getPos(v,j(r.settings.container));u=g.getSize(v);s=j("form_"+d);w=j("input_"+d);g.extend(s.style,{top:q.y+"px",left:q.x+"px",width:u.w+"px",height:u.h+"px"});if(r.features.triggerDialog){if(g.getStyle(v,"position")==="static"){g.extend(v.style,{position:"relative"})}m=parseInt(v.style.zIndex,10);if(isNaN(m)){m=0}g.extend(v.style,{zIndex:m});g.extend(s.style,{zIndex:m-1})}o=r.settings.browse_button_hover;n=r.settings.browse_button_active;p=r.features.triggerDialog?v:s;if(o){g.addEvent(p,"mouseover",function(){g.addClass(v,o)},r.id);g.addEvent(p,"mouseout",function(){g.removeClass(v,o)},r.id)}if(n){g.addEvent(p,"mousedown",function(){g.addClass(v,n)},r.id);g.addEvent(h.body,"mouseup",function(){g.removeClass(v,n)},r.id)}}});b.bind("FilesRemoved",function(p,o){var m,n;for(m=0;m<o.length;m++){n=j("form_"+o[m].id);if(n){n.parentNode.removeChild(n)}}});b.bind("Destroy",function(n){var q,m,p,o={inputContainer:"form_"+d,inputFile:"input_"+d,browseButton:n.settings.browse_button};for(q in o){m=j(o[q]);if(m){g.removeAllEvents(m,n.id)}}g.removeAllEvents(h.body,n.id);g.each(H,function(r,s){p=j("form_"+r);if(p){F.removeChild(p)}})});K()});a({success:true})}})})(window,document,plupload);(function(r,p,q,v){var z={},s;function n(b,a){var c;if("FileReader" in r){c=new FileReader();c.readAsDataURL(b);c.onload=function(){a(c.result)}}else{return a(b.getAsDataURL())}}function o(b,a){var c;if("FileReader" in r){c=new FileReader();c.readAsBinaryString(b);c.onload=function(){a(c.result)}}else{return a(b.getAsBinary())}}function w(a,c,e,g){var b,d,h,k,j=this;n(z[a.id],function(l){b=p.createElement("canvas");b.style.display="none";p.body.appendChild(b);d=b.getContext("2d");h=new Image();h.onerror=h.onabort=function(){g({success:false})};h.onload=function(){var H,D,F,G,m;if(!c.width){c.width=h.width}if(!c.height){c.height=h.height}k=Math.min(c.width/h.width,c.height/h.height);if(k<1||(k===1&&e==="image/jpeg")){H=Math.round(h.width*k);D=Math.round(h.height*k);b.width=H;b.height=D;d.drawImage(h,0,0,H,D);if(e==="image/jpeg"){G=new u(atob(l.substring(l.indexOf("base64,")+7)));if(G.headers&&G.headers.length){m=new B();if(m.init(G.get("exif")[0])){m.setExif("PixelXDimension",H);m.setExif("PixelYDimension",D);G.set("exif",m.getBinary());if(j.hasEventListener("ExifData")){j.trigger("ExifData",a,m.EXIF())}if(j.hasEventListener("GpsData")){j.trigger("GpsData",a,m.GPS())}}}if(c.quality){try{l=b.toDataURL(e,c.quality/100)}catch(E){l=b.toDataURL(e)}}}else{l=b.toDataURL(e)}l=l.substring(l.indexOf("base64,")+7);l=atob(l);if(G&&G.headers&&G.headers.length){l=G.restore(l);G.purge()}b.parentNode.removeChild(b);g({success:true,data:l})}else{g({success:false})}};h.src=l})}q.runtimes.Html5=q.addRuntime("html5",{getFeatures:function(){var a,e,b,c,d,g;e=b=d=g=false;if(r.XMLHttpRequest){a=new XMLHttpRequest();b=!!a.upload;e=!!(a.sendAsBinary||a.upload)}if(e){c=!!(a.sendAsBinary||(r.Uint8Array&&r.ArrayBuffer));d=!!(File&&(File.prototype.getAsDataURL||r.FileReader)&&c);g=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}s=q.ua.safari&&q.ua.windows;return{html5:e,dragdrop:(function(){var h=p.createElement("div");return("draggable" in h)||("ondragstart" in h&&"ondrop" in h)}()),jpgresize:d,pngresize:d,multipart:d||!!r.FileReader||!!r.FormData,canSendBinary:c,cantSendBlobInFormData:!!(q.ua.gecko&&r.FormData&&r.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:b,chunks:g,multi_selection:!(q.ua.safari&&q.ua.windows),triggerDialog:(q.ua.gecko&&r.FormData||q.ua.webkit)}},init:function(b,a){var d;function c(g){var j,k,h=[],e,l={};for(k=0;k<g.length;k++){j=g[k];if(l[j.name]){continue}l[j.name]=true;e=q.guid();z[e]=j;h.push(new q.File(e,j.fileName||j.name,j.fileSize||j.size))}if(h.length){b.trigger("FilesAdded",h)}}d=this.getFeatures();if(!d.html5){a({success:false});return}b.bind("Init",function(H){var J,L,j=[],I,h,M=H.settings.filters,K,k,g=p.body,e;J=p.createElement("div");J.id=H.id+"_html5_container";q.extend(J.style,{position:"absolute",background:b.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:b.settings.shim_bgcolor?"":0});J.className="plupload html5";if(b.settings.container){g=p.getElementById(b.settings.container);if(q.getStyle(g,"position")==="static"){g.style.position="relative"}}g.appendChild(J);no_type_restriction:for(I=0;I<M.length;I++){K=M[I].extensions.split(/,/);for(h=0;h<K.length;h++){if(K[h]==="*"){j=[];break no_type_restriction}k=q.mimeTypes[K[h]];if(k){j.push(k)}}}J.innerHTML='<input id="'+b.id+'_html5"  style="font-size:999px" type="file" accept="'+j.join(",")+'" '+(b.settings.multi_selection&&b.features.multi_selection?'multiple="multiple"':"")+" />";J.scrollTop=100;e=p.getElementById(b.id+"_html5");if(H.features.triggerDialog){q.extend(e.style,{position:"absolute",width:"100%",height:"100%"})}else{q.extend(e.style,{cssFloat:"right",styleFloat:"right"})}e.onchange=function(){c(this.files);this.value=""};L=p.getElementById(H.settings.browse_button);if(L){var m=H.settings.browse_button_hover,l=H.settings.browse_button_active,G=H.features.triggerDialog?L:J;if(m){q.addEvent(G,"mouseover",function(){q.addClass(L,m)},H.id);q.addEvent(G,"mouseout",function(){q.removeClass(L,m)},H.id)}if(l){q.addEvent(G,"mousedown",function(){q.addClass(L,l)},H.id);q.addEvent(p.body,"mouseup",function(){q.removeClass(L,l)},H.id)}if(H.features.triggerDialog){q.addEvent(L,"click",function(C){p.getElementById(H.id+"_html5").click();C.preventDefault()},H.id)}}});b.bind("PostInit",function(){var e=p.getElementById(b.settings.drop_element);if(e){if(s){q.addEvent(e,"dragenter",function(g){var h,k,j;h=p.getElementById(b.id+"_drop");if(!h){h=p.createElement("input");h.setAttribute("type","file");h.setAttribute("id",b.id+"_drop");h.setAttribute("multiple","multiple");q.addEvent(h,"change",function(){c(this.files);q.removeEvent(h,"change",b.id);h.parentNode.removeChild(h)},b.id);e.appendChild(h)}k=q.getPos(e,p.getElementById(b.settings.container));j=q.getSize(e);if(q.getStyle(e,"position")==="static"){q.extend(e.style,{position:"relative"})}q.extend(h.style,{position:"absolute",display:"block",top:0,left:0,width:j.w+"px",height:j.h+"px",opacity:0})},b.id);return}q.addEvent(e,"dragover",function(g){g.preventDefault()},b.id);q.addEvent(e,"drop",function(g){var h=g.dataTransfer;if(h&&h.files){c(h.files)}g.preventDefault()},b.id)}});b.bind("Refresh",function(l){var k,j,h,e,g;k=p.getElementById(b.settings.browse_button);if(k){j=q.getPos(k,p.getElementById(l.settings.container));h=q.getSize(k);e=p.getElementById(b.id+"_html5_container");q.extend(e.style,{top:j.y+"px",left:j.x+"px",width:h.w+"px",height:h.h+"px"});if(b.features.triggerDialog){if(q.getStyle(k,"position")==="static"){q.extend(k.style,{position:"relative"})}g=parseInt(q.getStyle(k,"z-index"),10);if(isNaN(g)){g=0}q.extend(k.style,{zIndex:g});q.extend(e.style,{zIndex:g-1})}}});b.bind("UploadFile",function(m,k){var j=m.settings,e,l;function g(F,E,H){var D;if(File.prototype.slice){try{F.slice();return F.slice(E,H)}catch(G){return F.slice(E,H-E)}}else{if(D=File.prototype.webkitSlice||File.prototype.mozSlice){return D.call(F,E,H)}else{return null}}}function h(F){var E=0,H=0,G=("FileReader" in r)?new FileReader:null;function D(){var Q,M,O,N,R,P,T,C=m.settings.url;function S(J){var X=0,L=new XMLHttpRequest,I=L.upload,ad="----pluploadboundary"+q.guid(),ac,ab="--",K="\r\n",Z="";if(I){I.onprogress=function(U){k.loaded=Math.min(k.size,H+U.loaded-X);m.trigger("UploadProgress",k)}}L.onreadystatechange=function(){var W,U;if(L.readyState==4){try{W=L.status}catch(V){W=0}if(W>=400){m.trigger("Error",{code:q.HTTP_ERROR,message:q.translate("HTTP Error."),file:k,status:W})}else{if(O){U={chunk:E,chunks:O,response:L.responseText,status:W};m.trigger("ChunkUploaded",k,U);H+=P;if(U.cancelled){k.status=q.FAILED;return}k.loaded=Math.min(k.size,(E+1)*R)}else{k.loaded=k.size}m.trigger("UploadProgress",k);J=Q=ac=Z=null;if(!O||++E>=O){k.status=q.DONE;m.trigger("FileUploaded",k,{response:L.responseText,status:W})}else{D()}}L=null}};if(m.settings.multipart&&d.multipart){N.name=k.target_name||k.name;L.open("post",C,true);q.each(m.settings.headers,function(U,V){L.setRequestHeader(V,U)});if(typeof(J)!=="string"&&!!r.FormData){ac=new FormData();q.each(q.extend(N,m.settings.multipart_params),function(U,V){ac.append(V,U)});ac.append(m.settings.file_data_name,J);L.send(ac);return}if(typeof(J)==="string"){L.setRequestHeader("Content-Type","multipart/form-data; boundary="+ad);q.each(q.extend(N,m.settings.multipart_params),function(U,V){Z+=ab+ad+K+'Content-Disposition: form-data; name="'+V+'"'+K+K;Z+=unescape(encodeURIComponent(U))+K});T=q.mimeTypes[k.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";Z+=ab+ad+K+'Content-Disposition: form-data; name="'+m.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(k.name))+'"'+K+"Content-Type: "+T+K+K+J+K+ab+ad+ab+K;X=Z.length-J.length;J=Z;if(L.sendAsBinary){L.sendAsBinary(J)}else{if(d.canSendBinary){var Y=new Uint8Array(J.length);for(var aa=0;aa<J.length;aa++){Y[aa]=(J.charCodeAt(aa)&255)}L.send(Y.buffer)}}return}}C=q.buildUrl(m.settings.url,q.extend(N,m.settings.multipart_params));L.open("post",C,true);L.setRequestHeader("Content-Type","application/octet-stream");q.each(m.settings.headers,function(U,V){L.setRequestHeader(V,U)});L.send(J)}if(k.status==q.DONE||k.status==q.FAILED||m.state==q.STOPPED){return}N={name:k.target_name||k.name};if(j.chunk_size&&k.size>j.chunk_size&&(d.chunks||typeof(F)=="string")){R=j.chunk_size;O=Math.ceil(k.size/R);P=Math.min(R,k.size-(E*R));if(typeof(F)=="string"){Q=F.substring(E*R,E*R+P)}else{Q=g(F,E*R,E*R+P)}N.chunk=E;N.chunks=O}else{P=k.size;Q=F}if(typeof(Q)!=="string"&&G&&d.cantSendBlobInFormData&&d.chunks&&m.settings.chunk_size){G.onload=function(){S(G.result)};G.readAsBinaryString(Q)}else{S(Q)}}D()}e=z[k.id];if(d.jpgresize&&m.settings.resize&&/\.(png|jpg|jpeg)$/i.test(k.name)){w.call(m,k,m.settings.resize,/\.png$/i.test(k.name)?"image/png":"image/jpeg",function(C){if(C.success){k.size=C.data.length;h(C.data)}else{h(e)}})}else{if(!d.chunks&&d.jpgresize){o(e,h)}else{h(e)}}});b.bind("Destroy",function(k){var h,g,j=p.body,e={inputContainer:k.id+"_html5_container",inputFile:k.id+"_html5",browseButton:k.settings.browse_button,dropElm:k.settings.drop_element};for(h in e){g=p.getElementById(e[h]);if(g){q.removeAllEvents(g,k.id)}}q.removeAllEvents(p.body,k.id);if(k.settings.container){j=p.getElementById(k.settings.container)}j.removeChild(p.getElementById(e.inputContainer))});a({success:true})}});function A(){var b=false,d;function a(k,h){var l=b?0:-8*(h-1),g=0,j;for(j=0;j<h;j++){g|=(d.charCodeAt(k+j)<<Math.abs(l+j*8))}return g}function e(g,j,h){var h=arguments.length===3?h:d.length-j-1;d=d.substr(0,j)+g+d.substr(h+j)}function c(l,k,h){var g="",m=b?0:-8*(h-1),j;for(j=0;j<h;j++){g+=String.fromCharCode((k>>Math.abs(m+j*8))&255)}e(g,l,h)}return{II:function(g){if(g===v){return b}else{b=g}},init:function(g){b=false;d=g},SEGMENT:function(j,g,h){switch(arguments.length){case 1:return d.substr(j,d.length-j-1);case 2:return d.substr(j,g);case 3:e(h,j,g);break;default:return d}},BYTE:function(g){return a(g,1)},SHORT:function(g){return a(g,2)},LONG:function(h,g){if(g===v){return a(h,4)}else{c(h,g,4)}},SLONG:function(h){var g=a(h,4);return(g>2147483647?g-4294967296:g)},STRING:function(j,h){var g="";for(h+=j;j<h;j++){g+=String.fromCharCode(a(j,1))}return g}}}function u(c){var a={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},b=[],d,j,g=v,e=0,h;d=new A();d.init(c);if(d.SHORT(0)!==65496){return}j=2;h=Math.min(1048576,c.length);while(j<=h){g=d.SHORT(j);if(g>=65488&&g<=65495){j+=2;continue}if(g===65498||g===65497){break}e=d.SHORT(j+2)+2;if(a[g]&&d.STRING(j+4,a[g].signature.length)===a[g].signature){b.push({hex:g,app:a[g].app.toUpperCase(),name:a[g].name.toUpperCase(),start:j,length:e,segment:d.SEGMENT(j,e)})}j+=e}d.init(null);return{headers:b,restore:function(D){d.init(D);var l=new u(D);if(!l.headers){return false}for(var k=l.headers.length;k>0;k--){var C=l.headers[k-1];d.SEGMENT(C.start,C.length,"")}l.purge();j=d.SHORT(2)==65504?4+d.SHORT(4):2;for(var k=0,m=b.length;k<m;k++){d.SEGMENT(j,0,b[k].segment);j+=b[k].length}return d.SEGMENT()},get:function(k){var C=[];for(var l=0,m=b.length;l<m;l++){if(b[l].app===k.toUpperCase()){C.push(b[l].segment)}}return C},set:function(D,k){var C=[];if(typeof(k)==="string"){C.push(k)}else{C=k}for(var l=ii=0,m=b.length;l<m;l++){if(b[l].app===D.toUpperCase()){b[l].segment=C[ii];b[l].length=C[ii].length;ii++}if(ii>=C.length){break}}},purge:function(){b=[];d.init(null)}}}function B(){var d,h,g={},a;d=new A();h={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};a={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function e(N,k){var K=d.SHORT(N),H,O,M,l,m,L,J,j,P=[],I={};for(H=0;H<K;H++){J=L=N+12*H+2;M=k[d.SHORT(J)];if(M===v){continue}l=d.SHORT(J+=2);m=d.LONG(J+=2);J+=4;P=[];switch(l){case 1:case 7:if(m>4){J=d.LONG(J)+g.tiffHeader}for(O=0;O<m;O++){P[O]=d.BYTE(J+O)}break;case 2:if(m>4){J=d.LONG(J)+g.tiffHeader}I[M]=d.STRING(J,m-1);continue;case 3:if(m>2){J=d.LONG(J)+g.tiffHeader}for(O=0;O<m;O++){P[O]=d.SHORT(J+O*2)}break;case 4:if(m>1){J=d.LONG(J)+g.tiffHeader}for(O=0;O<m;O++){P[O]=d.LONG(J+O*4)}break;case 5:J=d.LONG(J)+g.tiffHeader;for(O=0;O<m;O++){P[O]=d.LONG(J+O*4)/d.LONG(J+O*4+4)}break;case 9:J=d.LONG(J)+g.tiffHeader;for(O=0;O<m;O++){P[O]=d.SLONG(J+O*4)}break;case 10:J=d.LONG(J)+g.tiffHeader;for(O=0;O<m;O++){P[O]=d.SLONG(J+O*4)/d.SLONG(J+O*4+4)}break;default:continue}j=(m==1?P[0]:P);if(a.hasOwnProperty(M)&&typeof j!="object"){I[M]=a[M][j]}else{I[M]=j}}return I}function b(){var j=v,k=g.tiffHeader;d.II(d.SHORT(k)==18761);if(d.SHORT(k+=2)!==42){return false}g.IFD0=g.tiffHeader+d.LONG(k+=2);j=e(g.IFD0,h.tiff);g.exifIFD=("ExifIFDPointer" in j?g.tiffHeader+j.ExifIFDPointer:v);g.gpsIFD=("GPSInfoIFDPointer" in j?g.tiffHeader+j.GPSInfoIFDPointer:v);return true}function c(l,C,D){var F,E,k,j=0;if(typeof(C)==="string"){var m=h[l.toLowerCase()];for(hex in m){if(m[hex]===C){C=hex;break}}}F=g[l.toLowerCase()+"IFD"];E=d.SHORT(F);for(i=0;i<E;i++){k=F+12*i+2;if(d.SHORT(k)==C){j=k+8;break}}if(!j){return false}d.LONG(j,D);return true}return{init:function(j){g={tiffHeader:10};if(j===v||!j.length){return false}d.init(j);if(d.SHORT(0)===65505&&d.STRING(4,5).toUpperCase()==="EXIF\0"){return b()}return false},EXIF:function(){var j;j=e(g.exifIFD,h.exif);if(j.ExifVersion){j.ExifVersion=String.fromCharCode(j.ExifVersion[0],j.ExifVersion[1],j.ExifVersion[2],j.ExifVersion[3])}return j},GPS:function(){var j;j=e(g.gpsIFD,h.gps);if(j.GPSVersionID){j.GPSVersionID=j.GPSVersionID.join(".")}return j},setExif:function(k,j){if(k!=="PixelXDimension"&&k!=="PixelYDimension"){return false}return c("exif",k,j)},getBinary:function(){return d.SEGMENT()}}}})(window,document,plupload);(function(c){var a=window.console?window.console:{log:c.noop,error:function(e){c.error(e)}};var b=(("prop" in c.fn)&&("removeProp" in c.fn));function d(){this.controls={bold:{groupIndex:0,visible:true,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:false,tooltip:"Copy"},createLink:{groupIndex:6,visible:true,exec:function(){var e=this;if(c.wysiwyg.controls&&c.wysiwyg.controls.link){c.wysiwyg.controls.link.init(this)}else{if(c.wysiwyg.autoload){c.wysiwyg.autoload.control("wysiwyg.link.js",function(){e.controls.createLink.exec.apply(e)})}else{a.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")}}},tags:["a"],tooltip:"Create link"},cut:{groupIndex:8,visible:false,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:false,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:true,className:"h1",command:(c.browser.msie||c.browser.safari)?"FormatBlock":"heading","arguments":(c.browser.msie||c.browser.safari)?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:true,className:"h2",command:(c.browser.msie||c.browser.safari)?"FormatBlock":"heading","arguments":(c.browser.msie||c.browser.safari)?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:true,className:"h3",command:(c.browser.msie||c.browser.safari)?"FormatBlock":"heading","arguments":(c.browser.msie||c.browser.safari)?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:false,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var j,h,g,e;if(c.browser.msie||c.browser.safari){j="backcolor"}else{j="hilitecolor"}if(c.browser.msie){h=this.getInternalRange().parentElement()}else{g=this.getInternalSelection();h=g.extentNode||g.focusNode;while(h.style===undefined){h=h.parentNode;if(h.tagName&&h.tagName.toLowerCase()==="body"){return}}}if(h.style.backgroundColor==="rgb(255, 255, 102)"||h.style.backgroundColor==="#ffff66"){e="#ffffff"}else{e="#ffff66"}this.editorDoc.execCommand(j,false,e)}},html:{groupIndex:10,visible:false,exec:function(){var e;if(this.options.resizeOptions&&c.fn.resizable){e=this.element.height()}if(this.viewHTML){this.setContent(this.original.value);c(this.original).hide();this.editor.show();if(this.options.resizeOptions&&c.fn.resizable){if(e===this.element.height()){this.element.height(e+this.editor.height())}this.element.resizable(c.extend(true,{alsoResize:this.editor},this.options.resizeOptions))}this.ui.toolbar.find("li").each(function(){var g=c(this);if(g.hasClass("html")){g.removeClass("active")}else{g.removeClass("disabled")}})}else{this.saveContent();c(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show();this.editor.hide();if(this.options.resizeOptions&&c.fn.resizable){if(e===this.element.height()){this.element.height(this.ui.toolbar.height())}this.element.resizable("destroy")}this.ui.toolbar.find("li").each(function(){var g=c(this);if(g.hasClass("html")){g.addClass("active")}else{if(false===g.hasClass("fullscreen")){g.removeClass("active").addClass("disabled")}}})}this.viewHTML=!(this.viewHTML)},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:false,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:true,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:true,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:true,exec:function(){var e=this;if(c.wysiwyg.controls&&c.wysiwyg.controls.image){c.wysiwyg.controls.image.init(this)}else{if(c.wysiwyg.autoload){c.wysiwyg.autoload.control("wysiwyg.image.js",function(){e.controls.insertImage.exec.apply(e)})}else{a.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")}}},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:true,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:true,exec:function(){var e=this;if(c.wysiwyg.controls&&c.wysiwyg.controls.table){c.wysiwyg.controls.table(this)}else{if(c.wysiwyg.autoload){c.wysiwyg.autoload.control("wysiwyg.table.js",function(){e.controls.insertTable.exec.apply(e)})}else{a.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")}}},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:true,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:true,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:true,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:true,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:true,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:true,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:false,exec:function(){var e=this.dom.getElement("p");if(!e){return false}c(e).attr("dir","ltr");return true},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:true,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:false,className:"paragraph",command:"FormatBlock","arguments":(c.browser.msie||c.browser.safari)?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:false,tooltip:"Paste"},redo:{groupIndex:4,visible:true,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:true,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:false,exec:function(){var e=this.dom.getElement("p");if(!e){return false}c(e).attr("dir","rtl");return true},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:true,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:true,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:true,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:true,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:true,tooltip:"Undo"},code:{visible:true,groupIndex:6,tooltip:"Code snippet",exec:function(){var e=this.getInternalRange(),g=c(e.commonAncestorContainer),h=e.commonAncestorContainer.nodeName.toLowerCase();if(g.parent("code").length){g.unwrap()}else{if(h!=="body"){g.wrap("<code/>")}}}},cssWrap:{visible:false,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){c.wysiwyg.controls.cssWrap.init(this)}}};this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin: 0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin: 0; padding: 0 12px; font: 12px Arial; color: #424242;"><div class="oneone">INITIAL_CONTENT</div></body></html>',debug:false,controls:{},css:{},events:{},autoGrow:false,autoSave:true,brIE:true,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"",maxHeight:10000,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:false,replaceDivWithP:false,resizeOptions:false,rmUnusedControls:false,rmUnwantedBr:true,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:false},controlLink:{forceRelativeUrls:false},plugins:{autoload:false,i18n:false,rmFormat:{rmMsWordMarkup:false}},dialog:"default"};this.availableControlProperties=["arguments","callback","className","command","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"];this.editor=null;this.editorDoc=null;this.element=null;this.options={};this.original=null;this.savedRange=null;this.timers=[];this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46];this.isDestroyed=false;this.dom={ie:{parent:null},w3c:{parent:null}};this.dom.parent=this;this.dom.ie.parent=this.dom;this.dom.w3c.parent=this.dom;this.ui={};this.ui.self=this;this.ui.toolbar=null;this.ui.initialHeight=null;this.dom.getAncestor=function(e,g){g=g.toLowerCase();while(e&&typeof e.tagName!="undefined"&&"body"!==e.tagName.toLowerCase()){if(g===e.tagName.toLowerCase()){return e}e=e.parentNode}if(!e.tagName&&(e.previousSibling||e.nextSibling)){if(e.previousSibling){if(e.previousSibling.tagName.toLowerCase()==g){return e.previousSibling}}if(e.nextSibling){if(e.nextSibling.tagName.toLowerCase()==g){return e.nextSibling}}}return null};this.dom.getElement=function(g){var e=this;g=g.toLowerCase();if(window.getSelection){return e.w3c.getElement(g)}else{return e.ie.getElement(g)}};this.dom.ie.getElement=function(k){var j=this.parent,h=j.parent.getInternalSelection(),e=h.createRange(),g;if("Control"===h.type){if(1===e.length){g=e.item(0)}else{return null}}else{g=e.parentElement()}return j.getAncestor(g,k)};this.dom.w3c.getElement=function(j){var h=this.parent,e=h.parent.getInternalRange(),g;if(!e){return null}g=e.commonAncestorContainer;if(3===g.nodeType){g=g.parentNode}if(g===e.startContainer){g=g.childNodes[e.startOffset]}if(!g.tagName&&(g.previousSibiling||g.nextSibling)){if(g.previousSibiling){if(g.previousSibiling.tagName.toLowerCase()==j){return g.previousSibiling}}if(g.nextSibling){if(g.nextSibling.tagName.toLowerCase()==j){return g.nextSibling}}}return h.getAncestor(g,j)};this.ui.addHoverClass=function(){c(this).addClass("wysiwyg-button-hover")};this.ui.appendControls=function(){var l=this,o=this.self,n=o.parseControls(),m=true,e=[],g={},h,j,k=function(q,p){if(p.groupIndex&&j!==p.groupIndex){j=p.groupIndex;m=false}if(!p.visible){return}if(!m){l.appendItemSeparator();m=true}if(p.custom){l.appendItemCustom(q,p)}else{l.appendItem(q,p)}};c.each(n,function(q,r){var p="empty";if(undefined!==r.groupIndex){if(""===r.groupIndex){p="empty"}else{p=r.groupIndex}}if(undefined===g[p]){e.push(p);g[p]={}}g[p][q]=r});e.sort(function(q,p){if("number"===typeof(q)&&typeof(q)===typeof(p)){return(q-p)}else{q=q.toString();p=p.toString();if(q>p){return 1}if(q===p){return 0}return -1}});if(0<e.length){j=e[0]}for(h=0;h<e.length;h+=1){c.each(g[e[h]],k)}};this.ui.appendItem=function(g,k){var e=this.self,h=k.className||k.command||g||"empty",j=k.tooltip||k.command||g||"";return c('<li role="menuitem" unselectable="on">'+(h)+"</li>").addClass(h).attr("title",j).hover(this.addHoverClass,this.removeHoverClass).click(function(m){if(c(this).hasClass("disabled")){return false}e.triggerControl.apply(e,[g,k]);var l=c(m.target);for(var n in e.controls){if(l.hasClass(n)){e.ui.toolbar.find("."+n).toggleClass("active");e.editorDoc.rememberCommand=true;break}}this.blur();e.ui.returnRange();e.ui.focus();return true}).appendTo(e.ui.toolbar)};this.ui.appendItemCustom=function(g,j){var e=this.self,h=j.tooltip||j.command||g||"";if(j.callback){c(window).bind("trigger-"+g+".wysiwyg",j.callback)}return c('<li role="menuitem" unselectable="on" style="background: url(\''+j.icon+"') no-repeat;\"></li>").addClass("custom-command-"+g).addClass("wysiwyg-custom-command").addClass(g).attr("title",h).hover(this.addHoverClass,this.removeHoverClass).click(function(){if(c(this).hasClass("disabled")){return false}e.triggerControl.apply(e,[g,j]);this.blur();e.ui.returnRange();e.ui.focus();e.triggerControlCallback(g);return true}).appendTo(e.ui.toolbar)};this.ui.appendItemSeparator=function(){var e=this.self;return c('<li role="separator" class="separator"></li>').appendTo(e.ui.toolbar)};this.autoSaveFunction=function(){this.saveContent()};this.ui.checkTargets=function(g){var e=this.self;c.each(e.options.controls,function(j,n){var m=n.className||n.command||j||"empty",h,p,k,l,o=function(r,q){var s;if("function"===typeof(q)){s=q;if(s(l.css(r).toString().toLowerCase(),e)){e.ui.toolbar.find("."+m).addClass("active")}}else{if(l.css(r).toString().toLowerCase()===q){e.ui.toolbar.find("."+m).addClass("active")}}};if("fullscreen"!==m){e.ui.toolbar.find("."+m).removeClass("active")}if(n.tags||(n.options&&n.options.tags)){h=n.tags||(n.options&&n.options.tags);p=g;while(p){if(p.nodeType!==1){break}if(c.inArray(p.tagName.toLowerCase(),h)!==-1){e.ui.toolbar.find("."+m).addClass("active")}p=p.parentNode}}if(n.css||(n.options&&n.options.css)){k=n.css||(n.options&&n.options.css);l=c(g);while(l){if(l[0].nodeType!==1){break}c.each(k,o);l=l.parent()}}})};this.ui.designMode=function(){var g=3,e=this.self,h;h=function(j){if("on"===e.editorDoc.designMode){if(e.timers.designMode){window.clearTimeout(e.timers.designMode)}if(e.innerDocument()!==e.editorDoc){e.ui.initFrame()}return}try{e.editorDoc.designMode="on"}catch(k){}j-=1;if(j>0){e.timers.designMode=window.setTimeout(function(){h(j)},100)}};h(g)};this.destroy=function(){this.isDestroyed=true;var g,e=this.element.closest("form");for(g=0;g<this.timers.length;g+=1){window.clearTimeout(this.timers[g])}e.unbind(".wysiwyg");this.element.remove();c.removeData(this.original,"wysiwyg");c(this.original).show();return this};this.getRangeText=function(){var e=this.getInternalRange();if(e.toString){e=e.toString()}else{if(e.text){e=e.text}}return e};this.execute=function(g,e){if(typeof(e)==="undefined"){e=null}this.editorDoc.execCommand(g,false,e)};this.extendOptions=function(g){var e={};if("object"===typeof g.controls){e=g.controls;delete g.controls}g=c.extend(true,{},this.defaults,g);g.controls=c.extend(true,{},e,this.controls,e);if(g.rmUnusedControls){c.each(g.controls,function(h){if(!e[h]){delete g.controls[h]}})}return g};this.ui.focus=function(){var e=this.self;e.editor.get(0).contentWindow.focus();return e};this.ui.returnRange=function(){var g=this.self,h;if(g.savedRange!==null){if(window.getSelection){h=window.getSelection();if(h.rangeCount>0){h.removeAllRanges()}try{h.addRange(g.savedRange)}catch(j){a.error(j)}}else{if(window.document.createRange){window.getSelection().addRange(g.savedRange)}else{if(window.document.selection){g.savedRange.select()}}}g.savedRange=null}};this.increaseFontSize=function(){if(c.browser.mozilla||c.browser.opera){this.editorDoc.execCommand("increaseFontSize",false,null)}else{if(c.browser.safari){var j=this.getInternalRange(),h=this.getInternalSelection(),g=this.editorDoc.createElement("big");if(true===j.collapsed&&3===j.commonAncestorContainer.nodeType){var k=j.commonAncestorContainer.nodeValue.toString(),l=k.lastIndexOf(" ",j.startOffset)+1,e=(-1===k.indexOf(" ",j.startOffset))?k:k.indexOf(" ",j.startOffset);j.setStart(j.commonAncestorContainer,l);j.setEnd(j.commonAncestorContainer,e);j.surroundContents(g);h.addRange(j)}else{j.surroundContents(g);h.removeAllRanges();h.addRange(j)}}else{a.error("Internet Explorer?")}}};this.decreaseFontSize=function(){if(c.browser.mozilla||c.browser.opera){this.editorDoc.execCommand("decreaseFontSize",false,null)}else{if(c.browser.safari){var j=this.getInternalRange(),h=this.getInternalSelection(),g=this.editorDoc.createElement("small");if(true===j.collapsed&&3===j.commonAncestorContainer.nodeType){var k=j.commonAncestorContainer.nodeValue.toString(),l=k.lastIndexOf(" ",j.startOffset)+1,e=(-1===k.indexOf(" ",j.startOffset))?k:k.indexOf(" ",j.startOffset);j.setStart(j.commonAncestorContainer,l);j.setEnd(j.commonAncestorContainer,e);j.surroundContents(g);h.addRange(j)}else{j.surroundContents(g);h.removeAllRanges();h.addRange(j)}}else{a.error("Internet Explorer?")}}};this.getContent=function(){if(this.viewHTML){this.setContent(this.original.value)}return this.events.filter("getContent",this.editorDoc.body.innerHTML)};this.events={_events:{},bind:function(e,g){if(typeof(this._events.eventName)!=="object"){this._events[e]=[]}this._events[e].push(g)},trigger:function(e,g){if(typeof(this._events.eventName)==="object"){var h=this.editor;c.each(this._events[e],function(l,j){if(typeof(j)==="function"){j.apply(h,g)}})}},filter:function(e,j){if(typeof(this._events[e])==="object"){var h=this.editor,g=Array.prototype.slice.call(arguments,1);c.each(this._events[e],function(m,l){if(typeof(l)==="function"){j=l.apply(h,g)}})}return j}};this.getElementByAttributeValue=function(h,e,j){var g,l,k=this.editorDoc.getElementsByTagName(h);for(g=0;g<k.length;g+=1){l=k[g].getAttribute(e);if(c.browser.msie){l=l.substr(l.length-j.length)}if(l===j){return k[g]}}return false};this.getInternalRange=function(){var e=this.getInternalSelection();if(!e){return null}if(e.rangeCount&&e.rangeCount>0){return e.getRangeAt(0)}else{if(e.createRange){return e.createRange()}}return null};this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection){return this.editor.get(0).contentWindow.getSelection()}if(this.editor.get(0).contentWindow.selection){return this.editor.get(0).contentWindow.selection}}if(this.editorDoc.getSelection){return this.editorDoc.getSelection()}if(this.editorDoc.selection){return this.editorDoc.selection}return null};this.getRange=function(){var e=this.getSelection();if(!e){return null}if(e.rangeCount&&e.rangeCount>0){e.getRangeAt(0)}else{if(e.createRange){return e.createRange()}}return null};this.getSelection=function(){return(window.getSelection)?window.getSelection():window.document.selection};this.ui.grow=function(){var g=this.self,k=c(g.editorDoc.body),j=c.browser.msie?k[0].scrollHeight:k.height()+2+20,h=g.ui.initialHeight,e=Math.max(j,h);e=Math.min(e,g.options.maxHeight);g.editor.attr("scrolling",e<g.options.maxHeight?"no":"auto");k.css("overflow",e<g.options.maxHeight?"hidden":"");g.editor.get(0).height=e;return g};this.init=function(k,j){var h=this,g=c(k).closest("form"),m=(k.width||k.clientWidth||0),l=(k.height||k.clientHeight||0);this.options=this.extendOptions(j);this.original=k;this.ui.toolbar=c(this.options.toolbarHtml);if(c.browser.msie&&parseInt(c.browser.version,10)<8){this.options.autoGrow=false}if(m===0&&k.cols){m=(k.cols*8)+21}if(l===0&&k.rows){l=(k.rows*16)+16}this.editor=c(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0");if(this.options.iFrameClass){this.editor.addClass(this.options.iFrameClass)}else{this.editor.css({minHeight:(l-6).toString()+"px",width:(m>50)?(m-8).toString()+"px":""});if(c.browser.msie&&parseInt(c.browser.version,10)<7){this.editor.css("height",l.toString()+"px")}}if(k.id){var e=k.id+"-wysiwyg-iframe";if(!document.getElementById(e)){this.editor.attr("id",e)}}this.editor.attr("tabindex",c(k).attr("tabindex"));this.element=c("<div/>").addClass("wysiwyg");if(!this.options.iFrameClass){this.element.css({width:(m>0)?m.toString()+"px":"100%"})}c(k).hide().before(this.element);this.viewHTML=false;this.initialContent=c(k).val();this.ui.initFrame();if(this.options.resizeOptions&&c.fn.resizable){this.element.resizable(c.extend(true,{alsoResize:this.editor},this.options.resizeOptions))}if(this.options.autoSave){g.bind("submit.wysiwyg",function(){h.autoSaveFunction()})}g.bind("reset.wysiwyg",function(){h.resetFunction()})};this.ui.initFrame=function(){var e=this.self,h,k,g;e.ui.appendControls();e.element.append(e.ui.toolbar).append(c("<div><!-- --></div>").css({clear:"both"})).append(e.editor);e.editorDoc=e.innerDocument();if(e.isDestroyed){return null}e.ui.designMode();e.editorDoc.open();e.editorDoc.write(e.options.html.replace(/INITIAL_CONTENT/,function(){return e.wrapInitialContent()}));e.editorDoc.close();c.wysiwyg.plugin.bind(e);c(e.editorDoc).trigger("initFrame.wysiwyg");c(e.editorDoc).bind("click.wysiwyg",function(l){e.ui.checkTargets(l.target?l.target:l.srcElement)});setInterval(function(){var n=null;try{var l=e.getInternalRange();if(l){n={range:l,parent:c.browser.msie?l.parentElement():l.endContainer.parentNode,width:(c.browser.msie?l.boundingWidth:l.startOffset-l.endOffset)||0}}}catch(m){a.error(m)}if(n&&n.width==0&&!e.editorDoc.rememberCommand){e.ui.checkTargets(n.parent)}},400);c(e.original).focus(function(){if(c(this).filter(":visible").length===0){return}e.ui.focus()});c(e.editorDoc).keydown(function(l){var m;if(l.keyCode===8){m=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/;if(m.test(e.getContent())){l.stopPropagation();return false}}e.editorDoc.rememberCommand=false;return true});if(!c.browser.msie){c(e.editorDoc).keydown(function(l){var m;if(l.ctrlKey||l.metaKey){for(m in e.controls){if(e.controls[m].hotkey&&e.controls[m].hotkey.ctrl){if(l.keyCode===e.controls[m].hotkey.key){e.triggerControl.apply(e,[m,e.controls[m]]);return false}}}}return true})}else{if(e.options.brIE){c(e.editorDoc).keydown(function(m){if(m.keyCode===13){var l=e.getRange();l.pasteHTML("<br/>");l.collapse(false);l.select();return false}return true})}}if(e.options.plugins.rmFormat.rmMsWordMarkup){c(e.editorDoc).bind("keyup.wysiwyg",function(l){if(l.ctrlKey||l.metaKey){if(86===l.keyCode){if(c.wysiwyg.rmFormat){if("object"===typeof(e.options.plugins.rmFormat.rmMsWordMarkup)){c.wysiwyg.rmFormat.run(e,{rules:{msWordMarkup:e.options.plugins.rmFormat.rmMsWordMarkup}})}else{c.wysiwyg.rmFormat.run(e,{rules:{msWordMarkup:{enabled:true}}})}}}}})}if(e.options.autoSave){c(e.editorDoc).keydown(function(){e.autoSaveFunction()}).keyup(function(){e.autoSaveFunction()}).mousedown(function(){e.autoSaveFunction()}).bind(c.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){e.autoSaveFunction()})}if(e.options.autoGrow){if(e.options.initialMinHeight!==null){e.ui.initialHeight=e.options.initialMinHeight}else{e.ui.initialHeight=c(e.editorDoc).height()}c(e.editorDoc.body).css("border","1px solid white");k=function(){e.ui.grow()};c(e.editorDoc).keyup(k);c(e.editorDoc).bind("editorRefresh.wysiwyg",k);e.ui.grow()}if(e.options.css){if(String===e.options.css.constructor){if(c.browser.msie){h=e.editorDoc.createStyleSheet(e.options.css);c(h).attr({media:"all"})}else{h=c("<link/>").attr({href:e.options.css,media:"all",rel:"stylesheet",type:"text/css"});c(e.editorDoc).find("head").append(h)}}else{e.timers.initFrame_Css=window.setTimeout(function(){c(e.editorDoc.body).css(e.options.css)},0)}}if(e.initialContent.length===0){if("function"===typeof(e.options.initialContent)){e.setContent(e.options.initialContent())}else{e.setContent(e.options.initialContent)}}if(e.options.maxLength>0){c(e.editorDoc).keydown(function(l){if(c(e.editorDoc).text().length>=e.options.maxLength&&c.inArray(l.which,e.validKeyCodes)===-1){l.preventDefault()}})}c.each(e.options.events,function(l,m){c(e.editorDoc).bind(l+".wysiwyg",function(n){m.apply(e.editorDoc,[n,e])})});if(c.browser.msie){c(e.editorDoc).bind("beforedeactivate.wysiwyg",function(){e.savedRange=e.getInternalRange()})}else{c(e.editorDoc).bind("blur.wysiwyg",function(){e.savedRange=e.getInternalRange()})}c(e.editorDoc.body).addClass("wysiwyg");if(e.options.events&&e.options.events.save){g=e.options.events.save;c(e.editorDoc).bind("keyup.wysiwyg",g);c(e.editorDoc).bind("change.wysiwyg",g);if(c.support.noCloneEvent){c(e.editorDoc).bind("input.wysiwyg",g)}else{c(e.editorDoc).bind("paste.wysiwyg",g);c(e.editorDoc).bind("cut.wysiwyg",g)}}if(e.options.xhtml5&&e.options.unicode){var j={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,"int":8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};e.events.bind("getContent",function(l){return l.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(o,n){if(!j[n]){n=n.toLowerCase();if(!j[n]){n="__replacement"}}var m=j[n];return String.fromCharCode(m)})})}c(e.original).trigger("ready.jwysiwyg",[e.editorDoc,e])};this.innerDocument=function(){var e=this.editor.get(0);if(e.nodeName.toLowerCase()==="iframe"){if(e.contentDocument){return e.contentDocument}else{if(e.contentWindow){return e.contentWindow.document}}if(this.isDestroyed){return null}a.error("Unexpected error in innerDocument")}return e};this.insertHtml=function(e){var h,g;if(!e||e.length===0){return this}if(c.browser.msie){this.ui.focus();this.editorDoc.execCommand("insertImage",false,"#jwysiwyg#");h=this.getElementByAttributeValue("img","src","#jwysiwyg#");if(h){c(h).replaceWith(e)}}else{if(c.browser.mozilla){if(1===c(e).length){g=this.getInternalRange();g.deleteContents();g.insertNode(c(e).get(0))}else{this.editorDoc.execCommand("insertHTML",false,e)}}else{if(!this.editorDoc.execCommand("insertHTML",false,e)){this.editor.focus();this.editorDoc.execCommand("insertHTML",false,e)}}}this.saveContent();return this};this.parseControls=function(){var e=this;c.each(this.options.controls,function(h,g){c.each(g,function(j){if(-1===c.inArray(j,e.availableControlProperties)){throw h+'["'+j+'"]: property "'+j+'" not exists in Wysiwyg.availableControlProperties'}})});if(this.options.parseControls){return this.options.parseControls.call(this)}return this.options.controls};this.removeFormat=function(){if(c.browser.msie){this.ui.focus()}if(this.options.removeHeadings){this.editorDoc.execCommand("formatBlock",false,"<p>")}this.editorDoc.execCommand("removeFormat",false,null);this.editorDoc.execCommand("unlink",false,null);if(c.wysiwyg.rmFormat&&c.wysiwyg.rmFormat.enabled){if("object"===typeof(this.options.plugins.rmFormat.rmMsWordMarkup)){c.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}})}else{c.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:true}}})}}return this};this.ui.removeHoverClass=function(){c(this).removeClass("wysiwyg-button-hover")};this.resetFunction=function(){this.setContent(this.initialContent)};this.saveContent=function(){if(this.viewHTML){return}if(this.original){var g,e;g=this.getContent();if(this.options.rmUnwantedBr){g=g.replace(/<br\/?>$/,"")}if(this.options.replaceDivWithP){e=c("<div/>").addClass("temp").append(g);e.children("div").each(function(){var j=c(this),k=j.find("p"),h;if(0===k.length){k=c("<p></p>");if(this.attributes.length>0){for(h=0;h<this.attributes.length;h+=1){k.attr(this.attributes[h].name,j.attr(this.attributes[h].name))}}k.append(j.html());j.replaceWith(k)}});g=e.html()}c(this.original).val(g);if(this.options.events&&this.options.events.save){this.options.events.save.call(this)}}return this};this.setContent=function(e){this.editorDoc.body.innerHTML=e;this.saveContent();return this};this.triggerControl=function(h,l){var j=l.command||h,g=l["arguments"]||[];if(l.exec){l.exec.apply(this)}else{this.ui.focus();this.ui.withoutCss();try{this.editorDoc.execCommand(j,false,g)}catch(k){a.error(k)}}if(this.options.autoSave){this.autoSaveFunction()}};this.triggerControlCallback=function(e){c(window).trigger("trigger-"+e+".wysiwyg",[this])};this.ui.withoutCss=function(){var g=this.self;if(c.browser.mozilla){try{g.editorDoc.execCommand("styleWithCSS",false,false)}catch(j){try{g.editorDoc.execCommand("useCSS",false,true)}catch(h){}}}return g};this.wrapInitialContent=function(){var e=this.initialContent,g=e.match(/<\/?p>/gi);if(!g){return"<p>"+e+"</p>"}else{}return e}}c.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(g,e,h){return g.each(function(){var j=c(this).data("wysiwyg"),l={},k;if(!j){return this}l[e]=c.extend(true,{visible:true,custom:true},h);c.extend(true,j.options.controls,l);k=c(j.options.toolbarHtml);j.ui.toolbar.replaceWith(k);j.ui.toolbar=k;j.ui.appendControls()})},clear:function(e){return e.each(function(){var g=c(this).data("wysiwyg");if(!g){return this}g.setContent("")})},console:a,destroy:function(e){return e.each(function(){var g=c(this).data("wysiwyg");if(!g){return this}g.destroy()})},document:function(g){var e=g.data("wysiwyg");if(!e){return undefined}return c(e.editorDoc)},getContent:function(g){var e=g.data("wysiwyg");if(!e){return undefined}return e.getContent()},init:function(g,e){return g.each(function(){var h=c.extend(true,{},e),j;if(("textarea"!==this.nodeName.toLowerCase())||c(this).data("wysiwyg")){return}j=new d();j.init(this,h);c.data(this,"wysiwyg",j);c(j.editorDoc).trigger("afterInit.wysiwyg")})},insertHtml:function(g,e){return g.each(function(){var h=c(this).data("wysiwyg");if(!h){return this}h.insertHtml(e)})},plugin:{listeners:{},bind:function(g){var e=this;c.each(this.listeners,function(l,h){var j,k;for(j=0;j<h.length;j+=1){k=e.parseName(h[j]);c(g.editorDoc).bind(l+".wysiwyg",{plugin:k},function(m){c.wysiwyg[m.data.plugin.name][m.data.plugin.method].apply(c.wysiwyg[m.data.plugin.name],[g])})}})},exists:function(e){var g;if("string"!==typeof(e)){return false}g=this.parseName(e);if(!c.wysiwyg[g.name]||!c.wysiwyg[g.name][g.method]){return false}return true},listen:function(h,e){var g;g=this.parseName(e);if(!c.wysiwyg[g.name]||!c.wysiwyg[g.name][g.method]){return false}if(!this.listeners[h]){this.listeners[h]=[]}this.listeners[h].push(e);return true},parseName:function(e){var g;if("string"!==typeof(e)){return false}g=e.split(".");if(2>g.length){return false}return{name:g[0],method:g[1]}},register:function(e){if(!e.name){a.error("Plugin name missing")}c.each(c.wysiwyg,function(g){if(g===e.name){a.error("Plugin with name '"+e.name+"' was already registered")}});c.wysiwyg[e.name]=e;return true}},removeFormat:function(e){return e.each(function(){var g=c(this).data("wysiwyg");if(!g){return this}g.removeFormat()})},save:function(e){return e.each(function(){var g=c(this).data("wysiwyg");if(!g){return this}g.saveContent()})},selectAll:function(h){var e=h.data("wysiwyg"),g,k,j;if(!e){return this}g=e.editorDoc.body;if(window.getSelection){j=e.getInternalSelection();j.selectAllChildren(g)}else{k=g.createTextRange();k.moveToElementText(g);k.select()}},setContent:function(g,e){return g.each(function(){var h=c(this).data("wysiwyg");if(!h){return this}h.setContent(e)})},triggerControl:function(e,g){return e.each(function(){var h=c(this).data("wysiwyg");if(!h){return this}if(!h.controls[g]){a.error("Control '"+g+"' not exists")}h.triggerControl.apply(h,[g,h.controls[g]])})},support:{prop:b},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(j){var g=this,e,h=[];if(this.extraSafeEntities[1].length===0){c.each(this.extraSafeEntities[0],function(k,l){g.extraSafeEntities[1].push(l.charCodeAt(0))})}e=j.split("");c.each(e,function(k){var l=e[k].charCodeAt(0);if(c.inArray(l,g.extraSafeEntities[1])&&(l<65||l>127||(l>90&&l<97))){h.push("&#"+l+";")}else{h.push(e[k])}});return h.join("")}}};c.wysiwyg.dialog=function(g,j){var l=(g&&g.options&&g.options.dialog)?g.options.dialog:(j.theme?j.theme:"default"),k=new c.wysiwyg.dialog.createDialog(l),h=this,e=c(h);this.options={modal:true,draggable:true,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:2000,open:false,close:false};this.isOpen=false;c.extend(this.options,j);this.object=k;this.open=function(){this.isOpen=true;k.init.apply(h,[]);var m=k.show.apply(h,[]);e.trigger("afterOpen",[m])};this.show=function(){this.isOpen=true;e.trigger("beforeShow");var m=k.show.apply(h,[]);e.trigger("afterShow")};this.hide=function(){this.isOpen=false;e.trigger("beforeHide");var m=k.hide.apply(h,[]);e.trigger("afterHide",[m])};this.close=function(){this.isOpen=false;var m=k.hide.apply(h,[]);e.trigger("beforeClose",[m]);k.destroy.apply(h,[]);e.trigger("afterClose",[m])};if(this.options.open){e.bind("afterOpen",this.options.open)}if(this.options.close){e.bind("afterClose",this.options.close)}return this};c.extend(true,c.wysiwyg.dialog,{_themes:{},_theme:"",register:function(e,g){c.wysiwyg.dialog._themes[e]=g},deregister:function(e){delete c.wysiwyg.dialog._themes[e]},createDialog:function(e){return new (c.wysiwyg.dialog._themes[e])},getDimensions:function(){var g=document.body.scrollWidth,e=document.body.scrollHeight;if(c.browser.opera){e=Math.max(c(document).height(),c(window).height(),document.documentElement.clientHeight)}return[g,e]}});c(function(){if(jQuery.ui){c.wysiwyg.dialog.register("jqueryui",function(){var e=this;this._$dialog=null;this.init=function(){var k=this,h=this.options.content;if(typeof h==="object"){if(typeof h.html==="function"){h=h.html()}else{if(typeof h.toString==="function"){h=h.toString()}}}e._$dialog=c("<div></div>").attr("title",this.options.title).html(h);var g=this.options.height=="auto"?300:this.options.height,j=this.options.width=="auto"?450:this.options.width;e._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:g,width:j});return e._$dialog};this.show=function(){e._$dialog.dialog("open");return e._$dialog};this.hide=function(){e._$dialog.dialog("close");return e._$dialog};this.destroy=function(){e._$dialog.dialog("destroy");return e._$dialog}})}c.wysiwyg.dialog.register("default",function(){var e=this;this._$dialog=null;this.init=function(){var n=this,k=this.options.content;if(typeof k==="object"){if(typeof k.html==="function"){k=k.html()}else{if(typeof k.toString==="function"){k=k.toString()}}}e._$dialog=c('<div class="wysiwyg-dialog"></div>').css({"z-index":this.options.zIndex});var j=c('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"></div><div class="wysiwyg-dialog-title">'+this.options.title+"</div></div>");var g=c('<a href="#" class="wysiwyg-dialog-close-button">X</a>');g.click(function(){n.close()});j.find(".wysiwyg-dialog-close-wrapper").prepend(g);var m=c('<div class="wysiwyg-dialog-content">'+k+"</div>");e._$dialog.append(j).append(m);var h=this.options.height=="auto"?300:this.options.height,l=this.options.width=="auto"?450:this.options.width;e._$dialog.hide().css({width:l,height:h,left:((c(window).width()-l)/2),top:((c(window).height()-h)/3)});c("body").append(e._$dialog);return e._$dialog};this.show=function(){if(this.options.modal){var h=c.wysiwyg.dialog.getDimensions(),j=c('<div class="wysiwyg-dialog-modal-div"></div>').css({width:h[0],height:h[1]});e._$dialog.wrap(j)}if(this.options.draggable){var g=false;e._$dialog.find("div.wysiwyg-dialog-topbar").bind("mousedown",function(n){n.preventDefault();c(this).css({cursor:"move"});var l=c(this),m=c(this).parents(".wysiwyg-dialog"),k=(n.pageX-parseInt(m.css("left"),10)),o=(n.pageY-parseInt(m.css("top"),10));g=true;c(this).css({cursor:"move"});c(document).bind("mousemove",function(p){p.preventDefault();if(g){m.css({top:(p.pageY-o),left:(p.pageX-k)})}}).bind("mouseup",function(p){p.preventDefault();g=false;l.css({cursor:"auto"});c(document).unbind("mousemove").unbind("mouseup")})})}e._$dialog.show();return e._$dialog};this.hide=function(){e._$dialog.hide();return e._$dialog};this.destroy=function(){if(this.options.modal){e._$dialog.unwrap()}if(this.options.draggable){e._$dialog.find("div.wysiwyg-dialog-topbar").unbind("mousedown")}e._$dialog.remove();return e._$dialog}})});c.fn.wysiwyg=function(h){var e=arguments,g;if("undefined"!==typeof c.wysiwyg[h]){e=Array.prototype.concat.call([e[0]],[this],Array.prototype.slice.call(e,1));return c.wysiwyg[h].apply(c.wysiwyg,Array.prototype.slice.call(e,1))}else{if("object"===typeof h||!h){Array.prototype.unshift.call(e,this);return c.wysiwyg.init.apply(c.wysiwyg,e)}else{if(c.wysiwyg.plugin.exists(h)){g=c.wysiwyg.plugin.parseName(h);e=Array.prototype.concat.call([e[0]],[this],Array.prototype.slice.call(e,1));return c.wysiwyg[g.name][g.method].apply(c.wysiwyg[g.name],Array.prototype.slice.call(e,1))}else{a.error("Method '"+h+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")}}}};c.fn.getWysiwyg=function(){return this.data("wysiwyg")}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.colorpicker.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.colorpicker={modalOpen:false,color:{back:{prev:"#ffffff",palette:[]},fore:{prev:"#123456",palette:[]}},addColorToPalette:function(c,b){if(-1===a.inArray(b,this.color[c].palette)){this.color[c].palette.push(b)}else{this.color[c].palette.sort(function(e,d){if(e===b){return 1}return 0})}},init:function(k){if(a.wysiwyg.controls.colorpicker.modalOpen===true){return false}else{a.wysiwyg.controls.colorpicker.modalOpen=true}var c=this,h,e,b,g,d,j;g={legend:"Colorpicker",color:"Color",submit:"Apply",reset:"Cancel"};b='<form class="wysiwyg"><fieldset><legend>{legend}</legend><ul class="palette"></ul><label>{color}: <input type="text" name="color" value="#123456"/></label><div class="wheel"></div><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(d in g){if(a.wysiwyg.i18n){j=a.wysiwyg.i18n.t(g[d],"dialogs.colorpicker");if(j===g[d]){j=a.wysiwyg.i18n.t(g[d],"dialogs")}g[d]=j}b=b.replace("{"+d+"}",g[d])}if(a.modal){h=a(b);if(a.farbtastic){this.renderPalette(h,"fore");h.find(".wheel").farbtastic(h.find("input:text"))}a.modal(h.html(),{maxWidth:k.defaults.formWidth,maxHeight:k.defaults.formHeight,overlayClose:true,onShow:function(l){a("input:submit",l.data).click(function(n){var m=a('input[name="color"]',l.data).val();c.color.fore.prev=m;c.addColorToPalette("fore",m);if(a.browser.msie){k.ui.returnRange()}k.editorDoc.execCommand("ForeColor",false,m);a.modal.close();return false});a("input:reset",l.data).click(function(m){if(a.browser.msie){k.ui.returnRange()}a.modal.close();return false});a("fieldset",l.data).click(function(m){m.stopPropagation()})},onClose:function(l){a.wysiwyg.controls.colorpicker.modalOpen=false;a.modal.close()}})}else{if(a.fn.dialog){h=a(b);if(a.farbtastic){this.renderPalette(h,"fore");h.find(".wheel").farbtastic(h.find("input:text"))}e=h.appendTo("body");e.dialog({modal:true,open:function(l,m){a("input:submit",h).click(function(o){var n=a('input[name="color"]',e).val();c.color.fore.prev=n;c.addColorToPalette("fore",n);if(a.browser.msie){k.ui.returnRange()}k.editorDoc.execCommand("ForeColor",false,n);a(e).dialog("close");return false});a("input:reset",h).click(function(n){if(a.browser.msie){k.ui.returnRange()}a(e).dialog("close");return false});a("fieldset",h).click(function(n){n.stopPropagation()})},close:function(l,m){a.wysiwyg.controls.colorpicker.modalOpen=false;e.dialog("destroy");e.remove()}})}else{if(a.farbtastic){h=a("<div/>").css({position:"fixed","z-index":2000,left:"50%",top:"50%",background:"rgb(0, 0, 0)","margin-top":-1*Math.round(k.defaults.formHeight/2),"margin-left":-1*Math.round(k.defaults.formWidth/2)}).html(b);this.renderPalette(h,"fore");h.find("input[name=color]").val(c.color.fore.prev);h.find(".wheel").farbtastic(h.find("input:text"));a("input:submit",h).click(function(m){var l=a('input[name="color"]',h).val();c.color.fore.prev=l;c.addColorToPalette("fore",l);if(a.browser.msie){k.ui.returnRange()}k.editorDoc.execCommand("ForeColor",false,l);a(h).remove();a.wysiwyg.controls.colorpicker.modalOpen=false;return false});a("input:reset",h).click(function(l){if(a.browser.msie){k.ui.returnRange()}a(h).remove();a.wysiwyg.controls.colorpicker.modalOpen=false;return false});a("body").append(h);h.click(function(l){l.stopPropagation()})}}}},renderPalette:function(d,e){var b=d.find(".palette"),j=function(){var k=a(this).text();d.find("input[name=color]").val(k);if(a.farbtastic){d.find("input[name=color]").trigger("keyup")}},g,h,c;for(c=this.color[e].palette.length-1;c>-1;c-=1){g=a("<div/>").css({"float":"left",width:"16px",height:"16px",margin:"0px 5px 0px 0px","background-color":this.color[e].palette[c]});h=a("<li>"+this.color[e].palette[c]+"</li>").css({"float":"left","list-style":"none"}).append(g).bind("click.wysiwyg",j);b.append(h).css({margin:"0px",padding:"0px"})}}}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.cssWrap.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.cssWrap={init:function(h){var b=this,d,c,g,e={legend:"Wrap Element",wrapperType:"Wrapper Type",ID:"ID","class":"Class",wrap:"Wrap",unwrap:"Unwrap",cancel:"Cancel"};d='<form class="wysiwyg"><fieldset><legend>{legend}</legend><div class="wysiwyg-dialogRow"><label>{wrapperType}: &nbsp;<select name="type"><option value="span">Span</option><option value="div">Div</option></select></label></div><div class="wysiwyg-dialogRow"><label>{ID}: &nbsp;<input name="id" type="text" /></label></div><div class="wysiwyg-dialogRow"><label>{class}: &nbsp;<input name="class" type="text" /></label></div><div class="wysiwyg-dialogRow"><input type="button" class="button cssWrap-unwrap" style="display:none;" value="{unwrap}"/></label><input type="submit"  class="button cssWrap-submit" value="{wrap}"/></label><input type="reset" class="button cssWrap-cancel" value="{cancel}"/></div></fieldset></form>';for(c in e){if(a.wysiwyg.i18n){g=a.wysiwyg.i18n.t(e[c]);if(g===e[c]){g=a.wysiwyg.i18n.t(e[c],"dialogs")}e[c]=g}d=d.replace("{"+c+"}",e[c])}if(!a(".wysiwyg-dialog-wrapper").length){a(d).appendTo("body");a("form.wysiwyg").dialog({modal:true,open:function(l,m){var o=a(this),j=h.getInternalRange(),k,n;if(j){if(a.browser.msie){h.ui.focus()}k=a(j.commonAncestorContainer)}else{alert("You must select some elements before you can wrap them.");o.dialog("close");return 0}n=j.commonAncestorContainer.nodeName.toLowerCase();if(k.parent(".wysiwygCssWrapper").length){alert(k.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase());o.find("select[name=type]").val(k.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase());o.find("select[name=type]").attr("disabled","disabled");o.find("input[name=id]").val(k.parent(".wysiwygCssWrapper").attr("id"));o.find("input[name=class]").val(k.parent(".wysiwygCssWrapper").attr("class").replace("wysiwygCssWrapper ",""));a("form.wysiwyg").find(".cssWrap-unwrap").show();a("form.wysiwyg").find(".cssWrap-unwrap").click(function(p){p.preventDefault();if(n!=="body"){k.unwrap()}o.dialog("close");return 1})}a("form.wysiwyg").find(".cssWrap-submit").click(function(r){r.preventDefault();var q=a("form.wysiwyg").find("select[name=type]").val(),s=a("form.wysiwyg").find("input[name=id]").val(),p=a("form.wysiwyg").find("input[name=class]").val();if(n!=="body"){if(k.parent(".wysiwygCssWrapper").length){k.parent(".wysiwygCssWrapper").attr("id",p);k.parent(".wysiwygCssWrapper").attr("class",p)}else{k.wrap("<"+q+' id="'+s+'" class="wysiwygCssWrapper '+p+'"/>')}}else{}o.dialog("close")});a("form.wysiwyg").find(".cssWrap-cancel").click(function(p){p.preventDefault();o.dialog("close");return 1})},close:function(){a(this).dialog("destroy");a(this).remove()}});h.saveContent()}a(h.editorDoc).trigger("editorRefresh.wysiwyg");return 1}}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.image.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.image={groupIndex:6,visible:true,exec:function(){a.wysiwyg.controls.image.init(this)},tags:["img"],tooltip:"Insert image",init:function(d){var n=this,c,g,l,j,k,e,m,b,h={alt:"",self:d.dom?d.dom.getElement("img"):null,src:"http://",title:""};e={legend:"Insert Image",preview:"Preview",url:"URL",title:"Title",description:"Description",width:"Width",height:"Height",original:"Original W x H","float":"Float",floatNone:"None",floatLeft:"Left",floatRight:"Right",submit:"Insert Image",reset:"Cancel",fileManagerIcon:"Select file from server"};j='<form class="wysiwyg" id="wysiwyg-addImage"><fieldset><div class="form-row"><span class="form-row-key">{preview}:</span><div class="form-row-value"><img src="" alt="{preview}" style="margin: 2px; padding:5px; max-width: 100%; overflow:hidden; max-height: 100px; border: 1px solid rgb(192, 192, 192);"/></div></div><div class="form-row"><label for="name">{url}:</label><div class="form-row-value"><input type="text" name="src" value=""/>';if(a.wysiwyg.fileManager&&a.wysiwyg.fileManager.ready){j+='<div class="wysiwyg-fileManager" title="{fileManagerIcon}"/>'}j+='</div></div><div class="form-row"><label for="name">{title}:</label><div class="form-row-value"><input type="text" name="imgtitle" value=""/></div></div><div class="form-row"><label for="name">{description}:</label><div class="form-row-value"><input type="text" name="description" value=""/></div></div><div class="form-row"><label for="name">{width} x {height}:</label><div class="form-row-value"><input type="text" name="width" value="" class="width-small"/> x <input type="text" name="height" value="" class="width-small"/></div></div><div class="form-row"><label for="name">{original}:</label><div class="form-row-value"><input type="text" name="naturalWidth" value="" class="width-small" disabled="disabled"/> x <input type="text" name="naturalHeight" value="" class="width-small" disabled="disabled"/></div></div><div class="form-row"><label for="name">{float}:</label><div class="form-row-value"><select name="float"><option value="">{floatNone}</option><option value="left">{floatLeft}</option><option value="right">{floatRight}</option></select></div></div><div class="form-row form-row-last"><label for="name"></label><div class="form-row-value"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></div></div></fieldset></form>';for(m in e){if(a.wysiwyg.i18n){b=a.wysiwyg.i18n.t(e[m],"dialogs.image");if(b===e[m]){b=a.wysiwyg.i18n.t(e[m],"dialogs")}e[m]=b}k=new RegExp("{"+m+"}","g");j=j.replace(k,e[m])}if(h.self){h.src=h.self.src?h.self.src:"";h.alt=h.self.alt?h.self.alt:"";h.title=h.self.title?h.self.title:"";h.width=h.self.width?h.self.width:"";h.height=h.self.height?h.self.height:"";h.styleFloat=a(h.self).css("float")}g=new a.wysiwyg.dialog(d,{title:e.legend,content:j});a(g).bind("afterOpen",function(p,o){o.find("form#wysiwyg-addImage").submit(function(q){q.preventDefault();n.processInsert(o.container,d,h);g.close();return false});if(a.wysiwyg.fileManager){a("div.wysiwyg-fileManager").bind("click",function(){a.wysiwyg.fileManager.init(function(q){o.find("input[name=src]").val(q);o.find("input[name=src]").trigger("change")})})}a("input:reset",o).click(function(q){g.close();return false});a("fieldset",o).click(function(q){q.stopPropagation()});n.makeForm(o,h)});g.open();a(d.editorDoc).trigger("editorRefresh.wysiwyg")},processInsert:function(e,g,j){var h,c=a('input[name="src"]',e).val(),m=a('input[name="imgtitle"]',e).val(),n=a('input[name="description"]',e).val(),d=a('input[name="width"]',e).val(),o=a('input[name="height"]',e).val(),k=a('select[name="float"]',e).val(),p=[],b="",q,l;if(g.options.controlImage&&g.options.controlImage.forceRelativeUrls){l=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(0===c.indexOf(l)){c=c.substr(l.length)}}if(j.self){a(j.self).attr("src",c).attr("title",m).attr("alt",n).css("float",k);if(d.toString().match(/^[0-9]+(px|%)?$/)){a(j.self).css("width",d)}else{a(j.self).css("width","")}if(o.toString().match(/^[0-9]+(px|%)?$/)){a(j.self).css("height",o)}else{a(j.self).css("height","")}g.saveContent()}else{q=d.toString().match(/^[0-9]+(px|%)?$/);if(q){if(q[1]){p.push("width: "+d+";")}else{p.push("width: "+d+"px;")}}q=o.toString().match(/^[0-9]+(px|%)?$/);if(q){if(q[1]){p.push("height: "+o+";")}else{p.push("height: "+o+"px;")}}if(k.length>0){p.push("float: "+k+";")}if(p.length>0){b=' style="'+p.join(" ")+'"'}h="<img src='"+c+"' title='"+m+"' alt='"+n+"'"+b+"/>";g.insertHtml(h)}},makeForm:function(c,b){c.find("input[name=src]").val(b.src);c.find("input[name=imgtitle]").val(b.title);c.find("input[name=description]").val(b.alt);c.find('input[name="width"]').val(b.width);c.find('input[name="height"]').val(b.height);c.find('select[name="float"]').val(b.styleFloat);c.find("img").attr("src",b.src);c.find("img").bind("load",function(){if(c.find("img").get(0).naturalWidth){c.find('input[name="naturalWidth"]').val(c.find("img").get(0).naturalWidth);c.find('input[name="naturalHeight"]').val(c.find("img").get(0).naturalHeight)}else{if(c.find("img").attr("naturalWidth")){c.find('input[name="naturalWidth"]').val(c.find("img").attr("naturalWidth"));c.find('input[name="naturalHeight"]').val(c.find("img").attr("naturalHeight"))}}});c.find("input[name=src]").bind("change",function(){c.find("img").attr("src",this.value)});return c}};a.wysiwyg.insertImage=function(d,c,b){return d.each(function(){var h=a(this).data("wysiwyg"),g,e;if(!h){return this}if(!c||c.length===0){return this}if(a.browser.msie){h.ui.focus()}if(b){h.editorDoc.execCommand("insertImage",false,"#jwysiwyg#");g=h.getElementByAttributeValue("img","src","#jwysiwyg#");if(g){g.src=c;for(e in b){if(b.hasOwnProperty(e)){g.setAttribute(e,b[e])}}}}else{h.editorDoc.execCommand("insertImage",false,c)}h.saveContent();a(h.editorDoc).trigger("editorRefresh.wysiwyg");return this})}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.link.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.link={init:function(e){var r=this,c,m,d,o,p,n,g,q,b,l,k,j;g={legend:"Insert Link",url:"Link URL",title:"Link Title",target:"Link Target",submit:"Insert Link",reset:"Cancel"};n='<form class="wysiwyg"><fieldset><legend>{legend}</legend><label>{url}: <input type="text" name="linkhref" value=""/></label><label>{title}: <input type="text" name="linktitle" value=""/></label><label>{target}: <input type="text" name="linktarget" value=""/></label><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(q in g){if(a.wysiwyg.i18n){b=a.wysiwyg.i18n.t(g[q],"dialogs.link");if(b===g[q]){b=a.wysiwyg.i18n.t(g[q],"dialogs")}g[q]=b}l=new RegExp("{"+q+"}","g");n=n.replace(l,g[q])}o={self:e.dom.getElement("a"),href:"http://",title:"",target:""};if(o.self){o.href=o.self.href?o.self.href:o.href;o.title=o.self.title?o.self.title:"";o.target=o.self.target?o.self.target:""}if(a.fn.dialog){c=a(n);c.find("input[name=linkhref]").val(o.href);c.find("input[name=linktitle]").val(o.title);c.find("input[name=linktarget]").val(o.target);if(a.browser.msie){try{m=c.appendTo(e.editorDoc.body)}catch(h){m=c.appendTo("body")}}else{m=c.appendTo("body")}m.dialog({modal:true,open:function(s,u){a("input:submit",m).click(function(B){B.preventDefault();var w=a('input[name="linkhref"]',m).val(),C=a('input[name="linktitle"]',m).val(),A=a('input[name="linktarget"]',m).val(),z,v;if(e.options.controlLink.forceRelativeUrls){z=window.location.protocol+"//"+window.location.hostname;if(0===w.indexOf(z)){w=w.substr(z.length)}}if(o.self){if("string"===typeof(w)){if(w.length>0){a(o.self).attr("href",w).attr("title",C).attr("target",A)}else{a(o.self).replaceWith(o.self.innerHTML)}}}else{if(a.browser.msie){e.ui.returnRange()}p=e.getRangeText();v=e.dom.getElement("img");if((p&&p.length>0)||v){if(a.browser.msie){e.ui.focus()}if("string"===typeof(w)){if(w.length>0){e.editorDoc.execCommand("createLink",false,w)}else{e.editorDoc.execCommand("unlink",false,null)}}o.self=e.dom.getElement("a");a(o.self).attr("href",w).attr("title",C);a(o.self).attr("target",A)}else{if(e.options.messages.nonSelection){window.alert(e.options.messages.nonSelection)}}}e.saveContent();a(m).dialog("close")});a("input:reset",m).click(function(v){v.preventDefault();a(m).dialog("close")})},close:function(s,u){m.dialog("destroy");m.remove()}})}else{if(o.self){d=window.prompt("URL",o.href);if(e.options.controlLink.forceRelativeUrls){k=window.location.protocol+"//"+window.location.hostname;if(0===d.indexOf(k)){d=d.substr(k.length)}}if("string"===typeof(d)){if(d.length>0){a(o.self).attr("href",d)}else{a(o.self).replaceWith(o.self.innerHTML)}}}else{p=e.getRangeText();j=e.dom.getElement("img");if((p&&p.length>0)||j){if(a.browser.msie){e.ui.focus();e.editorDoc.execCommand("createLink",true,null)}else{d=window.prompt(g.url,o.href);if(e.options.controlLink.forceRelativeUrls){k=window.location.protocol+"//"+window.location.hostname;if(0===d.indexOf(k)){d=d.substr(k.length)}}if("string"===typeof(d)){if(d.length>0){e.editorDoc.execCommand("createLink",false,d)}else{e.editorDoc.execCommand("unlink",false,null)}}}}else{if(e.options.messages.nonSelection){window.alert(e.options.messages.nonSelection)}}}e.saveContent()}a(e.editorDoc).trigger("editorRefresh.wysiwyg")}};a.wysiwyg.createLink=function(c,b){return c.each(function(){var d=a(this).data("wysiwyg"),e;if(!d){return this}if(!b||b.length===0){return this}e=d.getRangeText();if(e&&e.length>0){if(a.browser.msie){d.ui.focus()}d.editorDoc.execCommand("unlink",false,null);d.editorDoc.execCommand("createLink",false,b)}else{if(d.options.messages.nonSelection){window.alert(d.options.messages.nonSelection)}}return this})}})(jQuery);(function(b){if(undefined===b.wysiwyg){throw"wysiwyg.table.js depends on $.wysiwyg"}if(!b.wysiwyg.controls){b.wysiwyg.controls={}}var a=function(k,c,h){if(isNaN(c)||isNaN(k)||c===null||k===null){return}var g,d,e=['<table border="1" style="width: 100%;"><tbody>'];k=parseInt(k,10);c=parseInt(c,10);if(h===null){h="&nbsp;"}h="<td>"+h+"</td>";for(g=c;g>0;g-=1){e.push("<tr>");for(d=k;d>0;d-=1){e.push(h)}e.push("</tr>")}e.push("</tbody></table>");return this.insertHtml(e.join(""))};b.wysiwyg.controls.table=function(d){var g,k,m,l,j,e,n,c,h;e={legend:"Insert table",cols:"Count of columns",rows:"Count of rows",submit:"Insert table",reset:"Cancel"};j='<form class="wysiwyg" id="wysiwyg-tableInsert"><fieldset><legend>{legend}</legend><label>{cols}: <input type="text" name="colCount" value="3" /></label><br/><label>{rows}: <input type="text" name="rowCount" value="3" /></label><br/><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(n in e){if(b.wysiwyg.i18n){c=b.wysiwyg.i18n.t(e[n],"dialogs.table");if(c===e[n]){c=b.wysiwyg.i18n.t(e[n],"dialogs")}e[n]=c}h=new RegExp("{"+n+"}","g");j=j.replace(h,e[n])}if(!d.insertTable){d.insertTable=a}g=new b.wysiwyg.dialog(d,{title:e.legend,content:j,open:function(p,o){o.find("form#wysiwyg-tableInsert").submit(function(q){q.preventDefault();l=o.find("input[name=rowCount]").val();m=o.find("input[name=colCount]").val();d.insertTable(m,l,d.defaults.tableFiller);g.close();return false});o.find("input:reset").click(function(q){q.preventDefault();g.close();return false})}});g.open();b(d.editorDoc).trigger("editorRefresh.wysiwyg")};b.wysiwyg.insertTable=function(d,g,c,e){return d.each(function(){var h=b(this).data("wysiwyg");if(!h.insertTable){h.insertTable=a}if(!h){return this}h.insertTable(g,c,e);b(h.editorDoc).trigger("editorRefresh.wysiwyg");return this})}})(jQuery);
