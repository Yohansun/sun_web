/*
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function makePy(e){if(typeof e!="string")throw new Error(-1,"函数makePy需要字符串类型参数!");var t=new Array;for(var n=0,r=e.length;n<r;n++){var i=e.charAt(n);t.push(checkCh(i))}return mkRslt(t)}function checkCh(e){var t=e.charCodeAt(0);return t>40869||t<19968?e:oMultiDiff[t]?oMultiDiff[t]:strChineseFirstPY.charAt(t-19968)}function mkRslt(e){var t=[""];for(var n=0,r=e.length;n<r;n++){var i=e[n],s=i.length;if(s==1)for(var o=0;o<t.length;o++)t[o]+=i;else{var u=t.slice(0);t=[];for(o=0;o<s;o++){var a=u.slice(0);for(var f=0;f<a.length;f++)a[f]+=i.charAt(o);t=t.concat(a)}}}return t}(function(e,t){function n(t){return!e(t).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}function r(t,r){var i=t.nodeName.toLowerCase();if("area"===i){var s=t.parentNode,o=s.name,u;return!t.href||!o||s.nodeName.toLowerCase()!=="map"?!1:(u=e("img[usemap=#"+o+"]")[0],!!u&&n(u))}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||r:r)&&n(t)}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var s=r==="Width"?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&r(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var s in r)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,r[s]])},call:function(e,t,n){var r=e.plugins[t];if(!!r&&!!e.element[0].parentNode)for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?e.compareDocumentPosition(t)&16:e!==t&&e.contains(t)},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}}))})(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[i][t].prototype=e.extend(!0,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n),s=r&&e.isFunction(r[i])?r[i].apply(r,o):r;if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which==1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(n.iframeFix&&e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3]?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2]?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.17"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,a=t.top,f=t.left;return e.ui.isOver(i+n,s+r,a,f,o,u)};e.each(r.sortables,function(s){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height;for(var l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,v=p+r.snapElements[l].height;if(!(c-s<o&&o<h+s&&p-s<a&&a<v+s||c-s<o&&o<h+s&&p-s<f&&f<v+s||c-s<u&&u<h+s&&p-s<a&&a<v+s||c-s<u&&u<h+s&&p-s<f&&f<v+s)){r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1;continue}if(i.snapMode!="inner"){var m=Math.abs(p-f)<=s,g=Math.abs(v-a)<=s,y=Math.abs(c-u)<=s,b=Math.abs(h-o)<=s;m&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var w=m||g||y||b;if(i.snapMode!="outer"){var m=Math.abs(p-a)<=s,g=Math.abs(v-f)<=s,y=Math.abs(c-o)<=s,b=Math.abs(h-u)<=s;m&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(m||g||y||b||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=m||g||y||b||w}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!!i.length){var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];for(var n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,n){t=="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;!!n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;!!n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.17"}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,s=i+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,u=o+t.helperProportions.height,a=n.offset.left,f=a+n.proportions.width,l=n.offset.top,c=l+n.proportions.height;switch(r){case"fit":return a<=i&&s<=f&&l<=o&&u<=c;case"intersect":return a<i+t.helperProportions.width/2&&s-t.helperProportions.width/2<f&&l<o+t.helperProportions.height/2&&u-t.helperProportions.height/2<c;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,v=e.ui.isOver(p,h,l,a,n.proportions.height,n.proportions.width);return v;case"touch":return(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c)&&(i>=a&&i<=f||s>=a&&s<=f||i<a&&s>f);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope]||[],i=n?n.type:null,s=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0
;o<r.length;o++){if(r[o].options.disabled||t&&!r[o].accept.call(r[o].element[0],t.currentItem||t.element))continue;for(var u=0;u<s.length;u++)if(s[u]==r[o].element[0]){r[o].proportions.height=0;continue e}r[o].visible=r[o].element.css("display")!="none";if(!r[o].visible)continue;i=="mousedown"&&r[o]._activate.call(r[o],n),r[o].offset=r[o].element.offset(),r[o].proportions={width:r[o].element[0].offsetWidth,height:r[o].element[0].offsetHeight}}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var r=e.ui.intersect(t,this,this.options.tolerance),i=!r&&this.isover==1?"isout":r&&this.isover==0?"isover":null;if(!i)return;var s;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");o.length&&(s=e.data(o[0],"droppable"),s.greedyChild=i=="isover"?1:0)}s&&i=="isover"&&(s.isover=0,s.isout=1,s._out.call(s,n)),this[i]=1,this[i=="isout"?"isover":"isout"]=0,this[i=="isover"?"_over":"_out"].call(this,n),s&&i=="isout"&&(s.isout=0,s.isover=1,s._over.call(s,n))}})},dragStop:function(t,n){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');/sw|se|ne|nw/.test(s)&&u.css({zIndex:++n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),e.browser.opera&&/relative/.test(s.css("position"))&&s.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",a=="auto"?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n=this.helper,r=this.options,i={},s=this,o=this.originalMousePosition,u=this.axis,a=t.pageX-o.left||0,f=t.pageY-o.top||0,l=this._change[u];if(!l)return!1;var c=l.apply(this,[t,a,f]),h=e.browser.msie&&e.browser.version<7,p=this.sizeDiff;this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey)c=this._updateRatio(c,t);return c=this._respectSize(c,t),this._propagate("resize",t),n.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(c),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height,d=/sw|nw|w/.test(o),v=/nw|ne|n/.test(o);f&&d&&(e.left=c-i.minWidth),u&&d&&(e.left=c-i.maxWidth),l&&v&&(e.top=p-i.minHeight),a&&v&&(e.top=p-i.maxHeight);var m=!e.width&&!e.height;return m&&!e.left&&e.top?e.top=null:m&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!!this._proportionallyResizeElements.length){var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}if(!(!e.browser.msie||!e(n).is(":hidden")&&!e(n).parents(":hidden").length))continue;i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.browser.msie&&e.browser.version<7,i=r?1:0,s=r?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+s,height:this.element.outerHeight()+s,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.17"}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,i){e(t).each(function(){var t=e(this),s=e(this).data("resizable-alsoresize"),o={},a=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(s[t]||0)+(u[t]||0);n&&n>=0&&(o[t]=n||null)}),e.browser.opera&&/relative/.test(t.css("position"))&&(r._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(o)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.css({position:t.data("resizable-alsoresize").position})})};r._revertToRelativePosition&&(r._revertToRelativePosition=!1,typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)),e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!!a){i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/i.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*i.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var n=this;this.opos=[t.pageX,t.pageY];if(!this.options.disabled){var r=this.options;this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,!t.metaKey&&!t.ctrlKey&&(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().andSelf().each(function(){var r=e.data(this,"selectable-item");if(r){var i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected");return r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1}})}},_mouseDrag:function(t){var n=this;this.dragged=!0;if(!this.options.disabled){var r=this.options,i=this.opos[0],s=this.opos[1],o=t.pageX,u=t.pageY;if(i>o){var a=o;o=i,i=a}if(s>u){var a=u;u=s,s=a}return this.helper.css({left:i,top:s,width:o-i,height:u-s}),this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!!a&&a.element!=n.element[0]){var f=!1;r.tolerance=="touch"?f=!(a.left>o||a.right<i||a.top>u||a.bottom<s):r.tolerance=="fit"&&(f=a.left>i&&a.right<o&&a.top>s&&a.bottom<u),f?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,n._trigger("selecting",t,{selecting:a.element}))):(a.selecting&&((t.metaKey||t.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),n._trigger("unselecting",t,{unselecting:a.element}))),a.selected&&!t.metaKey&&!t.ctrlKey&&!a.startselected&&(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,n._trigger("unselecting",t,{unselecting:a.element})))}}),!1}},_mouseStop:function(t){var n=this;this.dragged=!1;var r=this.options;return e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.17"})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=this,o=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==s)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==s&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var u=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(u=!0)});if(!u)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options,s=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,s._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.ui.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.ui.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!!t){e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=r.placeholder.offset();r.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this
.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=this,r=[],i=[],s=this._connectWith();if(s&&t)for(var o=s.length-1;o>=0;o--){var u=e(s[o]);for(var a=u.length-1;a>=0;a--){var f=e.data(u[a],this.widgetName);f&&f!=this&&!f.options.disabled&&i.push([e.isFunction(f.options.items)?f.options.items.call(f.element):e(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=i.length-1;o>=0;o--)i[o][0].each(function(){r.push(this)});return e(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");for(var t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=this,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],s=this._connectWith();if(s)for(var o=s.length-1;o>=0;o--){var u=e(s[o]);for(var a=u.length-1;a>=0;a--){var f=e.data(u[a],this.widgetName);f&&f!=this&&!f.options.disabled&&(i.push([e.isFunction(f.options.items)?f.options.items.call(f.element[0],t,{item:this.currentItem}):e(f.options.items,f.element),f]),this.containers.push(f))}}for(var o=i.length-1;o>=0;o--){var l=i[o][1],c=i[o][0];for(var a=0,h=c.length;a<h;a++){var p=e(c[a]);p.data(this.widgetName+"-item",l),n.push({item:p,instance:l,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,r=n.options;if(!r.placeholder||r.placeholder.constructor==String){var i=r.placeholder;r.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(t.style.visibility="hidden"),t},update:function(e,t){if(!i||!!r.forcePlaceholderSize)t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10))}}}n.placeholder=e(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.ui.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.ui.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!!n)if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){var s=1e4,o=null,u=this.positionAbs[this.containers[r].floating?"left":"top"];for(var a=this.items.length-1;a>=0;a--){if(!e.ui.contains(this.containers[r].element[0],this.items[a].item[0]))continue;var f=this.items[a][this.containers[r].floating?"left":"top"];Math.abs(f-u)<s&&(s=Math.abs(f-u),o=this.items[a])}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this,s=this.counter;window.setTimeout(function(){s==i.counter&&i.refreshPositions(!r)},0)},_clear:function(t,n){this.reverting=!1;var r=[],i=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)if(this._storedCSS[s]=="auto"||this._storedCSS[s]=="static")this._storedCSS[s]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())});if(!e.ui.contains(this.element[0],this.currentItem[0])){n||r.push(function(e){this._trigger("remove",e,this._uiHash())});for(var s=this.containers.length-1;s>=0;s--)e.ui.contains(this.containers[s].element[0],this.currentItem[0])&&!n&&(r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[s])),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[s])))}for(var s=this.containers.length-1;s>=0;s--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var s=0;s<r.length;s++)r[s].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var s=0;s<r.length;s++)r[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.17"})}(jQuery),jQuery.effects||function(e,t){function n(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects[t]?!0:!1}function r(t,n,r,i){typeof t=="object"&&(i=n,r=null,n=t,t=n.effect),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n=n||{},r=r||n.duration,r=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,i=i||n.complete,[t,n,r,i]}function i(e,t){var n={_:0},r;for(r in t)e[r]!=t[r]&&(n[r]=t[r]);return n}function s(t){var n,r;for(n in t)r=t[n],(r==null||e.isFunction(r)||n in c||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(r)))&&delete t[n];return t}function o(){var e=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,t={},n,r;if(e&&e.length&&e[0]&&e[e[0]]){var i=e.length;while(i--)n=e[i],typeof e[n]=="string"&&(r=n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),t[r]=e[n])}else for(n in e)typeof e[n]=="string"&&(t[n]=e[n]);return t}function u(t,n){var r;do{r=e.curCSS(t,n);if(r!=""&&r!="transparent"||e.nodeName(t,"body"))break;n="backgroundColor"}while(t=t.parentNode);return a(r)}function a(t){var n;return t&&t.constructor==Array&&t.length==3?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?f.transparent:f[e.trim(t).toLowerCase()]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,n){e.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=a(e.end),e.colorInit=!0),e.elem.style[n]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},l=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,r,u){return e.isFunction(r)&&(u=r,r=null),this.queue(function(){var a=e(this),f=a.attr("style")||" ",c=s(o.call(this)),d,v=a.attr("class");e.each(l,function(e,n){t[n]&&a[n+"Class"](t[n])}),d=s(o.call(this)),a.attr("class",v),a.animate(i(c,d),{queue:!1,duration:n,easing:r,complete:function(){e.each(l,function(e,n){t[n]&&a[n+"Class"](t[n])}),typeof a.attr("style")=="object"?(a.attr("style").cssText="",a.attr("style").cssText=f):a.attr("style",f),u&&u.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{add:t},n,r,i]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{remove:t},n,r,i]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.apply(this,[r?{add:n}:{remove:n},i,s,o]):this._toggleClass(n,r):e.effects.animateClass.apply(this,[{toggle:n},r,i,s])},switchClass:function(t,n,r,i,s){return e.effects.animateClass.apply(this,[{add:n,remove:t},r,i,s])}}),e.extend(e.effects,{version:"1.8.17",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return t=="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i=document.activeElement;return t.wrap(r),(t[0]===i||e.contains(t[0],i))&&e(i).focus(),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(n).show()},removeWrapper:function(t){var n,r=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(n=t.parent().replaceWith(t),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n):t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){unit=t.cssUnit(n),unit[0]>0&&(i[n]=unit[0]*r+unit[1])}),i}}),e.fn.extend({effect:function(t,n,i,s){var o=r.apply(this,arguments),u={options:o[1],duration:o[2],callback:o[3]},a=u.options.mode,f=e.effects[t];return e.fx.off||!f?a?this[a](u.duration,u.callback):this.each(function(){u.callback&&u.callback.call(this)}):f.call(this,u)},_show:e.fn.show,show:function(e){if(n(e))return this._show.apply(this,arguments);var t=r.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(n(e))return this._hide.apply(this,arguments);var t=r.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(n(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=r.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,i,s){return e.easing[e.easing.def](t,n,r,i,s)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),i*(n/=s)*n*((o+1)*n-o)+r},easeOutBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),i*((n=n/s-1)*n*((o+1)*n+o)+1)+r},easeInOutBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),(n/=s/2)<1?i/2*n*n*(((o*=1.525)+1)*n-o)+r:i/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+r},easeInBounce:function(t,n,r,i,s){return i-e.easing.easeOutBounce(t,s-n,0,i,s)+r},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,r,i,s){return n<s/2?e.easing.easeInBounce(t,n*2,0,i,s)*.5+r:e.easing.easeOutBounce(t,n*2-s,0,i,s)*.5+i*.5+r}})}(jQuery),function(e,t){e.effects.blind=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"hide"),s=t.options.direction||"vertical";e.effects.save(n,r),n.show();var o=e.effects.createWrapper(n).css({overflow:"hidden"}),u=s=="vertical"?"height":"width",f=s=="vertical"?o.height():o.width();i=="show"&&o.css(u,0);var l={};l[u]=i=="show"?f:0,o.animate(l,t.duration,t.options.easing,function(){i=="hide"&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e,t){e.effects.bounce=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"effect"),s=t.options.direction||"up",o=t.options.distance||20,u=t.options.times||5,f=t.duration||250;/show|hide/.test(i)&&r.push("opacity"),e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var l=s=="up"||s=="down"?"top":"left",c=s=="up"||s=="left"?"pos":"neg",o=t.options.distance||(l=="top"?n.outerHeight({margin:!0})/3:n.outerWidth({margin:!0})/3);i=="show"&&n.css("opacity",0).css(l,c=="pos"?-o:o),i=="hide"&&(o/=u*2),i!="hide"&&u--;if(i=="show"){var h={opacity:1};h[l]=(c=="pos"?"+=":"-=")+o,n.animate(h,f/2,t.options.easing),o/=2,u--}for(var p=0;p<u;p++){var v={},m={};v[l]=(c=="pos"?"-=":"+=")+o,m[l]=(c=="pos"?"+=":"-=")+o,n.animate(v,f/2,t.options.easing).animate(m,f/2,t.options.easing),o=i=="hide"?o*2:o/2}if(i=="hide"){var h={opacity:0};h[l]=(c=="pos"?"-=":"+=")+o,n.animate(h,f/2,t.options.easing,function(){n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}else{var v={},m={};v[l]=(c=="pos"?"-=":"+=")+o,m[l]=(c=="pos"?"+=":"-=")+o,n.animate(v,f/2,t.options.easing).animate(m,f/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e,t){e.effects.clip=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","height","width"],i=e.effects.setMode(n,t.options.mode||"hide"),s=t.options.direction||"vertical";e.effects.save(n,r),n.show();var o=e.effects.createWrapper(n).css({overflow:"hidden"}),u=n[0].tagName=="IMG"?o:n,f={size:s=="vertical"?"height":"width",position:s=="vertical"?"top":"left"},l=s=="vertical"?u.height():u.width();i=="show"&&(u.css(f.size,0),u.css(f.position,l/2));var c={};c[f.size]=i=="show"?l:0,c[f.position]=i=="show"?0:l/2,u.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i=="hide"&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.drop=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","opacity"],i=e.effects.setMode(n,t.options.mode||"hide"),s=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var o=s=="up"||s=="down"?"top":"left",u=s=="up"||s=="left"?"pos":"neg",f=t.options.distance||(o=="top"?n.outerHeight({margin:!0})/2:n.outerWidth({margin:!0})/2);i=="show"&&n.css("opacity",0).css(o,u=="pos"?-f:f);var l={opacity:i=="show"?1:0};l[o]=(i=="show"?u=="pos"?"+=":"-=":u=="pos"?"-=":"+=")+f,n.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i=="hide"&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.explode=function(t){return this.queue(function(){var n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode=t.options.mode=="toggle"?e(this).is(":visible")?"hide":"show":t.options.mode;var i=e(this).show().css("visibility","hidden"),s=i.offset();s.top-=parseInt(i.css("marginTop"),10)||0,s.left-=parseInt(i.css("marginLeft"),10)||0;var o=i.outerWidth(!0),u=i.outerHeight(!0);for(var f=0;f<n;f++)for(var l=0;l<r;l++)i.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-l*(o/r),top:-f*(u/n)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/r,height:u/n,left:s.left+l*(o/r)+(t.options.mode=="show"?(l-Math.floor(r/2))*(o/r):0),top:s.top+f*(u/n)+(t.options.mode=="show"?(f-Math.floor(n/2))*(u/n):0),opacity:t.options.mode=="show"?0:1}).animate({left:s.left+l*(o/r)+(t.options.mode=="show"?0:(l-Math.floor(r/2))*(o/r)),top:s.top+f*(u/n)+(t.options.mode=="show"?0:(f-Math.floor(n/2))*(u/n)),opacity:t.options.mode=="show"?1:0},t.duration||500);setTimeout(function(){t.options.mode=="show"?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(i[0]),i.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(e,t){e.effects.fade=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"hide");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.fold=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"hide"),s=t.options.size||15,o=!!t.options.horizFirst,u=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(n,r),n.show();var f=e.effects.createWrapper(n).css({overflow:"hidden"}),l=i=="show"!=o,c=l?["width","height"]:["height","width"],h=l?[f.width(),f.height()]:[f.height(),f.width()],p=/([0-9]+)%/.exec(s);p&&(s=parseInt(p[1],10)/100*h[i=="hide"?0:1]),i=="show"&&f.css(o?{height:0,width:s}:{height:s,width:0});var v={},m={};v[c[0]]=i=="show"?h[0]:s,m[c[1]]=i=="show"?h[1]:0,f.animate(v,u,t.options.easing).animate(m,u,t.options.easing,function(){i=="hide"&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e,t){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],i=e.effects.setMode(n,t.options.mode||"show"),s={backgroundColor:n.css("backgroundColor")};i=="hide"&&(s.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i=="hide"&&n.hide(),e.effects.restore(n,r),i=="show"&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.pulsate=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"show");times=(t.options.times||5)*2-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=n.is(":visible"),animateTo=0,isVisible||(n.css("opacity",0).show(),animateTo=1),(r=="hide"&&isVisible||r=="show"&&!isVisible)&&times--;for(var i=0;i<times;i++)n.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;n.animate({opacity:animateTo},duration,t.options.easing,function(){animateTo==0&&n.hide(),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}).dequeue()})}}(jQuery),function(e,t){e.effects.puff=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"hide"),i=parseInt(t.options.percent,10)||150,s=i/100,o={height:n.height(),width:n.width()};e.extend(t.options,{fade:!0,mode:r,percent:r=="hide"?i:100,from
:r=="hide"?o:{height:o.height*s,width:o.width*s}}),n.effect("scale",t.options,t.duration,t.callback),n.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var n=e(this),r=e.extend(!0,{},t.options),i=e.effects.setMode(n,t.options.mode||"effect"),s=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:i=="hide"?0:100),o=t.options.direction||"both",u=t.options.origin;i!="effect"&&(r.origin=u||["middle","center"],r.restore=!0);var f={height:n.height(),width:n.width()};n.from=t.options.from||(i=="show"?{height:0,width:0}:f);var l={y:o!="horizontal"?s/100:1,x:o!="vertical"?s/100:1};n.to={height:f.height*l.y,width:f.width*l.x},t.options.fade&&(i=="show"&&(n.from.opacity=0,n.to.opacity=1),i=="hide"&&(n.from.opacity=1,n.to.opacity=0)),r.from=n.from,r.to=n.to,r.mode=i,n.effect("size",r,t.duration,t.callback),n.dequeue()})},e.effects.size=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],s=["width","height","overflow"],o=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],l=e.effects.setMode(n,t.options.mode||"effect"),c=t.options.restore||!1,h=t.options.scale||"both",p=t.options.origin,v={height:n.height(),width:n.width()};n.from=t.options.from||v,n.to=t.options.to||v;if(p){var m=e.effects.getBaseline(p,v);n.from.top=(v.height-n.from.height)*m.y,n.from.left=(v.width-n.from.width)*m.x,n.to.top=(v.height-n.to.height)*m.y,n.to.left=(v.width-n.to.width)*m.x}var g={from:{y:n.from.height/v.height,x:n.from.width/v.width},to:{y:n.to.height/v.height,x:n.to.width/v.width}};if(h=="box"||h=="both")g.from.y!=g.to.y&&(r=r.concat(u),n.from=e.effects.setTransition(n,u,g.from.y,n.from),n.to=e.effects.setTransition(n,u,g.to.y,n.to)),g.from.x!=g.to.x&&(r=r.concat(f),n.from=e.effects.setTransition(n,f,g.from.x,n.from),n.to=e.effects.setTransition(n,f,g.to.x,n.to));(h=="content"||h=="both")&&g.from.y!=g.to.y&&(r=r.concat(o),n.from=e.effects.setTransition(n,o,g.from.y,n.from),n.to=e.effects.setTransition(n,o,g.to.y,n.to)),e.effects.save(n,c?r:i),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from);if(h=="content"||h=="both")u=u.concat(["marginTop","marginBottom"]).concat(o),f=f.concat(["marginLeft","marginRight"]),s=r.concat(u).concat(f),n.find("*[width]").each(function(){child=e(this),c&&e.effects.save(child,s);var n={height:child.height(),width:child.width()};child.from={height:n.height*g.from.y,width:n.width*g.from.x},child.to={height:n.height*g.to.y,width:n.width*g.to.x},g.from.y!=g.to.y&&(child.from=e.effects.setTransition(child,u,g.from.y,child.from),child.to=e.effects.setTransition(child,u,g.to.y,child.to)),g.from.x!=g.to.x&&(child.from=e.effects.setTransition(child,f,g.from.x,child.from),child.to=e.effects.setTransition(child,f,g.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){c&&e.effects.restore(child,s)})});n.animate(n.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){n.to.opacity===0&&n.css("opacity",n.from.opacity),l=="hide"&&n.hide(),e.effects.restore(n,c?r:i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.shake=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"effect"),s=t.options.direction||"left",o=t.options.distance||20,u=t.options.times||3,f=t.duration||t.options.duration||140;e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var l=s=="up"||s=="down"?"top":"left",c=s=="up"||s=="left"?"pos":"neg",h={},p={},v={};h[l]=(c=="pos"?"-=":"+=")+o,p[l]=(c=="pos"?"+=":"-=")+o*2,v[l]=(c=="pos"?"-=":"+=")+o*2,n.animate(h,f,t.options.easing);for(var m=1;m<u;m++)n.animate(p,f,t.options.easing).animate(v,f,t.options.easing);n.animate(p,f,t.options.easing).animate(h,f/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e,t){e.effects.slide=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"show"),s=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n).css({overflow:"hidden"});var o=s=="up"||s=="down"?"top":"left",u=s=="up"||s=="left"?"pos":"neg",f=t.options.distance||(o=="top"?n.outerHeight({margin:!0}):n.outerWidth({margin:!0}));i=="show"&&n.css(o,u=="pos"?isNaN(f)?"-"+f:-f:f);var l={};l[o]=(i=="show"?u=="pos"?"+=":"-=":u=="pos"?"-=":"+=")+f,n.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i=="hide"&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e,t){e.effects.transfer=function(t){return this.queue(function(){var n=e(this),r=e(t.options.to),i=r.offset(),s={top:i.top,left:i.left,height:r.innerHeight(),width:r.innerWidth()},o=n.offset(),u=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:o.top,left:o.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(s,t.duration,t.options.easing,function(){u.remove(),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e,t){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,n=t.options;t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){n.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){n.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){n.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){n.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(n.navigation){var r=t.element.find("a").filter(n.navigationFilter).eq(0);if(r.length){var i=r.closest(".ui-accordion-header");i.length?t.active=i:t.active=r.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||n.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),n.event&&t.headers.bind(n.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var n=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&n.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t=="active"&&this.activate(n),t=="icons"&&(this._destroyIcons(),n&&this._createIcons()),t=="disabled"&&this.headers.add(this.headers.next())[n?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return s?(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),!1):!0}},resize:function(){var t=this.options,n;if(t.fillSpace){if(e.browser.msie){var r=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}n=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",r),this.headers.each(function(){n-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else t.autoHeight&&(n=0,this.headers.next().each(function(){n=Math.max(n,e(this).height("").height())}).height(n));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?typeof t=="number"?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,n){var r=this.options;if(!r.disabled){if(!t.target){if(!r.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),this.active.next().addClass("ui-accordion-content-active");var i=this.active.next(),s={options:r,newHeader:e([]),oldHeader:r.active,newContent:e([]),oldContent:i},o=this.active=e([]);this._toggle(o,i,s);return}var u=e(t.currentTarget||n),a=u[0]===this.active[0];r.active=r.collapsible&&a?!1:this.headers.index(u);if(this.running||!r.collapsible&&a)return;var f=this.active,o=u.next(),i=this.active.next(),s={options:r,newHeader:a&&r.collapsible?e([]):u,oldHeader:this.active,newContent:a&&r.collapsible?e([]):o,oldContent:i},l=this.headers.index(this.active[0])>this.headers.index(u[0]);this.active=a?e([]):u,this._toggle(o,i,s,a,l),f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),a||(u.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),u.next().addClass("ui-accordion-content-active"));return}},_toggle:function(t,n,r,i,s){var o=this,u=o.options;o.toShow=t,o.toHide=n,o.data=r;var a=function(){if(!!o)return o._completed.apply(o,arguments)};o._trigger("changestart",null,o.data),o.running=n.size()===0?t.size():n.size();if(u.animated){var f={};u.collapsible&&i?f={toShow:e([]),toHide:n,complete:a,down:s,autoHeight:u.autoHeight||u.fillSpace}:f={toShow:t,toHide:n,complete:a,down:s,autoHeight:u.autoHeight||u.fillSpace},u.proxied||(u.proxied=u.animated),u.proxiedDuration||(u.proxiedDuration=u.duration),u.animated=e.isFunction(u.proxied)?u.proxied(f):u.proxied,u.duration=e.isFunction(u.proxiedDuration)?u.proxiedDuration(f):u.proxiedDuration;var l=e.ui.accordion.animations,c=u.duration,h=u.animated;h&&!l[h]&&!e.easing[h]&&(h="slide"),l[h]||(l[h]=function(e){this.slide(e,{easing:h,duration:c||700})}),l[h](f)}else u.collapsible&&i?t.toggle():(n.hide(),t.show()),a(!0);n.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.17",animations:{slide:function(t,n){t=e.extend({easing:"swing",duration:300},t,n);if(!t.toHide.size())t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t);else{if(!t.toShow.size()){t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);return}var r=t.toShow.css("overflow"),i=0,s={},o={},u=["height","paddingTop","paddingBottom"],a,f=t.toShow;a=f[0].style.width,f.width(f.parent().width()-parseFloat(f.css("paddingLeft"))-parseFloat(f.css("paddingRight"))-(parseFloat(f.css("borderLeftWidth"))||0)-(parseFloat(f.css("borderRightWidth"))||0)),e.each(u,function(n,r){o[r]="hide";var i=(""+e.css(t.toShow[0],r)).match(/^([\d+-.]+)(.*)$/);s[r]={value:i[1],unit:i[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(o,{step:function(e,n){n.prop=="height"&&(i=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start)),t.toShow[0].style[n.prop]=i*s[n.prop].value+s[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:a,overflow:r}),t.complete()}})}},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,n=this.element[0].ownerDocument,r;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(n){if(!t.options.disabled&&!t.element.propAttr("readOnly")){r=!1;var i=e.ui.keyCode;switch(n.keyCode){case i.PAGE_UP:t._move("previousPage",n);break;case i.PAGE_DOWN:t._move("nextPage",n);break;case i.UP:t._move("previous",n),n.preventDefault();break;case i.DOWN:t._move("next",n),n.preventDefault();break;case i.ENTER:case i.NUMPAD_ENTER:t.menu.active&&(r=!0,n.preventDefault());case i.TAB:if(!t.menu.active)return;t.menu.select(n);break;case i.ESCAPE:t.element.val(t.term),t.close(n);break;default:clearTimeout(t.searching),t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,n))},t.options.delay)}}}).bind("keypress.autocomplete",function(e){r&&(r=!1,e.preventDefault())}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(e){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(e),t._change(e)},150))}),this._initSource(),this.response=function(){return t._response.apply(t,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",n)[0]).mousedown(function(n){var r=t.menu.element[0];e(n.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(n){n.target!==t.element[0]&&n.target!==r&&!e.ui.contains(r,n.target)&&t.close()})},1),setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(e,n){var r=n.item.data("item.autocomplete");!1!==t._trigger("focus",e,{item:r})&&/^key/.test(e.originalEvent.type)&&t.element.val(r.value)},selected:function(e,r){var i=r.item.data("item.autocomplete"),s=t.previous;t.element[0]!==n.activeElement&&(t.element.focus(),t.previous=s,setTimeout(function(){t.previous=s,t.selectedItem=i},1)),!1!==t._trigger("select",e,{item:i})&&t.element.val(i.value),t.term=t.element.val(),t.close(e),t.selectedItem=i},blur:function(e,n){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),t.beforeunloadHandler=function(){t.element.removeAttr("autocomplete")},e(window).bind("beforeunload",t.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t==="source"&&this._initSource(),t==="appendTo"&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),t==="disabled"&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t=this,r,i;e.isArray(this.options.source)?(r=this.options.source,this.source=function(t,n){n(e.ui.autocomplete.filter(r,t.term))}):typeof this.options.source=="string"?(i=this.options.source,this.source=function(r,s){t.xhr&&t.xhr.abort(),t.xhr=e.ajax({url:i,data:r,dataType:"json",autocompleteRequest:++n,success:function(e,t){this.autocompleteRequest===n&&s(e)},error:function(){this.autocompleteRequest===n&&s([])}})}):this.source=this.options.source},search:function(e,t){e=e!=null?e:this.element.val(),this.term=this.element.val();if(e.length<this.options.minLength)return this.close(t);clearTimeout(this.closing);if(this._trigger("search",t)!==!1)return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible"))this.search(null,t);else{if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term),this.menu.deactivate();return}this.menu[e](t)}},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){!e(n.target).closest(".ui-menu-item a").length||(n.preventDefault(),t.select(n))}),this.refresh()},refresh:function(){var t=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){this.deactivate();if(this.hasScroll()){var n=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),i=this.element.height();n<0?this.element.scrollTop(r+n):n>=i&&this.element.scrollTop(r+n-i+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active)this.activate(n,this.element.children(t));else{var r=this.active[e+"All"](".ui-menu-item").eq(0);r.length?this.activate(n,r):this.activate(n,this.element.children(t))}},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last()){this.activate(t,this.element.children(".ui-menu-item:first"));return}var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-r+e(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first()){this.activate(t,this.element.children(".ui-menu-item:last"));return}var n=this.active.offset().top,r=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+r-e(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);return n&&(r?i=e(r).find("[name='"+n+"']"):i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",f),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c="ui-state-hover"+(a?"":" ui-state-active"),h="ui-state-focus";u.label===null&&(u.label=this.buttonElement.html()),this.element.is(":disabled")&&(u.disabled=!0),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter.button",function(){u.disabled||(e(this).addClass("ui-state-hover"),this===n&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){u.disabled||e(this).removeClass(c)}).bind("click.button",function(e){u.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){t.buttonElement.addClass(h)}).bind("blur.button",function(){t.buttonElement.removeClass(h)}),a&&(this.element.bind("change.button",function(){s||t.refresh()}),this.buttonElement.bind("mousedown.button",function(e){u.disabled||(s=!1,r=e.pageX,i=e.pageY)}).bind("mouseup.button",function(e){!u.disabled&&(r!==e.pageX||i!==e.pageY)&&(s=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(u.disabled||s)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(u.disabled||s)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(u.disabled)return!1;e(this).addClass("ui-state-active"),n=this,e(document).one("mouseup",function(){n=null})}).bind("mouseup.button",function(){if(u.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(u.disabled)return!1;(t.keyCode==e.ui.keyCode.SPACE||t.keyCode==e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var n=this.element.is(":checked");n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),t==="disabled"?n?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?l(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];r.primary||r.secondary?(this.options.text&&s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(s.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",n))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,n){t==="disabled"&&this.buttons.button("option",t,n),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function isArray(e){return e&&($.browser.safari&&typeof e=="object"&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}function extendRemove(e,t){$.extend(e,t);for(var n in t)if(t[n]==null||t[n]==undefined)e[n]=t[n];return e}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.bind("mouseout",function(e){var n=$(e.target).closest(t);!n.length||n.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(n){var r=$(n.target).closest(t);!$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])&&!!r.length&&(r.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),r.addClass("ui-state-hover"),r.hasClass("ui-datepicker-prev")&&r.addClass("ui-datepicker-prev-hover"),r.hasClass("ui-datepicker-next")&&r.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover
($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.17"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++)e[r].length>t&&(t=e[r].length,n=r);return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!!t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!!t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!!t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();if(r=="input")e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string")return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null;var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1)return;extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i}),i&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[o]?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}},_updateDatepicker:function(e){var t=this;t.maxRows=4;var n=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e));var r=e.dpDiv.find("iframe.ui-datepicker-cover");!r.length||r.css({left:-n[0],top:-n[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(e),s=i[1],o=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",o*s+"em"),e.dpDiv[(i[0]!=1||i[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var u=e.yearshtml;setTimeout(function(){u===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),u=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+$(document).scrollLeft(),a=document.documentElement.clientHeight+$(document).scrollTop();return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e)))e=e[n?"previousSibling":"nextSibling"];var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!(!t||e&&t!=$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=this,s=function(){$.datepicker._tidyDialog(t),i._curInst=null};$.effects&&$.effects[n]?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,s):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,s),n||s(),this._datepickerShowing=!1;var o=this._get(t,"onClose");o&&o.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!!$.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if(!$(r).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(i[0])){var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))}},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(e==null||t==null)throw"Invalid arguments";t=typeof t=="object"?t.toString():t+"";if(t=="")return null;var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s)throw"Missing number at position "+g;return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase())return s=n[0],g+=r.length,!1});if(s!=-1)return s+1;throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y))throw"Unexpected literal at position "+g;g++},g=0;for(var y=0;y<e.length;y++)if(h)e.charAt(y)=="'"&&!p("'")?h=!1:m();else switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/1e4);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(g<t.length)throw"Extra/unparsed characters found in date: "+t.substring(g);a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;for(;;){var w=this._getDaysInMonth(a,f-1);if(l<=w)break;f++,l-=w}}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e))while(r.length<n)r="0"+r;return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t)for(var h=0;h<e.length;h++)if(c)e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h);else switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*1e4+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++)if(n)e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i);else switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=u.exec(t);while(f){switch(f[2]||"d"){case"d":case"D":o+=parseInt(f[1],10);break;case"w":case"W":o+=parseInt(f[1],10)*7;break;case"m":case"M":s+=parseInt(f[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(f[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}f=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v)p--,p<0&&(p=11,d--)}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', -"+a+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+e.id+"', +"+a+", 'M');\" title=\""+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+e.id+"');\">"+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1)switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+e.id+"',"+G.getMonth()+","+G.getFullYear()+', this);return false;"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a)h+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" >";for(var v=0;v<12;v++)(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>");h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f)c+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" >";for(;b<=w;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay
,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.17",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},s=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,r=t.options,i=r.title||"&#160;",s=e.ui.dialog.getTitleId(t.element),o=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(n+r.dialogClass).css({zIndex:r.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){r.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}).attr({role:"dialog","aria-labelledby":s}).mousedown(function(e){t.moveToTop(!1,e)}),u=t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),a=(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),f=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){f.addClass("ui-state-hover")},function(){f.removeClass("ui-state-hover")}).focus(function(){f.addClass("ui-state-focus")}).blur(function(){f.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(a),l=(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(r.closeText).appendTo(f),c=e("<span></span>").addClass("ui-dialog-title").attr("id",s).html(i).prependTo(a);e.isFunction(r.beforeclose)&&!e.isFunction(r.beforeClose)&&(r.beforeClose=r.beforeclose),a.find("*").add(a).disableSelection(),r.draggable&&e.fn.draggable&&t._makeDraggable(),r.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(r.buttons),t._isOpen=!1,e.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var n=this,r,i;if(!1!==n._trigger("beforeClose",t))return n.overlay&&n.overlay.destroy(),n.uiDialog.unbind("keypress.ui-dialog"),n._isOpen=!1,n.options.hide?n.uiDialog.hide(n.options.hide,function(){n._trigger("close",t)}):(n.uiDialog.hide(),n._trigger("close",t)),e.ui.dialog.overlay.resize(),n.options.modal&&(r=0,e(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(r=Math.max(r,i)))}),e.ui.dialog.maxZ=r),n},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var r=this,i=r.options,s;return i.modal&&!t||!i.stack&&!i.modal?r._trigger("focus",n):(i.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=i.zIndex),r.overlay&&(e.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},e.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",e.ui.dialog.maxZ),r.element.attr(s),r._trigger("focus",n),r)},open:function(){if(!this._isOpen){var t=this,n=t.options,r=t.uiDialog;return t.overlay=n.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(n.position),r.show(n.show),t.moveToTop(!0),n.modal&&r.bind("keydown.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",this),r=n.filter(":first"),i=n.filter(":last");if(t.target===i[0]&&!t.shiftKey)return r.focus(1),!1;if(t.target===r[0]&&t.shiftKey)return i.focus(1),!1}}),e(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var n=this,r=!1,i=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),o=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);n.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof t=="object"&&t!==null&&e.each(t,function(){return!(r=!0)}),r&&(e.each(t,function(t,r){r=e.isFunction(r)?{click:r,text:t}:r;var i=e('<button type="button"></button>').click(function(){r.click.apply(n.element[0],arguments)}).appendTo(o);e.each(r,function(e,t){e!=="click"&&(e in s?i[e](t):i.attr(e,t))}),e.fn.button&&i.button()}),i.appendTo(n.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,r=n.options,i=e(document),s;n.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,u){s=r.height==="auto"?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),n._trigger("dragStart",i,t(u))},drag:function(e,r){n._trigger("drag",e,t(r))},stop:function(u,f){r.position=[f.position.left-i.scrollLeft(),f.position.top-i.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(s),n._trigger("dragStop",u,t(f)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var i=this,s=i.options,o=i.uiDialog.css("position"),u=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";i.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:i.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:i._minHeight(),handles:u,start:function(t,n){e(this).addClass("ui-dialog-resizing"),i._trigger("resizeStart",t,r(n))},resize:function(e,t){i._trigger("resize",e,r(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),s.height=e(this).height(),s.width=e(this).width(),i._trigger("resizeStop",t,r(n)),e.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n=[],r=[0,0],i;if(t){if(typeof t=="string"||typeof t=="object"&&"0"in t)n=t.split?t.split(" "):[t[0],t[1]],n.length===1&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),t={my:n.join(" "),at:n.join(" "),offset:r.join(" ")};t=e.extend({},e.ui.dialog.prototype.options.position,t)}else t=e.ui.dialog.prototype.options.position;i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),i||this.uiDialog.hide()},_setOptions:function(t){var n=this,s={},o=!1;e.each(t,function(e,t){n._setOption(e,t),e in r&&(o=!0),e in i&&(s[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,r){var i=this,s=i.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":i._createButtons(r);break;case"closeText":i.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":s.removeClass(i.options.dialogClass).addClass(n+r);break;case"disabled":r?s.addClass("ui-dialog-disabled"):s.removeClass("ui-dialog-disabled");break;case"draggable":var o=s.is(":data(draggable)");o&&!r&&s.draggable("destroy"),!o&&r&&i._makeDraggable();break;case"position":i._position(r);break;case"resizable":var u=s.is(":data(resizable)");u&&!r&&s.resizable("destroy"),u&&typeof r=="string"&&s.resizable("option","handles",r),!u&&r!==!1&&i._makeResizable(r);break;case"title":e(".ui-dialog-title",i.uiDialogTitlebar).html(""+(r||"&#160;"))}e.Widget.prototype._setOption.apply(i,arguments)},_size:function(){var t=this.options,n,r,i=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),t.minWidth>t.width&&(t.width=t.minWidth),n=this.uiDialog.css({height:"auto",width:t.width}).height(),r=Math.max(0,t.minHeight-n);if(t.height==="auto")if(e.support.minHeight)this.element.css({minHeight:r,height:"auto"});else{this.uiDialog.show();var s=this.element.css("height","auto").height();i||this.uiDialog.hide(),this.element.height(Math.max(s,r))}else this.element.height(Math.max(t.height-n,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances);n!=-1&&this.oldInstances.push(this.instances.splice(n,1)[0]),this.instances.length===0&&e([document,window]).unbind(".dialog-overlay"),t.remove();var r=0;e.each(this.instances,function(){r=Math.max(r,this.css("z-index"))}),this.maxZ=r},height:function(){var t,n;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<n?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<n?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){e.ui=e.ui||{};var n=/left|center|right/,r=/top|center|bottom/,i="center",s={},o=e.fn.position,u=e.fn.offset;e.fn.position=function(t){if(!t||!t.of)return o.apply(this,arguments);t=e.extend({},t);var u=e(t.of),a=u[0],f=(t.collision||"flip").split(" "),l=t.offset?t.offset.split(" "):[0,0],c,h,d;return a.nodeType===9?(c=u.width(),h=u.height(),d={top:0,left:0}):a.setTimeout?(c=u.width(),h=u.height(),d={top:u.scrollTop(),left:u.scrollLeft()}):a.preventDefault?(t.at="left top",c=h=0,d={top:t.of.pageY,left:t.of.pageX}):(c=u.outerWidth(),h=u.outerHeight(),d=u.offset()),e.each(["my","at"],function(){var e=(t[this]||"").split(" ");e.length===1&&(e=n.test(e[0])?e.concat([i]):r.test(e[0])?[i].concat(e):[i,i]),e[0]=n.test(e[0])?e[0]:i,e[1]=r.test(e[1])?e[1]:i,t[this]=e}),f.length===1&&(f[1]=f[0]),l[0]=parseInt(l[0],10)||0,l.length===1&&(l[1]=l[0]),l[1]=parseInt(l[1],10)||0,t.at[0]==="right"?d.left+=c:t.at[0]===i&&(d.left+=c/2),t.at[1]==="bottom"?d.top+=h:t.at[1]===i&&(d.top+=h/2),d.left+=l[0],d.top+=l[1],this.each(function(){var n=e(this),r=n.outerWidth(),o=n.outerHeight(),u=parseInt(e.curCSS(this,"marginLeft",!0))||0,a=parseInt(e.curCSS(this,"marginTop",!0))||0,p=r+u+(parseInt(e.curCSS(this,"marginRight",!0))||0),v=o+a+(parseInt(e.curCSS(this,"marginBottom",!0))||0),m=e.extend({},d),y;t.my[0]==="right"?m.left-=r:t.my[0]===i&&(m.left-=r/2),t.my[1]==="bottom"?m.top-=o:t.my[1]===i&&(m.top-=o/2),s.fractions||(m.left=Math.round(m.left),m.top=Math.round(m.top)),y={left:m.left-u,top:m.top-a},e.each(["left","top"],function(n,i){e.ui.position[f[n]]&&e.ui.position[f[n]][i](m,{targetWidth:c,targetHeight:h,elemWidth:r,elemHeight:o,collisionPosition:y,collisionWidth:p,collisionHeight:v,offset:l,my:t.my,at:t.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(m,{using:t.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window),i=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();t.left=i>0?t.left-i:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window),i=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();t.top=i>0?t.top-i:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]!==i){var r=e(window),s=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),o=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,u=n.at[0]==="left"?n.targetWidth:-n.targetWidth,a=-2*n.offset[0];t.left+=n.collisionPosition.left<0?o+u+a:s>0?o+u+a:0}},top:function(t,n){if(n.at[1]!==i){var r=e(window),s=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),o=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,u=n.at[1]==="top"?n.targetHeight:-n.targetHeight,a=-2*n.offset[1];t.top+=n.collisionPosition.top<0?o+u+a:s>0?o+u+a:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),s=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0,u={top:n.top-i.top+s,left:n.left-i.left+o};"using"in n?n.using.call(t,u):r.css(u)},e.fn.offset=function(t){var n=this[0];return!n||!n.ownerDocument?null:t?this.each(function(){e.offset.setOffset(this,t)}):u.call(this)}),function(){var t=document.getElementsByTagName("body")[0],n=document.createElement("div"),r,i,o,u,a;r=document.createElement(t?"div":"body"),o={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},t&&jQuery.extend(o,{position:"absolute",left:"-1000px",top:"-1000px"});for(var f in o)r.style[f]=o[f];r.appendChild(n),i=t||document.documentElement,i.insertBefore(r,i.firstChild),n.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",u=e(n).offset(function(e,t){return t}).offset(),r.innerHTML="",i.removeChild(r),a=u.top+u.left+(t?2e3:0),s.fractions=a>21&&a<22}()}(jQuery),function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(t,n){t==="value"&&(this.options.value=n,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return typeof e!="number"&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.17"})}(jQuery),function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=r.values&&r.values.length||1,u=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(r.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),r.range&&(r.range===!0&&(r.values||(r.values=[this._valueMin(),this._valueMin()]),r.values.length&&r.values.length!==2&&(r.values=[r.values[0],r.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(r.range==="min"||r.range==="max"?" ui-slider-range-"+r.range:"")));for(var a=i.length;a<o;a+=1)u.push(s);this.handles=i.add(e(u.join("")).appendTo(t.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){r.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){r.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(r){var i=!0,s=e(this).data("index.ui-slider-handle"),o,u,a,f;if(!t.options.disabled){switch(r.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:i=!1;if(!t._keySliding){t._keySliding=!0,e(this).addClass("ui-state-active"),o=t._start(r,s);if(o===!1)return}}f=t.options.step,t.options.values&&t.options.values.length?u=a=t.values(s):u=a=t.value();switch(r.keyCode){case e.ui.keyCode.HOME:a=t._valueMin();break;case e.ui.keyCode.END:a=t._valueMax();break;case e.ui.keyCode.PAGE_UP:a=t._trimAlignValue(u+(t._valueMax()-t._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:a=t._trimAlignValue(u-(t._valueMax()-t._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(u===t._valueMax())return;a=t._trimAlignValue(u+f);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(u===t._valueMin())return;a=t._trimAlignValue(u-f)}return t._slide(r,s,a),i}}).keyup(function(n){var r=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(n,r),t._change(n,r),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options,r,i,s,o,u,a,f,l,c;return n.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),r={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(r),s=this._valueMax()-this._valueMin()+1,u=this,this.handles.each(function(t){var n=Math.abs(i-u.values(t));s>n&&(s=n,o=e(this),a=t)}),n.range===!0&&this.values(1)===n.min&&(a+=1,o=e(this.handles[a])),f=this._start(t,a),f===!1?!1:(this._mouseSliding=!0,u._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(e){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return this.orientation==="horizontal"?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&n>r||t===1&&n<r)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n,!0))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0)},values:function(t,n){var r,i,s;if(arguments.length>1)this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);else{if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();r=this.options.values,i=arguments[0];for(s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()}},_setOption:function(t,n){var r,i=0;e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t),t;n=this.options.values.slice();for(r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return Math.abs(n)*2>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t=this.options.range,n=this.options,r=this,i=this._animateOff?!1:n.animate,s,o={},u,a,f,l;this.options.values&&this.options.values.length?this.handles.each(function(t,a){s=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=s+"%",e(this).stop(1,1)[i?"animate":"css"](o,n.animate),r.options.range===!0&&(r.orientation==="horizontal"?(t===0&&r.range.stop(1,1)[i?"animate":"css"]({left:s+"%"},n.animate),t===1&&r.range[i?"animate":"css"]({width:s-u+"%"},{queue:!1,duration:n.animate})):(t===0&&r.range.stop(1,1)[i?"animate":"css"]({bottom:s+"%"},n.animate),t===1&&r.range[i?"animate":"css"]({height:s-u+"%"},{queue:!1,duration:n.animate}))),u=s}):(a=this.value(),f=this._valueMin(),l=this._valueMax(),s=l!==f?(a-f)/(l-f)*100:0,o[r.orientation==="horizontal"?"left":"bottom"]=s+"%",this.handle.stop(1,1)[i?"animate":"css"](o,n.animate),t==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[i?"animate":"css"]({width:s+"%"},n.animate),t==="max"&&this.orientation==="horizontal"&&this.range[i?"animate":"css"]({width:100-s+"%"},{queue:!1,duration:n.animate}),t==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[i?"animate":"css"]({height:s+"%"},n.animate),t==="max"&&this.orientation==="vertical"&&this.range[i?"animate":"css"]({height:100-s+"%"},{queue:!1,duration:n.animate}))}}),e.extend(e.ui.slider,{version:"1.8.17"})}(jQuery),function(e,n){function r(){return++o}function i(){return++s}var s=0,o=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if(e=="selected"){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+i()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+r());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function r(t,n){t.css("display",""),!e.support.opacity&&n.opacity&&t[0].style.removeAttribute("filter")}var i=this,s=this.options,o=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,n){var r=e(n).attr("href"),u=r.split("#")[0],a;u&&(u===location.toString().split("#")[0]||(a=e("base")[0])&&u===a.href)&&(r=n.hash,n.href=r);if(o.test(r))i.panels=i.panels.add(i.element.find(i._sanitizeSelector(r)));else if(r&&r!=="#"){e.data(n,"href.tabs",r),e.data(n,"load.tabs",r.replace(/#.*$/,""));var f=i._tabId(n);n.href="#"+f;var l=i.element.find("#"+f);l.length||(l=e(s.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(i.panels[t-1]||i.list),l.data("destroy.tabs",!0)),i.panels=i.panels.add(l)}else s.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),s.selected===n?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return s.selected=e,!1}),typeof s.selected!="number"&&s.cookie&&(s.selected=parseInt(i._cookie(),10)),typeof s.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(s.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),s.selected=s.selected||(this.lis.length?0:-1)):s.selected===null&&(s.selected=-1),s.selected=s.selected>=0&&this.anchors[s.selected]||s.selected<0?s.selected:0,s.disabled=e.unique(s.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e,t){return i.lis.index(e)}))).sort(),e.inArray(s.selected,s.disabled)!=-1&&s.disabled.splice(e.inArray(s.selected,s.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),s.selected>=0&&this.anchors.length&&(i.element.find(i._sanitizeSelector(i.anchors[s.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(s.selected).addClass("ui-tabs-selected ui-state-active"),i.element.queue("tabs",function(){i._trigger("show",null,i._ui(i.anchors[s.selected],i.element.find(i._sanitizeSelector(i.anchors[s.selected].hash))[0]))}),this.load(s.selected)),e(window).bind("unload",function(){i.lis.add(i.anchors).unbind(".tabs"),i.lis=i.anchors=i.panels=null})):s.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[s.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),s.cookie&&this._cookie(s.selected,s.cookie);for(var u=0,a;a=this.lis[u];u++)e(a)[e.inArray(u,s.disabled)!=-1&&!e(a).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");s.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(s.event!=="mouseover"){var f=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},l=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){f("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){l("hover",e(this))}),this.anchors.bind("focus.tabs",function(){f("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){l("focus",e(this).closest("li"))})}var c,p;s.fx&&(e.isArray(s.fx)?(c=s.fx[0],p=s.fx[1]):c=p=s.fx);var d=p?function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.hide().removeClass("ui-tabs-hide").animate(p,p.duration||"normal",function(){r(n,p),i._trigger("show",null,i._ui(t,n[0]))})}:function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),i._trigger("show",null,i._ui(t,n[0]))},v=c?function(e,t){t.animate(c,c.duration||"normal",function(){i.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),r(t,c),i.element.dequeue("tabs")})}:function(e,t,n){i.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),i.element.dequeue("tabs")};this.anchors.bind(s.event+".tabs",function(){var t=this,n=e(t).closest("li"),r=i.panels.filter(":not(.ui-tabs-hide)"),o=i.element.find(i._sanitizeSelector(t.hash));if(n.hasClass("ui-tabs-selected")&&!s.collapsible||
n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||i.panels.filter(":animated").length||i._trigger("select",null,i._ui(this,o[0]))===!1)return this.blur(),!1;s.selected=i.anchors.index(this),i.abort();if(s.collapsible){if(n.hasClass("ui-tabs-selected"))return s.selected=-1,s.cookie&&i._cookie(s.selected,s.cookie),i.element.queue("tabs",function(){v(t,r)}).dequeue("tabs"),this.blur(),!1;if(!r.length)return s.cookie&&i._cookie(s.selected,s.cookie),i.element.queue("tabs",function(){d(t,o)}),i.load(i.anchors.index(this)),this.blur(),!1}s.cookie&&i._cookie(s.selected,s.cookie);if(!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";r.length&&i.element.queue("tabs",function(){v(t,r)}),i.element.queue("tabs",function(){d(t,o)}),i.load(i.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return typeof e=="string"&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var n=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,r,i){i===n&&(i=this.anchors.length);var s=this,o=this.options,u=e(o.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,r)),a=t.indexOf("#")?this._tabId(e("a",u)[0]):t.replace("#","");u.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var f=s.element.find("#"+a);return f.length||(f=e(o.panelTemplate).attr("id",a).data("destroy.tabs",!0)),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),i>=this.lis.length?(u.appendTo(this.list),f.appendTo(this.list[0].parentNode)):(u.insertBefore(this.lis[i]),f.insertBefore(this.panels[i])),o.disabled=e.map(o.disabled,function(e,t){return e>=i?++e:e}),this._tabify(),this.anchors.length==1&&(o.selected=0,u.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[0],s.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[i],this.panels[i])),this},remove:function(t){t=this._getIndex(t);var n=this.options,r=this.lis.eq(t).remove(),i=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e,n){return e!=t}),function(e,n){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this},enable:function(t){t=this._getIndex(t);var n=this.options;if(e.inArray(t,n.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),n.disabled=e.grep(n.disabled,function(e,n){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this,n=this.options;return e!=n.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),n.disabled.push(e),n.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){e=this._getIndex(e);if(e==-1){if(!this.options.collapsible||this.options.selected==-1)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var n=this,r=this.options,i=this.anchors.eq(t)[0],s=e.data(i,"load.tabs");this.abort();if(!(!s||this.element.queue("tabs").length!==0&&e.data(i,"cache.tabs"))){this.lis.eq(t).addClass("ui-state-processing");if(r.spinner){var o=e("span",i);o.data("label.tabs",o.html()).html(r.spinner)}return this.xhr=e.ajax(e.extend({},r.ajaxOptions,{url:s,success:function(s,o){n.element.find(n._sanitizeSelector(i.hash)).html(s),n._cleanup(),r.cache&&e.data(i,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.success(s,o)}catch(u){}},error:function(e,s,o){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.error(e,s,t,i)}catch(o){}}})),n.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.17"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,n){var r=this,i=this.options,s=r._rotate||(r._rotate=function(t){clearTimeout(r.rotation),r.rotation=setTimeout(function(){var e=i.selected;r.select(++e<r.anchors.length?e:0)},e),t&&t.stopPropagation()}),o=r._unrotate||(r._unrotate=n?function(e){t=i.selected,s()}:function(e){e.clientX&&r.rotate(null)});return e?(this.element.bind("tabsshow",s),this.anchors.bind(i.event+".tabs",o),s()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",s),this.anchors.unbind(i.event+".tabs",o),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(e,t){function n(t){e.extend(!0,mt,t)}function r(n,r,f){function l(e){tt?(T(),x(),_(),b(e)):c()}function c(){nt=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL&&n.addClass("fc-rtl"),r.theme&&n.addClass("ui-widget"),tt=e("<div class='fc-content' style='position:relative'/>").prependTo(n),Z=new i(K,r),(et=Z.render())&&n.prepend(et),y(r.defaultView),e(window).resize(C),g()||p()}function p(){setTimeout(function(){!rt.start&&g()&&b()},0)}function d(){e(window).unbind("resize",C),Z.destroy(),tt.remove(),n.removeClass("fc fc-rtl ui-widget")}function v(){return Y.offsetWidth!==0}function g(){return e("body")[0].offsetWidth!==0}function y(t){if(!rt||t!=rt.name){ft++,P();var n=rt,r;n?((n.beforeHide||q)(),I(tt,tt.height()),n.element.hide()):I(tt,1),tt.css("overflow","hidden"),(rt=it[t])?rt.element.show():rt=it[t]=new bt[t](r=ut=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(tt),K),n&&Z.deactivateButton(n.name),Z.activateButton(t),b(),tt.css("overflow",""),n&&I(tt,1),r||(rt.afterShow||q)(),ft--}}function b(e){if(v()){ft++,P(),ot===t&&T();var r=!1;!rt.start||e||lt<rt.start||lt>=rt.end?(rt.render(lt,e||0),N(!0),r=!0):rt.sizeDirty?(rt.clearEvents(),N(),r=!0):rt.eventsDirty&&(rt.clearEvents(),r=!0),rt.sizeDirty=!1,rt.eventsDirty=!1,k(r),st=n.outerWidth(),Z.updateTitle(rt.title),e=new Date,e>=rt.start&&e<rt.end?Z.disableButton("today"):Z.enableButton("today"),ft--,rt.trigger("viewDisplay",Y)}}function S(){x(),v()&&(T(),N(),P(),rt.clearEvents(),rt.renderEvents(ct),rt.sizeDirty=!1)}function x(){e.each(it,function(e,t){t.sizeDirty=!0})}function T(){ot=r.contentHeight?r.contentHeight:r.height?r.height-(et?et.height():0)-H(tt):Math.round(tt.width()/Math.max(r.aspectRatio,.5))}function N(e){ft++,rt.setHeight(ot,e),ut&&(ut.css("position","relative"),ut=null),rt.setWidth(tt.width(),e),ft--}function C(){if(!ft)if(rt.start){var e=++at;setTimeout(function(){e==at&&!ft&&v()&&st!=(st=n.outerWidth())&&(ft++,S(),rt.trigger("windowResize",Y),ft--)},200)}else p()}function k(e){!r.lazyFetching||Q(rt.visStart,rt.visEnd)?L():e&&M()}function L(){G(rt.visStart,rt.visEnd)}function A(e){ct=e,M()}function O(e){M(e)}function M(e){_(),v()&&(rt.clearEvents(),rt.renderEvents(ct,e),rt.eventsDirty=!1)}function _(){e.each(it,function(e,t){t.eventsDirty=!0})}function D(e,n,r){rt.select(e,n,r===t?!0:r)}function P(){rt&&rt.unselect()}function B(){b(-1)}function j(){b(1)}function F(){o(lt,-1),b()}function R(){o(lt,1),b()}function U(){lt=new Date,b()}function z(e,t,n){e instanceof Date?lt=h(e):m(lt,e,t,n),b()}function W(e,n,r){e!==t&&o(lt,e),n!==t&&u(lt,n),r!==t&&a(lt,r),b()}function X(){return h(lt)}function V(){return rt}function $(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,S()}function J(e,t){if(r[e])return r[e].apply(t||Y,Array.prototype.slice.call(arguments,2))}var K=this;K.options=r,K.render=l,K.destroy=d,K.refetchEvents=L,K.reportEvents=A,K.reportEventChange=O,K.rerenderEvents=M,K.changeView=y,K.select=D,K.unselect=P,K.prev=B,K.next=j,K.prevYear=F,K.nextYear=R,K.today=U,K.gotoDate=z,K.incrementDate=W,K.formatDate=function(e,t){return w(e,t,r)},K.formatDates=function(e,t,n){return E(e,t,n,r)},K.getDate=X,K.getView=V,K.option=$,K.trigger=J,s.call(K,r,f);var Q=K.isFetchNeeded,G=K.fetchEvents,Y=n[0],Z,et,tt,nt,rt,it={},st,ot,ut,at=0,ft=0,lt=new Date,ct=[],ht;m(lt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))ht=i,rt.dragStart(ht,t,n)}}).bind("dragstop",function(e,t){ht&&(rt.dragStop(ht,e,t),ht=null)})}function i(t,n){function r(){p=n.theme?"ui":"fc";if(n.header)return h=e("<div class='fc-header' style='width:100%'/>").append(e("<div>").append(s("left")).append(s("center")).append(s("right")))}function i(){h.remove()}function s(r){var i=e("<div class='fc-header-"+r+"'/>");return(r=n.header[r])&&e.each(r.split(" "),function(r){r>0&&i.append("");var s;e.each(this.split(","),function(r,o){if(o=="title")i.append("<span class='fc-header-title'><h5>&nbsp;</h5></span>"),s&&s.addClass(p+"-corner-right"),s=null;else{var u;t[o]?u=t[o]:bt[o]&&(u=function(){f.removeClass(p+"-state-hover"),t.changeView(o)});if(u){r=n.theme?W(n.buttonIcons,o):null;var a=W(n.buttonText,o),f=e("<span class='fc-button fc-button-"+o+" "+p+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(r?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+r+"'/></span>":a)+"</span></span></span>");f&&(f.click(function(){f.hasClass(p+"-state-disabled")||u()}).mousedown(function(){f.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){f.removeClass(p+"-state-down")}).hover(function(){f.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){f.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(i),s||f.addClass(p+"-corner-left"),s=f)}}}),s&&s.addClass(p+"-corner-right")}),i}function o(e){h.find("h5").html(e)}function u(e){h.find("span.fc-button-"+e).addClass(p+"-state-active")}function a(e){h.find("span.fc-button-"+e).removeClass(p+"-state-active")}function f(e){h.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function l(e){h.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var c=this;c.render=r,c.destroy=i,c.updateTitle=o,c.activateButton=u,c.deactivateButton=a,c.disableButton=f,c.enableButton=l;var h=e([]),p}function s(n,r){function i(e,t){return!A||e<A||t>O}function s(e,t){A=e,O=t,P=[],e=++M,_=t=L.length;for(var n=0;n<t;n++)o(L[n],e)}function o(e,t){u(e,function(n){if(t==M){if(n){for(var r=0;r<n.length;r++)n[r].source=e,b(n[r]);P=P.concat(n)}_--,_||C(P)}})}function u(t,r){var i,s=yt.sourceFetchers,o;for(i=0;i<s.length;i++){o=s[i](t,A,O,r);if(o===!0)return;if(typeof o=="object"){u(o,r);return}}if(i=t.events)e.isFunction(i)?(m(),i(h(A),h(O),function(e){r(e),y()})):e.isArray(i)?r(i):r();else if(t.url){var a=t.success,f=t.error,l=t.complete;i=e.extend({},t.data||{}),s=Y(t.startParam,n.startParam),o=Y(t.endParam,n.endParam),s&&(i[s]=Math.round(+A/1e3)),o&&(i[o]=Math.round(+O/1e3)),m(),e.ajax(e.extend({},wt,t,{data:i,success:function(t){t=t||[];var n=G(a,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){G(f,this,arguments),r()},complete:function(){G(l,this,arguments),y()}}))}else r()}function a(e){if(e=f(e))_++,o(e,M)}function f(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return w(t),L.push(t),t}function l(t){L=e.grep(L,function(e){return!E(e,t)}),P=e.grep(P,function(e){return!E(e.source,t)}),C(P)}function c(e){var t,n=P.length,r,i=N().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=P[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),r.end=e.end?r.end?new Date(+r.end+o):new Date(+i(r)+o):null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroudColor=e.backgroudColor,r.borderColor=e.borderColor,r.textColor=e.textColor,b(r));b(e),C(P)}function p(e,t){b(e),e.source||(t&&(k.events.push(e),e.source=k),P.push(e)),C(P)}function d(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}P=e.grep(P,t,!0);for(r=0;r<L.length;r++)e.isArray(L[r].events)&&(L[r].events=e.grep(L[r].events,t,!0))}else{P=[];for(var r=0;r<L.length;r++)e.isArray(L[r].events)&&(L[r].events=[])}C(P)}function v(t){return e.isFunction(t)?e.grep(P,t):t?(t+="",e.grep(P,function(e){return e._id==t})):P}function m(){D++||T("loading",null,!0)}function y(){--D||T("loading",null,!1)}function b(e){var r=e.source||{},i=Y(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+Et++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=g(e.start,i)),e.end=g(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=Y(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=yt.sourceNormalizers,n=0;n<t.length;n++)t[n](e)}function E(e,t){return e&&t&&S(e)==S(t)}function S(e){return(typeof e=="object"?e.events||e.url:"")||e}var x=this;x.isFetchNeeded=i,x.fetchEvents=s,x.addEventSource=a,x.removeEventSource=l,x.updateEvent=c,x.renderEvent=p,x.removeEvents=d,x.clientEvents=v,x.normalizeEvent=b;var T=x.trigger,N=x.getView,C=x.reportEvents,k={events:[]},L=[k],A,O,M=0,_=0,D=0,P=[];for(x=0;x<r.length;x++)f(r[x])}function o(e,t,n){return e.setFullYear(e.getFullYear()+t),n||c(e),e}function u(e,t,n){if(+e){t=e.getMonth()+t;var r=h(e);r.setDate(1),r.setMonth(t),e.setMonth(t);for(n||c(e);e.getMonth()!=r.getMonth();)e.setDate(e.getDate()+(e<r?1:-1))}return e}function a(e,t,n){if(+e){t=e.getDate()+t;var r=h(e);r.setHours(9),r.setDate(t),e.setDate(t),n||c(e),f(e,r)}return e}function f(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(e<t?1:-1)*Tt)}function l(e,t){return e.setMinutes(e.getMinutes()+t),e}function c(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?c(new Date(+e)):new Date(+e)}function p(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function d(e,t,n){for(t=t||1;!e.getDay()||n&&e.getDay()==1||!n&&e.getDay()==6;)a(e,t);return e}function v(e,t){return Math.round((h(e,!0)-h(t,!0))/xt)}function m(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function g(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),y(e,n)||(e?new Date(e):null)):null}function y(e,t){e=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!e)return null;var n=new Date(e[1],0,1);return t||!e[13]?(t=new Date(e[1],0,1,9,0),e[3]&&(n.setMonth(e[3]-1),t.setMonth(e[3]-1)),e[5]&&(n.setDate(e[5]),t.setDate(e[5])),f(n,t),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(Number("0."+e[12])*1e3),f(n,t)):(n.setUTCFullYear(e[1],e[3]?e[3]-1:0,e[5]||1),n.setUTCHours(e[7]||0,e[8]||0,e[10]||0,e[12]?Number("0."+e[12])*1e3:0),e[14]&&(t=Number(e[16])*60+(e[18]?Number(e[18]):0),t*=e[15]=="-"?1:-1,n=new Date(+n+t*60*1e3))),n}function b(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();if(e=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var t=parseInt(e[1],10);return e[3]&&(t%=12,e[3].toLowerCase().charAt(0)=="p"&&(t+=12)),t*60+(e[2]?parseInt(e[2],10):0)}}function w(e,t,n){return E(e,null,t,n)}function E(e,t,n,r){r=r||mt;var i=e,s=t,o,u=n.length,a,f,l,c="";for(o=0;o<u;o++){a=n.charAt(o);if(a=="'"){for(f=o+1;f<u;f++)if(n.charAt(f)=="'"){i&&(c+=f==o+1?"'":n.substring(o+1,f),o=f);break}}else if(a=="("){for(f=o+1;f<u;f++)if(n.charAt(f)==")"){o=w(i,n.substring(o+1,f),r),parseInt(o.replace(/\D/,""),10)&&(c+=o),o=f;break}}else if(a=="["){for(f=o+1;f<u;f++)if(n.charAt(f)=="]"){a=n.substring(o+1,f),o=w(i,a,r),o!=w(s,a,r)&&(c+=o),o=f;break}}else if(a=="{")i=t,s=e;else if(a=="}")i=e,s=t;else{for(f=u;f>o;f--)if(l=Ct[n.substring(o,f)]){i&&(c+=l(i,r)),o=f-1;break}f==o&&i&&(c+=a)}}return c}function S(e){return e.end?x(e.end,e.allDay):a(h(e.start),1)}function x(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?a(e,1):c(e)}function T(e,t){return(t.msLength-e.msLength)*100+(e.event.start-t.event.start)}function N(e,t){return e.end>t.start&&e.start<t.end}function C(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(a=h(n),l=!1):(a=a,l=!0),f>r?(f=h(r),c=!1):(f=f,c=!0),i.push({event:u,start:a,end:f,isStart:l,isEnd:c,msLength:f-a}));return i.sort(T)}function k(e){var t=[],n,r=e.length,i,s,o,u;for(n=0;n<r;n++){i=e[n];for(s=0;;){o=!1;if(t[s])for(u=0;u<t[s].length;u++)if(N(t[s][u],i)){o=!0;break}if(!o)break;s++}t[s]?t[s].push(i):t[s]=[i]}return t}function L(n,r,i){n.unbind("mouseover").mouseover(function(n){for(var s=n.target,o;s!=this;)o=s,s=s.parentNode;(s=o._fci)!==t&&(o._fci=t,o=r[s],i(o.event,o.element,o),e(n.target).trigger(n)),n.stopPropagation()})}function A(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-M(s,r)))}function O(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-H(s,r)))}function M(e,t){return _(e)+P(e)+(t?D(e):0)}function _(t){return(parseFloat(e.curCSS(t[0],"paddingLeft",!0))||0)+(parseFloat(e.curCSS(t[0],"paddingRight",!0))||0)}function D(t){return(parseFloat(e.curCSS(t[0],"marginLeft",!0))||0)+(parseFloat(e.curCSS(t[0],"marginRight",!0))||0)}function P(t){return(parseFloat(e.curCSS(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.curCSS(t[0],"borderRightWidth",!0))||0)}function H(e,t){return B(e)+F(e)+(t?j(e):0)}function B(t){return(parseFloat(e.curCSS(t[0],"paddingTop",!0))||0)+(parseFloat(e.curCSS(t[0],"paddingBottom",!0))||0)}function j(t){return(parseFloat(e.curCSS(t[0],"marginTop",!0))||0)+(parseFloat(e.curCSS(t[0],"marginBottom",!0))||0)}function F(t){return(parseFloat(e.curCSS(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.curCSS(t[0],"borderBottomWidth",!0))||0)}function I(e,t){t=typeof t=="number"?t+"px":t,e.each(function(e,n){n.style.cssText+=";min-height:"+t+";_height:"+t})}function q(){}function R(e,t){return e-t}function U(e){return Math.max.apply(Math,e)}function z(e){return(e<10?"0":"")+e}function W(e,n){if(e[n]!==t)return e[n];n=n.split(/(?=[A-Z])/);for(var r=n.length-1,i;r>=0;r--){i=e[n[r].toLowerCase()];if(i!==t)return i}return e[""]}function X(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function V(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function $(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function J(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function K(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+St[t.getDay()])})}function Q(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s;return r=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,e=e.textColor||n.textColor||t("eventTextColor"),t=[],o&&t.push("background-color:"+o),r&&t.push("border-color:"+r),e&&t.push("color:"+e),t.join(";")}function G(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function Y(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function Z(e,t){function n(e,t){t&&(u(e,t),e.setDate(1)),e=h(e,!0),e.setDate(1),t=u(h(e),1);var n=h(e),f=h(t),l=i("firstDay"),c=i("weekends")?0:1;c&&(d(n),d(f,-1,!0)),a(n,-((n.getDay()-Math.max(l,c)+7)%7)),a(f,(7-f.getDay()+Math.max(l,c))%7),l=Math.round((f-n)/(xt*7)),i("weekMode")=="fixed"&&(a(f,(6-l)*7),l=6),r.title=o(e,i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=f,s(6,l,c?5:7,!0)}var r=this;r.render=n,nt.call(r,e,t,"month");var i=r.opt,s=r.renderBasic,o=t.formatDate}function et(e,t){function n(e,t){t&&a(e,t*7),e=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),t=a(h(e),7);var n=h(e),u=h(t),f=i("weekends");f||(d(n),d(u,-1,!0)),r.title=o(n,a(h(u),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=u,s(1,1,f?7:5,!1)}var r=this;r.render=n,nt.call(r,e,t,"basicWeek");var i=r.opt,s=r.renderBasic,o=t.formatDates}function tt(e,t){function n(e,t){t&&(a(e,t),i("weekends")||d(e,t<0?-1:1)),r.title=o(e,i("titleFormat")),r.start=r.visStart=h(e,!0),r.end=r.visEnd=a(h(r.start),1),s(1,1,1,!1)}var r=this;r.render=n,nt.call(r,e,t,"basicDay");var i=r.opt,s=r.renderBasic,o=t.formatDate}function nt(t,n,r){function i(e,t,n,r){ot=t,ut=n,s(),(t=!Q)?o(e,r):q(),u(t)}function s(){(gt=j("isRTL"))?(yt=-1,bt=ut-1):(yt=1,bt=0),wt=j("firstDay"),Et=j("weekends")?0:1,St=j("theme")?"ui":"fc",xt=j("columnFormat")}function o(n,r){var i,s=St+"-widget-header",o=St+"-widget-content",u;i="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(u=0;u<ut;u++)i+="<th class='fc- "+s+"'/>";i+="</tr></thead><tbody>";for(u=0;u<n;u++){i+="<tr class='fc-week"+u+"'>";for(s=0;s<ut;s++)i+="<td class='fc- "+o+" fc-day"+(u*ut+s)+"'><div>"+(r?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";i+="</tr>"}i+="</tbody></table>",n=e(i).appendTo(t),X=n.find("thead"),V=X.find("th"),Q=n.find("tbody"),G=Q.find("tr"),Y=Q.find("td"),Z=Y.filter(":first-child"),et=G.eq(0).find("div.fc-day-content div"),J(X.add(X.find("tr"))),J(G),G.eq(0).addClass("fc-first"),p(Y),tt=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(t){var n=t||ot==1,r=B.start.getMonth(),i=c(new Date),s,o,u;n&&V.each(function(t,n){s=e(n),o=M(t),s.html(W(o,xt)),K(s,o)}),Y.each(function(t,u){s=e(u),o=M(t),o.getMonth()==r?s.removeClass("fc-other-month"):s.addClass("fc-other-month"),+o==+i?s.addClass(St+"-state-highlight fc-today"):s.removeClass(St+"-state-highlight fc-today"),s.find("div.fc-day-number").text(o.getDate()),n&&K(s,o)}),G.each(function(t,n){u=e(n),t<ot?(u.show(),t==ot-1?u.addClass("fc-last"):u.removeClass("fc-last")):u.hide()})}function f(t){it=t,t=it-X.height();var n,r,i;j("weekMode")=="variable"?n=r=Math.floor(t/(ot==1?2:6)):(n=Math.floor(t/ot),r=t-n*(ot-1)),Z.each(function(t,s){t<ot&&(i=e(s),I(i.find("> div"),(t==ot-1?r:n)-H(i)))})}function l(e){nt=e,mt.clear(),st=Math.floor(nt/ut),A(V.slice(0,-1),st)}function p(e){e.click(d).mousedown(z)}function d(e){if(!j("selectable")){var t=parseInt(this.className.match(/fc\-day(\d+)/)[1]);t=M(t),F("dayClick",this,t,!0,e)}}function m(e,t,n){n&&at.build(),n=h(B.visStart);for(var r=a(h(n),ut),i=0;i<ot;i++){var s=new Date(Math.max(n,e)),o=new Date(Math.min(r,t));if(s<o){var u;gt?(u=v(o,n)*yt+bt+1,s=v(s,n)*yt+bt+1):(u=v(s,n),s=v(o,n)),p(g(i,u,i,s-1))}a(n,7),a(r,7)}}function g(e,n,r,i){return e=at.rect(e,n,r,i,t),R(e,t)}function y(e){return h(e)}function b(e,t){m(e,a(h(t),1),!0)}function w(){U()}function E(e,t,n){var r=k(e);F("dayClick",Y[r.row*ut+r.col],e,t,n)}function S(e,t){lt.start(function(e){U(),e&&g(e.row,e.col,e.row,e.col)},t)}function x(e,t,n){var r=lt.stop();U(),r&&(r=L(r),F("drop",e,r,!0,t,n))}function T(e){return h(e.start)}function N(e){return mt.left(e)}function C(e){return mt.right(e)}function k(e){return{row:Math.floor(v(e,B.visStart)/7),col:_(e.getDay())}}function L(e){return O(e.row,e.col)}function O(e,t){return a(h(B.visStart),e*7+t*yt+bt)}function M(e){return O(Math.floor(e/ut),e%ut)}function _(e){return(e-Math.max(wt,Et)+ut)%ut*yt+bt}function D(e){return G.eq(e)}function P(){return{left:0,right:nt}}var B=this;B.renderBasic=i,B.setHeight=f,B.setWidth=l,B.renderDayOverlay=m,B.defaultSelectionEnd=y,B.renderSelection=b,B.clearSelection=w,B.reportDayClick=E,B.dragStart=S,B.dragStop=x,B.defaultEventEnd=T,B.getHoverListener=function(){return lt},B.colContentLeft=N,B.colContentRight=C,B.dayOfWeekCol=_,B.dateCell=k,B.cellDate=L,B.cellIsAllDay=function(){return!0},B.allDayRow=D,B.allDayBounds=P,B.getRowCnt=function(){return ot},B.getColCnt=function(){return ut},B.getColWidth=function(){return st},B.getDaySegmentContainer=function(){return tt},ft.call(B,t,n,r),ht.call(B),ct.call(B),rt.call(B);var j=B.opt,F=B.trigger,q=B.clearEvents,R=B.renderOverlay,U=B.clearOverlays,z=B.daySelectionMousedown,W=n.formatDate,X,V,Q,G,Y,Z,et,tt,nt,it,st,ot,ut,at,lt,mt,gt,yt,bt,wt,Et,St,xt;$(t.addClass("fc-grid")),at=new pt(function(t,n){var r,i,s;V.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),G.each(function(n,o){n<ot&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),lt=new dt(at),mt=new vt(function(e){return et.eq(e)})}function rt(){function t(e,t){p(e),L(r(e),t)}function n(){d(),b().empty()}function r(t){var n=T(),r=N(),i=h(o.visStart);r=a(h(i),r);var s=e.map(t,S),u,f,l,c,p,d,v=[];for(u=0;u<n;u++){f=k(C(t,s,i,r));for(l=0;l<f.length;l++){c=f[l];for(p=0;p<c.length;p++)d=c[p],d.row=u,d.level=l,v.push(d)}a(i,7),a(r,7)}return v}function i(e,t,n){l(e)&&s(e,t),n.isEnd&&c(e)&&A(e,t,n),v(e,t)}function s(e,t){var n=w(),r;t.draggable({zIndex:9,delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(i,s){f("eventDragStart",t,e,i,s),g(e,t),n.start(function(n,i,s,o){t.draggable("option","revert",!n||!s&&!o),x(),n?(r=s*7+o*(u("isRTL")?-1:1),E(a(h(e.start),r),a(S(e),r))):r=0},i,"drag")},stop:function(i,s){n.stop(),x(),f("eventDragStop",t,e,i,s),r?y(this,e,r,0,e.allDay,i,s):(t.css("filter",""),m(e,t))}})}var o=this;o.renderEvents=t,o.compileDaySegs=r,o.clearEvents=n,o.bindDaySeg=i,lt.call(o);var u=o.opt,f=o.trigger,l=o.isEventDraggable,c=o.isEventResizable,p=o.reportEvents,d=o.reportEventClear,v=o.eventElementHandlers,m=o.showEvents,g=o.hideEvents,y=o.eventDrop,b=o.getDaySegmentContainer,w=o.getHoverListener,E=o.renderDayOverlay,x=o.clearOverlays,T=o.getRowCnt,N=o.getColCnt,L=o.renderDaySegs,A=o.resizableDayEvent}function it(e,t){function n(e,t){t&&a(e,t*7),e=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),t=a(h(e),7);var n=h(e),u=h(t),f=i("weekends");f||(d(n),d(u,-1,!0)),r.title=o(n,a(h(u),-1),i("titleFormat")),r.start=e,r.end=t,r.visStart=n,r.visEnd=u,s(f?7:5)}var r=this;r.render=n,ot.call(r,e,t,"agendaWeek");var i=r.opt,s=r.renderAgenda,o=t.formatDates}function st(e,t){function n(e,t){t&&(a(e,t),i("weekends")||d(e,t<0?-1:1)),t=h(e,!0);var n=a(h(t),1);r.title=o(e,i("titleFormat")),r.start=r.visStart=t,r.end=r.visEnd=n,s(1)}var r=this;r.render=n,ot.call(r,e,t,"agendaDay");var i=r.opt,s=r.renderAgenda,o=t.formatDate}function ot(n,r,i){function s(e){Wt=e,o(),gt?nt():u(),f()}function o(){Qt=et("theme")?"ui":"fc",Yt=et("weekends")?0:1,Gt=et("firstDay"),(Zt=et("isRTL"))?(en=-1,tn=Wt-1):(en=1,tn=0),nn=b(et("minTime")),rn=b(et("maxTime")),sn=et("columnFormat")}function u(){var t=Qt+"-widget-header",r=Qt+"-widget-content",i,s,o,u,a,f=et("slotMinutes")%15==0;i="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<Wt;s++)i+="<th class='fc- fc-col"+s+" "+t+"'/>";i+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<Wt;s++)i+="<td class='fc- fc-col"+s+" "+r+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";i+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td></tr></tbody></table>",gt=e(i).appendTo(n),yt=gt.find("thead"),bt=yt.find("th").slice(1,-1),wt=gt.find("tbody"),Et=wt.find("td").slice(0,-1),St=Et.find("div.fc-day-content div"),xt=Et.eq(0),Tt=xt.find("> div"),J(yt.add(yt.find("tr"))),J(wt.add(wt.find("tr"))),Pt=yt.find("th:first"),Ht=gt.find(".fc-agenda-gutter"),Nt=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),et("allDaySlot")?(Ct=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Nt),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+et("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+t+" fc-agenda-gutter'>&nbsp;</th></tr></table>",kt=e(i).appendTo(Nt),Lt=kt.find("tr"),E(Lt.find("td")),Pt=Pt.add(kt.find("th:first")),Ht=Ht.add(kt.find("th.fc-agenda-gutter")),Nt.append("<div class='fc-agenda-divider "+t+"'><div class='fc-agenda-divider-inner'/></div>")):Ct=e([]),At=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Nt),Ot=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(At),Mt=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Ot),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=p(),u=l(h(o),rn),l(o,nn);for(s=Xt=0;o<u;s++)a=o.getMinutes(),i+="<tr class='fc-slot"+s+" "+(a?"fc-minor":"")+"'><th class='fc-agenda-axis "+t+"'>"+(!f||!a?mt(o,et("axisFormat")):"&nbsp;")+"</th><td class='"+r+"'><div style='position:relative'>&nbsp;</div></td></tr>",l(o,et("slotMinutes")),Xt++;i+="</tbody></table>",_t=e(i).appendTo(Ot),Dt=_t.find("div:first"),S(_t.find("td")),Pt=Pt.add(_t.find("th:first"))}function f(){var e,t,n,r,i=c(new Date);for(e=0;e<Wt;e++)r=D(e),t=bt.eq(e),t.html(mt(r,sn)),n=Et.eq(e),+r==+i?n.addClass(Qt+"-state-highlight fc-today"):n.removeClass(Qt+"-state-highlight fc-today"),K(t.add(n),r)}function d(e,n){e===t&&(e=Ft),Ft=e,Kt={};var r=wt.position().top,i=At.position().top;e=Math.min(e-r,_t.height()+i+1),Tt.height(e-H(xt)),Nt.css("top",r),At.height(e-i-1),Ut=Dt.height()+1,n&&g()}function m(t){jt=t,Jt.clear(),It=0,A(Pt.width("").each(function(t,n){It=Math.max(It,e(n).outerWidth())}),It),t=At[0].clientWidth,(Rt=At.width()-t)?(A(Ht,Rt),Ht.show().prev().removeClass("fc-last")):Ht.hide().prev().addClass("fc-last"),qt=Math.floor((t-It)/Wt),A(bt.slice(0,-1),qt)}function g(){function e(){At.scrollTop(r)}var t=p(),n=h(t);n.setHours(et("firstHour"));var r=j(t,n)+1;e(),setTimeout(e,0)}function y(){zt=At.scrollTop()}function w(){At.scrollTop(zt)}function E(e){e.click(x).mousedown(at)}function S(e){e.click(x).mousedown(V)}function x(e){if(!et("selectable")){var t=Math.min(Wt-1,Math.floor((e.pageX-gt.offset().left-It)/qt)),n=D(t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){r=parseInt(r[1])*et("slotMinutes");var i=Math.floor(r/60);n.setHours(i),n.setMinutes(r%60+nn),tt("dayClick",Et[t],n,!1,e)}else tt("dayClick",Et[t],n,!0,e)}}function T(e,t,n){n&&Vt.build();var r=h(Z.visStart);Zt?(n=v(t,r)*en+tn+1,e=v(e,r)*en+tn+1):(n=v(e,r),e=v(t,r)),n=Math.max(0,n),e=Math.min(Wt,e),n<e&&E(N(0,n,0,e-1))}function N(e,t,n,r){return e=Vt.rect(e,t,n,r,Nt),rt(e,Nt)}function C(e,t){for(var n=h(Z.visStart),r=a(h(n),1),i=0;i<Wt;i++){var s=new Date(Math.max(n,e)),o=new Date(Math.min(r,t));if(s<o){var u=i*en+tn;u=Vt.rect(0,u,0,u,Ot),s=j(n,s),o=j(n,o),u.top=s,u.height=o-s,S(rt(u,Ot))}a(n,1),a(r,1)}}function k(e){return Jt.left(e)}function L(e){return Jt.right(e)}function M(e){return{row:Math.floor(v(e,Z.visStart)/7),col:B(e.getDay())}}function _(e){var t=D(e.col);return e=e.row,et("allDaySlot")&&e--,e>=0&&l(t,nn+e*et("slotMinutes")),t}function D(e){return a(h(Z.visStart),e*en+tn)}function P(e){return et("allDaySlot")&&!e.row}function B(e){return(e-Math.max(Gt,Yt)+Wt)%Wt*en+tn}function j(e,n){e=h(e,!0);if(n<l(h(e),nn))return 0;if(n>=l(h(e),rn))return _t.height();e=et("slotMinutes"),n=n.getHours()*60+n.getMinutes()-nn;var r=Math.floor(n/e),i=Kt[r];return i===t&&(i=Kt[r]=_t.find("tr:eq("+r+") td div")[0].offsetTop),Math.max(0,Math.round(i-1+Ut*(n%e/e)))}function F(){return{left:It,right:jt-Rt}}function I()
{return Lt}function q(e){var t=h(e.start);return e.allDay?t:l(t,et("defaultEventMinutes"))}function U(e,t){return t?h(e):l(h(e),et("slotMinutes"))}function z(e,t,n){n?et("allDaySlot")&&T(e,a(h(t),1),!0):W(e,t)}function W(t,n){var r=et("selectHelper");Vt.build();if(r){var i=v(t,Z.visStart)*en+tn;if(i>=0&&i<Wt){i=Vt.rect(0,i,0,i,Ot);var s=j(t,t),o=j(t,n);if(o>s){i.top=s,i.height=o-s,i.left+=2,i.width-=5;if(e.isFunction(r)){if(t=r(t,n))i.position="absolute",i.zIndex=8,Bt=e(t).css(i).appendTo(Ot)}else i.isStart=!0,i.isEnd=!0,Bt=e(lt({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},i)),Bt.css("opacity",et("dragOpacity"));Bt&&(S(Bt),Ot.append(Bt),A(Bt,i.width,!0),O(Bt,i.height,!0))}}}else C(t,n)}function X(){it(),Bt&&(Bt.remove(),Bt=null)}function V(t){if(t.which==1&&et("selectable")){ot(t);var n;$t.start(function(e,t){X(),e&&e.col==t.col&&!P(e)?(t=_(t),e=_(e),n=[t,l(h(t),et("slotMinutes")),e,l(h(e),et("slotMinutes"))].sort(R),W(n[0],n[3])):n=null},t),e(document).one("mouseup",function(e){$t.stop(),n&&(+n[0]==+n[1]&&Q(n[0],!1,e),st(n[0],n[3],!1,e))})}}function Q(e,t,n){tt("dayClick",Et[B(e.getDay())],e,t,n)}function G(e,t){$t.start(function(e){it();if(e)if(P(e))N(e.row,e.col,e.row,e.col);else{e=_(e);var t=l(h(e),et("defaultEventMinutes"));C(e,t)}},t)}function Y(e,t,n){var r=$t.stop();it(),r&&tt("drop",e,_(r),P(r),t,n)}var Z=this;Z.renderAgenda=s,Z.setWidth=m,Z.setHeight=d,Z.beforeHide=y,Z.afterShow=w,Z.defaultEventEnd=q,Z.timePosition=j,Z.dayOfWeekCol=B,Z.dateCell=M,Z.cellDate=_,Z.cellIsAllDay=P,Z.allDayRow=I,Z.allDayBounds=F,Z.getHoverListener=function(){return $t},Z.colContentLeft=k,Z.colContentRight=L,Z.getDaySegmentContainer=function(){return Ct},Z.getSlotSegmentContainer=function(){return Mt},Z.getMinMinute=function(){return nn},Z.getMaxMinute=function(){return rn},Z.getBodyContent=function(){return Ot},Z.getRowCnt=function(){return 1},Z.getColCnt=function(){return Wt},Z.getColWidth=function(){return qt},Z.getSlotHeight=function(){return Ut},Z.defaultSelectionEnd=U,Z.renderDayOverlay=T,Z.renderSelection=z,Z.clearSelection=X,Z.reportDayClick=Q,Z.dragStart=G,Z.dragStop=Y,ft.call(Z,n,r,i),ht.call(Z),ct.call(Z),ut.call(Z);var et=Z.opt,tt=Z.trigger,nt=Z.clearEvents,rt=Z.renderOverlay,it=Z.clearOverlays,st=Z.reportSelection,ot=Z.unselect,at=Z.daySelectionMousedown,lt=Z.slotSegHtml,mt=r.formatDate,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt={},Qt,Gt,Yt,Zt,en,tn,nn,rn,sn;$(n.addClass("fc-agenda")),Vt=new pt(function(t,n){function r(e){return Math.max(a,Math.min(f,e))}var i,s,o;bt.each(function(t,r){i=e(r),s=i.offset().left,t&&(o[1]=s),o=[s],n[t]=o}),o[1]=s+i.outerWidth(),et("allDaySlot")&&(i=Lt,s=i.offset().top,t[0]=[s,s+i.outerHeight()]);for(var u=Ot.offset().top,a=At.offset().top,f=a+At.outerHeight(),l=0;l<Xt;l++)t.push([r(u+Ut*l),r(u+Ut*(l+1))])}),$t=new dt(Vt),Jt=new vt(function(e){return St.eq(e)})}function ut(){function n(e,t){T(e);var n,r=e.length,o=[],a=[];for(n=0;n<r;n++)e[n].allDay?o.push(e[n]):a.push(e[n]);y("allDaySlot")&&(U(i(o),t),_()),u(s(a),t)}function r(){N(),D().empty(),P().empty()}function i(t){t=k(C(t,e.map(t,S),g.visStart,g.visEnd));var n,r=t.length,i,s,o,u=[];for(n=0;n<r;n++){i=t[n];for(s=0;s<i.length;s++)o=i[s],o.row=0,o.level=n,u.push(o)}return u}function s(t){var n=W(),r=F(),i=j(),s=l(h(g.visStart),r),u=e.map(t,o),f,c,p,d,v,m,y=[];for(f=0;f<n;f++){c=k(C(t,u,s,l(h(s),i-r))),at(c);for(p=0;p<c.length;p++){d=c[p];for(v=0;v<d.length;v++)m=d[v],m.col=f,m.level=p,y.push(m)}a(s,1,!0)}return y}function o(e){return e.end?h(e.end):l(h(e.start),y("defaultEventMinutes"))}function u(n,r){var i,s=n.length,o,u,a,l,c,h,d,v,m,g="",w,E,S={},x={},T=P(),N;i=W(),(w=y("isRTL"))?(E=-1,N=i-1):(E=1,N=0);for(i=0;i<s;i++)o=n[i],u=o.event,a=I(o.start,o.start),l=I(o.start,o.end),c=o.col,h=o.level,d=o.forward||0,v=q(c*E+N),m=R(c*E+N)-v,m=Math.min(m-6,m*.95),c=h?m/(h+d+1):d?(m/(d+1)-6)*2:m,h=v+m/(h+d+1)*h*E+(w?m-c:0),o.top=a,o.left=h,o.outerWidth=c,o.outerHeight=l-a,g+=f(u,o);T[0].innerHTML=g,w=T.children();for(i=0;i<s;i++)o=n[i],u=o.event,g=e(w[i]),E=b("eventRender",u,u,g),E===!1?g.remove():(E&&E!==!0&&(g.remove(),g=e(E).css({position:"absolute",top:o.top,left:o.left}).appendTo(T)),o.element=g,u._id===r?p(u,g,o):g[0]._fci=i,G(u,g));L(T,n,p);for(i=0;i<s;i++){o=n[i];if(g=o.element)u=S[r=o.key=V(g[0])],o.vsides=u===t?S[r]=H(g,!0):u,u=x[r],o.hsides=u===t?x[r]=M(g,!0):u,r=g.find("div.fc-event-content"),r.length&&(o.contentTop=r[0].offsetTop)}for(i=0;i<s;i++){o=n[i];if(g=o.element)g[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",S=Math.max(0,o.outerHeight-o.vsides),g[0].style.height=S+"px",u=o.event,o.contentTop!==t&&S-o.contentTop<10&&(g.find("div.fc-event-time").text(st(u.start,y("timeFormat"))+" - "+u.title),g.find("div.fc-event-title").remove()),b("eventAfterRender",u,u,g)}}function f(e,t){var n="<",r=e.url,i=Q(e,y),s=i?" style='"+i+"'":"",o=["fc-event","fc-event-skin","fc-event-vert"];return w(e)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-corner-top"),t.isEnd&&o.push("fc-corner-bottom"),o=o.concat(e.className),e.source&&(o=o.concat(e.source.className||[])),n+=r?"a href='"+X(e.url)+"'":"div",n+=" class='"+o.join(" ")+"' style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+i+"'><div class='fc-event-inner fc-event-skin'"+s+"><div class='fc-event-head fc-event-skin'"+s+"><div class='fc-event-time'>"+X(ot(e.start,e.end,y("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+X(e.title)+"</div></div><div class='fc-event-bg'></div></div>",t.isEnd&&E(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">",n}function c(e,t,n){w(e)&&d(e,t,n.isStart),n.isEnd&&E(e)&&z(e,t,n),A(e,t)}function p(e,t,n){var r=t.find("div.fc-event-time");w(e)&&v(e,t,r),n.isEnd&&E(e)&&m(e,t,r),A(e,t)}function d(e,t,n){function r(){o||(t.width(i).height("").draggable("option","grid",null),o=!0)}var i,s,o=!0,u,f=y("isRTL")?-1:1,l=B(),c=$(),p=J(),d=F();t.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(d,v){b("eventDragStart",t,e,d,v),Z(e,t),i=t.width(),l.start(function(i,l,d,v){rt(),i?(s=!1,u=v*f,i.row?n?o&&(t.width(c-10),O(t,p*Math.round((e.end?(e.end-e.start)/Nt:y("defaultEventMinutes"))/y("slotMinutes"))),t.draggable("option","grid",[c,1]),o=!1):s=!0:(nt(a(h(e.start),u),a(S(e),u)),r()),s=s||o&&!u):(r(),s=!0),t.draggable("option","revert",s)},d,"drag")},stop:function(n,i){l.stop(),rt(),b("eventDragStop",t,e,n,i);if(s)r(),t.css("filter",""),Y(e,t);else{var a=0;o||(a=Math.round((t.offset().top-K().offset().top)/p)*y("slotMinutes")+d-(e.start.getHours()*60+e.start.getMinutes())),et(this,e,u,a,o,n,i)}}})}function v(e,t,n){function r(t){var r=l(h(e.start),t),i;e.end&&(i=l(h(e.end),t)),n.text(ot(r,i,y("timeFormat")))}function i(){o&&(n.css("display",""),t.draggable("option","grid",[m,g]),o=!1)}var s,o=!1,u,f,c,p=y("isRTL")?-1:1,d=B(),v=W(),m=$(),g=J();t.draggable({zIndex:9,scroll:!1,grid:[m,g],axis:v==1?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(r,l){b("eventDragStart",t,e,r,l),Z(e,t),s=t.position(),f=c=0,d.start(function(r,s,f,l){t.draggable("option","revert",!r),rt(),r&&(u=l*p,y("allDaySlot")&&!r.row?(o||(o=!0,n.hide(),t.draggable("option","grid",null)),nt(a(h(e.start),u),a(S(e),u))):i())},r,"drag")},drag:function(e,t){f=Math.round((t.position.top-s.top)/g)*y("slotMinutes"),f!=c&&(o||r(f),c=f)},stop:function(n,a){var l=d.stop();rt(),b("eventDragStop",t,e,n,a),l&&(u||f||o)?et(this,e,u,o?0:f,o,n,a):(i(),t.css("filter",""),t.css(s),r(0),Y(e,t))}})}function m(e,t,n){var r,i,s=J();t.resizable({handles:{s:"div.ui-resizable-s"},grid:s,start:function(n,s){r=i=0,Z(e,t),t.css("z-index",9),b("eventResizeStart",this,e,n,s)},resize:function(o,u){r=Math.round((Math.max(s,t.height())-u.originalSize.height)/s),r!=i&&(n.text(ot(e.start,!r&&!e.end?null:l(x(e),y("slotMinutes")*r),y("timeFormat"))),i=r)},stop:function(n,i){b("eventResizeStop",this,e,n,i),r?tt(this,e,0,y("slotMinutes")*r,n,i):(t.css("z-index",8),Y(e,t))}})}var g=this;g.renderEvents=n,g.compileDaySegs=i,g.clearEvents=r,g.slotSegHtml=f,g.bindDaySeg=c,lt.call(g);var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,x=g.eventEnd,T=g.reportEvents,N=g.reportEventClear,A=g.eventElementHandlers,_=g.setHeight,D=g.getDaySegmentContainer,P=g.getSlotSegmentContainer,B=g.getHoverListener,j=g.getMaxMinute,F=g.getMinMinute,I=g.timePosition,q=g.colContentLeft,R=g.colContentRight,U=g.renderDaySegs,z=g.resizableDayEvent,W=g.getColCnt,$=g.getColWidth,J=g.getSlotHeight,K=g.getBodyContent,G=g.reportEventElement,Y=g.showEvents,Z=g.hideEvents,et=g.eventDrop,tt=g.eventResize,nt=g.renderDayOverlay,rt=g.clearOverlays,it=g.calendar,st=it.formatDate,ot=it.formatDates}function at(e){var t,n,r,i,s,o;for(t=e.length-1;t>0;t--){i=e[t];for(n=0;n<i.length;n++){s=i[n];for(r=0;r<e[t-1].length;r++)o=e[t-1][r],N(s,o)&&(o.forward=Math.max(o.forward||0,(s.forward||0)+1))}}}function ft(e,n,r){function i(e,t){return e=M[e],typeof e=="object"?W(e,t||r):e}function s(e,t){return n.trigger.apply(n,[e,t||T].concat(Array.prototype.slice.call(arguments,2),[T]))}function o(e){return f(e)&&!i("disableDragging")}function u(e){return f(e)&&!i("disableResizing")}function f(e){return Y(e.editable,(e.source||{}).editable,i("editable"))}function c(e){L={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],L[r._id]?L[r._id].push(r):L[r._id]=[r]}function p(e){return e.end?h(e.end):N(e)}function d(e,t){A.push(t),O[e._id]?O[e._id].push(t):O[e._id]=[t]}function v(){A=[],O={}}function m(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return s("eventClick",this,e,n)}).hover(function(t){s("eventMouseover",this,e,t)},function(t){s("eventMouseout",this,e,t)})}function g(e,t){b(e,t,"show")}function y(e,t){b(e,t,"hide")}function b(e,t,n){e=O[e._id];var r,i=e.length;for(r=0;r<i;r++)(!t||e[r][0]!=t[0])&&e[r][n]()}function w(e,t,n,r,i,o,u){var a=t.allDay,f=t._id;S(L[f],n,r,i),s("eventDrop",e,t,n,r,i,function(){S(L[f],-n,-r,a),k(f)},o,u),k(f)}function E(e,t,n,r,i,o){var u=t._id;x(L[u],n,r),s("eventResize",e,t,n,r,function(){x(L[u],-n,-r),k(u)},i,o),k(u)}function S(e,n,r,i){r=r||0;for(var s,o=e.length,u=0;u<o;u++)s=e[u],i!==t&&(s.allDay=i),l(a(s.start,n,!0),r),s.end&&(s.end=l(a(s.end,n,!0),r)),C(s,M)}function x(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=l(a(p(r),t,!0),n),C(r,M)}var T=this;T.element=e,T.calendar=n,T.name=r,T.opt=i,T.trigger=s,T.isEventDraggable=o,T.isEventResizable=u,T.reportEvents=c,T.eventEnd=p,T.reportEventElement=d,T.reportEventClear=v,T.eventElementHandlers=m,T.showEvents=g,T.hideEvents=y,T.eventDrop=w,T.eventResize=E;var N=T.defaultEventEnd,C=n.normalizeEvent,k=n.reportEventChange,L={},A=[],O={},M=n.options}function lt(){function n(e,t){var n=I(),r=k(),a=A(),h=0,m,g,y=e.length,b,w;n[0].innerHTML=i(e),s(e,n.children()),o(e),u(e,n,t),f(e),l(e),c(e),t=p();for(n=0;n<r;n++){m=[];for(g=0;g<a;g++)m[g]=0;for(;h<y&&(b=e[h]).row==n;){g=U(m.slice(b.startCol,b.endCol)),b.top=g,g+=b.outerHeight;for(w=b.startCol;w<b.endCol;w++)m[w]=g;h++}t[n].height(U(m))}v(e,d(t))}function r(t,n,r){var o=e("<div/>"),u=I(),a=t.length,h;o[0].innerHTML=i(t),o=o.children(),u.append(o),s(t,o),f(t),l(t),c(t),v(t,d(p())),o=[];for(u=0;u<a;u++)if(h=t[u].element)t[u].row===n&&h.css("top",r),o.push(h[0]);return e(o)}function i(e){var t=y("isRTL"),n,r=e.length,i,s,o,u;n=_();var a=n.left,f=n.right,l,c,h,p,d,v="";for(n=0;n<r;n++)i=e[n],s=i.event,u=["fc-event","fc-event-skin","fc-event-hori"],w(s)&&u.push("fc-event-draggable"),t?(i.isStart&&u.push("fc-corner-right"),i.isEnd&&u.push("fc-corner-left"),l=H(i.end.getDay()-1),c=H(i.start.getDay()),h=i.isEnd?D(l):a,p=i.isStart?P(c):f):(i.isStart&&u.push("fc-corner-left"),i.isEnd&&u.push("fc-corner-right"),l=H(i.start.getDay()),c=H(i.end.getDay()-1),h=i.isStart?D(l):a,p=i.isEnd?P(c):f),u=u.concat(s.className),s.source&&(u=u.concat(s.source.className||[])),o=s.url,d=Q(s,y),v+=o?"<a href='"+X(o)+"'":"<div",v+=" class='"+u.join(" ")+"' style='position:absolute;z-index:8;left:"+h+"px;"+d+"'><div class='fc-event-inner fc-event-skin'"+(d?" style='"+d+"'":"")+">",!s.allDay&&i.isStart&&(v+="<span class='fc-event-time'>"+X(R(s.start,s.end,y("timeFormat")))+" </span>"),v+="<span class='fc-event-title'>"+X(s.title)+"</span></div>",i.isEnd&&E(s)&&(v+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),v+="</"+(o?"a":"div")+">",i.left=h,i.outerWidth=p-h,i.startCol=l,i.endCol=c+1;return v}function s(t,n){var r,i=t.length,s,o,u;for(r=0;r<i;r++)s=t[r],o=s.event,u=e(n[r]),o=b("eventRender",o,o,u),o===!1?u.remove():(o&&o!==!0&&(o=e(o).css({position:"absolute",left:s.left}),u.replaceWith(o),u=o),s.element=u)}function o(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],(i=r.element)&&x(r.event,i)}function u(e,t,n){var r,i=e.length,s,o,u;for(r=0;r<i;r++){s=e[r];if(o=s.element)u=s.event,u._id===n?q(u,o,s):o[0]._fci=r}L(t,e,q)}function f(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++){i=e[n];if(s=i.element)o=i.key=V(s[0]),u=a[o],u===t&&(u=a[o]=M(s,!0)),i.hsides=u}}function l(e){var t,n=e.length,r,i;for(t=0;t<n;t++){r=e[t];if(i=r.element)i[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px"}}function c(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++){i=e[n];if(s=i.element)o=i.key,u=a[o],u===t&&(u=a[o]=j(s)),i.outerHeight=s[0].offsetHeight+u}}function p(){var e,t=k(),n=[];for(e=0;e<t;e++)n[e]=O(e).find("td:first div.fc-day-content > div");return n}function d(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r[t]=e[t][0].offsetTop;return r}function v(e,t){var n,r=e.length,i,s;for(n=0;n<r;n++){i=e[n];if(s=i.element)s[0].style.top=t[i.row]+(i.top||0)+"px",i=i.event,b("eventAfterRender",i,i,s)}}function m(t,n,i){var s=y("isRTL"),o=s?"w":"e",u=n.find("div.ui-resizable-"+o),f=!1;$(n),n.mousedown(function(e){e.preventDefault()}).click(function(e){f&&(e.preventDefault(),e.stopImmediatePropagation())}),u.mousedown(function(u){function l(n){b("eventResizeStop",this,t,n),e("body").css("cursor",""),c.stop(),W(),w&&C(this,t,w,0,n),setTimeout(function(){f=!1},0)}if(u.which==1){f=!0;var c=g.getHoverListener(),p=k(),d=A(),v=s?-1:1,m=s?d-1:0,y=n.css("top"),w,E,x=e.extend({},t),L=B(t.start);J(),e("body").css("cursor",o+"-resize").one("mouseup",l),b("eventResizeStart",this,t,u),c.start(function(e,n){if(e){var u=Math.max(L.row,e.row);e=e.col,p==1&&(u=0),u==L.row&&(e=s?Math.min(L.col,e):Math.max(L.col,e)),w=u*7+e*v+m-(n.row*7+n.col*v+m),n=a(S(t),w,!0),w?(x.end=n,u=E,E=r(F([x]),i.row,y),E.find("*").css("cursor",o+"-resize"),u&&u.remove(),N(t)):E&&(T(t),E.remove(),E=null),W(),z(t.start,a(h(n),1))}},u)}})}var g=this;g.renderDaySegs=n,g.resizableDayEvent=m;var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,S=g.eventEnd,x=g.reportEventElement,T=g.showEvents,N=g.hideEvents,C=g.eventResize,k=g.getRowCnt,A=g.getColCnt,O=g.allDayRow,_=g.allDayBounds,D=g.colContentLeft,P=g.colContentRight,H=g.dayOfWeekCol,B=g.dateCell,F=g.compileDaySegs,I=g.getDaySegmentContainer,q=g.bindDaySeg,R=g.calendar.formatDates,z=g.renderDayOverlay,W=g.clearOverlays,J=g.clearSelection}function ct(){function t(e,t,i){n(),t||(t=a(e,i)),f(e,t,i),r(e,t,i)}function n(e){c&&(c=!1,l(),u("unselect",null,e))}function r(e,t,n,r){c=!0,u("select",null,e,t,n,r)}function i(t){var i=s.cellDate,u=s.cellIsAllDay,a=s.getHoverListener(),c=s.reportDayClick;if(t.which==1&&o("selectable")){n(t);var h;a.start(function(e,t){l(),e&&u(e)?(h=[i(t),i(e)].sort(R),f(h[0],h[1],!0)):h=null},t),e(document).one("mouseup",function(e){a.stop(),h&&(+h[0]==+h[1]&&c(h[0],!0,e),r(h[0],h[1],!0,e))})}}var s=this;s.select=t,s.unselect=n,s.reportSelection=r,s.daySelectionMousedown=i;var o=s.opt,u=s.trigger,a=s.defaultSelectionEnd,f=s.renderSelection,l=s.clearSelection,c=!1;o("selectable")&&o("unselectAuto")&&e(document).mousedown(function(t){var r=o("unselectCancel");if(r&&e(t.target).parents(r).length)return;n(t)})}function ht(){function t(t,n){var r=s.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),i.push(r.css(t).show()),r}function n(){for(var e;e=i.shift();)s.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var i=[],s=[]}function pt(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){return o=o.offset(),{top:n[e][0]-o.top,left:r[t][0]-o.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function dt(t){function n(e){e=t.cell(e.pageX,e.pageY);if(!e!=!u||e&&(e.row!=u.row||e.col!=u.col))e?(o||(o=e),s(e,o,e.row-o.row,e.col-o.col)):s(e,o),u=e}var r=this,i,s,o,u;r.start=function(r,a,f){s=r,o=u=null,t.build(),n(a),i=f||"mousemove",e(document).bind(i,n)},r.stop=function(){return e(document).unbind(i,n),u}}function vt(e){function n(t){return i[t]=i[t]||e(t)}var r=this,i={},s={},o={};r.left=function(e){return s[e]=s[e]===t?n(e).position().left:s[e]},r.right=function(e){return o[e]=o[e]===t?r.left(e)+n(e).width():o[e]},r.clear=function(){i={},s={},o={}}}var mt={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"",next:"",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},gt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},yt=e.fullCalendar={version:"1.5.2"},bt=yt.views={};e.fn.fullCalendar=function(n){if(typeof n=="string"){var i=Array.prototype.slice.call(arguments,1),s;return this.each(function(){var r=e.data(this,"fullCalendar");r&&e.isFunction(r[n])&&(r=r[n].apply(r,i),s===t&&(s=r),n=="destroy"&&e.removeData(this,"fullCalendar"))}),s!==t?s:this}var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=e.extend(!0,{},mt,n.isRTL||n.isRTL===t&&mt.isRTL?gt:{},n),this.each(function(t,i){t=e(i),i=new r(t,n,o),t.data("fullCalendar",i),i.render()}),this},yt.sourceNormalizers=[],yt.sourceFetchers=[];var wt={dataType:"json",cache:!1},Et=1;yt.addDays=a,yt.cloneDate=h,yt.parseDate=g,yt.parseISO8601=y,yt.parseTime=b,yt.formatDate=w,yt.formatDates=E;var St=["sun","mon","tue","wed","thu","fri","sat"],xt=864e5,Tt=36e5,Nt=6e4,Ct={s:function(e){return e.getSeconds()},ss:function(e){return z(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return z(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return z(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return z(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return z(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return z(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return w(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){return e=e.getDate(),e>10&&e<20?"th":["st","nd","rd"][e%10-1]||"th"}};yt.applyAll=G,bt.month=Z,bt.basicWeek=et,bt.basicDay=tt,n({weekMode:"fixed"}),bt.agendaWeek=it,bt.agendaDay=st,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),function(e){var t=function(){var t={},n,r=65,i,s='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',o={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},u=function(t,n){var r=R(t);e(n).data("colorpicker").fields.eq(1).val(r.r).end().eq(2).val(r.g).end().eq(3).val(r.b).end()},a=function(t,n){e(n).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},f=function(t,n){e(n).data("colorpicker").fields.eq(0).val(z(t)).end()},l=function(t,n){e(n).data("colorpicker").selector.css("backgroundColor","#"+z({h:t.h,s:100,b:100})),e(n).data("colorpicker").selectorIndic.css({left:parseInt(150*t.s/100,10),top:parseInt(150*(100-t.b)/100,10)})},c=function(t,n){e(n).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},h=function(t,n){e(n).data("colorpicker").currentColor.css("backgroundColor","#"+z(t))},p=function(t,n){e(n).data("colorpicker").newColor.css("backgroundColor","#"+z(t))},d=function(t){var n=t.charCode||t.keyCode||-1;if(n>r&&n<=90||n==32)return!1;var i=e(this).parent().parent();i.data("colorpicker").livePreview===!0&&v.apply(this)},v=function(t){var n=e(this).parent().parent(),r;this.parentNode.className.indexOf("_hex")>0?n.data("colorpicker").color=r=I(j(this.value)):this.parentNode.className.indexOf("_hsb")>0?n.data("colorpicker").color=r=H({h:parseInt(n.data("colorpicker").fields.eq(4).val(),10),s:parseInt(n.data("colorpicker").fields.eq(5).val(),10),b:parseInt(n.data("colorpicker").fields.eq(6).val(),10)}):n.data("colorpicker").color=r=q(B({r:parseInt(n.data("colorpicker").fields.eq(1).val(),10),g:parseInt(n.data("colorpicker").fields.eq(2).val(),10),b:parseInt(n.data("colorpicker").fields.eq(3).val(),10)})),t&&(u(r,n.get(0)),f(r,n.get(0)),a(r,n.get(0))),l(r,n.get(0)),c(r,n.get(0)),p(r,n.get(0)),n.data("colorpicker").onChange.apply(n,[r,z(r),R(r)])},m=function(t){var n=e(this).parent().parent();n.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},g=function(){r=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},y=function(t){var n=e(this).parent().find("input").focus(),r={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:n,val:parseInt(n.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",r,E),e(document).bind("mousemove",r,w)},w=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&v.apply(e.data.field.get(0),[!0]),!1},E=function(t){return v.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",E),e(document).unbind("mousemove",w),!1},S=function(t){var n={cal:e(this).parent(),y:e(this).offset().top};n.preview=n.cal.data("colorpicker").livePreview,e(document).bind("mouseup",n,T),e(document).bind("mousemove",n,x)},x=function(e){return v.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},T=function(t){return u(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),f(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",T),e(document).unbind("mousemove",x),!1},N=function(t){var n={cal:e(this).parent(),pos:e(this).offset()};n.preview=n.cal.data("colorpicker").livePreview,e(document).bind("mouseup",n,k),e(document).bind("mousemove",n,C)},C=function(e){return v.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},k=function(t){return u(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),f(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",k),e(document).unbind("mousemove",C),!1},L=function(t){e(this).addClass("colorpicker_focus")},A=function(t){e(this).removeClass("colorpicker_focus")},O=function(t){var n=e(this).parent(),r=n.data("colorpicker").color;n.data("colorpicker").origColor=r,h(r,n.get(0)),n.data("colorpicker").onSubmit(r,z(r),R(r),n.data("colorpicker").el)},M=function(t){var n=e("#"+e(this).data("colorpickerId"));n.data("colorpicker").onBeforeShow.apply(this,[n.get(0)]);var r=e(this).offset(),i=P(),s=r.top+this.offsetHeight,o=r.left;return s+176>i.t+i.h&&(s-=this.offsetHeight+176),o+356>i.l+i.w&&(o-=356),n.css({left:o+"px",top:s+"px"}),n.data("colorpicker").onShow.apply(this,[n.get(0)])!=0&&n.show(),e(document).bind("mousedown",{cal:n},_),!1},_=function(t){D(t.data.cal.get(0),t.target,t.data.cal.get(0))||(t.data.cal.data("colorpicker").onHide.apply(this,[t.data.cal.get(0)])!=0&&t.data.cal.hide(),e(document).unbind("mousedown",_))},D=function(e,t,n){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(t)&16);var r=t.parentNode;while(r&&r!=n){if(r==e)return!0;r=r.parentNode}return!1},P=function(){var e=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},H=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},B=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},j=function(e){var t=6-e.length;if(t>0){var n=[];for(var r=0;r<t;r++)n.push("0");n.push(e),e=n.join("")}return e},F=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(e&65280)>>8,b:e&255}},I=function(e){return q(F(e))},q=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),i=r-n;return t.b=r,r!=0,t.s=r!=0?255*i/r:0,t.s!=0?e.r==r?t.h=(e.g-e.b)/i:e.g==r?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},R=function(e){var t={},n=Math.round(e.h),r=Math.round(e.s*255/100),i=Math.round(e.b*255/100);if(r==0)t.r=t.g=t.b=i;else{var s=i,o=(255-r)*i/255,u=(s-o)*(n%60)/60;n==360&&(n=0),n<60?(t.r=s,t.b=o,t.g=o+u):n<120?(t.g=s,t.b=o,t.r=s-u):n<180?(t.g=s,t.r=o,t.b=o+u):n<240?(t.b=s,t.r=o,t.g=s-u):n<300?(t.b=s,t.g=o,t.r=o+u):n<360?(t.r=s,t.g=o,t.b=s-u):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},U=function(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){t.length==1&&(n[e]="0"+t)}),n.join("")},z=function(e){return U(R(e))},W=function(){var t=e(this).parent(),n=t.data("colorpicker").origColor;t.data("colorpicker").color=n,u(n,t.get(0)),f(n,t.get(0)),a(n,t.get(0)),l(n,t.get(0)),c(n,t.get(0)),p(n,t.get(0))};return{init:function(t){t=e.extend({},o,t||{});if(typeof t.color=="string")t.color=I(t.color);else if(t.color.r!=undefined&&t.color.g!=undefined&&t.color.b!=undefined)t.color=q(t.color);else{if(t.color.h==undefined||t.color.s==undefined||t.color.b==undefined)return this;t.color=H(t.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var n=e.extend({},t);n.origColor=t.color;var r="collorpicker_"+parseInt(Math.random()*1e3);e(this).data("colorpickerId",r);var i=e(s).attr("id",r);n.flat?i.appendTo(this).show():i.appendTo(document.body),n.fields=i.find("input").bind("keyup",d).bind("change",v).bind("blur",m).bind("focus",g),i.find("span").bind("mousedown",y).end().find(">div.colorpicker_current_color").bind("click",W),n.selector=i.find("div.colorpicker_color").bind("mousedown",N),n.selectorIndic=n.selector.find("div div"),n.el=this,n.hue=i.find("div.colorpicker_hue div"),i.find("div.colorpicker_hue").bind("mousedown",S),n.newColor=i.find("div.colorpicker_new_color"),n.currentColor=i.find("div.colorpicker_current_color"),i.data("colorpicker",n),i.find("div.colorpicker_submit").bind("mouseenter",L).bind("mouseleave",A).bind("click",O),u(n.color,i.get(0)),a(n.color,i.get(0)),f(n.color,i.get(0)),c(n.color,i.get(0)),l(n.color,i.get(0)),h(n.color,i.get(0)),p(n.color,i.get(0)),n.flat?i.css({position:"relative",display:"block"}):e(this).bind(n.eventName,M)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&M.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(t){if(typeof t=="string")t=I(t);else if(t.r!=undefined&&t.g!=undefined&&t.b!=undefined)t=q(t);else{if(t.h==undefined||t.s==undefined||t.b==undefined)return this;t=H(t)}return this.each(function(){if(e(this).data("colorpickerId")){var n=e("#"+e(this).data("colorpickerId"));n.data("colorpicker").color=t,n.data("colorpicker").origColor=t,u(t,n.get(0)),a(t,n.get(0)),f(t,n.get(0)),c(t,n.get(0)),l(t,n.get(0)),h(t,n.get(0)),p(t,n.get(0))}})}}}();e.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})}(jQuery),function(e){function A(t,n){var r=e(t),i=r[L](h)||d+s++,s="currentStyle";if(n.disable)return O(r);if(!r.is(T)||l[i])return;r[k](d)[L](h,i).before(N+'C"/>'),r.o=n,r.g=[],r.c=[],r.w=r[S](),r.d=r.prev(),r.s=v(g?t.cellSpacing||t[s].borderSpacing:r.css(x+"spacing"))||2,r.b=v(g?t.border||t[s].borderLeftWidth:r.css(x+"left-"+S))||1,l[i]=r,M(r)}function O(e){var t=e[L](h),e=l[t];if(!e||!e.is(T))return;e[C](d).d.remove(),delete l[t]}function M(t){var n=t.find(E+"th"),r="removeAttr";n.length||(n=t.find(E+"td")),t.l=n.length,n.each(function(n){var i=e(this),s=e(t.d[o](N+'G"></div>')[0].lastChild);s.t=t,s.i=n,s.c=i,i.w=i[S](),t.g.push(s),t.c.push(i),i[S](i.w)[r](S),n<t.l-1?s.mousedown(B).html('<div class="'+d+'"></div>')[o](t.o.gripInnerHtml):s[k]("CRL")[C]("CRG"),s.data(d,{i:n,t:t[L](h)})}),_(t),t.find("tr:not(:first)").find("td,th").each(function(){e(this)[r](S)})}function _(e){e.d[S](e.w);for(var t,n=0;n<e.l;n++)t=e.c[n],e.g[n].css({left:t.offset().left-e.offset().left+t.outerWidth()+e.s/2+p,height:e.outerHeight()})}function D(e,t,n){var r=f.x-f.l,i=e.c[t],s=e.c[t+1],o=i.w+r,u=s.w-r;i[S](o+p),s[S](u+p),n&&(i.w=o,s.w=u)}function P(e){if(!f)return;var t=f.t,n=e.pageX-f.L+f.l,r=20,s=f.i,o=t.s*1.5+r+t.b,u=s==t.l-1?t.w-o:t.g[s+1][i]().left-t.s-r,a=s?t.g[s-1][i]().left+t.s+r:o;return n=m.max(a,m.min(u,n)),f.x=n,f.css("left",n+p),t.o.liveDrag&&(D(t,s),_(t)),y}function H(n){t.unbind(b+d).unbind(w+d),e("head :last-child").remove();if(!f)return;var r=f[C](f.t.o.draggingClass).t,i=r.o.onResize;f.x&&(D(r,f.i,1),_(r),i&&(n.currentTarget=r[0],i(n))),f=a}function B
(s){var a=e(this).data(d),c=l[a.t],h=c.g[a.i],p=0,v;h.L=s.pageX,h.l=h[i]().left,t.bind(b+d,P).bind(w+d,H),u[o](n+"*{cursor:e-resize!important"+r),h[k](c.o.draggingClass),f=h;if(c.c[a.i].l)for(;p<c.l;p++)v=c.c[p],v.l=y,v.w=v[S]();return y}function j(){for(e in l){var e=l[e],t=0,n=0;e[C](d);if(e.w!=e[S]()){e.w=e[S]();for(;t<e.l;t++)n+=e.c[t].w;for(t=0;t<e.l;t++)e.c[t].css(S,m.round(1e3*e.c[t].w/n)/10+"%").l=1}_(e[k](d))}}var t=e(document),n="<style type='text/css'>",r="}</style>",i="position",s=":absolute;",o="append",u=e("head")[o](n+".CRZ{table-layout:fixed}.CRZ td,.CRZ th{overflow:hidden}.CRC{height:0px;"+i+":relative}.CRG{margin-left:-5px;"+i+s+" z-index:5}.CRG .CRZ{"+i+s+"background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;cursor:e-resize;height:100%}.CRL{"+i+s+"width:1px}.CRD{border-left:1px dotted black"+r),a=null,f=a,l=[],c=0,h="id",p="px",d="CRZ",v=parseInt,m=Math,g=e.browser.msie,y=!1,b="mousemove.",w="mouseup.",E="tr:first ",S="width",x="border-",T="table",N='<div class="CR',C="removeClass",k="addClass",L="attr";e(window).bind("resize."+d,j),e.fn.extend({colResizable:function(t){var n={draggingClass:"CRD",gripInnerHtml:"",onResize:a,liveDrag:y,disable:y},t=e.extend(n,t);return this.each(function(){A(this,t)})}})}(jQuery),function($,window,document){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.8.2",_oExt.sErrMode="alert",_oExt.iApiIndex=0,_oExt.oApi={},_oExt.afnFiltering=[],_oExt.aoFeatures=[],_oExt.ofnSearch={},_oExt.afnSortData=[],_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"prev",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""},_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-button",sPagePrevDisabled:"fg-button ui-button ui-state-disabled",sPageNextEnabled:"fg-button ui-button",sPageNextDisabled:"fg-button ui-button ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button",sPageButtonActive:"fg-button ui-button ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-disabled",sPageFirst:"toFirst ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"},_oExt.oPagination={two_button:{fnInit:function(e,t,n){var r,i,s,o;e.bJUI?(r=document.createElement("a"),i=document.createElement("a"),o=document.createElement("span"),o.className=e.oClasses.sPageJUINext,i.appendChild(o),s=document.createElement("span"),s.className=e.oClasses.sPageJUIPrev,r.appendChild(s)):(r=document.createElement("div"),i=document.createElement("div")),r.className=e.oClasses.sPagePrevDisabled,i.className=e.oClasses.sPageNextDisabled,r.title=e.oLanguage.oPaginate.sPrevious,i.title=e.oLanguage.oPaginate.sNext,t.appendChild(r),t.appendChild(i),$(r).bind("click.DT",function(){e.oApi._fnPageChange(e,"previous")&&n(e)}),$(i).bind("click.DT",function(){e.oApi._fnPageChange(e,"next")&&n(e)}),$(r).bind("selectstart.DT",function(){return!1}),$(i).bind("selectstart.DT",function(){return!1}),e.sTableId!==""&&typeof e.aanFeatures.p=="undefined"&&(t.setAttribute("id",e.sTableId+"_paginate"),r.setAttribute("id",e.sTableId+"_previous"),i.setAttribute("id",e.sTableId+"_next"))},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=e.aanFeatures.p;for(var r=0,i=n.length;r<i;r++)n[r].childNodes.length!==0&&(n[r].childNodes[0].className=e._iDisplayStart===0?e.oClasses.sPagePrevDisabled:e.oClasses.sPagePrevEnabled,n[r].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?e.oClasses.sPageNextDisabled:e.oClasses.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=document.createElement("span"),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span"),u=document.createElement("span");r.innerHTML=e.oLanguage.oPaginate.sFirst,i.innerHTML=e.oLanguage.oPaginate.sPrevious,o.innerHTML=e.oLanguage.oPaginate.sNext,u.innerHTML=e.oLanguage.oPaginate.sLast;var a=e.oClasses;r.className=a.sPageButton+" "+a.sPageFirst,i.className=a.sPageButton+" "+a.sPagePrevious,o.className=a.sPageButton+" "+a.sPageNext,u.className=a.sPageButton+" "+a.sPageLast,t.appendChild(r),t.appendChild(i),t.appendChild(s),t.appendChild(o),t.appendChild(u),$(r).bind("click.DT",function(){e.oApi._fnPageChange(e,"first")&&n(e)}),$(i).bind("click.DT",function(){e.oApi._fnPageChange(e,"previous")&&n(e)}),$(o).bind("click.DT",function(){e.oApi._fnPageChange(e,"next")&&n(e)}),$(u).bind("click.DT",function(){e.oApi._fnPageChange(e,"last")&&n(e)}),$("span",t).bind("mousedown.DT",function(){return!1}).bind("selectstart.DT",function(){return!1}),e.sTableId!==""&&typeof e.aanFeatures.p=="undefined"&&(t.setAttribute("id",e.sTableId+"_paginate"),r.setAttribute("id",e.sTableId+"_first"),i.setAttribute("id",e.sTableId+"_previous"),o.setAttribute("id",e.sTableId+"_next"),u.setAttribute("id",e.sTableId+"_last"))},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=_oExt.oPagination.iFullNumbersShowPages,r=Math.floor(n/2),i=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,o="",u,a,f,l,c=e.oClasses;i<n?(u=1,a=i):s<=r?(u=1,a=n):s>=i-r?(u=i-n+1,a=i):(u=s-Math.ceil(n/2)+1,a=u+n-1);for(f=u;f<=a;f++)s!=f?o+='<span class="'+c.sPageButton+'">'+f+"</span>":o+='<span class="'+c.sPageButtonActive+'">'+f+"</span>";var h=e.aanFeatures.p,p,d,v,m=function(n){var r=this.innerHTML*1-1;e._iDisplayStart=r*e._iDisplayLength,t(e),n.preventDefault()},g=function(){return!1};for(f=0,l=h.length;f<l;f++){if(h[f].childNodes.length===0)continue;var y=$("span:eq(2)",h[f]);y.html(o),$("span",y).bind("click.DT",m).bind("mousedown.DT",g).bind("selectstart.DT",g),p=h[f].getElementsByTagName("span"),d=[p[0],p[1],p[p.length-2],p[p.length-1]],$(d).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled),s==1?(d[0].className+=" "+c.sPageButtonStaticDisabled,d[1].className+=" "+c.sPageButtonStaticDisabled):(d[0].className+=" "+c.sPageButton,d[1].className+=" "+c.sPageButton),i===0||s==i||e._iDisplayLength==-1?(d[2].className+=" "+c.sPageButtonStaticDisabled,d[3].className+=" "+c.sPageButtonStaticDisabled):(d[2].className+=" "+c.sPageButton,d[3].className+=" "+c.sPageButton)}}}},_oExt.oSort={"string-asc":function(e,t){typeof e!="string"&&(e=""),typeof t!="string"&&(t="");var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0},"string-desc":function(e,t){typeof e!="string"&&(e=""),typeof t!="string"&&(t="");var n=e.toLowerCase(),r=t.toLowerCase();return n<r?1:n>r?-1:0},"html-asc":function(e,t){var n=e.replace(/<.*?>/g,"").toLowerCase(),r=t.replace(/<.*?>/g,"").toLowerCase();return n<r?-1:n>r?1:0},"html-desc":function(e,t){var n=e.replace(/<.*?>/g,"").toLowerCase(),r=t.replace(/<.*?>/g,"").toLowerCase();return n<r?1:n>r?-1:0},"date-asc":function(e,t){var n=Date.parse(e),r=Date.parse(t);if(isNaN(n)||n==="")n=Date.parse("01/01/1970 00:00:00");if(isNaN(r)||r==="")r=Date.parse("01/01/1970 00:00:00");return n-r},"date-desc":function(e,t){var n=Date.parse(e),r=Date.parse(t);if(isNaN(n)||n==="")n=Date.parse("01/01/1970 00:00:00");if(isNaN(r)||r==="")r=Date.parse("01/01/1970 00:00:00");return r-n},"numeric-asc":function(e,t){var n=e=="-"||e===""?0:e*1,r=t=="-"||t===""?0:t*1;return n-r},"numeric-desc":function(e,t){var n=e=="-"||e===""?0:e*1,r=t=="-"||t===""?0:t*1;return r-n}},_oExt.aTypes=[function(e){if(typeof e=="number")return"numeric";if(typeof e!="string")return null;var t="0123456789-",n="0123456789.",r,i=!1;r=e.charAt(0);if(t.indexOf(r)==-1)return null;for(var s=1;s<e.length;s++){r=e.charAt(s);if(n.indexOf(r)==-1)return null;if(r=="."){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return t!==null&&!isNaN(t)||typeof e=="string"&&e.length===0?"date":null},function(e){return typeof e=="string"&&e.indexOf("<")!=-1&&e.indexOf(">")!=-1?"html":null}],_oExt.fnVersionCheck=function(e){var t=function(e,t){while(e.length<t)e+="0";return e},n=_oExt.sVersion.split("."),r=e.split("."),i="",s="";for(var o=0,u=r.length;o<u;o++)i+=t(n[o],3),s+=t(r[o],3);return parseInt(i,10)>=parseInt(s,10)},_oExt._oExternConfig={iNextUnique:0},$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},this.oInstance=null,this.sInstance=null,this.oFeatures={bPaginate:!0,bLengthChange:!0,bFilter:!0,bSort:!0,bInfo:!0,bAutoWidth:!0,bProcessing:!1,bSortClasses:!0,bStateSave:!1,bServerSide:!1,bDeferRender:!1},this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:!1,bInfinite:!1,iLoadGap:100,iBarWidth:0,bAutoCss:!0},this.aanFeatures=[],this.oLanguage={sProcessing:"Processing...",sLengthMenu:"每页显示: _MENU_ 条",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(_MAX_ in total)",sInfoPostFix:"",sInfoThousands:",",sSearch:"搜索:",sUrl:"",oPaginate:{sFirst:"第一页",sPrevious:"上一页",sNext:"下一页",sLast:"最后一页"},fnInfoCallback:null},this.aoData=[],this.aiDisplay=[],this.aiDisplayMaster=[],this.aoColumns=[],this.aoHeader=[],this.aoFooter=[],this.iNextId=0,this.asDataSearch=[],this.oPreviousSearch={sSearch:"",bRegex:!1,bSmart:!0},this.aoPreSearchCols=[],this.aaSorting=[[0,"asc",0]],this.aaSortingFixed=null,this.asStripeClasses=[],this.asDestroyStripes=[],this.sDestroyWidth=0,this.fnRowCallback=null,this.fnHeaderCallback=null,this.fnFooterCallback=null,this.aoDrawCallback=[],this.fnPreDrawCallback=null,this.fnInitComplete=null,this.sTableId="",this.nTable=null,this.nTHead=null,this.nTFoot=null,this.nTBody=null,this.nTableWrapper=null,this.bDeferLoading=!1,this.bInitialised=!1,this.aoOpenRows=[],this.sDom="lfrtip",this.sPaginationType="two_button",this.iCookieDuration=7200,this.sCookiePrefix="SpryMedia_DataTables_",this.fnCookieCallback=null,this.aoStateSave=[],this.aoStateLoad=[],this.oLoadedState=null,this.sAjaxSource=null,this.sAjaxDataProp="aaData",this.bAjaxDataGet=!0,this.jqXHR=null,this.fnServerData=function(e,t,n,r){r.jqXHR=$.ajax({url:e,data:t,success:function(e){$(r.oInstance).trigger("xhr",r),n(e)},dataType:"json",cache:!1,error:function(e,t,n){t=="parsererror"&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},this.aoServerParams=[],this.fnFormatNumber=function(e){if(e<1e3)return e;var t=e+"",n=t.split(""),r="",i=t.length;for(var s=0;s<i;s++)s%3===0&&s!==0&&(r=this.oLanguage.sInfoThousands+r),r=n[i-s-1]+r;return r},this.aLengthMenu=[5,10,25,50,100],this.iDraw=0,this.bDrawing=0,this.iDrawError=-1,this._iDisplayLength=10,this._iDisplayStart=0,this._iDisplayEnd=10,this._iRecordsTotal=0,this._iRecordsDisplay=0,this.bJUI=!1,this.oClasses=_oExt.oStdClasses,this.bFiltered=!1,this.bSorted=!1,this.bSortCellsTop=!1,this.oInit=null,this.aoDestroyCallback=[]}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[e].apply(this,t)}}function _fnInitialise(e){var t,n,r=e.iInitDisplayStart;if(e.bInitialised===!1){setTimeout(function(){_fnInitialise(e)},200);return}_fnAddOptionsHtml(e),_fnBuildHead(e),_fnDrawHead(e,e.aoHeader),e.nTFoot&&_fnDrawHead(e,e.aoFooter),_fnProcessingDisplay(e,!0),e.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(e);for(t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].sWidth!==null&&(e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth));e.oFeatures.bSort?_fnSort(e):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e));if(e.sAjaxSource!==null&&!e.oFeatures.bServerSide){var i=[];_fnServerParams(e,i),e.fnServerData.call(e.oInstance,e.sAjaxSource,i,function(n){var i=n;if(e.sAjaxDataProp!==""){var s=_fnGetObjectDataFn(e.sAjaxDataProp);i=s(n)}for(t=0;t<i.length;t++)_fnAddData(e,i[t]);e.iInitDisplayStart=r,e.oFeatures.bSort?_fnSort(e):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),_fnProcessingDisplay(e,!1),_fnInitComplete(e,n)},e);return}e.oFeatures.bServerSide||(_fnProcessingDisplay(e,!1),_fnInitComplete(e))}function _fnInitComplete(e,t){e._bInitComplete=!0,typeof e.fnInitComplete=="function"&&(typeof t!="undefined"?e.fnInitComplete.call(e.oInstance,e,t):e.fnInitComplete.call(e.oInstance,e))}function _fnLanguageProcess(e,t,n){e.oLanguage=$.extend(!0,e.oLanguage,t),typeof t.sEmptyTable=="undefined"&&typeof t.sZeroRecords!="undefined"&&_fnMap(e.oLanguage,t,"sZeroRecords","sEmptyTable"),typeof t.sLoadingRecords=="undefined"&&typeof t.sZeroRecords!="undefined"&&_fnMap(e.oLanguage,t,"sZeroRecords","sLoadingRecords"),n&&_fnInitialise(e)}function _fnAddColumn(e,t){var n=e.aoColumns.length,r={sType:null,_bAutoType:!0,bVisible:!0,bSearchable:!0,bSortable:!0,asSorting:["asc","desc"],sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,sTitle:t?t.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:!0,iDataSort:n,mDataProp:n,fnGetData:null,fnSetData:null,sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:t?t:document.createElement("th"),nTf:null};e.aoColumns.push(r),typeof e.aoPreSearchCols[n]=="undefined"||e.aoPreSearchCols[n]===null?e.aoPreSearchCols[n]={sSearch:"",bRegex:!1,bSmart:!0}:(typeof e.aoPreSearchCols[n].bRegex=="undefined"&&(e.aoPreSearchCols[n].bRegex=!0),typeof e.aoPreSearchCols[n].bSmart=="undefined"&&(e.aoPreSearchCols[n].bSmart=!0)),_fnColumnOptions(e,n,null)}function _fnColumnOptions(e,t,n){var r=e.aoColumns[t];typeof n!="undefined"&&n!==null&&(typeof n.sType!="undefined"&&(r.sType=n.sType,r._bAutoType=!1),_fnMap(r,n,"bVisible"),_fnMap(r,n,"bSearchable"),_fnMap(r,n,"bSortable"),_fnMap(r,n,"sTitle"),_fnMap(r,n,"sName"),_fnMap(r,n,"sWidth"),_fnMap(r,n,"sWidth","sWidthOrig"),_fnMap(r,n,"sClass"),_fnMap(r,n,"fnRender"),_fnMap(r,n,"bUseRendered"),_fnMap(r,n,"iDataSort"),_fnMap(r,n,"mDataProp"),_fnMap(r,n,"asSorting"),_fnMap(r,n,"sSortDataType"),_fnMap(r,n,"sDefaultContent"),_fnMap(r,n,"sContentPadding")),r.fnGetData=_fnGetObjectDataFn(r.mDataProp),r.fnSetData=_fnSetObjectDataFn(r.mDataProp),e.oFeatures.bSort||(r.bSortable=!1),!r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortableNone,r.sSortingClassJUI=""):r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortable,r.sSortingClassJUI=e.oClasses.sSortJUI):$.inArray("asc",r.asSorting)!=-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortableAsc,r.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)!=-1&&(r.sSortingClass=e.oClasses.sSortableDesc,r.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function _fnAddData(e,t){var n,r=$.isArray(t)?t.slice():$.extend(!0,{},t),i=e.aoData.length,s={nTr:null,_iId:e.iNextId++,_aData:r,_anHidden:[],_sRowStripe:""};e.aoData.push(s);var o,u;for(var a=0,f=e.aoColumns.length;a<f;a++){n=e.aoColumns[a],typeof n.fnRender=="function"&&n.bUseRendered&&n.mDataProp!==null&&_fnSetCellData(e,i,a,n.fnRender({iDataRow:i,iDataColumn:a,aData:s._aData,oSettings:e}));if(n._bAutoType&&n.sType!="string"){var l=_fnGetCellData(e,i,a,"type");l!==null&&l!==""&&(u=_fnDetectType(l),n.sType===null?n.sType=u:n.sType!=u&&n.sType!="html"&&(n.sType="string"))}}return e.aiDisplayMaster.push(i),e.oFeatures.bDeferRender||_fnCreateTr(e,i),i}function _fnCreateTr(e,t){var n=e.aoData[t],r;if(n.nTr===null){n.nTr=document.createElement("tr"),typeof n._aData.DT_RowId!="undefined"&&n.nTr.setAttribute("id",n._aData.DT_RowId),typeof n._aData.DT_RowClass!="undefined"&&$(n.nTr).addClass(n._aData.DT_RowClass);for(var i=0,s=e.aoColumns.length;i<s;i++){var o=e.aoColumns[i];r=document.createElement("td"),typeof o.fnRender!="function"||!!o.bUseRendered&&o.mDataProp!==null?r.innerHTML=_fnGetCellData(e,t,i,"display"):r.innerHTML=o.fnRender({iDataRow:t,iDataColumn:i,aData:n._aData,oSettings:e}),o.sClass!==null&&(r.className=o.sClass),o.bVisible?(n.nTr.appendChild(r),n._anHidden[i]=null):n._anHidden[i]=r}}}function _fnGatherData(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;if(e.bDeferLoading||e.sAjaxSource===null){a=e.nTBody.childNodes;for(n=0,r=a.length;n<r;n++)if(a[n].nodeName.toUpperCase()=="TR"){c=e.aoData.length,e.aoData.push({nTr:a[n],_iId:e.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""}),e.aiDisplayMaster.push(c),u=a[n].childNodes,o=0;for(i=0,s=u.length;i<s;i++){m=u[i].nodeName.toUpperCase();if(m=="TD"||m=="TH")_fnSetCellData(e,c,o,$.trim(u[i].innerHTML)),o++}}}a=_fnGetTrNodes(e),u=[];for(n=0,r=a.length;n<r;n++)for(i=0,s=a[n].childNodes.length;i<s;i++)f=a[n].childNodes[i],m=f.nodeName.toUpperCase(),(m=="TD"||m=="TH")&&u.push(f);u.length!=a.length*e.aoColumns.length&&_fnLog(e,1,"Unexpected number of TD elements. Expected "+a.length*e.aoColumns.length+" and got "+u.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");for(d=0,v=e.aoColumns.length;d<v;d++){e.aoColumns[d].sTitle===null&&(e.aoColumns[d].sTitle=e.aoColumns[d].nTh.innerHTML);var g=e.aoColumns[d]._bAutoType,y=typeof e.aoColumns[d].fnRender=="function",b=e.aoColumns[d].sClass!==null,w=e.aoColumns[d].bVisible,E,S,x,T;if(g||y||b||!w)for(h=0,p=e.aoData.length;h<p;h++)E=u[h*v+d],g&&e.aoColumns[d].sType!="string"&&(T=_fnGetCellData(e,h,d,"type"),T!==""&&(S=_fnDetectType(T),e.aoColumns[d].sType===null?e.aoColumns[d].sType=S:e.aoColumns[d].sType!=S&&e.aoColumns[d].sType!="html"&&(e.aoColumns[d].sType="string"))),y&&(x=e.aoColumns[d].fnRender({iDataRow:h,iDataColumn:d,aData:e.aoData[h]._aData,oSettings:e}),E.innerHTML=x,e.aoColumns[d].bUseRendered&&_fnSetCellData(e,h,d,x)),b&&(E.className+=" "+e.aoColumns[d].sClass),w?e.aoData[h]._anHidden[d]=null:(e.aoData[h]._anHidden[d]=E,E.parentNode.removeChild(E))}}function _fnBuildHead(e){var t,n,r,i,s,o=e.nTHead.getElementsByTagName("tr"),u=e.nTHead.getElementsByTagName("th").length,a=0,f;if(u!==0)for(t=0,r=e.aoColumns.length;t<r;t++)n=e.aoColumns[t].nTh,e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{var l=document.createElement("tr");for(t=0,r=e.aoColumns.length;t<r;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass),l.appendChild(n);$(e.nTHead).html("")[0].appendChild(l),_fnDetectHeader(e.aoHeader,e.nTHead)}if(e.bJUI)for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;var c=document.createElement("div");c.className=e.oClasses.sSortJUIWrapper,$(n).contents().appendTo(c);var h=document.createElement("span");h.className=e.oClasses.sSortIcon,c.appendChild(h),n.appendChild(c)}var p=function(e){return this.onselectstart=function(){return!1},!1};if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)e.aoColumns[t].bSortable!==!1?(_fnSortAttachListener(e,e.aoColumns[t].nTh,t),$(e.aoColumns[t].nTh).bind("mousedown.DT",p)):$(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);e.oClasses.sFooterTH!==""&&$(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH);if(e.nTFoot!==null){var d=_fnGetUniqueThs(e,null,e.aoFooter);for(t=0,r=e.aoColumns.length;t<r;t++)typeof d[t]!="undefined"&&(e.aoColumns[t].nTf=d[t])}}function _fnDrawHead(e,t,n){var r,i,s,o,u,a,f=[],l=[],c=e.aoColumns.length,h,p;typeof n=="undefined"&&(n=!1);for(r=0,i=t.length;r<i;r++){f[r]=t[r].slice(),f[r].nTr=t[r].nTr;for(s=c-1;s>=0;s--)!e.aoColumns[s].bVisible&&!n&&f[r].splice(s,1);l.push([])}for(r=0,i=f.length;r<i;r++){if(f[r].nTr)for(u=0,a=f[r].nTr.childNodes.length;u<a;u++)f[r].nTr.removeChild(f[r].nTr.childNodes[0]);for(s=0,o=f[r].length;s<o;s++){h=1,p=1;if(typeof l[r][s]=="undefined"){f[r].nTr.appendChild(f[r][s].cell),l[r][s]=1;while(typeof f[r+h]!="undefined"&&f[r][s].cell==f[r+h][s].cell)l[r+h][s]=1,h++;while(typeof f[r][s+p]!="undefined"&&f[r][s].cell==f[r][s+p].cell){for(u=0;u<h;u++)l[r+u][s+p]=1;p++}f[r][s].cell.rowSpan=h,f[r][s].cell.colSpan=p}}}}function _fnDraw(e){var t,n,r=[],i=0,s=!1,o=e.asStripeClasses.length,u=e.aoOpenRows.length;if(e.fnPreDrawCallback!==null&&e.fnPreDrawCallback.call(e.oInstance,e)===!1)return;e.bDrawing=!0,typeof e.iInitDisplayStart!="undefined"&&e.iInitDisplayStart!=-1&&(e.oFeatures.bServerSide?e._iDisplayStart=e.iInitDisplayStart:e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,_fnCalculateEnd(e));if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(!e.oFeatures.bServerSide)e.iDraw++;else if(!e.bDestroying&&!_fnAjaxUpdate(e))return;if(e.aiDisplay.length!==0){var a=e._iDisplayStart,f=e._iDisplayEnd;e.oFeatures.bServerSide&&(a=0,f=e.aoData.length);for(var l=a;l<f;l++){var c=e.aoData[e.aiDisplay[l]];c.nTr===null&&_fnCreateTr(e,e.aiDisplay[l]);var h=c.nTr;if(o!==0){var p=e.asStripeClasses[i%o];c._sRowStripe!=p&&($(h).removeClass(c._sRowStripe).addClass(p),c._sRowStripe=p)}typeof e.fnRowCallback=="function"&&(h=e.fnRowCallback.call(e.oInstance,h,e.aoData[e.aiDisplay[l]]._aData,i,l),!h&&!s&&(_fnLog(e,0,"A node was not returned by fnRowCallback"),s=!0)),r.push(h),i++;if(u!==0)for(var d=0;d<u;d++)h==e.aoOpenRows[d].nParent&&r.push(e.aoOpenRows[d].nTr)}}else{r[0]=document.createElement("tr"),typeof e.asStripeClasses[0]!="undefined"&&(r[0].className=e.asStripeClasses[0]);var v=e.oLanguage.sZeroRecords.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()));e.iDraw==1&&e.sAjaxSource!==null&&!e.oFeatures.bServerSide?v=e.oLanguage.sLoadingRecords:typeof e.oLanguage.sEmptyTable!="undefined"&&e.fnRecordsTotal()===0&&(v=e.oLanguage.sEmptyTable);var m=document.createElement("td");m.setAttribute("valign","top"),m.colSpan=_fnVisbleColumns(e),m.className=e.oClasses.sRowEmpty,m.innerHTML=v,r[i].appendChild(m)}typeof e.fnHeaderCallback=="function"&&e.fnHeaderCallback.call(e.oInstance,$(e.nTHead).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay),typeof e.fnFooterCallback=="function"&&e.fnFooterCallback.call(e.oInstance,$(e.nTFoot).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay);var g=document.createDocumentFragment(),y=document.createDocumentFragment(),b,w;if(e.nTBody){b=e.nTBody.parentNode,y.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered){w=e.nTBody.childNodes;for(t=w.length-1;t>=0;t--)w[t].parentNode.removeChild(w[t])}for(t=0,n=r.length;t<n;t++)g.appendChild(r[t]);e.nTBody.appendChild(g),b!==null&&b.appendChild(e.nTBody)}for(t=e.aoDrawCallback.length-1;t>=0;t--)e.aoDrawCallback[t].fn.call(e.oInstance,e);$(e.oInstance).trigger("draw",e),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(_fnProcessingDisplay(e,!1),typeof e._bInitComplete=="undefined"&&_fnInitComplete(e))}function _fnReDraw(e){e.oFeatures.bSort?_fnSort(e,e.oPreviousSearch):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(_fnCalculateEnd(e),_fnDraw(e))}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++,_fnProcessingDisplay(e,!0);var t=e.aoColumns.length,n=_fnAjaxParameters(e);return _fnServerParams(e,n),e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(t){_fnAjaxUpdateDraw(e,t)},e),!1}return!0}function _fnAjaxParameters(e){var t=e.aoColumns.length,n=[],r,i;n.push({name:"sEcho",value:e.iDraw}),n.push({name:"iColumns",value:t}),n.push({name:"sColumns",value:_fnColumnOrdering(e)}),n.push({name:"iDisplayStart",value:e._iDisplayStart}),n.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1});for(i=0;i<t;i++)r=e.aoColumns[i].mDataProp,n.push({name:"mDataProp_"+i,value:typeof r=="function"?"function":r});if(e.oFeatures.bFilter!==!1){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(i=0;i<t;i++)n.push({name:"sSearch_"+i,value:e.aoPreSearchCols[i].sSearch}),n.push({name:"bRegex_"+i,value:e.aoPreSearchCols[i].bRegex}),n.push({name:"bSearchable_"+i,value:e.aoColumns[i].bSearchable})}if(e.oFeatures.bSort!==!1){var s=e.aaSortingFixed!==null?e.aaSortingFixed.length:0,o=e.aaSorting.length;n.push({name:"iSortingCols",value:s+o});for(i=0;i<s;i++)n.push({name:"iSortCol_"+i,value:e.aaSortingFixed[i][0]}),n.push({name:"sSortDir_"+i,value:e.aaSortingFixed[i][1]});for(i=0;i<o;i++)n.push({name:"iSortCol_"+(i+s),value:e.aaSorting[i][0]}),n.push({name:"sSortDir_"+(i+s),value:e.aaSorting[i][1]});for(i=0;i<t;i++)n.push({name:"bSortable_"+i,value:e.aoColumns[i].bSortable})}return n}function _fnServerParams(e,t){for(var n=0,r=e.aoServerParams.length;n<r;n++)e.aoServerParams[n].fn.call(e.oInstance,t)}function _fnAjaxUpdateDraw(e,t){if(typeof t.sEcho!="undefined"){if(t.sEcho*1<e.iDraw)return;e.iDraw=t.sEcho*1}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&_fnClearTable(e),e._iRecordsTotal=t.iTotalRecords,e._iRecordsDisplay=t.iTotalDisplayRecords;var n=_fnColumnOrdering(e),r=typeof t.sColumns!="undefined"&&n!==""&&t.sColumns!=n;if(r)var i=_fnReOrderIndex(e,t.sColumns);var s=_fnGetObjectDataFn(e.sAjaxDataProp),o=s(t);for(var u=0,a=o.length;u<a;u++)if(r){var f=[];for(var l=0,c=e.aoColumns.length;l<c;l++)f.push(o[u][i[l]]);_fnAddData(e,f)}else _fnAddData(e,o[u]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,_fnDraw(e),e.bAjaxDataGet=!0,_fnProcessingDisplay(e,!1)}function _fnAddOptionsHtml(e){var t=document.createElement("div");e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=document.createElement("div"),e.nTableWrapper.className=e.oClasses.sWrapper,e.sTableId!==""&&e.nTableWrapper.setAttribute("id",e.sTableId+"_wrapper"),e.nTableReinsertBefore=e.nTable.nextSibling;var n=e.nTableWrapper,r=e.sDom.split(""),i,s,o,u,a,f,l;for(var c=0;c<r.length;c++){s=0,o=r[c];if(o=="<"){u=document.createElement("div"),a=r[c+1];if(a=="'"||a=='"'){f="",l=2;while(r[c+l]!=a)f+=r[c+l],l++;f=="H"?f="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":f=="F"&&(f="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");if(f.indexOf(".")!=-1){var h=f.split(".");u.setAttribute("id",h[0].substr(1,h[0].length-1)),u.className=h[1]}else f.charAt(0)=="#"?u.setAttribute("id",f.substr(1,f.length-1)):u.className=f;c+=l}n.appendChild(u),n=u}else if(o==">")n=n.parentNode;else if(o=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=_fnFeatureHtmlLength(e),s=1;else if(o=="f"&&e.oFeatures.bFilter)i=_fnFeatureHtmlFilter(e),s=1;else if(o=="r"&&e.oFeatures.bProcessing)i=_fnFeatureHtmlProcessing(e),s=1;else if(o=="t")i=_fnFeatureHtmlTable(e),s=1;else if(o=="i"&&e.oFeatures.bInfo)i=_fnFeatureHtmlInfo(e),s=1;else if(o=="p"&&e.oFeatures.bPaginate)i=_fnFeatureHtmlPaginate(e),s=1;else if(_oExt.aoFeatures.length!==0){var p=_oExt.aoFeatures;for(var d=0,v=p.length;d<v;d++)if(o==p[d].cFeature){i=p[d].fnInit(e),i&&(s=1);break}}s==1&&i!==null&&(typeof e.aanFeatures[o]!="object"&&(e.aanFeatures[o]=[]),e.aanFeatures[o].push(i),n.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnFeatureHtmlTable(e){if(e.oScroll.sX===""&&e.oScroll.sY==="")return e.nTable;var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),u=e.nTable.cloneNode(!1),a=e.nTable.cloneNode(!1),f=e.nTable.getElementsByTagName("thead")[0],l=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],c=typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI?_oExt.oJUIClasses:_oExt.oStdClasses;n.appendChild(r),s.appendChild(o),i.appendChild(e.nTable),t.appendChild(n),t.appendChild(i),r.appendChild(u),u.appendChild(f),l!==null&&(t.appendChild(s),o.appendChild(a),a.appendChild(l)),t.className=c.sScrollWrapper,n.className=c.sScrollHead,r.className=c.sScrollHeadInner,i.className=c.sScrollBody,s.className=c.sScrollFoot,o.className=c.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",s.style.overflow="hidden",i.style.overflow="auto"),n.style.border="0",n.style.width="100%",s.style.border="0",r.style.width="150%",u.removeAttribute("id"),u.style.marginLeft="0",e.nTable.style.marginLeft="0",l!==null&&(a.removeAttribute("id"),a.style.marginLeft="0");var h=$(e.nTable).children("caption");for(var p=0,d=h.length;p<d;p++)u.appendChild(h[p]);return e.oScroll.sX!==""&&(n.style.width=_fnStringToCss(e.oScroll.sX),i.style.width=_fnStringToCss(e.oScroll.sX),l!==null&&(s.style.width=_fnStringToCss(e.oScroll.sX)),$(i).scroll(function(e){n.scrollLeft=this.scrollLeft,l!==null&&(s.scrollLeft=this.scrollLeft)})),e.oScroll.sY!==""&&(i.style.height=_fnStringToCss(e.oScroll.sY)),e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),e.oScroll.bInfinite&&$(i).scroll(function(){e.bDrawing||$(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(_fnPageChange(e,"next"),_fnCalculateEnd(e),_fnDraw(e))}),e.nScrollHead=n,e.nScrollFoot=s,t}function _fnScrollDraw(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,i,s,o,u,a,f,l,c,h,p,d,v=[],m,g=e.nTFoot!==null?e.nScrollFoot.getElementsByTagName("div")[0]:null,y=e.nTFoot!==null?g.getElementsByTagName("table")[0]:null,b=$.browser.msie&&$.browser.version<=7,w=e.nTable.getElementsByTagName("thead");w.length>0&&e.nTable.removeChild(w[0]);if(e.nTFoot!==null){var E=e.nTable.getElementsByTagName("tfoot");E.length>0&&e.nTable.removeChild(E[0])}w=e.nTHead.cloneNode(!0),e.nTable.insertBefore(w,e.nTable.childNodes[0]),e.nTFoot!==null&&(E=e.nTFoot.cloneNode(!0),e.nTable.insertBefore(E,e.nTable.childNodes[1])),e.oScroll.sX===""&&(r.style.width="100%",t.parentNode.style.width="100%");var S=_fnGetUniqueThs(e,w);for(i=0,s=S.length;i<s;i++)p=_fnVisibleToColumnIndex(e,i),S[i].style.width=e.aoColumns[p].sWidth;e.nTFoot!==null&&_fnApplyToChildren
(function(e){e.style.width=""},E.getElementsByTagName("tr")),m=$(e.nTable).outerWidth(),e.oScroll.sX===""?(e.nTable.style.width="100%",b&&(r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth))):e.oScroll.sXInner!==""?e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner):m==$(r).width()&&$(r).height()<$(e.nTable).height()?(e.nTable.style.width=_fnStringToCss(m-e.oScroll.iBarWidth),$(e.nTable).outerWidth()>m-e.oScroll.iBarWidth&&(e.nTable.style.width=_fnStringToCss(m))):e.nTable.style.width=_fnStringToCss(m),m=$(e.nTable).outerWidth(),a=e.nTHead.getElementsByTagName("tr"),f=w.getElementsByTagName("tr"),_fnApplyToChildren(function(e,t){h=e.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,d=$(e).width(),t.style.width=_fnStringToCss(d),v.push(d)},f,a),$(f).height(0),e.nTFoot!==null&&(l=E.getElementsByTagName("tr"),c=e.nTFoot.getElementsByTagName("tr"),_fnApplyToChildren(function(e,t){h=e.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,d=$(e).width(),t.style.width=_fnStringToCss(d),v.push(d)},l,c),$(l).height(0)),_fnApplyToChildren(function(e){e.innerHTML="",e.style.width=_fnStringToCss(v.shift())},f),e.nTFoot!==null&&_fnApplyToChildren(function(e){e.innerHTML="",e.style.width=_fnStringToCss(v.shift())},l);if($(e.nTable).outerWidth()<m){var x=r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll"?m+e.oScroll.iBarWidth:m;b&&(r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=_fnStringToCss(x-e.oScroll.iBarWidth)),r.style.width=_fnStringToCss(x),t.parentNode.style.width=_fnStringToCss(x),e.nTFoot!==null&&(g.parentNode.style.width=_fnStringToCss(x)),e.oScroll.sX===""?_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):e.oScroll.sXInner!==""&&_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else r.style.width=_fnStringToCss("100%"),t.parentNode.style.width=_fnStringToCss("100%"),e.nTFoot!==null&&(g.parentNode.style.width=_fnStringToCss("100%"));e.oScroll.sY===""&&b&&(r.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth));if(e.oScroll.sY!==""&&e.oScroll.bCollapse){r.style.height=_fnStringToCss(e.oScroll.sY);var T=e.oScroll.sX!==""&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0;e.nTable.offsetHeight<r.offsetHeight&&(r.style.height=_fnStringToCss($(e.nTable).height()+T))}var N=$(e.nTable).outerWidth();n.style.width=_fnStringToCss(N),t.style.width=_fnStringToCss(N+e.oScroll.iBarWidth),e.nTFoot!==null&&(g.style.width=_fnStringToCss(e.nTable.offsetWidth+e.oScroll.iBarWidth),y.style.width=_fnStringToCss(e.nTable.offsetWidth));if(e.bSorted||e.bFiltered)r.scrollTop=0}function _fnAdjustColumnSizing(e){if(e.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function _fnFeatureHtmlFilter(e){var t=e.oLanguage.sSearch;t=t.indexOf("_INPUT_")!==-1?t.replace("_INPUT_",'<input type="text" />'):t===""?'<input type="text" />':t+' <input type="text" placeholder="输入关键词..." /><div class="srch"></div>';var n=document.createElement("div");n.className=e.oClasses.sFilter,n.innerHTML="<label>"+t+"</label>",e.sTableId!==""&&typeof e.aanFeatures.f=="undefined"&&n.setAttribute("id",e.sTableId+"_filter");var r=$("input",n);return r.val(e.oPreviousSearch.sSearch.replace('"',"&quot;")),r.bind("keyup.DT",function(t){var n=e.aanFeatures.f;for(var r=0,i=n.length;r<i;r++)n[r]!=$(this).parents("div.dataTables_filter")[0]&&$("input",n[r]).val(this.value);this.value!=e.oPreviousSearch.sSearch&&_fnFilterComplete(e,{sSearch:this.value,bRegex:e.oPreviousSearch.bRegex,bSmart:e.oPreviousSearch.bSmart})}),r.bind("keypress.DT",function(e){if(e.keyCode==13)return!1}),n}function _fnFilterComplete(e,t,n){_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart);for(var r=0;r<e.aoPreSearchCols.length;r++)_fnFilterColumn(e,e.aoPreSearchCols[r].sSearch,r,e.aoPreSearchCols[r].bRegex,e.aoPreSearchCols[r].bSmart);_oExt.afnFiltering.length!==0&&_fnFilterCustom(e),e.bFiltered=!0,$(e.oInstance).trigger("filter",e),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e),_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){var t=_oExt.afnFiltering;for(var n=0,r=t.length;n<r;n++){var i=0;for(var s=0,o=e.aiDisplay.length;s<o;s++){var u=e.aiDisplay[s-i];t[n](e,_fnGetRowData(e,u,"filter"),u)||(e.aiDisplay.splice(s-i,1),i++)}}}function _fnFilterColumn(e,t,n,r,i){if(t==="")return;var s=0,o=_fnFilterCreateSearch(t,r,i);for(var u=e.aiDisplay.length-1;u>=0;u--){var a=_fnDataToSearch(_fnGetCellData(e,e.aiDisplay[u],n,"filter"),e.aoColumns[n].sType);o.test(a)||(e.aiDisplay.splice(u,1),s++)}}function _fnFilter(e,t,n,r,i){var s,o=_fnFilterCreateSearch(t,r,i);if(typeof n=="undefined"||n===null)n=0;_oExt.afnFiltering.length!==0&&(n=1);if(t.length<=0)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||e.oPreviousSearch.sSearch.length>t.length||n==1||t.indexOf(e.oPreviousSearch.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length),_fnBuildSearchArray(e,1);for(s=0;s<e.aiDisplayMaster.length;s++)o.test(e.asDataSearch[s])&&e.aiDisplay.push(e.aiDisplayMaster[s])}else{var u=0;for(s=0;s<e.asDataSearch.length;s++)o.test(e.asDataSearch[s])||(e.aiDisplay.splice(s-u,1),u++)}e.oPreviousSearch.sSearch=t,e.oPreviousSearch.bRegex=r,e.oPreviousSearch.bSmart=i}function _fnBuildSearchArray(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch.splice(0,e.asDataSearch.length);var n=typeof t!="undefined"&&t==1?e.aiDisplayMaster:e.aiDisplay;for(var r=0,i=n.length;r<i;r++)e.asDataSearch[r]=_fnBuildSearchRow(e,_fnGetRowData(e,n[r],"filter"))}}function _fnBuildSearchRow(e,t){var n="";typeof e.__nTmpFilter=="undefined"&&(e.__nTmpFilter=document.createElement("div"));var r=e.__nTmpFilter;for(var i=0,s=e.aoColumns.length;i<s;i++)if(e.aoColumns[i].bSearchable){var o=t[i];n+=_fnDataToSearch(o,e.aoColumns[i].sType)+"  "}return n.indexOf("&")!==-1&&(r.innerHTML=n,n=r.textContent?r.textContent:r.innerText,n=n.replace(/\n/g," ").replace(/\r/g,"")),n}function _fnFilterCreateSearch(e,t,n){var r,i;return n?(r=t?e.split(" "):_fnEscapeRegex(e).split(" "),i="^(?=.*?"+r.join(")(?=.*?")+").*$",new RegExp(i,"i")):(e=t?e:_fnEscapeRegex(e),new RegExp(e,"i"))}function _fnDataToSearch(e,t){return typeof _oExt.ofnSearch[t]=="function"?_oExt.ofnSearch[t](e):t=="html"?e.replace(/\n/g," ").replace(/<.*?>/g,""):typeof e=="string"?e.replace(/\n/g," "):e===null?"":e}function _fnSort(e,t){var n,r,i,s,o,u,a=[],f=[],l=_oExt.oSort,c=e.aoData,h=e.aoColumns;if(!e.oFeatures.bServerSide&&(e.aaSorting.length!==0||e.aaSortingFixed!==null)){e.aaSortingFixed!==null?a=e.aaSortingFixed.concat(e.aaSorting):a=e.aaSorting.slice();for(i=0;i<a.length;i++){var p=a[i][0],d=_fnColumnIndexToVisible(e,p),v=e.aoColumns[p].sSortDataType;if(typeof _oExt.afnSortData[v]!="undefined"){var m=_oExt.afnSortData[v](e,p,d);for(o=0,u=c.length;o<u;o++)_fnSetCellData(e,o,p,m[o])}}for(i=0,s=e.aiDisplayMaster.length;i<s;i++)f[e.aiDisplayMaster[i]]=i;var g=a.length;e.aiDisplayMaster.sort(function(t,n){var r,s,o;for(i=0;i<g;i++){s=h[a[i][0]].iDataSort,o=h[s].sType,r=l[(o?o:"string")+"-"+a[i][1]](_fnGetCellData(e,t,s,"sort"),_fnGetCellData(e,n,s,"sort"));if(r!==0)return r}return l["numeric-asc"](f[t],f[n])})}(typeof t=="undefined"||t)&&!e.oFeatures.bDeferRender&&_fnSortingClasses(e),e.bSorted=!0,$(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e))}function _fnSortAttachListener(e,t,n,r){$(t).bind("click.DT",function(t){if(e.aoColumns[n].bSortable===!1)return;var i=function(){var r,i;if(t.shiftKey){var s=!1;for(var o=0;o<e.aaSorting.length;o++)if(e.aaSorting[o][0]==n){s=!0,r=e.aaSorting[o][0],i=e.aaSorting[o][2]+1,typeof e.aoColumns[r].asSorting[i]=="undefined"?e.aaSorting.splice(o,1):(e.aaSorting[o][1]=e.aoColumns[r].asSorting[i],e.aaSorting[o][2]=i);break}s===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else e.aaSorting.length==1&&e.aaSorting[0][0]==n?(r=e.aaSorting[0][0],i=e.aaSorting[0][2]+1,typeof e.aoColumns[r].asSorting[i]=="undefined"&&(i=0),e.aaSorting[0][1]=e.aoColumns[r].asSorting[i],e.aaSorting[0][2]=i):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));_fnSort(e)};e.oFeatures.bProcessing?(_fnProcessingDisplay(e,!0),setTimeout(function(){i(),e.oFeatures.bServerSide||_fnProcessingDisplay(e,!1)},0)):i(),typeof r=="function"&&r(e)})}function _fnSortingClasses(e){var t,n,r,i,s,o,u,a=e.aoColumns.length,f=e.oClasses;for(t=0;t<a;t++)e.aoColumns[t].bSortable&&$(e.aoColumns[t].nTh).removeClass(f.sSortAsc+" "+f.sSortDesc+" "+e.aoColumns[t].sSortingClass);e.aaSortingFixed!==null?o=e.aaSortingFixed.concat(e.aaSorting):o=e.aaSorting.slice();for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){u=e.aoColumns[t].sSortingClass,s=-1;for(r=0;r<o.length;r++)if(o[r][0]==t){u=o[r][1]=="asc"?f.sSortAsc:f.sSortDesc,s=r;break}$(e.aoColumns[t].nTh).addClass(u);if(e.bJUI){var l=$("span",e.aoColumns[t].nTh);l.removeClass(f.sSortJUIAsc+" "+f.sSortJUIDesc+" "+f.sSortJUI+" "+f.sSortJUIAscAllowed+" "+f.sSortJUIDescAllowed);var c;s==-1?c=e.aoColumns[t].sSortingClassJUI:o[s][1]=="asc"?c=f.sSortJUIAsc:c=f.sSortJUIDesc,l.addClass(c)}}else $(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);u=f.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){var h=_fnGetTdNodes(e);if(e.oFeatures.bDeferRender)$(h).removeClass(u+"1 "+u+"2 "+u+"3");else if(h.length>=a)for(t=0;t<a;t++)if(h[t].className.indexOf(u+"1")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"1",""));else if(h[t].className.indexOf(u+"2")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"2",""));else if(h[t].className.indexOf(u+"3")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(" "+u+"3",""));var p=1,d;for(t=0;t<o.length;t++){d=parseInt(o[t][0],10);for(r=0,i=h.length/a;r<i;r++)h[a*r+d].className+=" "+u+p;p<3&&p++}}}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite)return null;var t=document.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,_oExt.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e),_fnDraw(e)}),typeof e.aanFeatures.p=="undefined"&&e.aoDrawCallback.push({fn:function(e){_oExt.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e),_fnDraw(e)})},sName:"pagination"}),t}function _fnPageChange(e,t){var n=e._iDisplayStart;if(t=="first")e._iDisplayStart=0;else if(t=="previous")e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0,e._iDisplayStart<0&&(e._iDisplayStart=0);else if(t=="next")e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if(t=="last")if(e._iDisplayLength>=0){var r=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(r-1)*e._iDisplayLength}else e._iDisplayStart=0;else _fnLog(e,0,"Unknown paging action: "+t);return $(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");return t.className=e.oClasses.sInfo,typeof e.aanFeatures.i=="undefined"&&(e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),e.sTableId!==""&&t.setAttribute("id",e.sTableId+"_info")),t}function _fnUpdateInfo(e){if(!e.oFeatures.bInfo||e.aanFeatures.i.length===0)return;var t=e._iDisplayStart+1,n=e.fnDisplayEnd(),r=e.fnRecordsTotal(),i=e.fnRecordsDisplay(),s=e.fnFormatNumber(t),o=e.fnFormatNumber(n),u=e.fnFormatNumber(r),a=e.fnFormatNumber(i),f;e.oScroll.bInfinite&&(s=e.fnFormatNumber(1)),e.fnRecordsDisplay()===0&&e.fnRecordsDisplay()==e.fnRecordsTotal()?f=e.oLanguage.sInfoEmpty+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()===0?f=e.oLanguage.sInfoEmpty+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",u)+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()==e.fnRecordsTotal()?f=e.oLanguage.sInfo.replace("_START_",s).replace("_END_",o).replace("_TOTAL_",a)+e.oLanguage.sInfoPostFix:f=e.oLanguage.sInfo.replace("_START_",s).replace("_END_",o).replace("_TOTAL_",a)+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()))+e.oLanguage.sInfoPostFix,e.oLanguage.fnInfoCallback!==null&&(f=e.oLanguage.fnInfoCallback(e,t,n,r,i,f));var l=e.aanFeatures.i;for(var c=0,h=l.length;c<h;c++)$(l[c]).html(f)}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite)return null;var t=e.sTableId===""?"":'name="'+e.sTableId+'_length"',n='<select size="1" '+t+">",r,i;if(e.aLengthMenu.length==2&&typeof e.aLengthMenu[0]=="object"&&typeof e.aLengthMenu[1]=="object")for(r=0,i=e.aLengthMenu[0].length;r<i;r++)n+='<option value="'+e.aLengthMenu[0][r]+'">'+e.aLengthMenu[1][r]+"</option>";else for(r=0,i=e.aLengthMenu.length;r<i;r++)n+='<option value="'+e.aLengthMenu[r]+'">'+e.aLengthMenu[r]+"</option>";n+="</select>";var s=document.createElement("div");return e.sTableId!==""&&typeof e.aanFeatures.l=="undefined"&&s.setAttribute("id",e.sTableId+"_length"),s.className=e.oClasses.sLength,s.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",n)+"</label>",$('select option[value="'+e._iDisplayLength+'"]',s).attr("selected",!0),$("select",s).bind("change.DT",function(t){var n=$(this).val(),s=e.aanFeatures.l;for(r=0,i=s.length;r<i;r++)s[r]!=this.parentNode&&$("select",s[r]).val(n);e._iDisplayLength=parseInt(n,10),_fnCalculateEnd(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),_fnDraw(e)}),s}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");return e.sTableId!==""&&typeof e.aanFeatures.r=="undefined"&&t.setAttribute("id",e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing){var n=e.aanFeatures.r;for(var r=0,i=n.length;r<i;r++)n[r].style.visibility=t?"visible":"hidden"}}function _fnVisibleToColumnIndex(e,t){var n=-1;for(var r=0;r<e.aoColumns.length;r++){e.aoColumns[r].bVisible===!0&&n++;if(n==t)return r}return null}function _fnColumnIndexToVisible(e,t){var n=-1;for(var r=0;r<e.aoColumns.length;r++){e.aoColumns[r].bVisible===!0&&n++;if(r==t)return e.aoColumns[r].bVisible===!0?n:null}return null}function _fnNodeToDataIndex(e,t){var n,r;for(n=e._iDisplayStart,r=e._iDisplayEnd;n<r;n++)if(e.aoData[e.aiDisplay[n]].nTr==t)return e.aiDisplay[n];for(n=0,r=e.aoData.length;n<r;n++)if(e.aoData[n].nTr==t)return n;return null}function _fnVisbleColumns(e){var t=0;for(var n=0;n<e.aoColumns.length;n++)e.aoColumns[n].bVisible===!0&&t++;return t}function _fnCalculateEnd(e){e.oFeatures.bPaginate===!1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||e._iDisplayLength==-1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayEnd=e._iDisplayStart+e._iDisplayLength}function _fnConvertToWidth(e,t){if(!e||e===null||e==="")return 0;typeof t=="undefined"&&(t=document.getElementsByTagName("body")[0]);var n,r=document.createElement("div");return r.style.width=_fnStringToCss(e),t.appendChild(r),n=r.offsetWidth,t.removeChild(r),n}function _fnCalculateColumnWidths(e){var t=e.nTable.offsetWidth,n=0,r,i=0,s=e.aoColumns.length,o,u,a,f,l=$("th",e.nTHead);for(o=0;o<s;o++)e.aoColumns[o].bVisible&&(i++,e.aoColumns[o].sWidth!==null&&(r=_fnConvertToWidth(e.aoColumns[o].sWidthOrig,e.nTable.parentNode),r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r)),n++));if(s==l.length&&n===0&&i==s&&e.oScroll.sX===""&&e.oScroll.sY==="")for(o=0;o<e.aoColumns.length;o++)r=$(l[o]).width(),r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r));else{var c=e.nTable.cloneNode(!1),h=e.nTHead.cloneNode(!0),p=document.createElement("tbody"),d=document.createElement("tr"),v;c.removeAttribute("id"),c.appendChild(h),e.nTFoot!==null&&(c.appendChild(e.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(e){e.style.width=""},c.getElementsByTagName("tr"))),c.appendChild(p),p.appendChild(d);var m=$("thead th",c);m.length===0&&(m=$("tbody tr:eq(0)>td",c));var g=_fnGetUniqueThs(e,h);a=0;for(o=0;o<s;o++){var y=e.aoColumns[o];y.bVisible&&y.sWidthOrig!==null&&y.sWidthOrig!==""?g[o-a].style.width=_fnStringToCss(y.sWidthOrig):y.bVisible?g[o-a].style.width="":a++}for(o=0;o<s;o++)if(e.aoColumns[o].bVisible){var b=_fnGetWidestNode(e,o);b!==null&&(b=b.cloneNode(!0),e.aoColumns[o].sContentPadding!==""&&(b.innerHTML+=e.aoColumns[o].sContentPadding),d.appendChild(b))}var w=e.nTable.parentNode;w.appendChild(c),e.oScroll.sX!==""&&e.oScroll.sXInner!==""?c.style.width=_fnStringToCss(e.oScroll.sXInner):e.oScroll.sX!==""?(c.style.width="",$(c).width()<w.offsetWidth&&(c.style.width=_fnStringToCss(w.offsetWidth))):e.oScroll.sY!==""&&(c.style.width=_fnStringToCss(w.offsetWidth)),c.style.visibility="hidden",_fnScrollingWidthAdjust(e,c);var E=$("tbody tr:eq(0)",c).children();E.length===0&&(E=_fnGetUniqueThs(e,$("thead",c)[0]));if(e.oScroll.sX!==""){var S=0;a=0;for(o=0;o<e.aoColumns.length;o++)e.aoColumns[o].bVisible&&(e.aoColumns[o].sWidthOrig===null?S+=$(E[a]).outerWidth():S+=parseInt(e.aoColumns[o].sWidth.replace("px",""),10)+($(E[a]).outerWidth()-$(E[a]).width()),a++);c.style.width=_fnStringToCss(S),e.nTable.style.width=_fnStringToCss(S)}a=0;for(o=0;o<e.aoColumns.length;o++)e.aoColumns[o].bVisible&&(f=$(E[a]).width(),f!==null&&f>0&&(e.aoColumns[o].sWidth=_fnStringToCss(f)),a++);e.nTable.style.width=_fnStringToCss($(c).outerWidth()),c.parentNode.removeChild(c)}}function _fnScrollingWidthAdjust(e,t){if(e.oScroll.sX===""&&e.oScroll.sY!==""){var n=$(t).width();t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)}else e.oScroll.sX!==""&&(t.style.width=_fnStringToCss($(t).outerWidth()))}function _fnGetWidestNode(e,t){var n=_fnGetMaxLenString(e,t);if(n<0)return null;if(e.aoData[n].nTr===null){var r=document.createElement("td");return r.innerHTML=_fnGetCellData(e,n,t,""),r}return _fnGetTdNodes(e,n)[t]}function _fnGetMaxLenString(e,t){var n=-1,r=-1;for(var i=0;i<e.aoData.length;i++){var s=_fnGetCellData(e,i,t,"display")+"";s=s.replace(/<.*?>/g,""),s.length>n&&(n=s.length,r=i)}return r}function _fnStringToCss(e){if(e===null)return"0px";if(typeof e=="number")return e<0?"0px":e+"px";var t=e.charCodeAt(e.length-1);return t<48||t>57?e:e+"px"}function _fnArrayCmp(e,t){if(e.length!=t.length)return 1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return 2;return 0}function _fnDetectType(e){var t=_oExt.aTypes,n=t.length;for(var r=0;r<n;r++){var i=t[r](e);if(i!==null)return i}return"string"}function _fnSettingsFromNode(e){for(var t=0;t<_aoSettings.length;t++)if(_aoSettings[t].nTable==e)return _aoSettings[t];return null}function _fnGetDataMaster(e){var t=[],n=e.aoData.length;for(var r=0;r<n;r++)t.push(e.aoData[r]._aData);return t}function _fnGetTrNodes(e){var t=[];for(var n=0,r=e.aoData.length;n<r;n++)e.aoData[n].nTr!==null&&t.push(e.aoData[n].nTr);return t}function _fnGetTdNodes(e,t){var n=[],r,i,s,o=e.aoData.length,u,a,f,l,c=0,h=o;typeof t!="undefined"&&(c=t,h=t+1);for(s=c;s<h;s++){f=e.aoData[s];if(f.nTr!==null){i=[];for(u=0,a=f.nTr.childNodes.length;u<a;u++)l=f.nTr.childNodes[u].nodeName.toLowerCase(),(l=="td"||l=="th")&&i.push(f.nTr.childNodes[u]);r=0;for(u=0,a=e.aoColumns.length;u<a;u++)e.aoColumns[u].bVisible?n.push(i[u-r]):(n.push(f._anHidden[u]),r++)}}return n}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"],n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnDeleteIndex(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++)e[r]==t?n=r:e[r]>t&&e[r]--;n!=-1&&e.splice(n,1)}function _fnReOrderIndex(e,t){var n=t.split(","),r=[];for(var i=0,s=e.aoColumns.length;i<s;i++)for(var o=0;o<s;o++)if(e.aoColumns[i].sName==n[o]){r.push(o);break}return r}function _fnColumnOrdering(e){var t="";for(var n=0,r=e.aoColumns.length;n<r;n++)t+=e.aoColumns[n].sName+",";return t.length==r?"":t.slice(0,-1)}function _fnLog(e,t,n){var r=e.sTableId===""?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(t===0){if(_oExt.sErrMode!="alert")throw r;alert(r);return}typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(r)}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),_fnCalculateEnd(e)}function _fnSaveState(e){if(!e.oFeatures.bStateSave||typeof e.bDestroying!="undefined")return;var t,n,r,i="{";i+='"iCreate":'+(new Date).getTime()+",",i+='"iStart":'+(e.oScroll.bInfinite?0:e._iDisplayStart)+",",i+='"iEnd":'+(e.oScroll.bInfinite?e._iDisplayLength:e._iDisplayEnd)+",",i+='"iLength":'+e._iDisplayLength+",",i+='"sFilter":"'+encodeURIComponent(e.oPreviousSearch.sSearch)+'",',i+='"sFilterEsc":'+!e.oPreviousSearch.bRegex+",",i+='"aaSorting":[ ';for(t=0;t<e.aaSorting.length;t++)i+="["+e.aaSorting[t][0]+',"'+e.aaSorting[t][1]+'"],';i=i.substring(0,i.length-1),i+="],",i+='"aaSearchCols":[ ';for(t=0;t<e.aoPreSearchCols.length;t++)i+='["'+encodeURIComponent(e.aoPreSearchCols[t].sSearch)+'",'+!e.aoPreSearchCols[t].bRegex+"],";i=i.substring(0,i.length-1),i+="],",i+='"abVisCols":[ ';for(t=0;t<e.aoColumns.length;t++)i+=e.aoColumns[t].bVisible+",";i=i.substring(0,i.length-1),i+="]";for(t=0,n=e.aoStateSave.length;t<n;t++)r=e.aoStateSave[t].fn(e,i),r!==""&&(i=r);i+="}",_fnCreateCookie(e.sCookiePrefix+e.sInstance,i,e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave)return;var oData,i,iLen,sData=_fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);if(sData!==null&&sData!==""){try{oData=typeof $.parseJSON=="function"?$.parseJSON(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}for(i=0,iLen=oSettings.aoStateLoad.length;i<iLen;i++)if(!oSettings.aoStateLoad[i].fn(oSettings,oData))return;oSettings.oLoadedState=$.extend(!0,{},oData),oSettings._iDisplayStart=oData.iStart,oSettings.iInitDisplayStart=oData.iStart,oSettings._iDisplayEnd=oData.iEnd,oSettings._iDisplayLength=oData.iLength,oSettings.oPreviousSearch.sSearch=decodeURIComponent(oData.sFilter),oSettings.aaSorting=oData.aaSorting.slice(),oSettings.saved_aaSorting=oData.aaSorting.slice(),typeof oData.sFilterEsc!="undefined"&&(oSettings.oPreviousSearch.bRegex=!oData.sFilterEsc);if(typeof oData.aaSearchCols!="undefined")for(i=0;i<oData.aaSearchCols.length;i++)oSettings.aoPreSearchCols[i]={sSearch:decodeURIComponent(oData.aaSearchCols[i][0]),bRegex:!oData.aaSearchCols[i][1]};if(typeof oData.abVisCols!="undefined"){oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++)oInit.saved_aoColumns[i]={},oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+iSecs*1e3);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;fnCallback!==null?(oData=typeof $.parseJSON=="function"?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var sOldName="",iOldTime=9999999999999,iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++)if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}typeof oData.iCreate!="undefined"&&oData.iCreate<iOldTime&&(sOldName=aSplitCookie[0],iOldTime=oData.iCreate)}sOldName!==""&&(document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/")}document.cookie=sFullCookie}function _fnReadCookie(e){var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(n)===0)return decodeURIComponent(s.substring(n.length,s.length))}return null}function _fnDetectHeader(e,t){var n=$(t).children("tr"),r,i,s,o,u,a,f,l,c=function(e,t,n){while(typeof e[t][n]!="undefined")n++;return n};e.splice(0,e.length);for(i=0,a=n.length;i<a;i++)e.push([]);for(i=0,a=n.length;i<a;i++){var h=0;for(s=0,f=n[i].childNodes.length;s<f;s++){r=n[i].childNodes[s];if(r.nodeName.toUpperCase()=="TD"||r.nodeName.toUpperCase()=="TH"){var p=r.getAttribute("colspan")*1,d=r.getAttribute("rowspan")*1;p=!p||p===0||p===1?1:p,d=!d||d===0||d===1?1:d,l=c(e,i,h);for(u=0;u<p;u++)for(o=0;o<d;o++)e[i+o][l+u]={cell:r,unique:p==1?!0:!1},e[i+o].nTr=n[i]}}}}function _fnGetUniqueThs(e,t,n){var r=[];typeof n=="undefined"&&(n=e.aoHeader,typeof t!="undefined"&&(n=[],_fnDetectHeader(n,t)));for(var i=0,s=n.length;i<s;i++)for(var o=0,u=n[i].length;o<u;o++)n[i][o].unique&&(typeof r[o]=="undefined"||!e.bSortCellsTop)&&(r[o]=n[i][o].cell);return r}function _fnScrollBarWidth(){var e=document.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=document.createElement("div");t=n.style,t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;return r==i&&(i=n.clientWidth),document.body.removeChild(n),r-i}function _fnApplyToChildren(e,t,n){for(var r=0,i=t.length;r<i;r++)for(var s=0,o=t[r].childNodes.length;s<o;s++)t[r].childNodes[s].nodeType==1&&(typeof n!="undefined"?e(t[r].childNodes[s],n[r].childNodes[s]):e(t[r].childNodes[s]))}function _fnMap(e,t,n,r){typeof r=="undefined"&&(r=n),typeof t[n]!="undefined"&&(e[r]=t[n])}function _fnGetRowData(e,t,n){var r=[];for(var i=0,s=e.aoColumns.length;i<s;i++)r.push(_fnGetCellData(e,t,i,n));return r}function _fnGetCellData(e,t,n,r){var i,s=e.aoColumns[n],o=e.aoData[t]._aData;if((i=s.fnGetData(o))===undefined)return e.iDrawError!=e.iDraw&&s.sDefaultContent===null&&(_fnLog(e,0,"Requested unknown parameter '"+s.mDataProp+"' from the data source for row "+t),e.iDrawError=e.iDraw),s.sDefaultContent;if(i===null&&s.sDefaultContent!==null)i=s.sDefaultContent;else if(typeof i=="function")return i();return r=="display"&&i===null?"":i}function _fnSetCellData(e,t,n,r){var i=e.aoColumns[n],s=e.aoData[t]._aData;i.fnSetData(s,r)}function _fnGetObjectDataFn(e){if(e===null)return function(e){return null};if(typeof e=="function")return function(t){return e(t)};if(typeof e=="string"&&e.indexOf(".")!=-1){var t=e.split(".");return t.length==2?function(e){return e[t[0]][t[1]]}:t.length==3?function(e){return e[t[0]][t[1]][t[2]]}:function(e){for(var n=0,r=t.length;n<r;n++)e=e[t[n]];return e}}return function(t){return t[e]}}function _fnSetObjectDataFn(e){if(e===null)return function(e,t){};if(typeof e=="function")return function(t,n){return e(t,n)};if(typeof e=="string"&&e.indexOf(".")!=-1){var t=e.split(".");return t.length==2?function(e,n){e[t[0]][t[1]]=n}:t.length==3?function(e,n){e[t[0]][t[1]][t[2]]=n}:function(e,n){for(var r=0,i=t.length-1;r<i;r++)e=e[t[r]];e[t[t.length-1]]=n}}return function(t,n){t[e]=n}}this.oApi={},this.fnDraw=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);typeof e!="undefined"&&e===!1?(_fnCalculateEnd(t),_fnDraw(t)):_fnReDraw(t)},this.fnFilter=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(!s.oFeatures.bFilter)return;typeof n=="undefined"&&(n=!1),typeof r=="undefined"&&(r=!0),typeof i=="undefined"&&(i=!0);if(typeof t=="undefined"||t===null){_fnFilterComplete(s,{sSearch:e,bRegex:n,bSmart:r},1);if(i&&typeof s.aanFeatures.f!="undefined"){var o=s.aanFeatures.f;for(var u=0,a=o.length;u<a;u++)$("input",o[u]).val(e)}}else s.aoPreSearchCols[t].sSearch=e,s.aoPreSearchCols[t].bRegex=n,s.aoPreSearchCols[t].bSmart=r,_fnFilterComplete(s,s.oPreviousSearch,1)},this.fnSettings=function(e){return _fnSettingsFromNode(this[_oExt.iApiIndex])},this.fnVersionCheck=_oExt.fnVersionCheck,this.fnSort=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);t.aaSorting=e,_fnSort(t)},this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),e,t,n)},this.fnAddData=function(e,t){if(e.length===0)return[];var n=[],r,i=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof e[0]=="object")for(var s=0;s<e.length;s++){r=_fnAddData(i,e[s]);if(r==-1)return n;n.push(r)}else{r=_fnAddData(i,e);if(r==-1)return n;n.push(r)}return i.aiDisplay=i.aiDisplayMaster.slice(),(typeof t=="undefined"||t)&&_fnReDraw(i),n},this.fnDeleteRow=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]),i,s;s=typeof e=="object"?_fnNodeToDataIndex(r,e):e;var o=r.aoData.splice(s,1),u=$.inArray(s,r.aiDisplay);r.asDataSearch.splice(u,1),_fnDeleteIndex(r.aiDisplayMaster,s),_fnDeleteIndex(r.aiDisplay,s),typeof t=="function"&&t.call(this,r,o),r._iDisplayStart>=r.aiDisplay.length&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0));if(typeof n=="undefined"||n)_fnCalculateEnd(r),_fnDraw(r);return o},this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(t),(typeof e=="undefined"||e)&&_fnDraw(t)},this.fnOpen=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(e);var i=document.createElement("tr"),s=document.createElement("td");i.appendChild(s),s.className=n,s.colSpan=_fnVisbleColumns(r),typeof t.jquery!="undefined"||typeof t=="object"?s.appendChild(t):s.innerHTML=t;var o=$("tr",r.nTBody);return $.inArray(e,o)!=-1&&$(i).insertAfter(e),r.aoOpenRows.push({nTr:i,nParent:e}),i},this.fnClose=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);for(var n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e){var r=t.aoOpenRows[n].nTr.parentNode;return r&&r.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0}return 1},this.fnGetData=function(e,t){var n=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof e!="undefined"){var r=typeof e=="object"?_fnNodeToDataIndex(n,e):e;return typeof t!="undefined"?_fnGetCellData(n,r,t,""):typeof n.aoData[r]!="undefined"?n.aoData[r]._aData:null}return _fnGetDataMaster(n)},this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);return typeof e!="undefined"?typeof t.aoData[e]!="undefined"?t.aoData[e].nTr:null:_fnGetTrNodes(t)},this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]),n=e.nodeName.toUpperCase();if(n=="TR")return _fnNodeToDataIndex(t,e);if(n=="TD"||n=="TH"){var r=_fnNodeToDataIndex(t,e.parentNode),i=_fnGetTdNodes(t,r);for(var s=0;s<t.aoColumns.length;s++)if(i[s]==e)return[r,_fnColumnIndexToVisible(t,s),s]}return null},this.fnUpdate=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[_oExt.iApiIndex]),o,u,a,f,l=typeof t=="object"?_fnNodeToDataIndex(s,t):t;if($.isArray(e)&&typeof e=="object"){s.aoData[l]._aData=e.slice();for(u=0;u<s.aoColumns.length;u++)this.fnUpdate(_fnGetCellData(s,l,u),l,u,!1,!1)}else if(e!==null&&typeof e=="object"){s.aoData[l]._aData=$.extend(!0,{},e);for(u=0;u<s.aoColumns.length;u++)this.fnUpdate(_fnGetCellData(s,l,u),l,u,!1,!1)}else f=e,_fnSetCellData(s,l,n,f),s.aoColumns[n].fnRender!==null&&(f=s.aoColumns[n].fnRender({iDataRow:l,iDataColumn:n,aData:s.aoData[l]._aData,oSettings:s}),s.aoColumns[n].bUseRendered&&_fnSetCellData(s,l,n,f)),s.aoData[l].nTr!==null&&(_fnGetTdNodes(s,l)[n].innerHTML=f);var c=$.inArray(l,s.aiDisplay);return s.asDataSearch[c]=_fnBuildSearchRow(s,_fnGetRowData(s,l,"filter")),(typeof i=="undefined"||i)&&_fnAdjustColumnSizing(s),(typeof r=="undefined"||r)&&_fnReDraw(s),0},this.fnSetColumnVis=function(e,t,n){var r=_fnSettingsFromNode(this[_oExt.iApiIndex]),i,s,o=r.aoColumns.length,u,a,f,l,c,h;if(r.aoColumns[e].bVisible==t)return;if(t){var p=0;for(i=0;i<e;i++)r.aoColumns[i].bVisible&&p++;c=p>=_fnVisbleColumns(r);if(!c)for(i=e;i<o;i++)if(r.aoColumns[i].bVisible){h=i;break}for(i=0,s=r.aoData.length;i<s;i++)r.aoData[i].nTr!==null&&(c?r.aoData[i].nTr.appendChild(r.aoData[i]._anHidden[e]):r.aoData[i].nTr.insertBefore(r.aoData[i]._anHidden[e],_fnGetTdNodes(r,i)[h]))}else for(i=0,s=r.aoData
.length;i<s;i++)r.aoData[i].nTr!==null&&(u=_fnGetTdNodes(r,i)[e],r.aoData[i]._anHidden[e]=u,u.parentNode.removeChild(u));r.aoColumns[e].bVisible=t,_fnDrawHead(r,r.aoHeader),r.nTFoot&&_fnDrawHead(r,r.aoFooter);for(i=0,s=r.aoOpenRows.length;i<s;i++)r.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(r);if(typeof n=="undefined"||n)_fnAdjustColumnSizing(r),_fnDraw(r);_fnSaveState(r)},this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(n,e),_fnCalculateEnd(n),(typeof t=="undefined"||t)&&_fnDraw(n)},this.fnDestroy=function(){var e=_fnSettingsFromNode(this[_oExt.iApiIndex]),t=e.nTableWrapper.parentNode,n=e.nTBody,r,i;e.bDestroying=!0;for(r=0,i=e.aoDestroyCallback.length;r<i;r++)e.aoDestroyCallback[r].fn();for(r=0,i=e.aoColumns.length;r<i;r++)e.aoColumns[r].bVisible===!1&&this.fnSetColumnVis(r,!0);$(e.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+e.oClasses.sRowEmpty,e.nTable).parent().remove(),e.nTable!=e.nTHead.parentNode&&($(e.nTable).children("thead").remove(),e.nTable.appendChild(e.nTHead)),e.nTFoot&&e.nTable!=e.nTFoot.parentNode&&($(e.nTable).children("tfoot").remove(),e.nTable.appendChild(e.nTFoot)),e.nTable.parentNode.removeChild(e.nTable),$(e.nTableWrapper).remove(),e.aaSorting=[],e.aaSortingFixed=[],_fnSortingClasses(e),$(_fnGetTrNodes(e)).removeClass(e.asStripeClasses.join(" ")),e.bJUI?($("th",e.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oJUIClasses.sSortableAsc,_oExt.oJUIClasses.sSortableDesc,_oExt.oJUIClasses.sSortableNone].join(" ")),$("th span."+_oExt.oJUIClasses.sSortIcon,e.nTHead).remove(),$("th",e.nTHead).each(function(){var e=$("div."+_oExt.oJUIClasses.sSortJUIWrapper,this),t=e.contents();$(this).append(t),e.remove()})):$("th",e.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oStdClasses.sSortableAsc,_oExt.oStdClasses.sSortableDesc,_oExt.oStdClasses.sSortableNone].join(" ")),e.nTableReinsertBefore?t.insertBefore(e.nTable,e.nTableReinsertBefore):t.appendChild(e.nTable);for(r=0,i=e.aoData.length;r<i;r++)e.aoData[r].nTr!==null&&n.appendChild(e.aoData[r].nTr);e.oFeatures.bAutoWidth===!0&&(e.nTable.style.width=_fnStringToCss(e.sDestroyWidth)),$(n).children("tr:even").addClass(e.asDestroyStripes[0]),$(n).children("tr:odd").addClass(e.asDestroyStripes[1]);for(r=0,i=_aoSettings.length;r<i;r++)_aoSettings[r]==e&&_aoSettings.splice(r,1);e=null},this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnAdjustColumnSizing(t),typeof e=="undefined"||e?this.fnDraw(!1):(t.oScroll.sX!==""||t.oScroll.sY!=="")&&this.oApi._fnScrollDraw(t)};for(var sFunc in _oExt.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));this.oApi._fnExternApiFunc=_fnExternApiFunc,this.oApi._fnInitialise=_fnInitialise,this.oApi._fnInitComplete=_fnInitComplete,this.oApi._fnLanguageProcess=_fnLanguageProcess,this.oApi._fnAddColumn=_fnAddColumn,this.oApi._fnColumnOptions=_fnColumnOptions,this.oApi._fnAddData=_fnAddData,this.oApi._fnCreateTr=_fnCreateTr,this.oApi._fnGatherData=_fnGatherData,this.oApi._fnBuildHead=_fnBuildHead,this.oApi._fnDrawHead=_fnDrawHead,this.oApi._fnDraw=_fnDraw,this.oApi._fnReDraw=_fnReDraw,this.oApi._fnAjaxUpdate=_fnAjaxUpdate,this.oApi._fnAjaxParameters=_fnAjaxParameters,this.oApi._fnAjaxUpdateDraw=_fnAjaxUpdateDraw,this.oApi._fnServerParams=_fnServerParams,this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml,this.oApi._fnFeatureHtmlTable=_fnFeatureHtmlTable,this.oApi._fnScrollDraw=_fnScrollDraw,this.oApi._fnAdjustColumnSizing=_fnAdjustColumnSizing,this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter,this.oApi._fnFilterComplete=_fnFilterComplete,this.oApi._fnFilterCustom=_fnFilterCustom,this.oApi._fnFilterColumn=_fnFilterColumn,this.oApi._fnFilter=_fnFilter,this.oApi._fnBuildSearchArray=_fnBuildSearchArray,this.oApi._fnBuildSearchRow=_fnBuildSearchRow,this.oApi._fnFilterCreateSearch=_fnFilterCreateSearch,this.oApi._fnDataToSearch=_fnDataToSearch,this.oApi._fnSort=_fnSort,this.oApi._fnSortAttachListener=_fnSortAttachListener,this.oApi._fnSortingClasses=_fnSortingClasses,this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate,this.oApi._fnPageChange=_fnPageChange,this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo,this.oApi._fnUpdateInfo=_fnUpdateInfo,this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength,this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing,this.oApi._fnProcessingDisplay=_fnProcessingDisplay,this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex,this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible,this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex,this.oApi._fnVisbleColumns=_fnVisbleColumns,this.oApi._fnCalculateEnd=_fnCalculateEnd,this.oApi._fnConvertToWidth=_fnConvertToWidth,this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths,this.oApi._fnScrollingWidthAdjust=_fnScrollingWidthAdjust,this.oApi._fnGetWidestNode=_fnGetWidestNode,this.oApi._fnGetMaxLenString=_fnGetMaxLenString,this.oApi._fnStringToCss=_fnStringToCss,this.oApi._fnArrayCmp=_fnArrayCmp,this.oApi._fnDetectType=_fnDetectType,this.oApi._fnSettingsFromNode=_fnSettingsFromNode,this.oApi._fnGetDataMaster=_fnGetDataMaster,this.oApi._fnGetTrNodes=_fnGetTrNodes,this.oApi._fnGetTdNodes=_fnGetTdNodes,this.oApi._fnEscapeRegex=_fnEscapeRegex,this.oApi._fnDeleteIndex=_fnDeleteIndex,this.oApi._fnReOrderIndex=_fnReOrderIndex,this.oApi._fnColumnOrdering=_fnColumnOrdering,this.oApi._fnLog=_fnLog,this.oApi._fnClearTable=_fnClearTable,this.oApi._fnSaveState=_fnSaveState,this.oApi._fnLoadState=_fnLoadState,this.oApi._fnCreateCookie=_fnCreateCookie,this.oApi._fnReadCookie=_fnReadCookie,this.oApi._fnDetectHeader=_fnDetectHeader,this.oApi._fnGetUniqueThs=_fnGetUniqueThs,this.oApi._fnScrollBarWidth=_fnScrollBarWidth,this.oApi._fnApplyToChildren=_fnApplyToChildren,this.oApi._fnMap=_fnMap,this.oApi._fnGetRowData=_fnGetRowData,this.oApi._fnGetCellData=_fnGetCellData,this.oApi._fnSetCellData=_fnSetCellData,this.oApi._fnGetObjectDataFn=_fnGetObjectDataFn,this.oApi._fnSetObjectDataFn=_fnSetObjectDataFn;var _that=this;return this.each(function(){var e=0,t,n,r,i,s;for(e=0,t=_aoSettings.length;e<t;e++){if(_aoSettings[e].nTable==this){if(typeof oInit=="undefined"||typeof oInit.bRetrieve!="undefined"&&oInit.bRetrieve===!0)return _aoSettings[e].oInstance;if(typeof oInit.bDestroy!="undefined"&&oInit.bDestroy===!0){_aoSettings[e].oInstance.fnDestroy();break}_fnLog(_aoSettings[e],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}if(_aoSettings[e].sTableId!==""&&_aoSettings[e].sTableId==this.getAttribute("id")){_aoSettings.splice(e,1);break}}var o=new classSettings;_aoSettings.push(o);var u=!1,a=!1,f=this.getAttribute("id");f!==null?(o.sTableId=f,o.sInstance=f):o.sInstance=_oExt._oExternConfig.iNextUnique++;if(this.nodeName.toLowerCase()!="table"){_fnLog(o,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}o.nTable=this,o.oInstance=_that.length==1?_that:$(this).dataTable(),o.oApi=_that.oApi,o.sDestroyWidth=$(this).width();if(typeof oInit!="undefined"&&oInit!==null){o.oInit=oInit,_fnMap(o.oFeatures,oInit,"bPaginate"),_fnMap(o.oFeatures,oInit,"bLengthChange"),_fnMap(o.oFeatures,oInit,"bFilter"),_fnMap(o.oFeatures,oInit,"bSort"),_fnMap(o.oFeatures,oInit,"bInfo"),_fnMap(o.oFeatures,oInit,"bProcessing"),_fnMap(o.oFeatures,oInit,"bAutoWidth"),_fnMap(o.oFeatures,oInit,"bSortClasses"),_fnMap(o.oFeatures,oInit,"bServerSide"),_fnMap(o.oFeatures,oInit,"bDeferRender"),_fnMap(o.oScroll,oInit,"sScrollX","sX"),_fnMap(o.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(o.oScroll,oInit,"sScrollY","sY"),_fnMap(o.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(o.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(o.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(o.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(o,oInit,"asStripClasses","asStripeClasses"),_fnMap(o,oInit,"asStripeClasses"),_fnMap(o,oInit,"fnPreDrawCallback"),_fnMap(o,oInit,"fnRowCallback"),_fnMap(o,oInit,"fnHeaderCallback"),_fnMap(o,oInit,"fnFooterCallback"),_fnMap(o,oInit,"fnCookieCallback"),_fnMap(o,oInit,"fnInitComplete"),_fnMap(o,oInit,"fnServerData"),_fnMap(o,oInit,"fnFormatNumber"),_fnMap(o,oInit,"aaSorting"),_fnMap(o,oInit,"aaSortingFixed"),_fnMap(o,oInit,"aLengthMenu"),_fnMap(o,oInit,"sPaginationType"),_fnMap(o,oInit,"sAjaxSource"),_fnMap(o,oInit,"sAjaxDataProp"),_fnMap(o,oInit,"iCookieDuration"),_fnMap(o,oInit,"sCookiePrefix"),_fnMap(o,oInit,"sDom"),_fnMap(o,oInit,"bSortCellsTop"),_fnMap(o,oInit,"oSearch","oPreviousSearch"),_fnMap(o,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(o,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(o,oInit,"bJQueryUI","bJUI"),_fnMap(o.oLanguage,oInit,"fnInfoCallback"),typeof oInit.fnDrawCallback=="function"&&o.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"}),typeof oInit.fnServerParams=="function"&&o.aoServerParams.push({fn:oInit.fnServerParams,sName:"user"}),typeof oInit.fnStateSaveCallback=="function"&&o.aoStateSave.push({fn:oInit.fnStateSaveCallback,sName:"user"}),typeof oInit.fnStateLoadCallback=="function"&&o.aoStateLoad.push({fn:oInit.fnStateLoadCallback,sName:"user"}),o.oFeatures.bServerSide&&o.oFeatures.bSort&&o.oFeatures.bSortClasses?o.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"}):o.oFeatures.bDeferRender&&o.aoDrawCallback.push({fn:_fnSortingClasses,sName:"defer_sort_classes"}),typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI&&(o.oClasses=_oExt.oJUIClasses,typeof oInit.sDom=="undefined"&&(o.sDom='<"H"lfr>t<"F"ip>'));if(o.oScroll.sX!==""||o.oScroll.sY!=="")o.oScroll.iBarWidth=_fnScrollBarWidth();typeof oInit.iDisplayStart!="undefined"&&typeof o.iInitDisplayStart=="undefined"&&(o.iInitDisplayStart=oInit.iDisplayStart,o._iDisplayStart=oInit.iDisplayStart),typeof oInit.bStateSave!="undefined"&&(o.oFeatures.bStateSave=oInit.bStateSave,_fnLoadState(o,oInit),o.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})),typeof oInit.iDeferLoading!="undefined"&&(o.bDeferLoading=!0,o._iRecordsTotal=oInit.iDeferLoading,o._iRecordsDisplay=oInit.iDeferLoading),typeof oInit.aaData!="undefined"&&(a=!0),typeof oInit!="undefined"&&typeof oInit.aoData!="undefined"&&(oInit.aoColumns=oInit.aoData),typeof oInit.oLanguage!="undefined"&&(typeof oInit.oLanguage.sUrl!="undefined"&&oInit.oLanguage.sUrl!==""?(o.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(o.oLanguage.sUrl,null,function(e){_fnLanguageProcess(o,e,!0)}),u=!0):_fnLanguageProcess(o,oInit.oLanguage,!1))}else oInit={};typeof oInit.asStripClasses=="undefined"&&typeof oInit.asStripeClasses=="undefined"&&(o.asStripeClasses.push(o.oClasses.sStripeOdd),o.asStripeClasses.push(o.oClasses.sStripeEven));var l=!1,c=$(this).children("tbody").children("tr");for(e=0,t=o.asStripeClasses.length;e<t;e++)if(c.filter(":lt(2)").hasClass(o.asStripeClasses[e])){l=!0;break}l&&(o.asDestroyStripes=["",""],$(c[0]).hasClass(o.oClasses.sStripeOdd)&&(o.asDestroyStripes[0]+=o.oClasses.sStripeOdd+" "),$(c[0]).hasClass(o.oClasses.sStripeEven)&&(o.asDestroyStripes[0]+=o.oClasses.sStripeEven),$(c[1]).hasClass(o.oClasses.sStripeOdd)&&(o.asDestroyStripes[1]+=o.oClasses.sStripeOdd+" "),$(c[1]).hasClass(o.oClasses.sStripeEven)&&(o.asDestroyStripes[1]+=o.oClasses.sStripeEven),c.removeClass(o.asStripeClasses.join(" ")));var h=[],p,d=this.getElementsByTagName("thead");d.length!==0&&(_fnDetectHeader(o.aoHeader,d[0]),h=_fnGetUniqueThs(o));if(typeof oInit.aoColumns=="undefined"){p=[];for(e=0,t=h.length;e<t;e++)p.push(null)}else p=oInit.aoColumns;for(e=0,t=p.length;e<t;e++)typeof oInit.saved_aoColumns!="undefined"&&oInit.saved_aoColumns.length==t&&(p[e]===null&&(p[e]={}),p[e].bVisible=oInit.saved_aoColumns[e].bVisible),_fnAddColumn(o,h?h[e]:null);if(typeof oInit.aoColumnDefs!="undefined")for(e=oInit.aoColumnDefs.length-1;e>=0;e--){var v=oInit.aoColumnDefs[e].aTargets;$.isArray(v)||_fnLog(o,1,"aTargets must be an array of targets, not a "+typeof v);for(n=0,r=v.length;n<r;n++)if(typeof v[n]=="number"&&v[n]>=0){while(o.aoColumns.length<=v[n])_fnAddColumn(o);_fnColumnOptions(o,v[n],oInit.aoColumnDefs[e])}else if(typeof v[n]=="number"&&v[n]<0)_fnColumnOptions(o,o.aoColumns.length+v[n],oInit.aoColumnDefs[e]);else if(typeof v[n]=="string")for(i=0,s=o.aoColumns.length;i<s;i++)(v[n]=="_all"||$(o.aoColumns[i].nTh).hasClass(v[n]))&&_fnColumnOptions(o,i,oInit.aoColumnDefs[e])}if(typeof p!="undefined")for(e=0,t=p.length;e<t;e++)_fnColumnOptions(o,e,p[e]);for(e=0,t=o.aaSorting.length;e<t;e++){o.aaSorting[e][0]>=o.aoColumns.length&&(o.aaSorting[e][0]=0);var m=o.aoColumns[o.aaSorting[e][0]];typeof o.aaSorting[e][2]=="undefined"&&(o.aaSorting[e][2]=0),typeof oInit.aaSorting=="undefined"&&typeof o.saved_aaSorting=="undefined"&&(o.aaSorting[e][1]=m.asSorting[0]);for(n=0,r=m.asSorting.length;n<r;n++)if(o.aaSorting[e][1]==m.asSorting[n]){o.aaSorting[e][2]=n;break}}_fnSortingClasses(o);var g=$(this).children("thead");g.length===0&&(g=[document.createElement("thead")],this.appendChild(g[0])),o.nTHead=g[0];var y=$(this).children("tbody");y.length===0&&(y=[document.createElement("tbody")],this.appendChild(y[0])),o.nTBody=y[0];var b=$(this).children("tfoot");b.length>0&&(o.nTFoot=b[0],_fnDetectHeader(o.aoFooter,o.nTFoot));if(a)for(e=0;e<oInit.aaData.length;e++)_fnAddData(o,oInit.aaData[e]);else _fnGatherData(o);o.aiDisplay=o.aiDisplayMaster.slice(),o.bInitialised=!0,u===!1&&_fnInitialise(o)})}}(jQuery,window,document),function(e){elFinder=function(t,n){function s(e,t){e&&r.view.win.width(e),t&&r.view.nav.add(r.view.cwd).height(t)}function o(){s(null,r.dialog.height()-r.view.tlb.parent().height()-(e.browser.msie?47:32))}var r=this,i;this.log=function(e){window.console&&window.console.log&&window.console.log(e)},this.options=e.extend({},this.options,n||{});if(!this.options.url){alert("Invalid configuration! You have to set URL option.");return}this.id="";if(i=e(t).attr("id"))this.id=i;this.version="1.2",this.jquery=e.fn.jquery.split(".").join(""),this.cwd={},this.cdc={},this.buffer={},this.selected=[],this.history=[],this.locked=!1,this.zIndex=2,this.dialog=null,this.anchor=this.options.docked?e("<div/>").hide().insertBefore(t):null,this.params={dotFiles:!1,arc:"",uplMaxSize:""},this.vCookie="el-finder-view-"+this.id,this.pCookie="el-finder-places-"+this.id,this.lCookie="el-finder-last-"+this.id,this.view=new this.view(this,t),this.ui=new this.ui(this),this.eventsManager=new this.eventsManager(this),this.quickLook=new this.quickLook(this),this.cookie=function(t,n){if(typeof n=="undefined"){if(document.cookie&&document.cookie!=""){var r,i=document.cookie.split(";");t+="=";for(r=0;r<i.length;r++){i[r]=e.trim(i[r]);if(i[r].substring(0,t.length)==t)return decodeURIComponent(i[r].substring(t.length))}}return""}var s,o=e.extend({},this.options.cookie);n===null&&(n="",o.expires=-1),typeof o.expires=="number"&&(s=new Date,s.setTime(s.getTime()+o.expires*24*60*60*1e3),o.expires=s),document.cookie=t+"="+encodeURIComponent(n)+"; expires="+o.expires.toUTCString()+(o.path?"; path="+o.path:"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")},this.lock=function(e){this.view.spinner(this.locked=e||!1),this.eventsManager.lock=this.locked},this.lockShortcuts=function(e){this.eventsManager.lock=!!e},this.setView=function(e){if(e=="list"||e=="icons")this.options.view=e,this.cookie(this.vCookie,e)},this.ajax=function(t,n,i){var s={url:this.options.url,async:!0,type:"GET",data:t,dataType:"json",cache:!1,lock:!0,force:!1,silent:!1};typeof i=="object"&&(s=e.extend({},s,i)),s.silent||(s.error=r.view.fatal),s.success=function(e){s.lock&&r.lock();if(e){e.debug&&r.log(e.debug);if(e.error){!s.silent&&r.view.error(e.error,e.errorData);if(!s.force)return}n(e),delete e}},s.lock&&this.lock(!0),e.ajax(s)},this.tmb=function(){this.ajax({cmd:"tmb",current:r.cwd.hash},function(t){if(r.options.view=="icons"&&t.images&&t.current==r.cwd.hash){for(var n in t.images)r.cdc[n]&&(r.cdc[n].tmb=t.images[n],e('div[key="'+n+'"]>p',r.view.cwd).css("background",' url("'+t.images[n]+'") 0 0 no-repeat'));t.tmb&&r.tmb()}},{lock:!1,silent:!0})},this.getPlaces=function(){var e=[],t=this.cookie(this.pCookie);return t.length&&(t.indexOf(":")!=-1?e=t.split(":"):e.push(t)),e},this.addPlace=function(t){var n=this.getPlaces();if(e.inArray(t,n)==-1)return n.push(t),this.savePlaces(n),!0},this.removePlace=function(t){var n=this.getPlaces();if(e.inArray(t,n)!=-1)return this.savePlaces(e.map(n,function(e){return e==t?null:e})),!0},this.savePlaces=function(e){this.cookie(this.pCookie,e.join(":"))},this.reload=function(e){var t;this.cwd=e.cwd,this.cdc={};for(t=0;t<e.cdc.length;t++)e.cdc[t].hash&&e.cdc[t].name&&(this.cdc[e.cdc[t].hash]=e.cdc[t],this.cwd.size+=e.cdc[t].size);e.tree&&(this.view.renderNav(e.tree),this.eventsManager.updateNav()),this.updateCwd(),e.tmb&&!r.locked&&r.options.view=="icons"&&r.tmb();if(e.select&&e.select.length){var n=e.select.length;while(n--)this.cdc[e.select[n]]&&this.selectById(e.select[n])}this.lastDir(this.cwd.hash),this.options.autoReload>0&&(this.iID&&clearInterval(this.iID),this.iID=setInterval(function(){!r.locked&&r.ui.exec("reload")},this.options.autoReload*6e4))},this.updateCwd=function(){this.lockShortcuts(!0),this.selected=[],this.view.renderCwd(),this.eventsManager.updateCwd(),this.view.tree.find('a[key="'+this.cwd.hash+'"]').trigger("select"),this.lockShortcuts()},this.drop=function(t,n,i){if(n.helper.find('[key="'+i+'"]').length)return r.view.error("Unable to copy into itself");var s=[];n.helper.find('div:not(.noaccess):has(>label):not(:has(em[class="readonly"],em[class=""]))').each(function(){s.push(e(this).hide().attr("key"))}),n.helper.find("div:has(>label):visible").length||n.helper.hide(),s.length?(r.setBuffer(s,t.shiftKey?0:1,i),r.buffer.files&&setTimeout(function(){r.ui.exec("paste"),r.buffer={}},300)):e(this).removeClass("el-finder-droppable")},this.getSelected=function(e){var t,n=[];if(e>=0)return this.cdc[this.selected[e]]||{};for(t=0;t<this.selected.length;t++)this.cdc[this.selected[t]]&&n.push(this.cdc[this.selected[t]]);return n},this.select=function(t,n){n&&e(".ui-selected",r.view.cwd).removeClass("ui-selected"),t.addClass("ui-selected"),r.updateSelect()},this.selectById=function(t){var n=e('[key="'+t+'"]',this.view.cwd);n.length&&(this.select(n),this.checkSelectedPos())},this.unselect=function(e){e.removeClass("ui-selected"),r.updateSelect()},this.toggleSelect=function(e){e.toggleClass("ui-selected"),this.updateSelect()},this.selectAll=function(){e("[key]",r.view.cwd).addClass("ui-selected"),r.updateSelect()},this.unselectAll=function(){e(".ui-selected",r.view.cwd).removeClass("ui-selected"),r.updateSelect()},this.updateSelect=function(){r.selected=[],e(".ui-selected",r.view.cwd).each(function(){r.selected.push(e(this).attr("key"))}),r.view.selectedInfo(),r.ui.update(),r.quickLook.update()},this.checkSelectedPos=function(e){var t=r.view.cwd.find(".ui-selected:"+(e?"last":"first")).eq(0),n=t.position(),i=t.outerHeight(),s=r.view.cwd.height();n.top<0?r.view.cwd.scrollTop(n.top+r.view.cwd.scrollTop()-2):s-n.top<i&&r.view.cwd.scrollTop(n.top+i-s+r.view.cwd.scrollTop())},this.setBuffer=function(e,t,n){var r,i,s;this.buffer={src:this.cwd.hash,dst:n,files:[],names:[],cut:t||0};for(r=0;r<e.length;r++)i=e[r],s=this.cdc[i],s&&s.read&&s.type!="link"&&(this.buffer.files.push(s.hash),this.buffer.names.push(s.name));this.buffer.files.length||(this.buffer={})},this.isValidName=function(e){return!this.cwd.dotFiles&&e.indexOf(".")==0?!1:e.match(/^[^\\\/\<\>:]+$/)},this.fileExists=function(e){for(var t in this.cdc)if(this.cdc[t].name==e)return t;return!1},this.uniqueName=function(e,t){e=r.i18n(e);var n=e,i=0,t=t||"";if(!this.fileExists(n+t))return n+t;while(i++<100)if(!this.fileExists(n+i+t))return n+i+t;return n.replace("100","")+Math.random()+t},this.lastDir=function(e){if(this.options.rememberLastDir)return e?this.cookie(this.lCookie,e):this.cookie(this.lCookie)},this.time=function(){return(new Date).getMilliseconds()},this.setView(this.cookie(this.vCookie)),s(r.options.width,r.options.height);if(this.options.dialog||this.options.docked)this.options.dialog=e.extend({width:570,dialogClass:"",minWidth:480,minHeight:330},this.options.dialog||{}),this.options.dialog.open=function(){setTimeout(function(){e('<input type="text" value="f"/>').appendTo(r.view.win).focus().select().remove()},200)},this.options.dialog.dialogClass+="el-finder-dialog",this.options.dialog.resize=o,this.options.docked?(this.options.dialog.close=function(){r.dock()},this.view.win.data("size",{width:this.view.win.width(),height:this.view.nav.height()})):(this.options.dialog.close=function(){r.destroy()},this.dialog=e("<div/>").append(this.view.win).dialog(this.options.dialog));this.ajax({cmd:"open",target:this.lastDir()||"",init:!0,tree:!0},function(t){t.cwd&&(r.eventsManager.init(),r.reload(t),e.extend(r.params,t.params||{}),e("*",document.body).each(function(){var t=parseInt(e(this).css("z-index"));t>=r.zIndex&&(r.zIndex=t+1)}),r.ui.init(t.disabled))},{force:!0}),this.open=function(){this.dialog?this.dialog.dialog("open"):this.view.win.show(),this.eventsManager.lock=!1},this.close=function(){this.quickLook.hide(),this.options.docked&&this.view.win.attr("undocked")?this.dock():this.dialog?this.dialog.dialog("close"):this.view.win.hide(),this.eventsManager.lock=!0},this.destroy=function(){this.eventsManager.lock=!0,this.quickLook.hide(),this.quickLook.win.remove(),this.dialog?(this.dialog.dialog("destroy"),this.view.win.parent().remove()):this.view.win.remove(),this.ui.menu.remove()},this.dock=function(){if(this.options.docked&&this.view.win.attr("undocked")){this.quickLook.hide();var e=this.view.win.data("size");this.view.win.insertAfter(this.anchor).removeAttr("undocked"),s(e.width,e.height),this.dialog.dialog("destroy"),this.dialog=null}},this.undock=function(){this.options.docked&&!this.view.win.attr("undocked")&&(this.quickLook.hide(),this.dialog=e("<div/>").append(this.view.win.css("width","100%").attr("undocked",!0).show()).dialog(this.options.dialog),o())}},elFinder.prototype.i18n=function(e){return this.options.i18n[this.options.lang]&&this.options.i18n[this.options.lang][e]?this.options.i18n[this.options.lang][e]:e},elFinder.prototype.options={url:"",lang:"en",cssClass:"",wrap:14,places:"Places",placesFirst:!0,editorCallback:null,cutURL:"",closeOnEditorCallback:!0,i18n:{},view:"icons",width:"",height:"",disableShortcuts:!1,rememberLastDir:!0,cookie:{expires:30,domain:"",path:"/",secure:!1},toolbar:[["back","reload"],["select","open"],["mkdir","mkfile","upload"],["copy","paste","rm"],["rename","edit"],["info","quicklook","resize"],["icons","list"],["help"]],contextmenu:{cwd:["reload","delim","mkdir","mkfile","upload","delim","paste","delim","info"],file:["select","open","quicklook","delim","copy","cut","rm","delim","duplicate","rename","edit","resize","archive","extract","delim","info"],group:["select","copy","cut","rm","delim","archive","extract","delim","info"]},dialog:null,docked:!1,autoReload:0,selectMultiple:!1},e.fn.elfinder=function(e){return this.each(function(){var t=typeof e=="string"?e:"";this.elfinder||(this.elfinder=new elFinder(this,typeof e=="object"?e:{}));switch(t){case"close":case"hide":this.elfinder.close();break;case"open":case"show":this.elfinder.open();break;case"dock":this.elfinder.dock();break;case"undock":this.elfinder.undock();break;case"destroy":this.elfinder.destroy()}})}}(jQuery),function(e){elFinder.prototype.view=function(t,n){var r=this;this.fm=t,this.kinds={unknown:"Unknown",directory:"Folder",symlink:"Alias","symlink-broken":"Broken alias","application/x-empty":"Plain text","application/postscript":"Postscript document","application/octet-stream":"Application","application/vnd.ms-office":"Microsoft Office document","application/vnd.ms-word":"Microsoft Word document","application/vnd.ms-excel":"Microsoft Excel document","application/vnd.ms-powerpoint":"Microsoft Powerpoint presentation","application/pdf":"Portable Document Format (PDF)","application/vnd.oasis.opendocument.text":"Open Office document","application/x-shockwave-flash":"Flash application","application/xml":"XML document","application/x-bittorrent":"Bittorrent file","application/x-7z-compressed":"7z archive","application/x-tar":"TAR archive","application/x-gzip":"GZIP archive","application/x-bzip2":"BZIP archive","application/zip":"ZIP archive","application/x-rar":"RAR archive","application/javascript":"Javascript application","text/plain":"Plain text","text/x-php":"PHP source","text/html":"HTML document","text/javascript":"Javascript source","text/css":"CSS style sheet","text/rtf":"Rich Text Format (RTF)","text/rtfd":"RTF with attachments (RTFD)","text/x-c":"C source","text/x-c++":"C++ source","text/x-shellscript":"Unix shell script","text/x-python":"Python source","text/x-java":"Java source","text/x-ruby":"Ruby source","text/x-perl":"Perl script","text/xml":"XML document","image/x-ms-bmp":"BMP image","image/jpeg":"JPEG image","image/gif":"GIF Image","image/png":"PNG image","image/x-targa":"TGA image","image/tiff":"TIFF image","image/vnd.adobe.photoshop":"Adobe Photoshop image","audio/mpeg":"MPEG audio","audio/midi":"MIDI audio","audio/ogg":"Ogg Vorbis audio","audio/mp4":"MP4 audio","audio/wav":"WAV audio","video/x-dv":"DV video","video/mp4":"MP4 video","video/mpeg":"MPEG video","video/x-msvideo":"AVI video","video/quicktime":"Quicktime video","video/x-ms-wmv":"WM video","video/x-flv":"Flash video","video/x-matroska":"Matroska video"},this.tlb=e("<ul />"),this.nav=e('<div class="el-finder-nav"/>').resizable({handles:"e",autoHide:!0,minWidth:200,maxWidth:500}),this.cwd=e('<div class="el-finder-cwd"/>').attr("unselectable","on"),this.spn=e('<div class="el-finder-spinner"/>'),this.err=e('<p class="el-finder-err"><strong/></p>').click(function(){e(this).hide()}),this.nfo=e('<div class="el-finder-stat"/>'),this.pth=e('<div class="el-finder-path"/>'),this.sel=e('<div class="el-finder-sel"/>'),this.stb=e('<div class="el-finder-statusbar"/>').append(this.pth).append(this.nfo).append(this.sel),this.wrz=e('<div class="el-finder-workzone" />').append(this.nav).append(this.cwd).append(this.spn).append(this.err).append('<div style="clear:both" />'),this.win=e(n).empty().attr("id",this.fm.id).addClass("el-finder "+(t.options.cssClass||"")).append(e('<div class="el-finder-toolbar" />').append(this.tlb)).append(this.wrz).append(this.stb),this.tree=e('<ul class="el-finder-tree"></ul>').appendTo(this.nav),this.plc=e('<ul class="el-finder-places"><li><a href="#" class="el-finder-places-root"><div/>'+this.fm.i18n(this.fm.options.places)+"</a><ul/></li></ul>").hide(),this.nav[this.fm.options.placesFirst?"prepend":"append"](this.plc),this.spinner=function(e){this.win.toggleClass("el-finder-disabled",e),this.spn.toggle(e)},this.fatal=function(e){r.error(e.status!="404"?"Invalid backend configuration":"Unable to connect to backend")},this.error=function(e,t){this.fm.lock(),this.err.show().children("strong").html(this.fm.i18n(e)+"!"+this.formatErrorData(t)),setTimeout(function(){r.err.fadeOut("slow")},4e3)},this.renderNav=function(e){function r(e){var t,n,i,s='<ul style="display:none">';for(t=0;t<e.length;t++){if(!e[t].name||!e[t].hash)continue;i="",!e[t].read&&!e[t].write?i="noaccess":e[t].read?e[t].write||(i="readonly"):i="dropbox",s+='<li><a href="#" class="'+i+'" key="'+e[t].hash+'"><div'+(e[t].dirs.length?' class="collapsed"':"")+"/>"+e[t].name+"</a>",e[t].dirs.length&&(s+=r(e[t].dirs)),s+="</li>"}return s+"</ul>"}var t=e.dirs.length?r(e.dirs):"",n='<li><a href="#" class="el-finder-tree-root" key="'+e.hash+'"><div'+(t?' class="collapsed expanded"':"")+"/>"+e.name+"</a>"+t+"</li>";this.tree.html(n),this.fm.options.places&&this.renderPlaces()},this.renderPlaces=function(){var t,n,i=this.fm.getPlaces(),s=this.plc.show().find("ul").empty().hide();e("div:first",this.plc).removeClass("collapsed expanded");if(i.length){i.sort(function(e,t){var n=r.tree.find('a[key="'+e+'"]').text()||"",i=r.tree.find('a[key="'+t+'"]').text()||"";return n.localeCompare(i)});for(t=0;t<i.length;t++)(n=this.tree.find('a[key="'+i[t]+'"]:not(.dropbox)').parent())&&n.length?s.append(n.clone().children("ul").remove().end().find("div").removeClass("collapsed expanded").end()):this.fm.removePlace(i[t]);s.children().length&&e("div:first",this.plc).addClass("collapsed")}},this.renderCwd=function(){this.cwd.empty();var e=0,n=0,r="";for(var i in this.fm.cdc)e++,n+=this.fm.cdc[i].size,r+=this.fm.options.view=="icons"?this.renderIcon(this.fm.cdc[i]):this.renderRow(this.fm.cdc[i],e%2);this.fm.options.view=="icons"?this.cwd.append(r):this.cwd.append('<table><tr><th colspan="2">'+this.fm.i18n("Name")+"</th><th>"+this.fm.i18n("Permissions")+"</th><th>"+this.fm.i18n("Modified")+'</th><th class="size">'+this.fm.i18n("Size")+"</th><th>"+this.fm.i18n("Kind")+"</th></tr>"+r+"</table>"),this.pth.text(t.cwd.rel),this.nfo.text(t.i18n("items")+": "+e+", "+this.formatSize(n)),this.sel.empty()},this.renderIcon=function(e){var t="<p"+(e.tmb?" style=\"background:url('"+e.tmb+"') 0 0 no-repeat\"":"")+"/><label>"+this.formatName(e.name)+"</label>";if(e.link||e.mime=="symlink-broken")t+="<em/>";return!e.read&&!e.write?t+='<em class="noaccess"/>':e.read&&!e.write?t+='<em class="readonly"/>':!e.read&&e.write&&(t+='<em class="'+(e.mime=="directory"?"dropbox":"noread")+'" />'),'<div class="'+this.mime2class(e.mime)+'" key="'+e.hash+'">'+t+"</div>"},this.renderRow=function(e,t){var n=e.link||e.mime=="symlink-broken"?"<em/>":"";return!e.read&&!e.write?n+='<em class="noaccess"/>':e.read&&!e.write?n+='<em class="readonly"/>':!e.read&&e.write&&(n+='<em class="'+(e.mime=="directory"?"dropbox":"noread")+'" />'),'<tr key="'+e.hash+'" class="'+r.mime2class(e.mime)+(t?" el-finder-row-odd":"")+'"><td class="icon"><p>'+n+"</p></td><td>"+e.name+"</td><td>"+r.formatPermissions(e.read,e.write,e.rm)+"</td><td>"+r.formatDate(e.date)+'</td><td class="size">'+r.formatSize(e.size)+"</td><td>"+r.mime2kind(e.link?"symlink":e.mime)+"</td></tr>"},this.updateFile=function(e){var t=this.cwd.find('[key="'+e.hash+'"]');t.replaceWith(t[0].nodeName=="DIV"?this.renderIcon(e):this.renderRow(e))},this.selectedInfo=function(){var e,t=0,n;if(r.fm.selected.length){n=this.fm.getSelected();for(e=0;e<n.length;e++)t+=n[e].size}this.sel.text(e>0?this.fm.i18n("selected items")+": "+n.length+", "+this.formatSize(t):"")},this.formatName=function(e){var t=r.fm.options.wrap;if(t>0){if(e.length>t*2)return e.substr(0,t)+"&shy;"+e.substr(t,t-5)+"&hellip;"+e.substr(e.length-3);if(e.length>t)return e.substr(0,t)+"&shy;"+e.substr(t)}return e},this.formatErrorData=function(e){var t,n="";if(typeof e=="object"){n="<br />";for(t in e)n+=t+" "+r.fm.i18n(e[t])+"<br />"}return n},this.mime2class=function(e){return e.replace("/"," ").replace(/\./g,"-")},this.formatDate=function(e){return e.replace(/([a-z]+)\s/i,function(e,t){return r.fm.i18n(t)+" "})},this.formatSize=function(e){var t=1,n="bytes";return e>1073741824?(t=1073741824,n="Gb"):e>1048576?(t=1048576,n="Mb"):e>1024&&(t=1024,n="Kb"),Math.round(e/t)+" "+n},this.formatPermissions=function(e,t,n){var i=[];return e&&i.push(r.fm.i18n("read")),t&&i.push(r.fm.i18n("write")),n&&i.push(r.fm.i18n("remove")),i.join("/")},this.mime2kind=function(e){return this.fm.i18n(this.kinds[e]||"unknown")}}}(jQuery),function(e){elFinder.prototype.ui=function(t){var n=this;this.fm=t,this.cmd={},this.buttons={},this.menu=e('<div class="el-finder-contextmenu" />').appendTo(document.body).hide(),this.dockButton=e('<div class="el-finder-dock-button" title="'+n.fm.i18n("Dock/undock filemanager window")+'" />'),this.exec=function(t,n){if(this.cmd[t]){if(t!="open"&&!this.cmd[t].isAllowed())return this.fm.view.error("Command not allowed");this.fm.locked||(this.fm.quickLook.hide(),e(".el-finder-info").remove(),this.cmd[t].exec(n),this.update())}},this.cmdName=function(e){return this.cmd[e]&&this.cmd[e].name?e=="archive"&&this.fm.params.archives.length==1?this.fm.i18n("Create")+" "+this.fm.view.mime2kind(this.fm.params.archives[0]).toLowerCase():this.fm.i18n(this.cmd[e].name):e},this.isCmdAllowed=function(e){return n.cmd[e]&&n.cmd[e].isAllowed()},this.execIfAllowed=function(e){this.isCmdAllowed(e)&&this.exec(e)},this.includeInCm=function(e,t){return this.isCmdAllowed(e)&&this.cmd[e].cm(t)},this.showMenu=function(t){function u(e){var t,r,i,s,o,u=n.fm.options.contextmenu[e]||[];for(t=0;t<u.length;t++)if(u[t]=="delim")n.menu.children().length&&!n.menu.children(":last").hasClass("delim")&&n.menu.append('<div class="delim" />');else if(n.fm.ui.includeInCm(u[t],e)){i=n.cmd[u[t]].argc(),s="";if(i.length){s='<span/><div class="el-finder-contextmenu-sub" style="z-index:'+(parseInt(n.menu.css("z-index")
)+1)+'">';for(var r=0;r<i.length;r++)s+='<div name="'+u[t]+'" argc="'+i[r].argc+'" class="'+i[r]["class"]+'">'+i[r].text+"</div>";s+="</div>"}n.menu.append('<div class="'+u[t]+'" name="'+u[t]+'">'+s+n.cmdName(u[t])+"</div>")}}var r,i,s,o="";this.hideMenu(),n.fm.selected.length?n.fm.selected.length==1?r="file":r="group":r="cwd",u(r),i=e(window),s={height:i.height(),width:i.width(),sT:i.scrollTop(),cW:this.menu.width(),cH:this.menu.height()},this.menu.css({left:t.clientX+s.cW>s.width?t.clientX-s.cW:t.clientX,top:t.clientY+s.cH>s.height&&t.clientY>s.cH?t.clientY+s.sT-s.cH:t.clientY+s.sT}).show().find("div[name]").hover(function(){var t=e(this),n=t.children("div"),r;t.addClass("hover"),n.length&&(n.attr("pos")||(r=t.outerWidth(),n.css(e(window).width()-r-t.offset().left>n.width()?"left":"right",r-5).attr("pos",!0)),n.show())},function(){e(this).removeClass("hover").children("div").hide()}).click(function(t){t.stopPropagation();var r=e(this);r.children("div").length||(n.hideMenu(),n.exec(r.attr("name"),r.attr("argc")))})},this.hideMenu=function(){this.menu.hide().empty()},this.update=function(){for(var e in this.buttons)this.buttons[e].toggleClass("disabled",!this.cmd[e].isAllowed())},this.init=function(t){var r,i,s,o=!1,u=2,f,l=this.fm.options.toolbar;this.fm.options.editorCallback||t.push("select"),!this.fm.params.archives.length&&e.inArray("archive",t)==-1&&t.push("archive");for(r in this.commands)e.inArray(r,t)==-1&&(this.commands[r].prototype=this.command.prototype,this.cmd[r]=new this.commands[r](this.fm));for(r=0;r<l.length;r++){o&&this.fm.view.tlb.append('<li class="delim" />'),o=!1;for(i=0;i<l[r].length;i++)s=l[r][i],this.cmd[s]&&(o=!0,this.buttons[s]=e('<li class="'+s+'" title="'+this.cmdName(s)+'" name="'+s+'" />').appendTo(this.fm.view.tlb).click(function(e){e.stopPropagation()}).bind("click",function(t){return function(){!e(this).hasClass("disabled")&&t.exec(e(this).attr("name"))}}(this)).hover(function(){!e(this).hasClass("disabled")&&e(this).addClass("el-finder-tb-hover")},function(){e(this).removeClass("el-finder-tb-hover")}))}this.update(),this.menu.css("z-index",this.fm.zIndex),this.fm.options.docked&&this.dockButton.hover(function(){e(this).addClass("el-finder-dock-button-hover")},function(){e(this).removeClass("el-finder-dock-button-hover")}).click(function(){n.fm.view.win.attr("undocked")?n.fm.dock():n.fm.undock(),e(this).trigger("mouseout")}).prependTo(this.fm.view.tlb)}},elFinder.prototype.ui.prototype.command=function(e){},elFinder.prototype.ui.prototype.command.prototype.isAllowed=function(){return!0},elFinder.prototype.ui.prototype.command.prototype.cm=function(e){return!1},elFinder.prototype.ui.prototype.command.prototype.argc=function(e){return[]},elFinder.prototype.ui.prototype.commands={back:function(e){var t=this;this.name="Back",this.fm=e,this.exec=function(){this.fm.history.length&&this.fm.ajax({cmd:"open",target:this.fm.history.pop()},function(e){t.fm.reload(e)})},this.isAllowed=function(){return this.fm.history.length}},reload:function(e){var t=this;this.name="Reload",this.fm=e,this.exec=function(){this.fm.ajax({cmd:"open",target:this.fm.cwd.hash,tree:!0},function(e){t.fm.reload(e)})},this.cm=function(e){return e=="cwd"}},open:function(t){var n=this;this.name="Open",this.fm=t,this.exec=function(t){function i(e){n.fm.history.push(n.fm.cwd.hash),n.fm.ajax({cmd:"open",target:e},function(e){n.fm.reload(e)})}function s(e){var t,r="";e.dim&&(t=e.dim.split("x"),r="width="+(parseInt(t[0])+20)+",height="+(parseInt(t[1])+20)+","),window.open(e.url||n.fm.options.url+"?cmd=open&current="+(e.parent||n.fm.cwd.hash)+"&target="+(e.link||e.hash),!1,"top=50,left=50,"+r+"scrollbars=yes,resizable=yes")}var r=null;t?r={hash:e(t).attr("key"),mime:"directory",read:!e(t).hasClass("noaccess")&&!e(t).hasClass("dropbox")}:r=this.fm.getSelected(0);if(!r.hash)return;if(!r.read)return this.fm.view.error("Access denied");if(r.type=="link"&&!r.link)return this.fm.view.error("Unable to open broken link");r.mime=="directory"?i(r.link||r.hash):s(r)},this.isAllowed=function(){return this.fm.selected.length==1&&this.fm.getSelected(0).read},this.cm=function(e){return e=="file"}},select:function(t){this.name="Select file",this.fm=t,t.options.selectMultiple?this.exec=function(){var n=e(t.getSelected()).map(function(){return t.options.cutURL=="root"?this.url.substr(t.params.url.length):this.url.replace(new RegExp("^("+t.options.cutURL+")"),"")});t.options.editorCallback(n),t.options.closeOnEditorCallback&&(t.dock(),t.close())}:this.exec=function(){var e=this.fm.getSelected(0);if(!e.url)return this.fm.view.error("File URL disabled by connector config");this.fm.options.editorCallback(this.fm.options.cutURL=="root"?e.url.substr(this.fm.params.url.length):e.url.replace(new RegExp("^("+this.fm.options.cutURL+")"),"")),this.fm.options.closeOnEditorCallback&&(this.fm.dock(),this.fm.close(),this.fm.destroy())},this.isAllowed=function(){return(this.fm.options.selectMultiple&&this.fm.selected.length>=1||this.fm.selected.length==1)&&!/(symlink\-broken|directory)/.test(this.fm.getSelected(0).mime)},this.cm=function(e){return e!="cwd"}},quicklook:function(e){var t=this;this.name="Preview with Quick Look",this.fm=e,this.exec=function(){t.fm.quickLook.toggle()},this.isAllowed=function(){return this.fm.selected.length==1},this.cm=function(){return!0}},info:function(t){var n=this;this.name="Get info",this.fm=t,this.exec=function(){function u(t){var r=["50%","50%"],u,f,l,c='<table cellspacing="0"><tr><td>'+n.fm.i18n("Name")+"</td><td>"+t.name+"</td></tr><tr><td>"+n.fm.i18n("Kind")+"</td><td>"+n.fm.view.mime2kind(t.link?"symlink":t.mime)+"</td></tr><tr><td>"+n.fm.i18n("Size")+"</td><td>"+n.fm.view.formatSize(t.size)+"</td></tr><tr><td>"+n.fm.i18n("Modified")+"</td><td>"+n.fm.view.formatDate(t.date)+"</td></tr><tr><td>"+n.fm.i18n("Permissions")+"</td><td>"+n.fm.view.formatPermissions(t.read,t.write,t.rm)+"</td></tr>";t.link&&(c+="<tr><td>"+n.fm.i18n("Link to")+"</td><td>"+t.linkTo+"</td></tr>"),t.dim&&(c+="<tr><td>"+n.fm.i18n("Dimensions")+"</td><td>"+t.dim+" px.</td></tr>"),t.url&&(c+="<tr><td>"+n.fm.i18n("URL")+'</td><td><a href="'+t.url+'" target="_blank">'+t.url+"</a></td></tr>"),i>1&&(l=e(".el-finder-dialog-info:last"),l.length?(u=l.offset().left+10,f=l.offset().top+10,r=[u<s-350?u:20,f<o-300?f:20]):(u=Math.round((s-350)/2-i*10),f=Math.round((o-300)/2-i*10),r=[u>20?u:20,f>20?f:20])),e("<div />").append(c+"</table>").dialog({dialogClass:"el-finder-dialog el-finder-dialog-info",width:390,position:r,title:n.fm.i18n(t.mime=="directory"?"Folder info":"File info"),close:function(){--i<=0&&n.fm.lockShortcuts(),e(this).dialog("destroy")},buttons:{Ok:function(){e(this).dialog("close")}}})}var t,r,i=this.fm.selected.length,s=e(window).width(),o=e(window).height();this.fm.lockShortcuts(!0),i?e.each(this.fm.getSelected(),function(){u(this)}):u(n.fm.cwd)},this.cm=function(e){return!0}},rename:function(t){var n=this;this.name="Rename",this.fm=t,this.exec=function(){function f(){i.html(u),n.fm.lockShortcuts()}function l(){if(!n.fm.locked){var e,t=s.val();if(o.name==s.val())return f();n.fm.isValidName(t)?n.fm.fileExists(t)&&(e="File or folder with the same name already exists"):e="Invalid name";if(e)return n.fm.view.error(e),r.addClass("ui-selected"),n.fm.lockShortcuts(!0),s.select().focus();n.fm.ajax({cmd:"rename",current:n.fm.cwd.hash,target:o.hash,name:t},function(e){e.error?f():(o.mime=="directory"&&n.fm.removePlace(o.hash)&&n.fm.addPlace(e.target),n.fm.reload(e))},{force:!0})}}var t=this.fm.getSelected(),r,i,s,o,u;t.length==1&&(o=t[0],r=this.fm.view.cwd.find('[key="'+o.hash+'"]'),i=this.fm.options.view=="icons"?r.children("label"):r.find("td").eq(1),u=i.html(),s=e('<input type="text" />').val(o.name).appendTo(i.empty()).bind("change blur",l).keydown(function(t){t.stopPropagation(),t.keyCode==27?f():t.keyCode==13&&(o.name==s.val()?f():e(this).trigger("change"))}).click(function(e){e.stopPropagation()}).select().focus(),this.fm.lockShortcuts(!0))},this.isAllowed=function(){return this.fm.cwd.write&&this.fm.getSelected(0).write},this.cm=function(e){return e=="file"}},copy:function(e){this.name="Copy",this.fm=e,this.exec=function(){this.fm.setBuffer(this.fm.selected)},this.isAllowed=function(){if(this.fm.selected.length){var e=this.fm.getSelected(),t=e.length;while(t--)if(e[t].read)return!0}return!1},this.cm=function(e){return e!="cwd"}},cut:function(e){this.name="Cut",this.fm=e,this.exec=function(){this.fm.setBuffer(this.fm.selected,1)},this.isAllowed=function(){if(this.fm.selected.length){var e=this.fm.getSelected(),t=e.length;while(t--)if(e[t].read&&e[t].rm)return!0}return!1},this.cm=function(e){return e!="cwd"}},paste:function(e){var t=this;this.name="Paste",this.fm=e,this.exec=function(){var e,n,r,i,s="";this.fm.buffer.dst||(this.fm.buffer.dst=this.fm.cwd.hash),n=this.fm.view.tree.find('[key="'+this.fm.buffer.dst+'"]');if(!n.length||n.hasClass("noaccess")||n.hasClass("readonly"))return this.fm.view.error("Access denied");if(this.fm.buffer.src==this.fm.buffer.dst)return this.fm.view.error("Unable to copy into itself");var o={cmd:"paste",current:this.fm.cwd.hash,src:this.fm.buffer.src,dst:this.fm.buffer.dst,cut:this.fm.buffer.cut};this.fm.jquery>132?o.targets=this.fm.buffer.files:o["targets[]"]=this.fm.buffer.files,this.fm.ajax(o,function(e){e.cdc&&t.fm.reload(e)},{force:!0})},this.isAllowed=function(){return this.fm.buffer.files},this.cm=function(e){return e=="cwd"}},rm:function(t){var n=this;this.name="Remove",this.fm=t,this.exec=function(){var t,r=[],i=this.fm.getSelected();for(var t=0;t<i.length;t++){if(!i[t].rm)return this.fm.view.error(i[t].name+": "+this.fm.i18n("Access denied"));r.push(i[t].hash)}r.length&&(this.fm.lockShortcuts(!0),e('<div><div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><strong>'+this.fm.i18n("Are you sure you want to remove files?<br /> This cannot be undone!")+"</strong></div></div>").dialog({title:this.fm.i18n("Confirmation required"),dialogClass:"el-finder-dialog",width:350,close:function(){n.fm.lockShortcuts()},buttons:{Cancel:function(){e(this).dialog("close")},Ok:function(){e(this).dialog("close");var t={cmd:"rm",current:n.fm.cwd.hash};n.fm.jquery>132?t.targets=r:t["targets[]"]=r,n.fm.ajax(t,function(e){e.tree&&n.fm.reload(e)},{force:!0})}}}))},this.isAllowed=function(e){if(this.fm.selected.length){var t=this.fm.getSelected(),n=t.length;while(n--)if(t[n].rm)return!0}return!1},this.cm=function(e){return e!="cwd"}},mkdir:function(t){var n=this;this.name="New folder",this.fm=t,this.exec=function(){function r(){if(!n.fm.locked){var e,t=input.val();n.fm.isValidName(t)?n.fm.fileExists(t)&&(e="File or folder with the same name already exists"):e="Invalid name";if(e)return n.fm.view.error(e),n.fm.lockShortcuts(!0),el.addClass("ui-selected"),input.select().focus();n.fm.ajax({cmd:"mkdir",current:n.fm.cwd.hash,name:t},function(e){if(e.error)return el.addClass("ui-selected"),input.select().focus();n.fm.reload(e)},{force:!0})}}n.fm.unselectAll();var t=this.fm.uniqueName("untitled folder");input=e('<input type="text"/>').val(t),prev=this.fm.view.cwd.find(".directory:last"),f={name:t,hash:"",mime:"directory",read:!0,write:!0,date:"",size:0},el=this.fm.options.view=="list"?e(this.fm.view.renderRow(f)).children("td").eq(1).empty().append(input).end().end():e(this.fm.view.renderIcon(f)).children("label").empty().append(input).end(),el.addClass("directory ui-selected"),prev.length?el.insertAfter(prev):this.fm.options.view=="list"?el.insertAfter(this.fm.view.cwd.find("tr").eq(0)):el.prependTo(this.fm.view.cwd),n.fm.checkSelectedPos(),input.select().focus().click(function(e){e.stopPropagation()}).bind("change blur",r).keydown(function(e){e.stopPropagation(),e.keyCode==27?(el.remove(),n.fm.lockShortcuts()):e.keyCode==13&&r()}),n.fm.lockShortcuts(!0)},this.isAllowed=function(){return this.fm.cwd.write},this.cm=function(e){return e=="cwd"}},mkfile:function(t){var n=this;this.name="New text file",this.fm=t,this.exec=function(){function o(){if(!n.fm.locked){var e,t=r.val();n.fm.isValidName(t)?n.fm.fileExists(t)&&(e="File or folder with the same name already exists"):e="Invalid name";if(e)return n.fm.view.error(e),n.fm.lockShortcuts(!0),s.addClass("ui-selected"),r.select().focus();n.fm.ajax({cmd:"mkfile",current:n.fm.cwd.hash,name:t},function(e){if(e.error)return s.addClass("ui-selected"),r.select().focus();n.fm.reload(e)},{force:!0})}}n.fm.unselectAll();var t=this.fm.uniqueName("untitled file",".txt"),r=e('<input type="text"/>').val(t),i={name:t,hash:"",mime:"text/plain",read:!0,write:!0,date:"",size:0},s=this.fm.options.view=="list"?e(this.fm.view.renderRow(i)).children("td").eq(1).empty().append(r).end().end():e(this.fm.view.renderIcon(i)).children("label").empty().append(r).end();s.addClass("text ui-selected").appendTo(this.fm.options.view=="list"?n.fm.view.cwd.children("table"):n.fm.view.cwd),r.select().focus().bind("change blur",o).click(function(e){e.stopPropagation()}).keydown(function(e){e.stopPropagation(),e.keyCode==27?(s.remove(),n.fm.lockShortcuts()):e.keyCode==13&&o()}),n.fm.lockShortcuts(!0)},this.isAllowed=function(e){return this.fm.cwd.write},this.cm=function(e){return e=="cwd"}},upload:function(t){var n=this;this.name="Upload files",this.fm=t,this.exec=function(){function h(e){r.show().find("div").empty().text(e)}function p(){function c(){try{u=i.contentWindow?i.contentWindow.document:i.contentDocument?i.contentDocument:i.document;if(u.body==null||u.body.innerHTML=="")return--s?setTimeout(c,100):(h(),n.fm.view.error("Unable to access iframe DOM after 50 tries"));f=e(u.body).html(),n.fm.jquery>=141?l=e.parseJSON(f):/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?l=window.JSON&&window.JSON.parse?window.JSON.parse(f):(new Function("return "+f))():l={error:"Unable to parse server response"}}catch(t){l={error:"Unable to parse server response"}}h(),l.error&&n.fm.view.error(l.error,l.errorData),l.cwd&&n.fm.reload(l),l.tmb&&n.fm.tmb()}function h(){n.fm.lock(),r.remove()}var r=e('<iframe name="'+t+'" name="'+t+'" src="about:blank"/>'),i=r[0],s=50,u,f,l;r.css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body").bind("load",function(){r.unbind("load"),c()}),n.fm.lock(!0),o.submit()}var t="el-finder-io-"+(new Date).getTime(),r=e('<div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><div/></div>'),i=this.fm.params.uplMaxSize?"<p>"+this.fm.i18n("Maximum allowed files size")+": "+this.fm.params.uplMaxSize+"</p>":"",s=e('<p class="el-finder-add-field"><span class="ui-state-default ui-corner-all"><em class="ui-icon ui-icon-circle-plus"/></span>'+this.fm.i18n("Add field")+"</p>").click(function(){e(this).before('<p><input type="file" name="upload[]"/></p>')}),o='<form method="post" enctype="multipart/form-data" action="'+n.fm.options.url+'" target="'+t+'"><input type="hidden" name="cmd" value="upload" /><input type="hidden" name="current" value="'+n.fm.cwd.hash+'" />',u=e("<div/>"),f=3;while(f--)o+='<p><input type="file" name="upload[]"/></p>';var l=e("meta[name=csrf-token]").attr("content"),c=e("meta[name=csrf-param]").attr("content");c!=null&&l!=null&&(o+='<input name="'+c+'" value="'+l+'" type="hidden" />'),o=e(o+"</form>"),u.append(o.append(r.hide()).prepend(i).append(s)).dialog({dialogClass:"el-finder-dialog",title:n.fm.i18n("Upload files"),modal:!0,resizable:!1,close:function(){n.fm.lockShortcuts()},buttons:{Cancel:function(){e(this).dialog("close")},Ok:function(){if(!e(":file[value]",o).length)return h(n.fm.i18n("Select at least one file to upload"));setTimeout(function(){n.fm.lock(),e.browser.safari?e.ajax({url:n.fm.options.url,data:{cmd:"ping"},error:p,success:p}):p()}),e(this).dialog("close")}}}),n.fm.lockShortcuts(!0)},this.isAllowed=function(){return this.fm.cwd.write},this.cm=function(e){return e=="cwd"}},duplicate:function(e){var t=this;this.name="Duplicate",this.fm=e,this.exec=function(){this.fm.ajax({cmd:"duplicate",current:this.fm.cwd.hash,target:this.fm.selected[0]},function(e){t.fm.reload(e)})},this.isAllowed=function(){return this.fm.cwd.write&&this.fm.selected.length==1&&this.fm.getSelected()[0].read},this.cm=function(e){return e=="file"}},edit:function(t){var n=this;this.name="Edit text file",this.fm=t,this.exec=function(){var t=this.fm.getSelected(0);this.fm.lockShortcuts(!0),this.fm.ajax({cmd:"read",current:this.fm.cwd.hash,target:t.hash},function(r){n.fm.lockShortcuts(!0);var i=e("<textarea/>").val(r.content||"").keydown(function(t){t.stopPropagation();if(t.keyCode==9){t.preventDefault();if(e.browser.msie){var n=document.selection.createRange();n.text="	"+n.text,this.focus()}else{var r=this.value.substr(0,this.selectionStart),i=this.value.substr(this.selectionEnd);this.value=r+"	"+i,this.setSelectionRange(r.length+1,r.length+1)}}});e("<div/>").append(i).dialog({dialogClass:"el-finder-dialog",title:n.fm.i18n(n.name),modal:!0,width:500,close:function(){n.fm.lockShortcuts()},buttons:{Cancel:function(){e(this).dialog("close")},Ok:function(){var r=i.val();e(this).dialog("close"),n.fm.ajax({cmd:"edit",current:n.fm.cwd.hash,target:t.hash,content:r},function(e){e.target&&(n.fm.cdc[e.target.hash]=e.target,n.fm.view.updateFile(e.target),n.fm.selectById(e.target.hash))},{type:"POST"})}}})})},this.isAllowed=function(){if(n.fm.selected.length==1){var e=this.fm.getSelected()[0];return e.write&&e.read&&(e.mime.indexOf("text")==0||e.mime=="application/x-empty"||e.mime=="application/xml")}},this.cm=function(e){return e=="file"}},archive:function(t){var n=this;this.name="Create archive",this.fm=t,this.exec=function(t){var r={cmd:"archive",current:n.fm.cwd.hash,type:e.inArray(t,this.fm.params.archives)!=-1?t:this.fm.params.archives[0],name:n.fm.i18n("Archive")};this.fm.jquery>132?r.targets=n.fm.selected:r["targets[]"]=n.fm.selected,this.fm.ajax(r,function(e){n.fm.reload(e)})},this.isAllowed=function(){if(this.fm.cwd.write&&this.fm.selected.length){var e=this.fm.getSelected(),t=e.length;while(t--)if(e[t].read)return!0}return!1},this.cm=function(e){return e!="cwd"},this.argc=function(){var e,t=[];for(e=0;e<n.fm.params.archives.length;e++)t.push({"class":"archive",argc:n.fm.params.archives[e],text:n.fm.view.mime2kind(n.fm.params.archives[e])});return t}},extract:function(t){var n=this;this.name="Uncompress archive",this.fm=t,this.exec=function(){this.fm.ajax({cmd:"extract",current:this.fm.cwd.hash,target:this.fm.getSelected(0).hash},function(e){n.fm.reload(e)})},this.isAllowed=function(){var t=this.fm.params.extract,n=t&&t.length;return this.fm.cwd.write&&this.fm.selected.length==1&&this.fm.getSelected(0).read&&n&&e.inArray(this.fm.getSelected(0).mime,t)!=-1},this.cm=function(e){return e=="file"}},resize:function(t){var n=this;this.name="Resize image",this.fm=t,this.exec=function(){function l(){var e=parseInt(iw.val())||0,t=parseInt(ih.val())||0;e<=0||t<=0?(e=i,t=s):this==iw.get(0)?t=parseInt(e/o):e=parseInt(t*o),iw.val(e),ih.val(t)}var t=this.fm.getSelected();if(t[0]&&t[0].write&&t[0].dim){var r=t[0].dim.split("x"),i=parseInt(r[0]),s=parseInt(r[1]),o=i/s;iw=e('<input type="text" size="9" value="'+i+'" name="width"/>'),ih=e('<input type="text" size="9" value="'+s+'" name="height"/>'),f=e("<form/>").append(iw).append(" x ").append(ih).append(" px"),iw.add(ih).bind("change",l),n.fm.lockShortcuts(!0);var u=e("<div/>").append(e("<div/>").text(n.fm.i18n("Dimensions")+":")).append(f).dialog({title:n.fm.i18n("Resize image"),dialogClass:"el-finder-dialog",width:230,modal:!0,close:function(){n.fm.lockShortcuts()},buttons:{Cancel:function(){e(this).dialog("close")},Ok:function(){var r=parseInt(iw.val())||0,o=parseInt(ih.val())||0;r>0&&r!=i&&o>0&&o!=s&&n.fm.ajax({cmd:"resize",current:n.fm.cwd.hash,target:t[0].hash,width:r,height:o},function(e){n.fm.reload(e)}),e(this).dialog("close")}}})}},this.isAllowed=function(){return this.fm.selected.length==1&&this.fm.cdc[this.fm.selected[0]].write&&this.fm.cdc[this.fm.selected[0]].read&&this.fm.cdc[this.fm.selected[0]].resize},this.cm=function(e){return e=="file"}},icons:function(t){this.name="View as icons",this.fm=t,this.exec=function(){this.fm.view.win.addClass("el-finder-disabled"),this.fm.setView("icons"),this.fm.updateCwd(),this.fm.view.win.removeClass("el-finder-disabled"),e("div.image",this.fm.view.cwd).length&&this.fm.tmb()},this.isAllowed=function(){return this.fm.options.view!="icons"},this.cm=function(e){return e=="cwd"}},list:function(e){this.name="View as list",this.fm=e,this.exec=function(){this.fm.view.win.addClass("el-finder-disabled"),this.fm.setView("list"),this.fm.updateCwd(),this.fm.view.win.removeClass("el-finder-disabled")},this.isAllowed=function(){return this.fm.options.view!="list"},this.cm=function(e){return e=="cwd"}},help:function(t){this.name="Help",this.fm=t,this.exec=function(){var t,n=this.fm.i18n("helpText"),r,i,s;t='<div class="el-finder-logo"/><strong>'+this.fm.i18n("elFinder: Web file manager")+"</strong><br/>"+this.fm.i18n("Version")+": "+this.fm.version+"<br/>jQuery/jQueryUI: "+e().jquery+"/"+e.ui.version+'<br clear="all"/><p><strong><a href="http://elrte.org/'+this.fm.options.lang+'/elfinder" target="_blank">'+this.fm.i18n("Donate to support project development")+'</a></strong></p><p><a href="http://elrte.org/redmine/projects/elfinder/wiki" target="_blank">'+this.fm.i18n("elFinder documentation")+"</a></p>",t+="<p>"+(n!="helpText"?n:"elFinder works similar to file manager on your computer. <br /> To make actions on files/folders use icons on top panel. If icon action it is not clear for you, hold mouse cursor over it to see the hint. <br /> Manipulations with existing files/folders can be done through the context menu (mouse right-click).<br/> To copy/delete a group of files/folders, select them using Shift/Alt(Command) + mouse left-click.")+"</p>",t+="<p><strong>"+this.fm.i18n("elFinder support following shortcuts")+":</strong><ul><li><kbd>Ctrl+A</kbd> - "+this.fm.i18n("Select all files")+"</li><li><kbd>Ctrl+C/Ctrl+X/Ctrl+V</kbd> - "+this.fm.i18n("Copy/Cut/Paste files")+"</li><li><kbd>Enter</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Space</kbd> - "+this.fm.i18n("Open/close QuickLook window")+"</li><li><kbd>Delete/Cmd+Backspace</kbd> - "+this.fm.i18n("Remove selected files")+"</li><li><kbd>Ctrl+I</kbd> - "+this.fm.i18n("Selected files or current directory info")+"</li><li><kbd>Ctrl+N</kbd> - "+this.fm.i18n("Create new directory")+"</li><li><kbd>Ctrl+U</kbd> - "+this.fm.i18n("Open upload files form")+"</li><li><kbd>Left arrow</kbd> - "+this.fm.i18n("Select previous file")+"</li><li><kbd>Right arrow </kbd> - "+this.fm.i18n("Select next file")+"</li><li><kbd>Ctrl+Right arrow</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Ctrl+Left arrow</kbd> - "+this.fm.i18n("Return into previous folder")+"</li><li><kbd>Shift+arrows</kbd> - "+this.fm.i18n("Increase/decrease files selection")+"</li></ul></p><p>"+this.fm.i18n("Contacts us if you need help integrating elFinder in you products")+": dev@std42.ru</p>",r='<div class="el-finder-help-std"/><p>'+this.fm.i18n("Javascripts/PHP programming: Dmitry (dio) Levashov, dio@std42.ru")+"</p><p>"+this.fm.i18n("Python programming, techsupport: Troex Nevelin, troex@fury.scancode.ru")+"</p><p>"+this.fm.i18n("Design: Valentin Razumnih")+"</p><p>"+this.fm.i18n("Chezh localization")+": Roman Matěna, info@romanmatena.cz</p><p>"+this.fm.i18n("Chinese (traditional) localization")+": Tad, tad0616@gmail.com</p><p>"+this.fm.i18n("Dutch localization")+': Kurt Aerts, <a href="http://ilabsolutions.net/" target="_blank">http://ilabsolutions.net</a></p><p>'+this.fm.i18n("Greek localization")+": Panagiotis Skarvelis</p><p>"+this.fm.i18n("Hungarian localization")+": Viktor Tamas, tamas.viktor@totalstudio.hu</p><p>"+this.fm.i18n("Italian localization")+":  Ugo Punzolo, sadraczerouno@gmail.com</p><p>"+this.fm.i18n("Latvian localization")+":  Uldis Plotiņš, uldis.plotins@gmail.com</p><p>"+this.fm.i18n("Poland localization")+":  Darek Wapiński, darek@wapinski.us</p><p>"+this.fm.i18n("Spanish localization")+': Alex (xand) Vavilin, xand@xand.es, <a href="http://xand.es" target="_blank">http://xand.es</a></p><p>'+this.fm.i18n("Icons")+': <a href="http://pixelmixer.ru/" target="_blank">pixelmixer</a>,  <a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank">Famfam silk icons</a>, <a href="http://www.fatcow.com/free-icons/" target="_blank">Fatcow icons</a></p><p>'+this.fm.i18n('Copyright: <a href="http://www.std42.ru" target="_blank">Studio 42 LTD</a>')+"</p><p>"+this.fm.i18n("License: BSD License")+"</p><p>"+this.fm.i18n('Web site: <a href="http://elrte.org/elfinder/" target="_blank">elrte.org/elfinder</a>')+"</p>",i='<div class="el-finder-logo"/><strong><a href="http://www.eldorado-cms.ru" target="_blank">ELDORADO.CMS</a></strong><br/>'+this.fm.i18n("Simple and usefull Content Management System")+"<hr/>"+this.fm.i18n("Support project development and we will place here info about you"),s='<ul><li><a href="#el-finder-help-h">'+this.fm.i18n("Help")+'</a></li><li><a href="#el-finder-help-a">'+this.fm.i18n("Authors")+'</a><li><a href="#el-finder-help-sp">'+this.fm.i18n("Sponsors")+'</a></li></ul><div id="el-finder-help-h"><p>'+t+'</p></div><div id="el-finder-help-a"><p>'+r+'</p></div><div id="el-finder-help-sp"><p>'+i+"</p></div>";var o=e("<div/>").html(s).dialog({width:617,title:this.fm.i18n("Help"),dialogClass:"el-finder-dialog",modal:!0,close:function(){o.tabs("destroy").dialog("destroy").remove()},buttons:{Ok:function(){e(this).dialog("close")}}}).tabs()},this.cm=function(e){return e=="cwd"}}}}(jQuery),function(e){elFinder.prototype.quickLook=function(t,n){function f(){r.media.hide().empty(),r.win.attr("class","el-finder-ql").css("z-index",r.fm.zIndex),r.title.empty(),r.ico.attr("style","").show(),r.add.hide().empty(),r._hash=""}function l(){var e=r.fm.getSelected(0);f(),r._hash=e.hash,r.title.text(e.name),r.win.addClass(r.fm.view.mime2class(e.mime)),r.name.text(e.name),r.kind.text(r.fm.view.mime2kind(e.link?"symlink":e.mime)),r.size.text(r.fm.view.formatSize(e.size)),r.date.text(r.fm.i18n("Modified")+": "+r.fm.view.formatDate(e.date)),e.dim&&r.add.append("<span>"+e.dim+" px</span>").show(),e.tmb&&r.ico.css("background",'url("'+e.tmb+'") 0 0 no-repeat');if(e.url){r.url.text(e.url).attr("href",e.url).show();for(var t in r.plugins)if(r.plugins[t].test&&r.plugins[t].test(e.mime,r.mimes,e.name)){r.plugins[t].show(r,e);return}}else r.url.hide();r.win.css({width:"420px",height:"auto"})}var r=this;this.fm=t,this._hash="",this.title=e("<strong/>"),this.ico=e("<p/>"),this.info=e("<label/>"),this.media=e('<div class="el-finder-ql-media"/>').hide(),this.name=e('<span class="el-finder-ql-name"/>'),this.kind=e('<span class="el-finder-ql-kind"/>'),this.size=e('<span class="el-finder-ql-size"/>'),this.date=e('<span class="el-finder-ql-date"/>'),this.url=e('<a href="#"/>').hide().click(function(t){t.preventDefault(),window.open(e(this).attr("href")),r.hide()}),this.add=e("<div/>"),this.content=e('<div class="el-finder-ql-content"/>'),this.win=e('<div class="el-finder-ql"/>').hide().append(e('<div class="el-finder-ql-drag-handle"/>').append(e('<span class="ui-icon ui-icon-circle-close"/>').click(function(){r.hide()})).append(this.title)).append(this.ico).append(this.media).append(this.content.append(this.name).append(this.kind).append(this.size).append(this.date).append(this.url).append(this.add)).appendTo("body").draggable({handle:".el-finder-ql-drag-handle"}).resizable({minWidth:420,minHeight:150,resize:function(){if(r.media.children().length){var e=r.media.children(":first");switch(e[0].nodeName){case"IMG":var t=e.width(),n=e.height(),i=r.win.width(),s=r.win.css("height")=="auto"?350:r.win.height()-r.content.height()-r.th,o=t>i||n>s?Math.min(Math.min(i,t)/t,Math.min(s,n)/n):Math.min(Math.max(i,t)/t,Math.max(s,n)/n);e.css({width:Math.round(e.width()*o),height:Math.round(e.height()*o)});break;case"IFRAME":case"EMBED":e.css("height",r.win.height()-r.content.height()-r.th);break;case"OBJECT":e.children("embed").css("height",r.win.height()-r.content.height()-r.th)}}}}),this.th=parseInt(this.win.children(":first").css("height"))||18,this.mimes={"image/jpeg":"jpg","image/gif":"gif","image/png":"png"};for(var i=0;i<navigator.mimeTypes.length;i++){var s=navigator.mimeTypes[i].type;s&&s!="*"&&(this.mimes[s]=navigator.mimeTypes[i].suffixes)}if(e.browser.safari&&navigator.platform.indexOf("Mac")!=-1||e.browser.msie)this.mimes["application/pdf"]="pdf";else for(var o=0;o<navigator.plugins.length;o++)for(var u=0;u<navigator.plugins[o].length;u++){var a=navigator.plugins[o][u].description.toLowerCase();if(a.substring(0,a.indexOf(" "))=="pdf"){this.mimes["application/pdf"]="pdf";break}}this.mimes["image/x-bmp"]&&(this.mimes["image/x-ms-bmp"]="bmp"),e.browser.msie&&!this.mimes["application/x-shockwave-flash"]&&(this.mimes["application/x-shockwave-flash"]="swf"),this.show=function(){if(this.win.is(":hidden")&&r.fm.selected.length==1){l();var t=r.fm.selected[0],n=r.fm.view.cwd.find('[key="'+t+'"]'),i=n.offset();r.fm.lockShortcuts(!0),this.win.css({width:n.width()-20,height:n.height(),left:i.left,top:i.top,opacity:0}).show().animate({width:420,height:150,opacity:1,top:Math.round(e(window).height()/5),left:e(window).width()/2-210},450,function(){r.win.css({height:"auto"}),r.fm.lockShortcuts()})}},this.hide=function(){if(this.win.is(":visible")){var e,t=r.fm.view.cwd.find('[key="'+this._hash+'"]');t?(e=t.offset(),this.media.hide(200),this.win.animate({width:t.width()-20,height:t.height(),left:e.left,top:e.top,opacity:0},350,function(){r.fm.lockShortcuts(),f(),r.win.hide().css("height","auto")})):(this.win.fadeOut(200),f(),r.fm.lockShortcuts())}},this.toggle=function(){this.win.is(":visible")?this.hide():this.show()},this.update=function(){this.fm.selected.length!=1?this.hide():this.win.is(":visible")&&this.fm.selected[0]!=this._hash&&l()},this.mediaHeight=function(){return this.win.is(":animated")||this.win.css("height")=="auto"?315:this.win.height()-this.content.height()-this.th}},elFinder.prototype.quickLook.prototype.plugins={image:new function(){this.test=function(e,t){return e.match(/^image\//)},this.show=function(t,n){function s(e){var n=e.width(),r=e.height(),i=t.win.is(":animated"),s=i?420:t.win.width(),o=i||t.win.css("height")=="auto"?315:t.win.height()-t.content.height()-t.th,u=n>s||r>o?Math.min(Math.min(s,n)/n,Math.min(o,r)/r):Math.min(Math.max(s,n)/n,Math.max(o,r)/r);t.fm.lockShortcuts(!0),t.ico.hide(),e.css({width:t.ico.width(),height:t.ico.height()}).show().animate({width:Math.round(u*n),height:Math.round(u*r)},450,function(){t.fm.lockShortcuts()})}var r,i;t.mimes[n.mime]&&n.hash==t._hash&&e("<img/>").hide().appendTo(t.media.show()).attr("src",n.url+(e.browser.msie||e.browser.opera?"?"+Math.random():"")).load(function(){i=e(this).unbind("load"),n.hash==t._hash&&(t.win.is(":animated")?setTimeout(function(){s(i)},330):s(i))})}},text:new function(){this.test=function(e,t){return e.indexOf("text")==0&&e.indexOf("rtf")==-1||e.match(/application\/(xml|javascript|json)/)},this.show=function(e,t){t.hash==e._hash&&(e.ico.hide(),e.media.append('<iframe src="'+t.url+'" style="height:'+e.mediaHeight()+'px" />').show())}},swf:new function(){this.test=function(e,t){return e=="application/x-shockwave-flash"&&t[e]},this.show=function(e,t){if(t.hash==e._hash){e.ico.hide();var n=e.media.append('<embed pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high" src="'+t.url+'" style="width:100%;height:'+e.mediaHeight()+'px" type="application/x-shockwave-flash" />');e.win.is(":animated")?n.slideDown(450):n.show()}}},audio:new function(){this.test=function(e,t){return e.indexOf("audio")==0&&t[e]},this.show=function(e,t){if(t.hash==e._hash){e.ico.hide();var n=e.win.is(":animated")||e.win.css("height")=="auto"?100:e.win.height()-e.content.height()-e.th;e.media.append('<embed src="'+t.url+'" style="width:100%;height:'+n+'px" />').show()}}},video:new function(){this.test=function(e,t){return e.indexOf("video")==0&&t[e]},this.show=function(e,t){t.hash==e._hash&&(e.ico.hide(),e.media.append('<embed src="'+t.url+'" style="width:100%;height:'+e.mediaHeight()+'px" />').show())}},pdf:new function(){this.test=function(e,t){return e=="application/pdf"&&t[e]},this.show=function(e,t){t.hash==e._hash&&(e.ico.hide(),e.media.append('<embed src="'+t.url+'" style="width:100%;height:'+e.mediaHeight()+'px" />').show())}}}}(jQuery),function(e){elFinder.prototype.eventsManager=function(t,n){function i(t,n){var i,s,o;if(!e("[key]",r.cwd).length)return;if(r.fm.selected.length==0)i=e("[key]:"+(t?"first":"last"),r.cwd),r.fm.select(i);else if(n)i=e(".ui-selected:"+(t?"last":"first"),r.cwd),s=i[t?"next":"prev"]("[key]"),s.length&&(i=s),r.fm.select(i,!0);else{r.pointer&&(o=e('[key="'+r.
pointer+'"].ui-selected',r.cwd));if(!o||!o.length)o=e(".ui-selected:"+(t?"last":"first"),r.cwd);i=o[t?"next":"prev"]("[key]");if(!i.length)i=o;else if(!i.hasClass("ui-selected"))r.fm.select(i);else if(!o.hasClass("ui-selected"))r.fm.unselect(i);else{s=o[t?"prev":"next"]("[key]");if(!s.length||!s.hasClass("ui-selected"))r.fm.unselect(o);else{while((s=t?i.next("[key]"):i.prev("[key]"))&&i.hasClass("ui-selected"))i=s;r.fm.select(i)}}}r.pointer=i.attr("key"),r.fm.checkSelectedPos(t)}var r=this;this.lock=!1,this.fm=t,this.ui=t.ui,this.tree=t.view.tree,this.cwd=t.view.cwd,this.pointer="",this.init=function(){var t=this,n=!1;t.lock=!1,this.cwd.bind("click",function(n){var r=e(n.target);r.hasClass("ui-selected")?t.fm.unselectAll():(r.attr("key")||(r=r.parent("[key]")),n.ctrlKey||n.metaKey?t.fm.toggleSelect(r):t.fm.select(r,!0))}).bind(window.opera?"click":"contextmenu",function(r){if(window.opera&&!r.ctrlKey)return;r.preventDefault(),r.stopPropagation();var i=e(r.target);e.browser.mozilla&&(n=!0),i.hasClass("el-finder-cwd")?t.fm.unselectAll():t.fm.select(i.attr("key")?i:i.parent("[key]")),t.fm.quickLook.hide(),t.fm.ui.showMenu(r)}).selectable({filter:"[key]",delay:300,stop:function(){t.fm.updateSelect(),t.fm.log("mouseup")}}),e(document).bind("click",function(r){!n&&t.fm.ui.hideMenu(),n=!1,e("input",t.cwd).trigger("change"),e(r.target).is("input,textarea,select")||e("input,textarea").blur()}),e("input,textarea").live("focus",function(e){t.lock=!0}).live("blur",function(e){t.lock=!1}),this.tree.bind("select",function(n){t.tree.find("a").removeClass("selected"),e(n.target).addClass("selected").parents("li:has(ul)").children("ul").show().prev().children("div").addClass("expanded")}),this.fm.options.places&&(this.fm.view.plc.click(function(n){n.preventDefault();var r=e(n.target),i=r.attr("key"),s;if(i)i!=t.fm.cwd.hash&&t.ui.exec("open",n.target);else if(n.target.nodeName=="A"||n.target.nodeName=="DIV")s=t.fm.view.plc.find("ul"),s.children().length&&(s.toggle(300),t.fm.view.plc.children("li").find("div").toggleClass("expanded"))}),this.fm.view.plc.droppable({accept:"(div,tr).directory",tolerance:"pointer",over:function(){e(this).addClass("el-finder-droppable")},out:function(){e(this).removeClass("el-finder-droppable")},drop:function(n,r){e(this).removeClass("el-finder-droppable");var i=!1;r.helper.children(".directory:not(.noaccess,.dropbox)").each(function(){t.fm.addPlace(e(this).attr("key"))&&(i=!0,e(this).hide())}),i&&(t.fm.view.renderPlaces(),t.updatePlaces(),t.fm.view.plc.children("li").children("div").trigger("click")),r.helper.children("div:visible").length||r.helper.hide()}})),e(document).bind(e.browser.mozilla||e.browser.opera?"keypress":"keydown",function(e){var n=e.ctrlKey||e.metaKey;if(t.lock)return;switch(e.keyCode){case 37:case 38:e.stopPropagation(),e.preventDefault(),e.keyCode==37&&n?t.ui.execIfAllowed("back"):i(!1,!e.shiftKey);break;case 39:case 40:e.stopPropagation(),e.preventDefault(),n?t.ui.execIfAllowed("open"):i(!0,!e.shiftKey)}}),e(document).bind(e.browser.opera?"keypress":"keydown",function(e){if(t.lock)return;switch(e.keyCode){case 32:e.preventDefault(),e.stopPropagation(),t.fm.quickLook.toggle();break;case 27:t.fm.quickLook.hide()}}),this.fm.options.disableShortcuts||e(document).bind("keydown",function(e){var n=e.ctrlKey||e.metaKey;if(t.lock)return;switch(e.keyCode){case 8:n&&t.ui.isCmdAllowed("rm")&&(e.preventDefault(),t.ui.exec("rm"));break;case 13:if(t.ui.isCmdAllowed("select"))return t.ui.exec("select");t.ui.execIfAllowed("open");break;case 46:t.ui.execIfAllowed("rm");break;case 65:n&&(e.preventDefault(),t.fm.selectAll());break;case 67:n&&t.ui.execIfAllowed("copy");break;case 73:n&&(e.preventDefault(),t.ui.exec("info"));break;case 78:n&&(e.preventDefault(),t.ui.execIfAllowed("mkdir"));break;case 85:n&&(e.preventDefault(),t.ui.execIfAllowed("upload"));break;case 86:n&&t.ui.execIfAllowed("paste");break;case 88:n&&t.ui.execIfAllowed("cut");break;case 113:t.ui.execIfAllowed("rename")}})},this.updateNav=function(){e("a",this.tree).click(function(t){t.preventDefault();var n=e(this),i;t.target.nodeName=="DIV"&&e(t.target).hasClass("collapsed")?e(t.target).toggleClass("expanded").parent().next("ul").toggle(300):n.attr("key")!=r.fm.cwd.hash?n.hasClass("noaccess")||n.hasClass("dropbox")?r.fm.view.error("Access denied"):r.ui.exec("open",n.trigger("select")[0]):(i=n.children(".collapsed"),i.length&&(i.toggleClass("expanded"),n.next("ul").toggle(300)))}),e("a:not(.noaccess,.readonly)",this.tree).droppable({tolerance:"pointer",accept:"div[key],tr[key]",over:function(){e(this).addClass("el-finder-droppable")},out:function(){e(this).removeClass("el-finder-droppable")},drop:function(t,n){e(this).removeClass("el-finder-droppable"),r.fm.drop(t,n,e(this).attr("key"))}}),this.fm.options.places&&this.updatePlaces()},this.updatePlaces=function(){this.fm.view.plc.children("li").find("li").draggable({scroll:!1,stop:function(){r.fm.removePlace(e(this).children("a").attr("key"))&&(e(this).remove(),e("li",r.fm.view.plc.children("li")).length||r.fm.view.plc.children("li").find("div").removeClass("collapsed expanded").end().children("ul").hide())}})},this.updateCwd=function(){e("[key]",this.cwd).bind("dblclick",function(t){r.fm.select(e(this),!0),r.ui.exec(r.ui.isCmdAllowed("select")?"select":"open")}).draggable({delay:3,addClasses:!1,appendTo:".el-finder-cwd",revert:!0,drag:function(e,t){t.helper.toggleClass("el-finder-drag-copy",e.shiftKey||e.ctrlKey)},helper:function(){var t=e(this),n=e('<div class="el-finder-drag-helper"/>'),i=0;return!t.hasClass("ui-selected")&&r.fm.select(t,!0),r.cwd.find(".ui-selected").each(function(t){var s=r.fm.options.view=="icons"?e(this).clone().removeClass("ui-selected"):e(r.fm.view.renderIcon(r.fm.cdc[e(this).attr("key")]));(i++==0||i%12==0)&&s.css("margin-left",0),n.append(s)}),n.css("width",(i<=12?85+(i-1)*29:387)+"px")}}).filter(".directory").droppable({tolerance:"pointer",accept:"div[key],tr[key]",over:function(){e(this).addClass("el-finder-droppable")},out:function(){e(this).removeClass("el-finder-droppable")},drop:function(t,n){e(this).removeClass("el-finder-droppable"),r.fm.drop(t,n,e(this).attr("key"))}}),e.browser.msie&&e("*",this.cwd).attr("unselectable","on").filter("[key]").bind("dragstart",function(){r.cwd.selectable("disable").removeClass("ui-state-disabled ui-selectable-disabled")}).bind("dragstop",function(){r.cwd.selectable("enable")})}}}(jQuery),document.createElement("canvas").getContext||function(){function f(){return this.context_||(this.context_=new I(this))}function c(e,t,n){var r=l.call(arguments,2);return function(){return e.apply(t,r.concat(l.call(arguments)))}}function h(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function p(e,t,n){e.namespaces[t]||e.namespaces.add(t,n,"#default#VML")}function d(e){p(e,"g_vml_","urn:schemas-microsoft-com:vml"),p(e,"g_o_","urn:schemas-microsoft-com:office:office");if(!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function m(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function g(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function E(){return[[1,0,0],[0,1,0],[0,0,1]]}function S(e,t){var n=E();for(var r=0;r<3;r++)for(var i=0;i<3;i++){var s=0;for(var o=0;o<3;o++)s+=e[r][o]*t[o][i];n[r][i]=s}return n}function x(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function N(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1),r=e.substring(t+1,n).split(",");if(r.length!=4||e.charAt(3)!="a")r[3]=1;return r}function C(e){return parseFloat(e)/100}function k(e,t,n){return Math.min(n,Math.max(t,e))}function L(e){var t,n,r,i,s,o;i=parseFloat(e[0])/360%360,i<0&&i++,s=k(C(e[1]),0,1),o=k(C(e[2]),0,1);if(s==0)t=n=r=o;else{var u=o<.5?o*(1+s):o+s-o*s,a=2*o-u;t=A(a,u,i+1/3),n=A(a,u,i),r=A(a,u,i-1/3)}return"#"+y[Math.floor(t*255)]+y[Math.floor(n*255)]+y[Math.floor(r*255)]}function A(e,t,n){return n<0&&n++,n>1&&n--,6*n<1?e+(t-e)*6*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function M(e){if(e in O)return O[e];var t,n=1;e=String(e);if(e.charAt(0)=="#")t=e;else if(/^rgb/.test(e)){var r=N(e),t="#",i;for(var s=0;s<3;s++)r[s].indexOf("%")!=-1?i=Math.floor(C(r[s])*255):i=+r[s],t+=y[k(i,0,255)];n=+r[3]}else if(/^hsl/.test(e)){var r=N(e);t=L(r),n=r[3]}else t=T[e]||e;return O[e]={color:t,alpha:n}}function P(e){if(D[e])return D[e];var t=document.createElement("div"),n=t.style;try{n.font=e}catch(r){}return D[e]={style:n.fontStyle||_.style,variant:n.fontVariant||_.variant,weight:n.fontWeight||_.weight,size:n.fontSize||_.size,family:n.fontFamily||_.family}}function H(e,t){var n={};for(var r in e)n[r]=e[r];var i=parseFloat(t.currentStyle.fontSize),s=parseFloat(e.size);return typeof e.size=="number"?n.size=e.size:e.size.indexOf("px")!=-1?n.size=s:e.size.indexOf("em")!=-1?n.size=i*s:e.size.indexOf("%")!=-1?n.size=i/100*s:e.size.indexOf("pt")!=-1?n.size=s/.75:n.size=i,n.size*=.981,n}function B(e){return e.style+" "+e.variant+" "+e.weight+" "+e.size+"px "+e.family}function F(e){return j[e]||"square"}function I(e){this.m_=E(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=o*1,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",n=e.ownerDocument.createElement("div");n.style.cssText=t,e.appendChild(n);var r=n.cloneNode(!1);r.style.backgroundColor="red",r.style.filter="alpha(opacity=0)",e.appendChild(r),this.element_=n,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function R(e,t,n,r){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:r.x,y:r.y}),e.currentX_=r.x,e.currentY_=r.y}function U(e,t){var n=M(e.strokeStyle),r=n.color,i=n.alpha*e.globalAlpha,s=e.lineScale_*e.lineWidth;s<1&&(i*=s),t.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',F(e.lineCap),'"',' weight="',s,'px"',' color="',r,'" />')}function z(t,n,r,i){var s=t.fillStyle,u=t.arcScaleX_,a=t.arcScaleY_,f=i.x-r.x,l=i.y-r.y;if(s instanceof $){var c=0,h={x:0,y:0},p=0,d=1;if(s.type_=="gradient"){var v=s.x0_/u,m=s.y0_/a,g=s.x1_/u,y=s.y1_/a,b=W(t,v,m),w=W(t,g,y),E=w.x-b.x,S=w.y-b.y;c=Math.atan2(E,S)*180/Math.PI,c<0&&(c+=360),c<1e-6&&(c=0)}else{var b=W(t,s.x0_,s.y0_);h={x:(b.x-r.x)/f,y:(b.y-r.y)/l},f/=u*o,l/=a*o;var x=e.max(f,l);p=2*s.r0_/x,d=2*s.r1_/x-p}var T=s.colors_;T.sort(function(e,t){return e.offset-t.offset});var N=T.length,C=T[0].color,k=T[N-1].color,L=T[0].alpha*t.globalAlpha,A=T[N-1].alpha*t.globalAlpha,O=[];for(var _=0;_<N;_++){var D=T[_];O.push(D.offset*d+p+" "+D.color)}n.push('<g_vml_:fill type="',s.type_,'"',' method="none" focus="100%"',' color="',C,'"',' color2="',k,'"',' colors="',O.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',L,'"',' angle="',c,'"',' focusposition="',h.x,",",h.y,'" />')}else if(s instanceof J){if(f&&l){var P=-r.x,H=-r.y;n.push("<g_vml_:fill",' position="',P/f*u*u,",",H/l*a*a,'"',' type="tile"',' src="',s.src_,'" />')}}else{var B=M(t.fillStyle),j=B.color,F=B.alpha*t.globalAlpha;n.push('<g_vml_:fill color="',j,'" opacity="',F,'" />')}}function W(e,t,n){var r=e.m_;return{x:o*(t*r[0][0]+n*r[1][0]+r[2][0])-u,y:o*(t*r[0][1]+n*r[1][1]+r[2][1])-u}}function X(e){return isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])}function V(e,t,n){if(!X(t))return;e.m_=t;if(n){var r=t[0][0]*t[1][1]-t[0][1]*t[1][0];e.lineScale_=s(i(r))}}function $(e){this.type_=e,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function J(e,t){Q(e);switch(t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:K("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function K(e){throw new G(e)}function Q(e){(!e||e.nodeType!=1||e.tagName!="IMG")&&K("TYPE_MISMATCH_ERR"),e.readyState!="complete"&&K("INVALID_STATE_ERR")}function G(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}var e=Math,t=e.round,n=e.sin,r=e.cos,i=e.abs,s=e.sqrt,o=10,u=o/2,a=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],l=Array.prototype.slice;d(document);var v={init:function(e){var t=e||document;t.createElement("canvas"),t.attachEvent("onreadystatechange",c(this.init_,this,t))},init_:function(e){var t=e.getElementsByTagName("canvas");for(var n=0;n<t.length;n++)this.initElement(t[n])},initElement:function(e){if(!e.getContext){e.getContext=f,d(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",m),e.attachEvent("onresize",g);var t=e.attributes;t.width&&t.width.specified?e.style.width=t.width.nodeValue+"px":e.width=e.clientWidth,t.height&&t.height.specified?e.style.height=t.height.nodeValue+"px":e.height=e.clientHeight}return e}};v.init();var y=[];for(var b=0;b<16;b++)for(var w=0;w<16;w++)y[b*16+w]=b.toString(16)+w.toString(16);var T={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},O={},_={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},D={},j={butt:"flat",round:"round"},q=I.prototype;q.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},q.beginPath=function(){this.currentPath_=[]},q.moveTo=function(e,t){var n=W(this,e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},q.lineTo=function(e,t){var n=W(this,e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},q.bezierCurveTo=function(e,t,n,r,i,s){var o=W(this,i,s),u=W(this,e,t),a=W(this,n,r);R(this,u,a,o)},q.quadraticCurveTo=function(e,t,n,r){var i=W(this,e,t),s=W(this,n,r),o={x:this.currentX_+2/3*(i.x-this.currentX_),y:this.currentY_+2/3*(i.y-this.currentY_)},u={x:o.x+(s.x-this.currentX_)/3,y:o.y+(s.y-this.currentY_)/3};R(this,o,u,s)},q.arc=function(e,t,i,s,a,f){i*=o;var l=f?"at":"wa",c=e+r(s)*i-u,h=t+n(s)*i-u,p=e+r(a)*i-u,d=t+n(a)*i-u;c==p&&!f&&(c+=.125);var v=W(this,e,t),m=W(this,c,h),g=W(this,p,d);this.currentPath_.push({type:l,x:v.x,y:v.y,radius:i,xStart:m.x,yStart:m.y,xEnd:g.x,yEnd:g.y})},q.rect=function(e,t,n,r){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath()},q.strokeRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath(),this.stroke(),this.currentPath_=i},q.fillRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath(),this.fill(),this.currentPath_=i},q.createLinearGradient=function(e,t,n,r){var i=new $("gradient");return i.x0_=e,i.y0_=t,i.x1_=n,i.y1_=r,i},q.createRadialGradient=function(e,t,n,r,i,s){var o=new $("gradientradial");return o.x0_=e,o.y0_=t,o.r0_=n,o.x1_=r,o.y1_=i,o.r1_=s,o},q.drawImage=function(n,r){var i,s,u,a,f,l,c,h,p=n.runtimeStyle.width,d=n.runtimeStyle.height;n.runtimeStyle.width="auto",n.runtimeStyle.height="auto";var v=n.width,m=n.height;n.runtimeStyle.width=p,n.runtimeStyle.height=d;if(arguments.length==3)i=arguments[1],s=arguments[2],f=l=0,c=u=v,h=a=m;else if(arguments.length==5)i=arguments[1],s=arguments[2],u=arguments[3],a=arguments[4],f=l=0,c=v,h=m;else{if(arguments.length!=9)throw Error("Invalid number of arguments");f=arguments[1],l=arguments[2],c=arguments[3],h=arguments[4],i=arguments[5],s=arguments[6],u=arguments[7],a=arguments[8]}var g=W(this,i,s),y=c/2,b=h/2,w=[],E=10,S=10;w.push(" <g_vml_:group",' coordsize="',o*E,",",o*S,'"',' coordorigin="0,0"',' style="width:',E,"px;height:",S,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(g.x/o),",","Dy=",t(g.y/o),"");var T=g,N=W(this,i+u,s),C=W(this,i,s+a),k=W(this,i+u,s+a);T.x=e.max(T.x,N.x,C.x,k.x),T.y=e.max(T.y,N.y,C.y,k.y),w.push("padding:0 ",t(T.x/o),"px ",t(T.y/o),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else w.push("top:",t(g.y/o),"px;left:",t(g.x/o),"px;");w.push(' ">','<g_vml_:image src="',n.src,'"',' style="width:',o*u,"px;"," height:",o*a,'px"',' cropleft="',f/v,'"',' croptop="',l/m,'"',' cropright="',(v-f-c)/v,'"',' cropbottom="',(m-l-h)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",w.join(""))},q.stroke=function(e){var n=10,r=10,i=5e3,s={x:null,y:null},u={x:null,y:null};for(var a=0;a<this.currentPath_.length;a+=i){var f=[],l=!1;f.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',n,"px;height:",r,'px;"',' coordorigin="0,0"',' coordsize="',o*n,",",o*r,'"',' stroked="',!e,'"',' path="');var c=!1;for(var h=a;h<Math.min(a+i,this.currentPath_.length);h++){h%i==0&&h>0&&f.push(" m ",t(this.currentPath_[h-1].x),",",t(this.currentPath_[h-1].y));var p=this.currentPath_[h],d;switch(p.type){case"moveTo":d=p,f.push(" m ",t(p.x),",",t(p.y));break;case"lineTo":f.push(" l ",t(p.x),",",t(p.y));break;case"close":f.push(" x "),p=null;break;case"bezierCurveTo":f.push(" c ",t(p.cp1x),",",t(p.cp1y),",",t(p.cp2x),",",t(p.cp2y),",",t(p.x),",",t(p.y));break;case"at":case"wa":f.push(" ",p.type," ",t(p.x-this.arcScaleX_*p.radius),",",t(p.y-this.arcScaleY_*p.radius)," ",t(p.x+this.arcScaleX_*p.radius),",",t(p.y+this.arcScaleY_*p.radius)," ",t(p.xStart),",",t(p.yStart)," ",t(p.xEnd),",",t(p.yEnd))}if(p){if(s.x==null||p.x<s.x)s.x=p.x;if(u.x==null||p.x>u.x)u.x=p.x;if(s.y==null||p.y<s.y)s.y=p.y;if(u.y==null||p.y>u.y)u.y=p.y}}f.push(' ">'),e?z(this,f,s,u):U(this,f),f.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",f.join(""))}},q.fill=function(){this.stroke(!0)},q.closePath=function(){this.currentPath_.push({type:"close"})},q.save=function(){var e={};x(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=S(E(),this.m_)},q.restore=function(){this.aStack_.length&&(x(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},q.translate=function(e,t){var n=[[1,0,0],[0,1,0],[e,t,1]];V(this,S(n,this.m_),!1)},q.rotate=function(e){var t=r(e),i=n(e),s=[[t,i,0],[-i,t,0],[0,0,1]];V(this,S(s,this.m_),!1)},q.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t;var n=[[e,0,0],[0,t,0],[0,0,1]];V(this,S(n,this.m_),!0)},q.transform=function(e,t,n,r,i,s){var o=[[e,t,0],[n,r,0],[i,s,1]];V(this,S(o,this.m_),!0)},q.setTransform=function(e,t,n,r,i,s){var o=[[e,t,0],[n,r,0],[i,s,1]];V(this,o,!0)},q.drawText_=function(e,n,r,i,s){var u=this.m_,a=1e3,f=0,l=a,c={x:0,y:0},p=[],d=H(P(this.font),this.element_),v=B(d),m=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g=m.direction=="ltr"?"right":"left";break;case"start":g=m.direction=="rtl"?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":c.y=d.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-d.size/2.25}switch(g){case"right":f=a,l=.05;break;case"center":f=l=a/2}var y=W(this,n+c.x,r+c.y);p.push('<g_vml_:line from="',-f,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!s,'" stroked="',!!s,'" style="position:absolute;width:1px;height:1px;">'),s?U(this,p):z(this,p,{x:-f,y:0},{x:l,y:d.size});var b=u[0][0].toFixed(3)+","+u[1][0].toFixed(3)+","+u[0][1].toFixed(3)+","+u[1][1].toFixed(3)+",0,0",w=t(y.x/o)+","+t(y.y/o);p.push('<g_vml_:skew on="t" matrix="',b,'" ',' offset="',w,'" origin="',f,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',h(e),'" style="v-text-align:',g,";font:",h(v),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",p.join(""))},q.fillText=function(e,t,n,r){this.drawText_(e,t,n,r,!1)},q.strokeText=function(e,t,n,r){this.drawText_(e,t,n,r,!0)},q.measureText=function(e){if(!this.textMeasureEl_){var t='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",t),this.textMeasureEl_=this.element_.lastChild}var n=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(n.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},q.clip=function(){},q.arcTo=function(){},q.createPattern=function(e,t){return new J(e,t)},$.prototype.addColorStop=function(e,t){t=M(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})};var Y=G.prototype=new Error;Y.INDEX_SIZE_ERR=1,Y.DOMSTRING_SIZE_ERR=2,Y.HIERARCHY_REQUEST_ERR=3,Y.WRONG_DOCUMENT_ERR=4,Y.INVALID_CHARACTER_ERR=5,Y.NO_DATA_ALLOWED_ERR=6,Y.NO_MODIFICATION_ALLOWED_ERR=7,Y.NOT_FOUND_ERR=8,Y.NOT_SUPPORTED_ERR=9,Y.INUSE_ATTRIBUTE_ERR=10,Y.INVALID_STATE_ERR=11,Y.SYNTAX_ERR=12,Y.INVALID_MODIFICATION_ERR=13,Y.NAMESPACE_ERR=14,Y.INVALID_ACCESS_ERR=15,Y.VALIDATION_ERR=16,Y.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=v,CanvasRenderingContext2D=I,CanvasGradient=$,CanvasPattern=J,DOMException=G}(),function(e){e.color={},e.color.make=function(t,n,r,i){var s={};return s.r=t||0,s.g=n||0,s.b=r||0,s.a=i!=null?i:1,s.add=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]+=t;return s.normalize()},s.scale=function(e,t){for(var n=0;n<e.length;++n)s[e.charAt(n)]*=t;return s.normalize()},s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}return s.r=e(0,parseInt(s.r),255),s.g=e(0,parseInt(s.g),255),s.b=e(0,parseInt(s.b),255),s.a=e(0,s.a,1),s},s.clone=function(){return e.color.make(s.r,s.b,s.g,s.a)},s.normalize()},e.color.extract=function(t,n){var r;do{r=t.css(n).toLowerCase();if(r!=""&&r!="transparent")break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));return r=="rgba(0, 0, 0, 0)"&&(r="transparent"),e.color.parse(r)},e.color.parse=function(n){var r,i=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55);if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return i(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return i(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return i(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var s=e.trim(n).toLowerCase();return s=="transparent"?i(255,255,255,0):(r=t[s]||[0,0,0],i(r[0],r[1],r[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,r,s,o){function N(e,t){t=[T].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function C(){for(var t=0;t<o.length;++t){var n=o[t];n.init(T),n.options&&e.extend(!0,f,n.options)}}function k(t){var n;e.extend(!0,f,t),f.xaxis.color==null&&(f.xaxis.color=f.grid.color),f.yaxis.color==null&&(f.yaxis.color=f.grid.color),f.xaxis.tickColor==null&&(f.xaxis.tickColor=f.grid.tickColor),f.yaxis.tickColor==null&&(f.yaxis.tickColor=f.grid.tickColor),f.grid.borderColor==null&&(f.grid.borderColor=f.grid.color),f.grid.tickColor==null&&(f.grid.tickColor=e.color.parse(f.grid.color).scale("a",.22).toString());for(n=0;n<Math.max(1,f.xaxes.length);++n)f.xaxes[n]=e.extend(!0,{},f.xaxis,f.xaxes[n]);for(n=0;n<Math.max(1,f.yaxes.length);++n)f.yaxes[n]=e.extend(!0,{},f.yaxis,f.yaxes[n]);f.xaxis.noTicks&&f.xaxis.ticks==null&&(f.xaxis.ticks=f.xaxis.noTicks),f.yaxis.noTicks&&f.yaxis.ticks==null&&(f.yaxis.ticks=f.yaxis.noTicks),f.x2axis&&(f.xaxes[1]=e.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top"),f.y2axis&&(f.yaxes[1]=e.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right"),f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas),f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor),f.lines&&e.extend(!0,f.series.lines,f.lines),f.points&&e.extend(!0,f.series.points,f.points),f.bars&&e.extend(!0,f.series.bars,f.bars),f.shadowSize!=null&&(f.series.shadowSize=f.shadowSize);for(n=0;n<f.xaxes.length;++n)P(m,n+1).options=f.xaxes[n];for(n=0;n<f.yaxes.length;++n)P(g,n+1).options=f.yaxes[n];for(var r in x)f.hooks[r]&&f.hooks[r].length&&(x[r]=x[r].concat(f.hooks[r]));N(x.processOptions,[f])}function L(e){u=A(e),H(),B()}function A(t){var n=[];for(var r=0;r<t.length;++r){var i=e.extend(!0,{},f.series);t[r].data!=null?(i.data=t[r].data,delete t[r].data,e.extend(!0,i,t[r]),t[r].data=i.data):i.data=t[r],n.push(i)}return n}function O(e,t){var n=e[t+"axis"];return typeof n=="object"&&(n=n.n),typeof n!="number"&&(n=1),n}function M(){return e.grep(m.concat(g),function(e){return e})}function _(e){var t={},n,r;for(n=0;n<m.length;++n)r=m[n],r&&r.used&&(t["x"+r.n]=r.c2p(e.left));for(n=0;n<g.length;++n)r=g[n],r&&r.used&&(t["y"+r.n]=r.c2p(e.top));return t.x1!==undefined&&(t.x=t.x1),t.y1!==undefined&&(t.y=t.y1),t}function D(e){var t={},n,r,i;for(n=0;n<m.length;++n){r=m[n];if(r&&r.used){i="x"+r.n,e[i]==null&&r.n==1&&(i="x");if(e[i]!=null){t.left=r.p2c(e[i]);break}}}for(n=0;n<g.length;++n){r=g[n];if(r&&r.used){i="y"+r.n,e[i]==null&&r.n==1&&(i="y");if(e[i]!=null){t.top=r.p2c(e[i]);break}}}return t}function P(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==m?"x":"y",options:e.extend(!0,{},t==m?f.xaxis:f.yaxis)}),t[n-1]}function H(){var t,n=u.length,r=[],i=[];for(t=0;t<u.length;++t){var s=u[t].color;s!=null&&(--n,typeof s=="number"?i.push(s):r.push(e.color.parse(u[t].color)))}for(t=0;t<i.length;++t)n=Math.max(n,i[t]+1);var o=[],a=0;t=0;while(o.length<n){var l;f.colors.length==t?l=e.color.make(100,100,100):l=e.color.parse(f.colors[t]);var h=a%2==1?-1:1;l.scale("rgb",1+h*Math.ceil(a/2)*.2),o.push(l),++t,t>=f.colors.length&&(t=0,++a)}var p=0,d;for(t=0;t<u.length;++t){d=u[t],d.color==null?(d.color=o[p].toString(),++p):typeof d.color=="number"&&(d.color=o[d.color].toString());if(d.lines.show==null){var v,y=!0;for(v in d)if(d[v]&&d[v].show){y=!1;break}y&&(d.lines.show=!0)}d.xaxis=P(m,O(d,"x")),d.yaxis=P(g,O(d,"y"))}}function B(){function w(e,t,n){t<e.datamin&&t!=-r&&(e.datamin=t),n>e.datamax&&n!=r&&(e.datamax=n)}var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.MAX_VALUE,i,s,o,a,f,l,h,p,d,v,m,g,y,b;e.each(M(),function(e,r){r.datamin=t,r.datamax=n,r.used=!1});for(i=0;i<u.length;++i)l=u[i],l.datapoints={points:[]},N(x.processRawData,[l,l.data,l.datapoints]);for(i=0;i<u.length;++i){l=u[i];var E=l.data,S=l.datapoints.format;if(!S){S=[],S.push({x:!0,number:!0,required:!0}),S.push({y:!0,number:!0,required:!0});if(l.bars.show||l.lines.show&&l.lines.fill)S.push({y:!0,number:!0,required:!1,defaultValue:0}),l.bars.horizontal&&(delete S[S.length-1].y,S[S.length-1].x=!0);l.datapoints.format=S}if(l.datapoints.pointsize!=null)continue;l.datapoints.pointsize=S.length,p=l.datapoints.pointsize,h=l.datapoints.points,insertSteps=l.lines.show&&l.lines.steps,l.xaxis.used=l.yaxis.used=!0;for(s=o=0;s<E.length;++s,o+=p){b=E[s];var T=b==null;if(!T)for(a=0;a<p;++a)g=b[a],y=S[a],y&&(y.number&&g!=null&&(g=+g,isNaN(g)?g=null:g==Infinity?g=r:g==-Infinity&&(g=-r)),g==null&&(y.required&&(T=!0),y.defaultValue!=null&&(g=y.defaultValue))),h[o+a]=g;if(T)for(a=0;a<p;++a)g=h[o+a],g!=null&&(y=S[a],y.x&&w(l.xaxis,g,g),y.y&&w(l.yaxis,g,g)),h[o+a]=null;else if(insertSteps&&o>0&&h[o-p]!=null&&h[o-p]!=h[o]&&h[o-p+1]!=h[o+1]){for(a=0;a<p;++a)h[o+p+a]=h[o+a];h[o+1]=h[o-p+1],o+=p}}}for(i=0;i<u.length;++i)l=u[i],N(x.processDatapoints,[l,l.datapoints]);for(i=0;i<u.length;++i){l=u[i],h=l.datapoints.points,p=l.datapoints.pointsize;var C=t,k=t,L=n,A=n;for(s=0;s<h.length;s+=p){if(h[s]==null)continue;for(a=0;a<p;++a){g=h[s+a],y=S[a];if(!y||g==r||g==-r)continue;y.x&&(g<C&&(C=g),g>L&&(L=g)),y.y&&(g<k&&(k=g),g>A&&(A=g))}}if(l.bars.show){var O=l.bars.align=="left"?0:-l.bars.barWidth/2;l.bars.horizontal?(k+=O,A+=O+l.bars.barWidth):(C+=O,L+=O+l.bars.barWidth)}w(l.xaxis,C,L),w(l.yaxis,k,A)}e.each(M(),function(
e,r){r.datamin==t&&(r.datamin=null),r.datamax==n&&(r.datamax=null)})}function j(n,r){var i=document.createElement("canvas");return i.className=r,i.width=b,i.height=w,n||e(i).css({position:"absolute",left:0,top:0}),e(i).appendTo(t),i.getContext||(i=window.G_vmlCanvasManager.initElement(i)),i.getContext("2d").save(),i}function F(){b=t.width(),w=t.height();if(b<=0||w<=0)throw"Invalid dimensions for plot, width = "+b+", height = "+w}function I(e){e.width!=b&&(e.width=b),e.height!=w&&(e.height=w);var t=e.getContext("2d");t.restore(),t.save()}function q(){var n,r=t.children("canvas.base"),i=t.children("canvas.overlay");r.length==0||i==0?(t.html(""),t.css({padding:0}),t.css("position")=="static"&&t.css("position","relative"),F(),l=j(!0,"base"),h=j(!1,"overlay"),n=!1):(l=r.get(0),h=i.get(0),n=!0),d=l.getContext("2d"),v=h.getContext("2d"),p=e([h,l]),n&&(t.data("plot").shutdown(),T.resize(),v.clearRect(0,0,b,w),p.unbind(),t.children().not([l,h]).remove()),t.data("plot",T)}function R(){f.grid.hoverable&&(p.mousemove(pt),p.mouseleave(dt)),f.grid.clickable&&p.click(vt),N(x.bindEvents,[p])}function U(){ct&&clearTimeout(ct),p.unbind("mousemove",pt),p.unbind("mouseleave",dt),p.unbind("click",vt),N(x.shutdown,[p])}function z(e){function t(e){return e}var n,r,i=e.options.transform||t,s=e.options.inverseTransform;e.direction=="x"?(n=e.scale=E/Math.abs(i(e.max)-i(e.min)),r=Math.min(i(e.max),i(e.min))):(n=e.scale=S/Math.abs(i(e.max)-i(e.min)),n=-n,r=Math.max(i(e.max),i(e.min))),i==t?e.p2c=function(e){return(e-r)*n}:e.p2c=function(e){return(i(e)-r)*n},s?e.c2p=function(e){return s(r+e/n)}:e.c2p=function(e){return r+e/n}}function W(n){function h(r,i){return e('<div style="position:absolute;top:-10000px;'+i+'font-size:smaller"><div class="'+n.direction+"Axis "+n.direction+n.n+'Axis">'+r.join("")+"</div></div>").appendTo(t)}var r=n.options,i,s=n.ticks||[],o=[],u,a=r.labelWidth,f=r.labelHeight,l;if(n.direction=="x"){a==null&&(a=Math.floor(b/(s.length>0?s.length:1)));if(f==null){o=[];for(i=0;i<s.length;++i)u=s[i].label,u&&o.push('<div class="tickLabel" style="float:left;width:'+a+'px">'+u+"</div>");o.length>0&&(o.push('<div style="clear:left"></div>'),l=h(o,"width:10000px;"),f=l.height(),l.remove())}}else if(a==null||f==null){for(i=0;i<s.length;++i)u=s[i].label,u&&o.push('<div class="tickLabel">'+u+"</div>");o.length>0&&(l=h(o,""),a==null&&(a=l.children().width()),f==null&&(f=l.find("div.tickLabel").height()),l.remove())}a==null&&(a=0),f==null&&(f=0),n.labelWidth=a,n.labelHeight=f}function X(t){var n=t.labelWidth,r=t.labelHeight,i=t.options.position,s=t.options.tickLength,o=f.grid.axisMargin,u=f.grid.labelMargin,a=t.direction=="x"?m:g,l,h=e.grep(a,function(e){return e&&e.options.position==i&&e.reserveSpace});e.inArray(t,h)==h.length-1&&(o=0),s==null&&(s="full");var p=e.grep(a,function(e){return e&&e.reserveSpace}),d=e.inArray(t,p)==0;!d&&s=="full"&&(s=5),isNaN(+s)||(u+=+s),t.direction=="x"?(r+=u,i=="bottom"?(y.bottom+=r+o,t.box={top:w-y.bottom,height:r}):(t.box={top:y.top+o,height:r},y.top+=r+o)):(n+=u,i=="left"?(t.box={left:y.left+o,width:n},y.left+=n+o):(y.right+=n+o,t.box={left:b-y.right,width:n})),t.position=i,t.tickLength=s,t.box.padding=u,t.innermost=d}function V(e){e.direction=="x"?(e.box.left=y.left,e.box.width=E):(e.box.top=y.top,e.box.height=S)}function $(){var t,n=M();e.each(n,function(e,t){t.show=t.options.show,t.show==null&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,J(t)}),allocatedAxes=e.grep(n,function(e){return e.reserveSpace}),y.left=y.right=y.top=y.bottom=0;if(f.grid.show){e.each(allocatedAxes,function(e,t){K(t),Q(t),G(t,t.ticks),W(t)});for(t=allocatedAxes.length-1;t>=0;--t)X(allocatedAxes[t]);var r=f.grid.minBorderMargin;if(r==null){r=0;for(t=0;t<u.length;++t)r=Math.max(r,u[t].points.radius+u[t].points.lineWidth/2)}for(var i in y)y[i]+=f.grid.borderWidth,y[i]=Math.max(r,y[i])}E=b-y.left-y.right,S=w-y.bottom-y.top,e.each(n,function(e,t){z(t)}),f.grid.show&&(e.each(allocatedAxes,function(e,t){V(t)}),nt()),ft()}function J(e){var t=e.options,n=+(t.min!=null?t.min:e.datamin),r=+(t.max!=null?t.max:e.datamax),i=r-n;if(i==0){var s=r==0?1:.01;t.min==null&&(n-=s);if(t.max==null||t.min!=null)r+=s}else{var o=t.autoscaleMargin;o!=null&&(t.min==null&&(n-=i*o,n<0&&e.datamin!=null&&e.datamin>=0&&(n=0)),t.max==null&&(r+=i*o,r>0&&e.datamax!=null&&e.datamax<=0&&(r=0)))}e.min=n,e.max=r}function K(t){var r=t.options,i;typeof r.ticks=="number"&&r.ticks>0?i=r.ticks:i=.3*Math.sqrt(t.direction=="x"?b:w);var s=(t.max-t.min)/i,o,u,f,l,h,p,d;if(r.mode=="time"){var v={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},y=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],E=0;r.minTickSize!=null&&(typeof r.tickSize=="number"?E=r.tickSize:E=r.minTickSize[0]*v[r.minTickSize[1]]);for(var h=0;h<y.length-1;++h)if(s<(y[h][0]*v[y[h][1]]+y[h+1][0]*v[y[h+1][1]])/2&&y[h][0]*v[y[h][1]]>=E)break;o=y[h][0],f=y[h][1],f=="year"&&(p=Math.pow(10,Math.floor(Math.log(s/v.year)/Math.LN10)),d=s/v.year/p,d<1.5?o=1:d<3?o=2:d<7.5?o=5:o=10,o*=p),t.tickSize=r.tickSize||[o,f],u=function(e){var t=[],r=e.tickSize[0],i=e.tickSize[1],s=new Date(e.min),o=r*v[i];i=="second"&&s.setUTCSeconds(n(s.getUTCSeconds(),r)),i=="minute"&&s.setUTCMinutes(n(s.getUTCMinutes(),r)),i=="hour"&&s.setUTCHours(n(s.getUTCHours(),r)),i=="month"&&s.setUTCMonth(n(s.getUTCMonth(),r)),i=="year"&&s.setUTCFullYear(n(s.getUTCFullYear(),r)),s.setUTCMilliseconds(0),o>=v.minute&&s.setUTCSeconds(0),o>=v.hour&&s.setUTCMinutes(0),o>=v.day&&s.setUTCHours(0),o>=v.day*4&&s.setUTCDate(1),o>=v.year&&s.setUTCMonth(0);var u=0,f=Number.NaN,l;do{l=f,f=s.getTime(),t.push(f);if(i=="month")if(r<1){s.setUTCDate(1);var c=s.getTime();s.setUTCMonth(s.getUTCMonth()+1);var h=s.getTime();s.setTime(f+u*v.hour+(h-c)*r),u=s.getUTCHours(),s.setUTCHours(0)}else s.setUTCMonth(s.getUTCMonth()+r);else i=="year"?s.setUTCFullYear(s.getUTCFullYear()+r):s.setTime(f+o)}while(f<e.max&&f!=l);return t},l=function(t,n){var i=new Date(t);if(r.timeformat!=null)return e.plot.formatDate(i,r.timeformat,r.monthNames);var s=n.tickSize[0]*v[n.tickSize[1]],o=n.max-n.min,u=r.twelveHourClock?" %p":"";return s<v.minute?fmt="%h:%M:%S"+u:s<v.day?o<2*v.day?fmt="%h:%M"+u:fmt="%b %d %h:%M"+u:s<v.month?fmt="%b %d":s<v.year?o<v.year?fmt="%b":fmt="%b %y":fmt="%y",e.plot.formatDate(i,fmt,r.monthNames)}}else{var S=r.tickDecimals,x=-Math.floor(Math.log(s)/Math.LN10);S!=null&&x>S&&(x=S),p=Math.pow(10,-x),d=s/p,d<1.5?o=1:d<3?(o=2,d>2.25&&(S==null||x+1<=S)&&(o=2.5,++x)):d<7.5?o=5:o=10,o*=p,r.minTickSize!=null&&o<r.minTickSize&&(o=r.minTickSize),t.tickDecimals=Math.max(0,S!=null?S:x),t.tickSize=r.tickSize||o,u=function(e){var t=[],r=n(e.min,e.tickSize),i=0,s=Number.NaN,o;do o=s,s=r+i*e.tickSize,t.push(s),++i;while(s<e.max&&s!=o);return t},l=function(e,t){return e.toFixed(t.tickDecimals)}}if(r.alignTicksWithAxis!=null){var T=(t.direction=="x"?m:g)[r.alignTicksWithAxis-1];if(T&&T.used&&T!=t){var N=u(t);N.length>0&&(r.min==null&&(t.min=Math.min(t.min,N[0])),r.max==null&&N.length>1&&(t.max=Math.max(t.max,N[N.length-1]))),u=function(e){var t=[],n,r;for(r=0;r<T.ticks.length;++r)n=(T.ticks[r].v-T.min)/(T.max-T.min),n=e.min+n*(e.max-e.min),t.push(n);return t};if(t.mode!="time"&&r.tickDecimals==null){var C=Math.max(0,-Math.floor(Math.log(s)/Math.LN10)+1),k=u(t);k.length>1&&/\..*0$/.test((k[1]-k[0]).toFixed(C))||(t.tickDecimals=C)}}}t.tickGenerator=u,e.isFunction(r.tickFormatter)?t.tickFormatter=function(e,t){return""+r.tickFormatter(e,t)}:t.tickFormatter=l}function Q(t){var n=t.options.ticks,r=[];n==null||typeof n=="number"&&n>0?r=t.tickGenerator(t):n&&(e.isFunction(n)?r=n({min:t.min,max:t.max}):r=n);var i,s;t.ticks=[];for(i=0;i<r.length;++i){var o=null,u=r[i];typeof u=="object"?(s=+u[0],u.length>1&&(o=u[1])):s=+u,o==null&&(o=t.tickFormatter(s,t)),isNaN(s)||t.ticks.push({v:s,label:o})}}function G(e,t){e.options.autoscaleMargin&&t.length>0&&(e.options.min==null&&(e.min=Math.min(e.min,t[0].v)),e.options.max==null&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function Y(){d.clearRect(0,0,b,w);var e=f.grid;e.show&&e.backgroundColor&&et(),e.show&&!e.aboveData&&tt();for(var t=0;t<u.length;++t)N(x.drawSeries,[d,u[t]]),rt(u[t]);N(x.draw,[d]),e.show&&e.aboveData&&tt()}function Z(e,t){var n,r,s,o,u=M();for(i=0;i<u.length;++i){n=u[i];if(n.direction==t){o=t+n.n+"axis",!e[o]&&n.n==1&&(o=t+"axis");if(e[o]){r=e[o].from,s=e[o].to;break}}}e[o]||(n=t=="x"?m[0]:g[0],r=e[t+"1"],s=e[t+"2"]);if(r!=null&&s!=null&&r>s){var a=r;r=s,s=a}return{from:r,to:s,axis:n}}function et(){d.save(),d.translate(y.left,y.top),d.fillStyle=Tt(f.grid.backgroundColor,S,0,"rgba(255, 255, 255, 0)"),d.fillRect(0,0,E,S),d.restore()}function tt(){var t;d.save(),d.translate(y.left,y.top);var n=f.grid.markings;if(n){if(e.isFunction(n)){var r=T.getAxes();r.xmin=r.xaxis.min,r.xmax=r.xaxis.max,r.ymin=r.yaxis.min,r.ymax=r.yaxis.max,n=n(r)}for(t=0;t<n.length;++t){var i=n[t],s=Z(i,"x"),o=Z(i,"y");s.from==null&&(s.from=s.axis.min),s.to==null&&(s.to=s.axis.max),o.from==null&&(o.from=o.axis.min),o.to==null&&(o.to=o.axis.max);if(s.to<s.axis.min||s.from>s.axis.max||o.to<o.axis.min||o.from>o.axis.max)continue;s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max);if(s.from==s.to&&o.from==o.to)continue;s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),s.from==s.to||o.from==o.to?(d.beginPath(),d.strokeStyle=i.color||f.grid.markingsColor,d.lineWidth=i.lineWidth||f.grid.markingsLineWidth,d.moveTo(s.from,o.from),d.lineTo(s.to,o.to),d.stroke()):(d.fillStyle=i.color||f.grid.markingsColor,d.fillRect(s.from,o.to,s.to-s.from,o.from-o.to))}}var r=M(),u=f.grid.borderWidth;for(var a=0;a<r.length;++a){var l=r[a],h=l.box,p=l.tickLength,v,m,g,b;if(!l.show||l.ticks.length==0)continue;d.strokeStyle=l.options.tickColor||e.color.parse(l.options.color).scale("a",.22).toString(),d.lineWidth=1,l.direction=="x"?(v=0,p=="full"?m=l.position=="top"?0:S:m=h.top-y.top+(l.position=="top"?h.height:0)):(m=0,p=="full"?v=l.position=="left"?0:E:v=h.left-y.left+(l.position=="left"?h.width:0)),l.innermost||(d.beginPath(),g=b=0,l.direction=="x"?g=E:b=S,d.lineWidth==1&&(v=Math.floor(v)+.5,m=Math.floor(m)+.5),d.moveTo(v,m),d.lineTo(v+g,m+b),d.stroke()),d.beginPath();for(t=0;t<l.ticks.length;++t){var w=l.ticks[t].v;g=b=0;if(w<l.min||w>l.max||p=="full"&&u>0&&(w==l.min||w==l.max))continue;l.direction=="x"?(v=l.p2c(w),b=p=="full"?-S:p,l.position=="top"&&(b=-b)):(m=l.p2c(w),g=p=="full"?-E:p,l.position=="left"&&(g=-g)),d.lineWidth==1&&(l.direction=="x"?v=Math.floor(v)+.5:m=Math.floor(m)+.5),d.moveTo(v,m),d.lineTo(v+g,m+b)}d.stroke()}u&&(d.lineWidth=u,d.strokeStyle=f.grid.borderColor,d.strokeRect(-u/2,-u/2,E+u,S+u)),d.restore()}function nt(){t.find(".tickLabels").remove();var e=['<div class="tickLabels" style="font-size:smaller">'],n=M();for(var r=0;r<n.length;++r){var i=n[r],s=i.box;if(!i.show)continue;e.push('<div class="'+i.direction+"Axis "+i.direction+i.n+'Axis" style="color:'+i.options.color+'">');for(var o=0;o<i.ticks.length;++o){var u=i.ticks[o];if(!u.label||u.v<i.min||u.v>i.max)continue;var a={},f;i.direction=="x"?(f="center",a.left=Math.round(y.left+i.p2c(u.v)-i.labelWidth/2),i.position=="bottom"?a.top=s.top+s.padding:a.bottom=w-(s.top+s.height-s.padding)):(a.top=Math.round(y.top+i.p2c(u.v)-i.labelHeight/2),i.position=="left"?(a.right=b-(s.left+s.width-s.padding),f="right"):(a.left=s.left+s.padding,f="left")),a.width=i.labelWidth;var l=["position:absolute","text-align:"+f];for(var c in a)l.push(c+":"+a[c]+"px");e.push('<div class="tickLabel" style="'+l.join(";")+'">'+u.label+"</div>")}e.push("</div>")}e.push("</div>"),t.append(e.join(""))}function rt(e){e.lines.show&&it(e),e.bars.show&&ut(e),e.points.show&&st(e)}function it(e){function t(e,t,n,r,i){var s=e.points,o=e.pointsize,u=null,a=null;d.beginPath();for(var f=o;f<s.length;f+=o){var l=s[f-o],c=s[f-o+1],h=s[f],p=s[f+1];if(l==null||h==null)continue;if(c<=p&&c<i.min){if(p<i.min)continue;l=(i.min-c)/(p-c)*(h-l)+l,c=i.min}else if(p<=c&&p<i.min){if(c<i.min)continue;h=(i.min-c)/(p-c)*(h-l)+l,p=i.min}if(c>=p&&c>i.max){if(p>i.max)continue;l=(i.max-c)/(p-c)*(h-l)+l,c=i.max}else if(p>=c&&p>i.max){if(c>i.max)continue;h=(i.max-c)/(p-c)*(h-l)+l,p=i.max}if(l<=h&&l<r.min){if(h<r.min)continue;c=(r.min-l)/(h-l)*(p-c)+c,l=r.min}else if(h<=l&&h<r.min){if(l<r.min)continue;p=(r.min-l)/(h-l)*(p-c)+c,h=r.min}if(l>=h&&l>r.max){if(h>r.max)continue;c=(r.max-l)/(h-l)*(p-c)+c,l=r.max}else if(h>=l&&h>r.max){if(l>r.max)continue;p=(r.max-l)/(h-l)*(p-c)+c,h=r.max}(l!=u||c!=a)&&d.moveTo(r.p2c(l)+t,i.p2c(c)+n),u=h,a=p,d.lineTo(r.p2c(h)+t,i.p2c(p)+n)}d.stroke()}function n(e,t,n){var r=e.points,i=e.pointsize,s=Math.min(Math.max(0,n.min),n.max),o=0,u,a=!1,f=1,l=0,c=0;for(;;){if(i>0&&o>r.length+i)break;o+=i;var h=r[o-i],p=r[o-i+f],v=r[o],m=r[o+f];if(a){if(i>0&&h!=null&&v==null){c=o,i=-i,f=2;continue}if(i<0&&o==l+i){d.fill(),a=!1,i=-i,f=1,o=l=c+i;continue}}if(h==null||v==null)continue;if(h<=v&&h<t.min){if(v<t.min)continue;p=(t.min-h)/(v-h)*(m-p)+p,h=t.min}else if(v<=h&&v<t.min){if(h<t.min)continue;m=(t.min-h)/(v-h)*(m-p)+p,v=t.min}if(h>=v&&h>t.max){if(v>t.max)continue;p=(t.max-h)/(v-h)*(m-p)+p,h=t.max}else if(v>=h&&v>t.max){if(h>t.max)continue;m=(t.max-h)/(v-h)*(m-p)+p,v=t.max}a||(d.beginPath(),d.moveTo(t.p2c(h),n.p2c(s)),a=!0);if(p>=n.max&&m>=n.max){d.lineTo(t.p2c(h),n.p2c(n.max)),d.lineTo(t.p2c(v),n.p2c(n.max));continue}if(p<=n.min&&m<=n.min){d.lineTo(t.p2c(h),n.p2c(n.min)),d.lineTo(t.p2c(v),n.p2c(n.min));continue}var g=h,y=v;p<=m&&p<n.min&&m>=n.min?(h=(n.min-p)/(m-p)*(v-h)+h,p=n.min):m<=p&&m<n.min&&p>=n.min&&(v=(n.min-p)/(m-p)*(v-h)+h,m=n.min),p>=m&&p>n.max&&m<=n.max?(h=(n.max-p)/(m-p)*(v-h)+h,p=n.max):m>=p&&m>n.max&&p<=n.max&&(v=(n.max-p)/(m-p)*(v-h)+h,m=n.max),h!=g&&d.lineTo(t.p2c(g),n.p2c(p)),d.lineTo(t.p2c(h),n.p2c(p)),d.lineTo(t.p2c(v),n.p2c(m)),v!=y&&(d.lineTo(t.p2c(v),n.p2c(m)),d.lineTo(t.p2c(y),n.p2c(m)))}}d.save(),d.translate(y.left,y.top),d.lineJoin="round";var r=e.lines.lineWidth,i=e.shadowSize;if(r>0&&i>0){d.lineWidth=i,d.strokeStyle="rgba(0,0,0,0.1)";var s=Math.PI/18;t(e.datapoints,Math.sin(s)*(r/2+i/2),Math.cos(s)*(r/2+i/2),e.xaxis,e.yaxis),d.lineWidth=i/2,t(e.datapoints,Math.sin(s)*(r/2+i/4),Math.cos(s)*(r/2+i/4),e.xaxis,e.yaxis)}d.lineWidth=r,d.strokeStyle=e.color;var o=at(e.lines,e.color,0,S);o&&(d.fillStyle=o,n(e.datapoints,e.xaxis,e.yaxis)),r>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),d.restore()}function st(e){function t(e,t,n,r,i,s,o,u){var a=e.points,f=e.pointsize;for(var l=0;l<a.length;l+=f){var c=a[l],h=a[l+1];if(c==null||c<s.min||c>s.max||h<o.min||h>o.max)continue;d.beginPath(),c=s.p2c(c),h=o.p2c(h)+r,u=="circle"?d.arc(c,h,t,0,i?Math.PI:Math.PI*2,!1):u(d,c,h,t,i),d.closePath(),n&&(d.fillStyle=n,d.fill()),d.stroke()}}d.save(),d.translate(y.left,y.top);var n=e.points.lineWidth,r=e.shadowSize,i=e.points.radius,s=e.points.symbol;if(n>0&&r>0){var o=r/2;d.lineWidth=o,d.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,i,null,o+o/2,!0,e.xaxis,e.yaxis,s),d.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,i,null,o/2,!0,e.xaxis,e.yaxis,s)}d.lineWidth=n,d.strokeStyle=e.color,t(e.datapoints,i,at(e.points,e.color),0,!1,e.xaxis,e.yaxis,s),d.restore()}function ot(e,t,n,r,i,s,o,u,a,f,l,c){var h,p,d,v,m,g,y,b,w;l?(b=g=y=!0,m=!1,h=n,p=e,v=t+r,d=t+i,p<h&&(w=p,p=h,h=w,m=!0,g=!1)):(m=g=y=!0,b=!1,h=e+r,p=e+i,d=n,v=t,v<d&&(w=v,v=d,d=w,b=!0,y=!1));if(p<u.min||h>u.max||v<a.min||d>a.max)return;h<u.min&&(h=u.min,m=!1),p>u.max&&(p=u.max,g=!1),d<a.min&&(d=a.min,b=!1),v>a.max&&(v=a.max,y=!1),h=u.p2c(h),d=a.p2c(d),p=u.p2c(p),v=a.p2c(v),o&&(f.beginPath(),f.moveTo(h,d),f.lineTo(h,v),f.lineTo(p,v),f.lineTo(p,d),f.fillStyle=o(d,v),f.fill()),c>0&&(m||g||y||b)&&(f.beginPath(),f.moveTo(h,d+s),m?f.lineTo(h,v+s):f.moveTo(h,v+s),y?f.lineTo(p,v+s):f.moveTo(p,v+s),g?f.lineTo(p,d+s):f.moveTo(p,d+s),b?f.lineTo(h,d+s):f.moveTo(h,d+s),f.stroke())}function ut(e){function t(t,n,r,i,s,o,u){var a=t.points,f=t.pointsize;for(var l=0;l<a.length;l+=f){if(a[l]==null)continue;ot(a[l],a[l+1],a[l+2],n,r,i,s,o,u,d,e.bars.horizontal,e.bars.lineWidth)}}d.save(),d.translate(y.left,y.top),d.lineWidth=e.bars.lineWidth,d.strokeStyle=e.color;var n=e.bars.align=="left"?0:-e.bars.barWidth/2,r=e.bars.fill?function(t,n){return at(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,0,r,e.xaxis,e.yaxis),d.restore()}function at(t,n,r,i){var s=t.fill;if(!s)return null;if(t.fillColor)return Tt(t.fillColor,r,i,n);var o=e.color.parse(n);return o.a=typeof s=="number"?s:.4,o.normalize(),o.toString()}function ft(){t.find(".legend").remove();if(!f.legend.show)return;var n=[],r=!1,i=f.legend.labelFormatter,s,o;for(var a=0;a<u.length;++a){s=u[a],o=s.label;if(!o)continue;a%f.legend.noColumns==0&&(r&&n.push("</tr>"),n.push("<tr>"),r=!0),i&&(o=i(o,s)),n.push('<td class="legendColorBox"><div style="'+f.legend.labelBoxBorderColor+'"><div style="width:15px;height:0;border:3px solid '+s.color+';overflow:hidden"></div></div></td><td class="legendLabel"><span>'+o+"</span></td>")}r&&n.push("</tr>");if(n.length==0)return;var l='<table style="font-size: 11px; color:'+f.grid.color+'">'+n.join("")+"</table>";if(f.legend.container!=null)e(f.legend.container).html(l);else{var h="",p=f.legend.position,d=f.legend.margin;d[0]==null&&(d=[d,d]),p.charAt(0)=="n"?h+="top:"+(d[1]+y.top)+"px;":p.charAt(0)=="s"&&(h+="bottom:"+(d[1]+y.bottom)+"px;"),p.charAt(1)=="e"?h+="right:"+(d[0]+y.right)+"px;":p.charAt(1)=="w"&&(h+="left:"+(d[0]+y.left)+"px;");var v=e('<div class="legend">'+l.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(t);if(f.legend.backgroundOpacity!=0){var m=f.legend.backgroundColor;m==null&&(m=f.grid.backgroundColor,m&&typeof m=="string"?m=e.color.parse(m):m=e.color.extract(v,"background-color"),m.a=1,m=m.toString());var g=v.children();e('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+h+"background-color:"+m+';"> </div>').prependTo(v).css("opacity",f.legend.backgroundOpacity)}}}function ht(e,t,n){var r=f.grid.mouseActiveRadius,i=r*r+1,s=null,o=!1,a,l;for(a=u.length-1;a>=0;--a){if(!n(u[a]))continue;var c=u[a],h=c.xaxis,p=c.yaxis,d=c.datapoints.points,v=c.datapoints.pointsize,m=h.c2p(e),g=p.c2p(t),y=r/h.scale,b=r/p.scale;h.options.inverseTransform&&(y=Number.MAX_VALUE),p.options.inverseTransform&&(b=Number.MAX_VALUE);if(c.lines.show||c.points.show)for(l=0;l<d.length;l+=v){var w=d[l],E=d[l+1];if(w==null)continue;if(w-m>y||w-m<-y||E-g>b||E-g<-b)continue;var S=Math.abs(h.p2c(w)-e),x=Math.abs(p.p2c(E)-t),T=S*S+x*x;T<i&&(i=T,s=[a,l/v])}if(c.bars.show&&!s){var N=c.bars.align=="left"?0:-c.bars.barWidth/2,C=N+c.bars.barWidth;for(l=0;l<d.length;l+=v){var w=d[l],E=d[l+1],k=d[l+2];if(w==null)continue;if(u[a].bars.horizontal?m<=Math.max(k,w)&&m>=Math.min(k,w)&&g>=E+N&&g<=E+C:m>=w+N&&m<=w+C&&g>=Math.min(k,E)&&g<=Math.max(k,E))s=[a,l/v]}}}return s?(a=s[0],l=s[1],v=u[a].datapoints.pointsize,{datapoint:u[a].datapoints.points.slice(l*v,(l+1)*v),dataIndex:l,series:u[a],seriesIndex:a}):null}function pt(e){f.grid.hoverable&&mt("plothover",e,function(e){return e.hoverable!=0})}function dt(e){f.grid.hoverable&&mt("plothover",e,function(e){return!1})}function vt(e){mt("plotclick",e,function(e){return e.clickable!=0})}function mt(e,n,r){var i=p.offset(),s=n.pageX-i.left-y.left,o=n.pageY-i.top-y.top,u=_({left:s,top:o});u.pageX=n.pageX,u.pageY=n.pageY;var a=ht(s,o,r);a&&(a.pageX=parseInt(a.series.xaxis.p2c(a.datapoint[0])+i.left+y.left),a.pageY=parseInt(a.series.yaxis.p2c(a.datapoint[1])+i.top+y.top));if(f.grid.autoHighlight){for(var l=0;l<lt.length;++l){var c=lt[l];c.auto==e&&(!a||c.series!=a.series||c.point[0]!=a.datapoint[0]||c.point[1]!=a.datapoint[1])&&wt(c.series,c.point)}a&&bt(a.series,a.datapoint,e)}t.trigger(e,[u,a])}function gt(){ct||(ct=setTimeout(yt,30))}function yt(){ct=null,v.save(),v.clearRect(0,0,b,w),v.translate(y.left,y.top);var e,t;for(e=0;e<lt.length;++e)t=lt[e],t.series.bars.show?xt(t.series,t.point):St(t.series,t.point);v.restore(),N(x.drawOverlay,[v])}function bt(e,t,n){typeof e=="number"&&(e=u[e]);if(typeof t=="number"){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var i=Et(e,t);i==-1?(lt.push({series:e,point:t,auto:n}),gt()):n||(lt[i].auto=!1)}function wt(e,t){e==null&&t==null&&(lt=[],gt()),typeof e=="number"&&(e=u[e]),typeof t=="number"&&(t=e.data[t]);var n=Et(e,t);n!=-1&&(lt.splice(n,1),gt())}function Et(e,t){for(var n=0;n<lt.length;++n){var r=lt[n];if(r.series==e&&r.point[0]==t[0]&&r.point[1]==t[1])return n}return-1}function St(t,n){var r=n[0],i=n[1],s=t.xaxis,o=t.yaxis;if(r<s.min||r>s.max||i<o.min||i>o.max)return;var u=t.points.radius+t.points.lineWidth/2;v.lineWidth=u,v.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var a=1.5*u,r=s.p2c(r),i=o.p2c(i);v.beginPath(),t.points.symbol=="circle"?v.arc(r,i,a,0,2*Math.PI,!1):t.points.symbol(v,r,i,a,!1),v.closePath(),v.stroke()}function xt(t,n){v.lineWidth=t.bars.lineWidth,v.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var r=e.color.parse(t.color).scale("a",.5).toString(),i=t.bars.align=="left"?0:-t.bars.barWidth/2;ot(n[0],n[1],n[2]||0,i,i+t.bars.barWidth,0,function(){return r},t.xaxis,t.yaxis,v,t.bars.horizontal,t.bars.lineWidth)}function Tt(t,n,r,i){if(typeof t=="string")return t;var s=d.createLinearGradient(0,r,0,n);for(var o=0,u=t.colors.length;o<u;++o){var a=t.colors[o];if(typeof a!="string"){var f=e.color.parse(i);a.brightness!=null&&(f=f.scale("rgb",a.brightness)),a.opacity!=null&&(f.a*=a.opacity),a=f.toString()}s.addColorStop(o/(u-1),a)}return s}var u=[],f={colors:["#ee7951","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:0,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:[-5,-25],backgroundColor:"#fafafa",backgroundOpacity:1},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:0},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:"#e3e3e3",tickColor:"#e3e3e3",labelMargin:5,axisMargin:8,borderWidth:0,minBorderMargin:10,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:5},hooks:{}},l=null,h=null,p=null,d=null,v=null,m=[],g=[],y={left:0,right:0,top:0,bottom:0},b=0,w=0,E=0,S=0,x={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},T=this;T.setData=L,T.setupGrid=$,T.draw=Y,T.getPlaceholder=function(){return t},T.getCanvas=function(){return l},T.getPlotOffset=function(){return y},T.width=function(){return E},T.height=function(){return S},T.offset=function(){var e=p.offset();return e.left+=y.left,e.top+=y.top,e},T.getData=function(){return u},T.getAxes=function(){var t={},n;return e.each(m.concat(g),function(e,n){n&&(t[n.direction+(n.n!=1?n.n:"")+"axis"]=n)}),t},T.getXAxes=function(){return m},T.getYAxes=function(){return g},T.c2p=_,T.p2c=D,T.getOptions=function(){return f},T.highlight=bt,T.unhighlight=wt,T.triggerRedrawOverlay=gt,T.pointOffset=function(e){return{left:parseInt(m[O(e,"x")-1].p2c(+e.x)+y.left),top:parseInt(g[O(e,"y")-1].p2c(+e.y)+y.top)}},T.shutdown=U,T.resize=function(){F(),I(l),I(h)},T.hooks=x,C(T),k(s),q(),L(r),$(),Y(),R();var lt=[],ct=null}function n(e,t){return t*Math.floor(e/t)}e.plot=function(n,r,i){var s=new t(e(n),r,i,e.plot.plugins);return s},e.plot.version="0.7",e.plot.plugins=[],e.plot.formatDate=function(e,t,n){var r=function(e){return e=""+e,e.length==1?"0"+e:e},i=[],s=!1,o=!1,u=e.getUTCHours(),a=u<12;n==null&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),t.search(/%p|%P/)!=-1&&(u>12?u-=12:u==0&&(u=12));for(var f=0;f<t.length;++f){var l=t.charAt(f);if(s){switch(l){case"h":l=""+u;break;case"H":l=r(u);break;case"M":l=r(e.getUTCMinutes());break;case"S":l=r(e.getUTCSeconds());break;case"d":l=""+e.getUTCDate();break;case"m":l=""+(e.getUTCMonth()+1);break;case"y":l=""+e.getUTCFullYear();break;case"b":l=""+n[e.getUTCMonth()];break;case"p":l=a?"am":"pm";break;case"P":l=a?"AM":"PM";break;case"0":l="",o=!0}l&&o&&(l=r(l),o=!1),i.push(l),o||(s=!1)}else l=="%"?s=!0:i.push(l)}return i.join("")}}(jQuery),function(e){function t(t){function w(e,t){t.series.pie.show&&(t.grid.show=!1,t.series.pie.label.show=="auto"&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),t.series.pie.radius=="auto"&&(t.series.pie.label.show?t.series.pie.radius=.75:t.series.pie.radius=1),t.series.pie.tilt>1&&(t.series.pie.tilt=1),t.series.pie.tilt<0&&(t.series.pie.tilt=0),e.hooks.processDatapoints.push(N),e.hooks.drawOverlay.push(I),e.hooks.draw.push(A))}function E(e,t){var n=e.getOptions();n.series.pie.show&&n.grid.hoverable&&t.unbind("mousemove").mousemove(D),n.series.pie.show&&n.grid.clickable&&t.unbind("click").click(P)}function S(e){function n(e,r){r||(r=0);for(var i=0;i<e.length;++i){for(var s=0;s<r;s++)t+="	";typeof e[i]=="object"?(t+=""+i+":\n",n(e[i],r+1)):t+=""+i+": "+e[i]+"\n"}}var t="";n(e),alert(t)}function T(e){for(var t=0;t<e.length;++t){var n=parseFloat(e[t].data[0][1]);n&&(l+=n)}}function N(t,i,o,u){v||(v=!0,r=t.getCanvas(),s=e(r).parent(),n=t.getOptions(),t.setData(L(t.getData())))}function C(){d=s.children().filter(".legend").children().width(),o=Math.min(r.width,r.height/n.series.pie.tilt)/2,f=r.height/2+n.series.pie.offset.top,u=r.width/2,n.series.pie.offset.left=="auto"?n.legend.position.match("w")?u+=d/2:u-=d/2:u+=n.series.pie.offset.left,u<o?u=o:u>r.width-o&&(u=r.width-o)}function k(e){for(var t=0;t<e.length;++t)if(typeof e[t].data=="number")e[t].data=[[1,e[t].data]];else if(typeof e[t].data=="undefined"||typeof e[t].data[0]=="undefined")typeof e[t].data!="undefined"&&typeof e[t].data.label!="undefined"&&(e[t].label=e[t].data.label),e[t].data=[[1,0]];return e}function L(e){e=k(e),T(e);var t=0,r=0,i=n.series.pie.combine.color,s=[];for(var o=0;o<e.length;++o)e[o].data[0][1]=parseFloat(e[o].data[0][1]),e[o].data[0][1]||(e[o].data[0][1]=0),e[o].data[0][1]/l<=n.series.pie.combine.threshold?(t+=e[o].data[0][1],r++,i||(i=e[o].color)):s.push({data:[[1,e[o].data[0][1]]],color:e[o].color,label:e[o].label,angle:e[o].data[0][1]*Math.PI*2/l,percent:e[o].data[0][1]/l*100});return r>0&&s.push({data:[[1,t]],color:i,label:n.series.pie.combine.label,angle:t*Math.PI*2/l,percent:t/l*100}),s}function A(t,i){function v(){ctx.clearRect(0,0,r.width,r.height),s.children().filter(".pieLabel, .pieLabelBackground").remove()}function m(){var e=5,t=15,i=10,s=.02;if(n.series.pie.radius>1)var l=n.series.pie.radius;else var l=o*n.series.pie.radius;if(l>=r.width/2-e||l*n.series.pie.tilt>=r.height/2-t||l<=i)return;ctx.save(),ctx.translate(e,t),ctx.globalAlpha=s,ctx.fillStyle="#000",ctx.translate(u,f),ctx.scale(1,n.series.pie.tilt);for(var c=1;c<=i;c++)ctx.beginPath(),ctx.arc(0,0,l,0,Math.PI*2,!1),ctx.fill(),l-=c;ctx.restore()}function g(){function p(n,r,s){if(n<=0)return;s?ctx.fillStyle=r:(ctx.strokeStyle=r,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(n-Math.PI*2)>1e-9?ctx.moveTo(0,0):e.browser.msie&&(n-=1e-4),ctx.arc(0,0,t,i,i+n,!1),ctx.closePath(),i+=n,s?ctx.fill():ctx.stroke()}function d(){function p(t,o,l){if(t.data[0][1]==0)return;var h=n.legend.labelFormatter,p,d=n.series.pie.label.formatter;h?p=h(t.label,t):p=t.label,d&&(p=d(p,t));var v=(o+t.angle+o)/2,m=u+Math.round(Math.cos(v)*i),g=f+Math.round(Math.sin(v)*i)*n.series.pie.tilt,y='<span class="pieLabel" id="pieLabel'+l+'" style="position:absolute;top:'+g+"px;left:"+m+'px;">'+p+"</span>";s.append(y);var w=s.children("#pieLabel"+l),E=g-w.height()/2,S=m-w.width()/2;w.css("top",E),w.css("left",S);if(0-E>0||0-S>0||r.height-(E+w.height())<0||r.width-(S+w.width())<0)c=!0;if(n.series.pie.label.background.opacity!=0){var x=n.series.pie.label.background.color;x==null&&(x=t.color);var T="top:"+E+"px;left:"+S+"px;";e('<div class="pieLabelBackground" style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+T+"background-color:"+x+';"> </div>').insertBefore(w).css("opacity",n.series.pie.label.background.opacity)}}var t=startAngle;if(n.series.pie.label.radius>1)var i=n.series.pie.label.radius;else var i=o*n.series.pie.label.radius;for(var h=0;h<l.length;++h)l[h].percent>=n.series.pie.label.threshold*100&&p(l[h],t,h),t+=l[h].angle}startAngle=Math.PI*n.series.pie.startAngle;if(n.series.pie.radius>1)var t=n.series.pie.radius;else var t=o*n.series.pie.radius;ctx.save(),ctx.translate(u,f),ctx.scale(1,n.series.pie.tilt),ctx.save();var i=startAngle;for(var h=0;h<l.length;++h)l[h].startAngle=i,p(l[h].angle,l[h].color,!0);ctx.restore(),ctx.save(),ctx.lineWidth=n.series.pie.stroke.width,i=startAngle;for(var h=0;h<l.length;++h)p(l[h].angle,n.series.pie.stroke.color,!1);ctx.restore(),O(ctx),n.series.pie.label.show&&d(),ctx.restore()}if(!s)return;ctx=i,C();var l=t.getData(),d=0;while(c&&d<h)c=!1,d>0&&(o*=p),d+=1,v(),n.series.pie.tilt<=.8&&m(),g();d>=h&&(v(),s.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),t.setSeries&&t.insertLegend&&(t.setSeries(l),t.insertLegend())}function O(e){n.series.pie.innerRadius>0&&(e.save(),innerRadius=n.series.pie.innerRadius>1?n.series.pie.innerRadius:o*n.series.pie.innerRadius,e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=n.series.pie.stroke.color,e.arc(0,0,innerRadius,0,Math.PI*2,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=n.series.pie.stroke.color,e.arc(0,0,innerRadius,0,Math.PI*2,!1),e.stroke(),e.closePath(),e.restore())}function M(e,t){for(var n=!1,r=-1,i=e.length,s=i-1;++r<i;s=r)(e[r][1]<=t[1]&&t[1]<e[s][1]||e[s][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[s][0]-e[r][0])*(t[1]-e[r][1])/(e[s][1]-e[r][1])+e[r][0]&&(n=!n);return n}function _(e,n){var r=t.getData(),i=t.getOptions(),s=i.series.pie.radius>1?i.series.pie.radius:o*i.series.pie.radius;for(var a=0;a<r.length;++a){var l=r[a];if(l.pie.show){ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,s,l.startAngle,l.startAngle+l.angle,!1),ctx.closePath(),x=e-u,y=n-f;if(ctx.isPointInPath){if(ctx.isPointInPath(e-u,n-f))return ctx.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:a}}else{p1X=s*Math.cos(l.startAngle),p1Y=s*Math.sin(l.startAngle),p2X=s*Math.cos(l.startAngle+l.angle/4),p2Y=s*Math.sin(l.startAngle+l.angle/4),p3X=s*Math.cos(l.startAngle+l.angle/2),p3Y=s*Math.sin(l.startAngle+l.angle/2),p4X=s*Math.cos(l.startAngle+l.angle/1.5),p4Y=s*Math.sin(l.startAngle+l.angle/1.5),p5X=s*Math.cos(l.startAngle+l.angle),p5Y=s*Math.sin(l.startAngle+l.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y];if(M(arrPoly,arrPoint))return ctx.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:a}}ctx.restore()}}return null}function D(e){H("plothover",e)}function P(e){H("plotclick",e)}function H(e,r){var i=t.offset(),o=parseInt(r.pageX-i.left),u=parseInt(r.pageY-i.top),f=_(o,u);if(n.grid.autoHighlight)for(var l=0;l<g.length;++l){var c=g[l];c.auto==e&&(!f||c.series!=f.series)&&j(c.series)}f&&B(f.series,e);var h={pageX:r.pageX,pageY:r.pageY};s.trigger(e,[h,f])}function B(e,n){typeof e=="number"&&(e=series[e]);var r=F(e);r==-1?(g.push({series:e,auto:n}),t.triggerRedrawOverlay()):n||(g[r].auto=!1)}function j(e){e==null&&(g=[],t.triggerRedrawOverlay()),typeof e=="number"&&(e=series[e]);var n=F(e);n!=-1&&(g.splice(n,1),t.triggerRedrawOverlay())}function F(e){for(var t=0;t<g.length;++t){var n=g[t];if(n.series==e)return t}return-1}function I(e,t){function s(e){if(e.angle<0)return;t.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(e.angle-Math.PI*2)>1e-9&&t.moveTo(0,0),t.arc(0,0,r,e.startAngle,e.startAngle+e.angle,!1),t.closePath(),t.fill()}var n=e.getOptions(),r=n.series.pie.radius>1?n.series.pie.radius:o*n.series.pie.radius;t.save(),t.translate(u,f),t.scale(1,n.series.pie.tilt);for(i=0;i<g.length;++i)s(g[i].series);O(t),t.restore()}var r=null,s=null,o=null,u=null,f=null,l=0,c=!0,h=10,p=.95,d=0,v=!1,m=!1,g=[];t.hooks.processOptions.push(w),t.hooks.bindEvents.push(E)}var n={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle
:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(e,t){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+t.color+';">'+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:t,options:n,name:"pie",version:"1.0"})}(jQuery),function(e,t,n){function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);(n!==i.w||r!==i.h)&&t.trigger(u,[i.w=n,i.h=r])}),c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=250,i[l]=!0,e.event.special[u]={setup:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.add(t),e.data(this,a,{w:t.width(),h:t.height()}),r.length===1&&c()},teardown:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.not(t),t.removeData(a),r.length||clearTimeout(s)},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width(),u.h=s!==n?s:o.height(),r.apply(this,arguments)}if(!i[l]&&this[o])return!1;var r;if(e.isFunction(t))return r=t,s;r=t.handler,t.handler=s}}}(jQuery,this),function(e){function r(n){function r(n,r){function i(){var r=n.getPlaceholder();if(r.width()==0||r.height()==0)return;++t,e.plot(r,n.getData(),n.getOptions()),--t}t||n.getPlaceholder().resize(i)}n.hooks.bindEvents.push(r)}var t=0,n={};e.plot.plugins.push({init:r,options:n,name:"resize",version:"1.0"})}(jQuery),jQuery.fn.autoGrow=function(){return this.each(function(){var e=this.cols,t=this.rows,n=function(){r(this)},r=function(n){var r=0,i=n.value.split("\n");for(var s=i.length-1;s>=0;--s)r+=Math.floor(i[s].length/e+1);r>=t?n.rows=r+1:n.rows=t},i=function(e){var t=0,n=0,r=0,i=e.cols;return e.cols=1,n=e.offsetWidth,e.cols=2,r=e.offsetWidth,t=r-n,e.cols=i,t};this.style.height="auto",this.style.overflow="hidden",this.onkeyup=n,this.onfocus=n,this.onblur=n,r(this)})},function(e){var t=function(t){var n=null,r=e("#"+t),i=e("input[name="+t+"]");return r.length?n=r:i!=undefined&&(n=i),n};e.fn.autotab_magic=function(t){for(var n=0;n<this.length;n++){var r=n+1,i=n-1;n>0&&r<this.length?e(this[n]).autotab({target:e(this[r]),previous:e(this[i])}):n>0?e(this[n]).autotab({previous:e(this[i])}):e(this[n]).autotab({target:e(this[r])}),(t!=null&&isNaN(t)&&t==e(this[n]).attr("id")||!isNaN(t)&&t==n)&&e(this[n]).focus()}return this},e.fn.autotab_filter=function(t){var n={format:"all",uppercase:!1,lowercase:!1,nospace:!1,pattern:null};typeof t=="string"||typeof t=="function"?n.format=t:e.extend(n,t);for(var r=0;r<this.length;r++)e(this[r]).bind("keyup",function(e){var t=this.value;switch(n.format){case"text":var r=new RegExp("[0-9]+","g");t=t.replace(r,"");break;case"alpha":var r=new RegExp("[^a-zA-Z]+","g");t=t.replace(r,"");break;case"number":case"numeric":var r=new RegExp("[^0-9]+","g");t=t.replace(r,"");break;case"alphanumeric":var r=new RegExp("[^0-9a-zA-Z]+","g");t=t.replace(r,"");break;case"custom":var r=new RegExp(n.pattern,"g");t=t.replace(r,"");break;case"all":default:if(typeof n.format=="function")var t=n.format(t)}if(n.nospace){var r=new RegExp("[ ]+","g");t=t.replace(r,"")}n.uppercase&&(t=t.toUpperCase()),n.lowercase&&(t=t.toLowerCase()),t!=this.value&&(this.value=t)})},e.fn.autotab=function(n){var r={format:"all",maxlength:2147483647,uppercase:!1,lowercase:!1,nospace:!1,target:null,previous:null,pattern:null};e.extend(r,n),typeof r.target=="string"&&(r.target=t(r.target)),typeof r.previous=="string"&&(r.previous=t(r.previous));var i=e(this).attr("maxlength");return r.maxlength==2147483647&&i!=2147483647?r.maxlength=i:r.maxlength>0?e(this).attr("maxlength",r.maxlength):r.target=null,r.format!="all"&&e(this).autotab_filter(r),e(this).bind("keydown",function(e){e.which==8&&this.value.length==0&&r.previous&&r.previous.focus().val(r.previous.val())}).bind("keyup",function(t){var n=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(t.which!=8){var i=e(this).val();e.inArray(t.which,n)==-1&&i.length==r.maxlength&&r.target&&r.target.focus()}})}}(jQuery),function(e){var t={preloadImg:!0},n=!1,r=function(e){e=e.replace(/^url\((.*)\)/,"$1").replace(/^\"(.*)\"$/,"$1");var t=new Image;t.src=e.replace(/\.([a-zA-Z]*)$/,"-hover.$1");var n=new Image;n.src=e.replace(/\.([a-zA-Z]*)$/,"-focus.$1")},i=function(t){var n=e(t.get(0).form),r=t.next();if(!r.is("label")){r=t.prev();if(r.is("label")){var i=t.attr("id");i&&(r=n.find('label[for="'+i+'"]'))}}return r.is("label")?r.css("cursor","pointer"):!1},s=function(t){var n=e(".jqTransformSelectWrapper ul:visible");n.each(function(){var n=e(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);(!t||!n.oLabel||n.oLabel.get(0)!=t.get(0))&&e(this).hide()})},o=function(t){e(t.target).parents(".jqTransformSelectWrapper").length===0&&s(e(t.target))},u=function(){e(document).mousedown(o)},a=function(t){var n;e(".jqTransformSelectWrapper select",t).each(function(){n=this.selectedIndex<0?0:this.selectedIndex,e("ul",e(this).parent()).each(function(){e("a:eq("+n+")",this).click()})}),e("a.jqTransformCheckbox, a.jqTransformRadio",t).removeClass("jqTransformChecked"),e("input:checkbox, input:radio",t).each(function(){this.checked&&e("a",e(this).parent()).addClass("jqTransformChecked")})};e.fn.jqTransInputButton=function(){return this.each(function(){var t=e('<button id="'+this.id+'" name="'+this.name+'" type="'+this.type+'" class="'+this.className+' jqTransformButton"><span><span>'+e(this).attr("value")+"</span></span>").hover(function(){t.addClass("jqTransformButton_hover")},function(){t.removeClass("jqTransformButton_hover")}).mousedown(function(){t.addClass("jqTransformButton_click")}).mouseup(function(){t.removeClass("jqTransformButton_click")});e(this).replaceWith(t)})},e.fn.jqTransInputText=function(){return this.each(function(){var t=e(this);if(t.hasClass("jqtranformdone")||!t.is("input"))return;t.addClass("jqtranformdone");var n=i(e(this));n&&n.bind("click",function(){t.focus()});var r=t.width();t.attr("size")&&(r=t.attr("size"),t.css("width")),t.addClass("jqTransformInput").wrap('<div class="jqTransformInputWrapper"><div></div></div>');var s=t.parent().parent().parent();s.css("width"),t.focus(function(){s.addClass("jqTransformInputWrapper_focus")}).blur(function(){s.removeClass("jqTransformInputWrapper_focus")}).hover(function(){s.addClass("jqTransformInputWrapper_hover")},function(){s.removeClass("jqTransformInputWrapper_hover")}),e.browser.safari&&s.addClass("jqTransformSafari"),e.browser.safari&&t.css("width"),this.wrapper=s})},e.fn.jqTransCheckBox=function(){return this.each(function(){if(e(this).hasClass("jqTransformHidden"))return;var t=e(this),n=this,r=i(t);r&&r.click(function(){s.trigger("click")});var s=e('<a href="#" class="jqTransformCheckbox"></a>');t.addClass("jqTransformHidden").wrap('<span class="jqTransformCheckboxWrapper"></span>').parent().prepend(s),t.change(function(){return this.checked&&s.addClass("jqTransformChecked")||s.removeClass("jqTransformChecked"),!0}),s.click(function(){return t.attr("disabled")?!1:(t.trigger("click").trigger("change"),!1)}),this.checked&&s.addClass("jqTransformChecked")})},e.fn.jqTransRadio=function(){return this.each(function(){if(e(this).hasClass("jqTransformHidden"))return;var t=e(this),n=this;oLabel=i(t),oLabel&&oLabel.click(function(){r.trigger("click")});var r=e('<a href="#" class="jqTransformRadio" rel="'+this.name+'"></a>');t.addClass("jqTransformHidden").wrap('<span class="jqTransformRadioWrapper"></span>').parent().prepend(r),t.change(function(){return n.checked&&r.addClass("jqTransformChecked")||r.removeClass("jqTransformChecked"),!0}),r.click(function(){return t.attr("disabled")?!1:(t.trigger("click").trigger("change"),e('input[name="'+t.attr("name")+'"]',n.form).not(t).each(function(){e(this).attr("type")=="radio"&&e(this).trigger("change")}),!1)}),n.checked&&r.addClass("jqTransformChecked")})},e.fn.jqTransSelect=function(){return this.each(function(t){var n=e(this);if(n.hasClass("jqTransformHidden"))return;if(n.attr("multiple"))return;var r=i(n),o=n.addClass("jqTransformHidden").wrap('<div class="jqTransformSelectWrapper"></div>').parent().css({zIndex:10-t});o.prepend('<div><span></span><a href="#" class="jqTransformSelectOpen"></a></div><ul></ul>');var u=e("ul",o).css("width",n.width()).hide();e("option",this).each(function(t){var n=e('<li><a href="#" index="'+t+'">'+e(this).html()+"</a></li>");u.append(n)}),u.find("a").click(function(){return e("a.selected",o).removeClass("selected"),e(this).addClass("selected"),n[0].selectedIndex!=e(this).attr("index")&&n[0].onchange&&(n[0].selectedIndex=e(this).attr("index"),n[0].onchange()),n[0].selectedIndex=e(this).attr("index"),e("span:eq(0)",o).html(e(this).html()),u.hide(),!1}),e("a:eq("+this.selectedIndex+")",u).click(),e("span:first",o).click(function(){e("a.jqTransformSelectOpen",o).trigger("click")}),r&&r.click(function(){e("a.jqTransformSelectOpen",o).trigger("click")}),this.oLabel=r;var a=e("a.jqTransformSelectOpen",o).click(function(){return u.css("display")=="none"&&s(),n.attr("disabled")?!1:(u.slideToggle(100,function(){var t=e("a.selected",u).offset().top-u.offset().top;u.animate({scrollTop:t})}),!1)}),f=n.outerWidth(),l=e("span:first",o),c=f>l.innerWidth()?f+a.outerWidth():o.width();o.css("width",c-24),u.css("width",c-24),l.css({width:f}),u.css({display:"block",visibility:"hidden"});var h=e("li",u).length*e("li:first",u).height();h<u.height()&&u.css({height:h,overflow:"hidden"}),u.css({display:"none",visibility:"visible"})})},e.fn.jqTransform=function(n){var r=e.extend({},t,n);return this.each(function(){var t=e(this);e("input:checkbox",this).jqTransCheckBox(),e("input:radio",this).jqTransRadio(),e("select",this).jqTransSelect().length>0&&u(),t.bind("reset",function(){var e=function(){a(this)};window.setTimeout(e,10)})})}}(jQuery),function(e){function s(t){var n=e("#"+t.view+" option").size(),r=e("#"+t.storage+" option").size();e("#"+t.counter).text("Showing "+n+" of "+(n+r))}function o(n){var r=n.index,i;t[r].useFilters?i=e("#"+n.filter).val().toString().toLowerCase():i="",e("#"+n.view+" option").filter(function(t){var n=e(this).text().toString().toLowerCase();return n.indexOf(i)==-1}).appendTo("#"+n.storage),e("#"+n.storage+" option").filter(function(t){var n=e(this).text().toString().toLowerCase();return n.indexOf(i)!=-1}).appendTo("#"+n.view);try{e("#"+n.view+" option").removeAttr("selected")}catch(o){}t[r].useSorting&&u(n),t[r].useCounters&&s(n)}function u(t){var n=e("#"+t.view+" option");n.sort(i[t.index]),e("#"+t.view).empty().append(n)}function a(n,r){p(t[n.index])?e("#"+n.view+" option:selected").appendTo("#"+r.view):e("#"+n.view+" option:selected:not([class*=copiedOption])").clone().appendTo("#"+r.view).end().end().addClass("copiedOption");try{e("#"+n.view+" option,#"+r.view+" option").removeAttr("selected")}catch(i){}o(r),t[n.index].useCounters&&s(n)}function f(n,r){p(t[n.index])?e("#"+n.view+" option").appendTo("#"+r.view):e("#"+n.view+" option:not([class*=copiedOption])").clone().appendTo("#"+r.view).end().end().addClass("copiedOption");try{e("#"+n.view+" option,#"+r.view+" option").removeAttr("selected")}catch(i){}o(r),t[n.index].useCounters&&s(n)}function l(n,r){e("#"+r.view+" option.copiedOption").add("#"+r.storage+" option.copiedOption").remove();try{e("#"+n.view+" option:selected").appendTo("#"+r.view).removeAttr("selected")}catch(i){}e("#"+n.view+" option").add("#"+n.storage+" option").clone().addClass("copiedOption").appendTo("#"+r.view),o(r),t[n.index].useCounters&&s(n)}function c(n,r){e("#"+r.view+" option.copiedOption").add("#"+r.storage+" option.copiedOption").remove();try{e("#"+n.storage+" option").clone().addClass("copiedOption").add("#"+n.view+" option").appendTo("#"+r.view).removeAttr("selected")}catch(i){}o(r),t[n.index].useCounters&&s(n)}function h(n){e("#"+n.filter).val(""),e("#"+n.storage+" option").appendTo("#"+n.view);try{e("#"+n.view+" option").removeAttr("selected")}catch(r){}t[n.index].useSorting&&u(n),t[n.index].useCounters&&s(n)}function p(e){return e.transferMode=="move"}var t=new Array,n=new Array,r=new Array,i=new Array;e.configureBoxes=function(v){var y=t.push({box1View:"box1View",box1Storage:"box1Storage",box1Filter:"box1Filter",box1Clear:"box1Clear",box1Counter:"box1Counter",box2View:"box2View",box2Storage:"box2Storage",box2Filter:"box2Filter",box2Clear:"box2Clear",box2Counter:"box2Counter",to1:"to1",allTo1:"allTo1",to2:"to2",allTo2:"allTo2",transferMode:"move",sortBy:"text",useFilters:!0,useCounters:!0,useSorting:!0,selectOnSubmit:!0});y--,e.extend(t[y],v),n.push({view:t[y].box1View,storage:t[y].box1Storage,filter:t[y].box1Filter,clear:t[y].box1Clear,counter:t[y].box1Counter,index:y}),r.push({view:t[y].box2View,storage:t[y].box2Storage,filter:t[y].box2Filter,clear:t[y].box2Clear,counter:t[y].box2Counter,index:y}),t[y].sortBy=="text"?i.push(function(e,t){var n=e.text.toLowerCase(),r=t.text.toLowerCase();return n<r?-1:n>r?1:0}):i.push(function(e,t){var n=e.value.toLowerCase(),r=t.value.toLowerCase();return n<r?-1:n>r?1:0}),t[y].useFilters&&(e("#"+n[y].filter).keyup(function(){o(n[y])}),e("#"+r[y].filter).keyup(function(){o(r[y])}),e("#"+n[y].clear).click(function(){h(n[y])}),e("#"+r[y].clear).click(function(){h(r[y])})),p(t[y])?(e("#"+r[y].view).dblclick(function(){a(r[y],n[y])}),e("#"+t[y].to1).click(function(){a(r[y],n[y])}),e("#"+t[y].allTo1).click(function(){f(r[y],n[y])})):(e("#"+r[y].view).dblclick(function(){l(r[y],n[y])}),e("#"+t[y].to1).click(function(){l(r[y],n[y])}),e("#"+t[y].allTo1).click(function(){c(r[y],n[y])})),e("#"+n[y].view).dblclick(function(){a(n[y],r[y])}),e("#"+t[y].to2).click(function(){a(n[y],r[y])}),e("#"+t[y].allTo2).click(function(){f(n[y],r[y])}),t[y].useCounters&&(s(n[y]),s(r[y])),t[y].useSorting&&(u(n[y]),u(r[y])),e("#"+n[y].storage+",#"+r[y].storage).css("display","none"),t[y].selectOnSubmit&&e("#"+t[y].box2View).closest("form").submit(function(){e("#"+t[y].box2View).children("option").attr("selected","selected")})}}(jQuery),function(e){e.fn.filestyle=function(t){var n={width:250};return t&&e.extend(n,t),this.each(function(){var t=this,r=e("<div class='feat'>").css({display:"inline",position:"absolute",overflow:"hidden"}),i=e('<input class="file">').addClass(e(t).attr("class")).css({display:"inline",width:n.width+"px"});e(t).before(i),e(t).wrap(r),e(t).css({position:"relative",height:n.imageheight+"px",width:n.width+"px",display:"inline",cursor:"pointer",opacity:"0.0"}),e.browser.mozilla?/Win/.test(navigator.platform)?e(t).css("margin-left","-142px"):e(t).css("margin-left","-168px"):e(t).css("margin-left",n.imagewidth-n.width+"px"),e(t).bind("change",function(){i.val(e(t).val())})})}}(jQuery),function(e){e.fn.validationEngineLanguage=function(){},e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* 必填项",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* 无效的电话号码"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* 无效的Email地址"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* 日期必须是年-月-日的形式"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}},e.validationEngineLanguage.newLang()}(jQuery),function(e){var t={init:function(n){var r=this;if(!r.data("jqv")||r.data("jqv")==null)t._saveOptions(r,n),e(".formError").live("click",function(){e(this).fadeOut(150,function(){e(this).remove()})})},attach:function(e){var n=this,r;e?r=t._saveOptions(n,e):r=n.data("jqv");var i=n.find("[data-validation-engine*=validate]")?"data-validation-engine":"class";return r.binded||(r.bindMethod=="bind"?(n.find("[class*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(r.validationEventTrigger,t._onFieldEvent),n.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").bind("click",t._onFieldEvent),n.find("[class*=validate][class*=datepicker]").bind(r.validationEventTrigger,{delay:300},t._onFieldEvent),n.bind("submit",t._onSubmitEvent)):r.bindMethod=="live"&&(n.find("[class*=validate]").not("[type=checkbox]").not(".datepicker").live(r.validationEventTrigger,t._onFieldEvent),n.find("[class*=validate][type=checkbox]").live("click",t._onFieldEvent),n.find("[class*=validate][class*=datepicker]").live(r.validationEventTrigger,{delay:300},t._onFieldEvent),n.live("submit",t._onSubmitEvent)),r.binded=!0),this},detach:function(){var e=this,n=e.data("jqv");n.binded&&(e.find("[class*=validate]").not("[type=checkbox]").unbind(n.validationEventTrigger,t._onFieldEvent),e.find("[class*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent),e.unbind("submit",t.onAjaxFormComplete),e.find("[class*=validate]").not("[type=checkbox]").die(n.validationEventTrigger,t._onFieldEvent),e.find("[class*=validate][type=checkbox]").die("click",t._onFieldEvent),e.die("submit",t.onAjaxFormComplete),e.removeData("jqv"))},validate:function(){return t._validateFields(this)},validateField:function(n){var r=e(this).data("jqv");return t._validateField(e(n),r)},validateform:function(){return t._onSubmitEvent.call(this)},updatePromptsPosition:function(){var n=this.closest("form"),r=n.data("jqv");n.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var n=e(this),i=t._getPrompt(n),s=e(i).find(".formErrorContent").html();i&&t._updatePrompt(n,e(i),s,undefined,!1,r)})},showPrompt:function(e,n,r,i){var s=this.closest("form"),o=s.data("jqv");o||(o=t._saveOptions(this,o)),r&&(o.promptPosition=r),o.showArrow=i==1,t._showPrompt(this,e,n,!1,o)},hidePrompt:function(){var n="."+t._getClassName(e(this).attr("id"))+"formError";e(n).fadeTo("fast",.3,function(){e(this).remove()})},hide:function(){var t;e(this).is("form")?t="parentForm"+e(this).attr("id"):t=e(this).attr("id")+"formError",e("."+t).fadeTo("fast",.3,function(){e(this).remove()})},hideAll:function(){e(".formError").fadeTo("fast",.3,function(){e(this).remove()})},_onFieldEvent:function(n){var r=e(this),i=r.closest("form"),s=i.data("jqv");window.setTimeout(function(){t._validateField(r,s)},n.data?n.data.delay:0)},_onSubmitEvent:function(){var n=e(this),r=n.data("jqv"),i=t._validateFields(n,!0);return i&&r.ajaxFormValidation?(t._validateFormWithAjax(n,r),!1):r.onValidationComplete?(r.onValidationComplete(n,i),!1):i},_checkAjaxStatus:function(t){var n=!0;return e.each(t.ajaxValidCache,function(e,t){if(!t)return n=!1,!1}),n},_validateFields:function(n,r){var i=n.data("jqv"),s=!1;n.trigger("jqv.form.validating"),n.find("[class*=validate]").not(":hidden").not(":disabled").each(function(){var n=e(this);s|=t._validateField(n,i,r)}),n.trigger("jqv.form.result",[s]);if(s){if(i.scroll){var o=Number.MAX_VALUE,u=0,f=e(".formError:not('.greenPopup')");for(var l=0;l<f.length;l++){var c=e(f[l]).offset().top;c<o&&(o=c,u=e(f[l]).offset().left)}if(!i.isOverflown)e("html:not(:animated),body:not(:animated)").animate({scrollTop:o,scrollLeft:u},1100);else{var h=e(i.overflownDIV),p=h.scrollTop(),d=-parseInt(h.offset().top);o+=p+d-5;var v=e(i.overflownDIV+":not(:animated)");v.animate({scrollTop:o},1100),e("html:not(:animated),body:not(:animated)").animate({scrollTop:h.offset().top,scrollLeft:u},1100)}}return!1}return!0},_validateFormWithAjax:function(n,r){var i=n.serialize(),s=r.ajaxFormValidationURL?r.ajaxFormValidationURL:n.attr("action");e.ajax({type:"GET",url:s,cache:!1,dataType:"json",data:i,form:n,methods:t,options:r,beforeSend:function(){return r.onBeforeAjaxFormValidation(n,r)},error:function(e,n){t._ajaxError(e,n)},success:function(i){if(i!==!0){var s=!1;for(var o=0;o<i.length;o++){var u=i[o],f=u[0],l=e(e("#"+f)[0]);if(l.length==1){var c=u[2];if(u[1]==1)if(c==""||!c)t._closePrompt(l);else{if(r.allrules[c]){var h=r.allrules[c].alertTextOk;h&&(c=h)}t._showPrompt(l,c,"pass",!1,r,!0)}else{s|=!0;if(r.allrules[c]){var h=r.allrules[c].alertText;h&&(c=h)}t._showPrompt(l,c,"",!1,r,!0)}}}r.onAjaxFormComplete(!s,n,i,r)}else r.onAjaxFormComplete(!0,n,"",r)}})},_validateField:function(n,r,i){n.attr("id")||e.error("jQueryValidate: an ID attribute is required for this field: "+n.attr("name")+" class:"+n.attr("class"));var s=n.attr("class"),o=/validate\[(.*)\]/.exec(s);if(!o)return!1;var u=o[1],f=u.split(/\[|,|\]/),l=!1,c=n.attr("name"),h="",p=!1;r.isError=!1,r.showArrow=!0;for(var d=0;d<f.length;d++){var v=undefined;switch(f[d]){case"required":p=!0,v=t._required(n,f,d,r);break;case"custom":v=t._customRegex(n,f,d,r);break;case"groupRequired":var m="[class*="+f[d+1]+"]",g=n.closest("form").find(m).eq(0);if(g[0]!=n[0]){t._validateField(g,r,i),r.showArrow=!0;continue}v=t._groupRequired(n,f,d,r),v&&(p=!0),r.showArrow=!1;break;case"ajax":i||(t._ajax(n,f,d,r),l=!0);break;case"minSize":v=t._minSize(n,f,d,r);break;case"maxSize":v=t._maxSize(n,f,d,r);break;case"min":v=t._min(n,f,d,r);break;case"max":v=t._max(n,f,d,r);break;case"past":v=t._past(n,f,d,r);break;case"future":v=t._future(n,f,d,r);break;case"dateRange":var m="[class*="+f[d+1]+"]",g=n.closest("form").find(m).eq(0),y=n.closest("form").find(m).eq(1);if(g[0].value||y[0].value)v=t._dateRange(g,y,f,d,r);v&&(p=!0),r.showArrow=!1;break;case"dateTimeRange":var m="[class*="+f[d+1]+"]",g=n.closest("form").find(m).eq(0),y=n.closest("form").find(m).eq(1);if(g[0].value||y[0].value)v=t._dateTimeRange(g,y,f,d,r);v&&(p=!0),r.showArrow=!1;break;case"maxCheckbox":v=t._maxCheckbox(n,f,d,r),n=e(e("input[name='"+c+"']"));break;case"minCheckbox":v=t._minCheckbox(n,f,d,r),n=e(e("input[name='"+c+"']"));break;case"equals":v=t._equals(n,f,d,r);break;case"funcCall":v=t._funcCall(n,f,d,r);break;default:}v!==undefined&&(h+=v+"<br/>",r.isError=!0)}p||n.val()==""&&(r.isError=!1);var w=n.attr("type");return(w=="radio"||w=="checkbox")&&e("input[name='"+c+"']").size()>1&&(n=e(e("input[name='"+c+"'][type!=hidden]:first")),r.showArrow=!1),w=="text"&&e("input[name='"+c+"']").size()>1&&(n=e(e("input[name='"+c+"'][type!=hidden]:first")),r.showArrow=!1),r.isError?t._showPrompt(n,h,"",!1,r):l||t._closePrompt(n),n.trigger("jqv.field.result",[n,r.isError,h]),r.isError},_required:function(t,n,r,i){switch(t.attr("type")){case"text":case"password":case"textarea":case"file":default:if(!t.val())return i.allrules[n[r]].alertText;break;case"radio":case"checkbox":var s=t.attr("name");if(e("input[name='"+s+"']:checked").size()==0)return e("input[name='"+s+"']").size()==1?i.allrules[n[r]].alertTextCheckboxe:i.allrules[n[r]].alertTextCheckboxMultiple;break;case"select-one":if(!t.val())return i.allrules[n[r]].alertText;break;case"select-multiple":if(!t.find("option:selected").val())return i.allrules[n[r]].alertText}},_groupRequired:function(n,r,i,s){var o="[class*="+r[i+1]+"]",u=!1;n.closest("form").find(o).each(function(){if(!t._required(e(this),r,i,s))return u=!0,!1});if(!u)return s.allrules[r[i]].alertText},_customRegex:function(e,t,n,r){var i=t[n+1],s=r.allrules[i];if(!s){alert("jqv:custom rule not found "+i);return}var o=s.regex;if(!o){alert("jqv:custom regex not found "+i);return}var u=new RegExp(o);if(!u.test(e.val()))return r.allrules[i].alertText},_funcCall:function(e,t,n,r){var i=t[n+1],s=window[i];if(typeof s=="function")return s(e,t,n,r)},_equals:function(t,n,r,i){var s=n[r+1];if(t.val()!=e("#"+s).val())return i.allrules.equals.alertText},_maxSize:function(e,t,n,r){var i=t[n+1],s=e.val().length;if(s>i){var o=r.allrules.maxSize;return o.alertText+i+o.alertText2}},_minSize:function(e,t,n,r){var i=t[n+1],s=e.val().length;if(s<i){var o=r.allrules.minSize;return o.alertText+i+o.alertText2}},_min:function(e,t,n,r){var i=parseFloat(t[n+1]),s=parseFloat(e.val());if(s<i){var o=r.allrules.min;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_max:function(e,t,n,r){var i=parseFloat(t[n+1]),s=parseFloat(e.val());if(s>i){var o=r.allrules.max;return o.alertText2?o.alertText+i+o.alertText2:o.alertText+i}},_past:function(e,n,r,i){var s=n[r+1],o=s.toLowerCase()=="now"?new Date:t._parseDate(s),u=t._parseDate(e.val());if(u<o){var f=i.allrules.past;return f.alertText2?f.alertText+t._dateToString(o)+f.alertText2:f.alertText+t._dateToString(o)}},_future:function(e,n,r,i){var s=n[r+1],o=s.toLowerCase()=="now"?new Date:t._parseDate(s),u=t._parseDate(e.val());if(u>o){var f=i.allrules.future;return f.alertText2?f.alertText+t._dateToString(o)+f.alertText2:f.alertText+t._dateToString(o)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)?!0:!1},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)?!0:!1},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value)return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._isDate(e[0].value)||!t._isDate(n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._dateCompare(e[0].value,n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2},_dateTimeRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value)return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._isDateTime(e[0].value)||!t._isDateTime(n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2;if(!t._dateCompare(e[0].value,n[0].value))return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2},_maxCheckbox:function(t,n,r,i){var s=n[r+1],o=t.attr("name"),u=e("input[name='"+o+"']:checked").size();if(u>s)return i.showArrow=!1,i.allrules.maxCheckbox.alertText2?i.allrules.maxCheckbox.alertText+" "+s+" "+i.allrules.maxCheckbox.alertText2:i.allrules.maxCheckbox.alertText},_minCheckbox:function(t,n,r,i){var s=n[r+1],o=t.attr("name"),u=e("input[name='"+o+"']:checked").size();if(u<s)return i.showArrow=!1,i.allrules.minCheckbox.alertText+" "+s+" "+i.allrules.minCheckbox.alertText2},_ajax:function(n,r,i,s){var o=r[i+1],u=s.allrules[o],f=u.extraData,l=u.extraDataDynamic;f||(f="");if(l){var c=[],h=String(l).split(",");for(var i=0;i<h.length;i++){var p=h[i];if(e(p).length){var d=n.closest("form").find(p).val(),v=p.replace("#","")+"="+escape(d);c.push(v)}}l=c.join("&")}else l="";s.isError||e.ajax({type:"GET",url:u.url,cache:!1,dataType:"json",data:"fieldId="+n.attr("id")+"&fieldValue="+n.val()+"&extraData="+f+"&"+l,field:n,rule:u,methods:t,options:s,beforeSend:function(){var e=u.alertTextLoad;e&&t._showPrompt(n,e,"load",!0,s)},error:function(e,n){t._ajaxError(e,n)},success:function(n){var r=n[0],i=e(e("#"+r)[0]);if(i.length==1){var o=n[1],f=n[2];if(!o){s.ajaxValidCache[r]=!1,s.isError=!0;if(f){if(s.allrules[f]){var l=s.allrules[f]
.alertText;l&&(f=l)}}else f=u.alertText;t._showPrompt(i,f,"",!0,s)}else{s.ajaxValidCache[r]!==undefined&&(s.ajaxValidCache[r]=!0);if(f){if(s.allrules[f]){var l=s.allrules[f].alertTextOk;l&&(f=l)}}else f=u.alertTextOk;f?t._showPrompt(i,f,"pass",!0,s):t._closePrompt(i)}}}})},_ajaxError:function(e,t){e.status==0&&t==null?alert("The page is not served from a server! ajax call failed"):typeof console!="undefined"&&console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");return t==e&&(t=e.split("/")),new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,n,r,i,s,o){var u=t._getPrompt(e);o&&(u=!1),u?t._updatePrompt(e,u,n,r,i,s):t._buildPrompt(e,n,r,i,s)},_buildPrompt:function(n,r,i,s,o){var u=e("<div>");u.addClass(t._getClassName(n.attr("id"))+"formError"),n.is(":input")&&u.addClass("parentForm"+t._getClassName(n.parents("form").attr("id"))),u.addClass("formError");switch(i){case"pass":u.addClass("greenPopup");break;case"load":u.addClass("blackPopup")}s&&u.addClass("ajaxed");var f=e("<div>").addClass("formErrorContent").html(r).appendTo(u);if(o.showArrow){var l=e("<div>").addClass("formErrorArrow");switch(o.promptPosition){case"bottomLeft":case"bottomRight":u.find(".formErrorContent").before(l),l.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":l.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),u.append(l)}}o.isOverflown?n.before(u):e("body").append(u);var c=t._calculatePosition(n,u,o);return u.css({top:c.callerTopPosition,left:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}),u.animate({opacity:.87})},_updatePrompt:function(e,n,r,i,s,o){if(n){i=="pass"?n.addClass("greenPopup"):n.removeClass("greenPopup"),i=="load"?n.addClass("blackPopup"):n.removeClass("blackPopup"),s?n.addClass("ajaxed"):n.removeClass("ajaxed"),n.find(".formErrorContent").html(r);var u=t._calculatePosition(e,n,o);n.animate({top:u.callerTopPosition,left:u.callerleftPosition,marginTop:u.marginTopSize})}},_closePrompt:function(e){var n=t._getPrompt(e);n&&n.fadeTo("fast",0,function(){n.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(n){var r=n.attr("id").replace(":","_")+"formError",i=e("."+t._escapeExpression(r))[0];if(i)return e(i)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},_calculatePosition:function(e,t,n){var r,i,s,o=e.width(),u=t.height(),a=n.isOverflown;if(a)r=i=0,s=-u;else{var f=e.offset();r=f.top,i=f.left,s=0}switch(n.promptPosition){default:case"topRight":a?i+=o-80:(i+=o-80,r+=-u-2);break;case"topLeft":r+=-u-10;break;case"centerRight":i+=o+13;break;case"bottomLeft":r=r+e.height()+15;break;case"bottomRight":i+=o-30,r+=e.height()+5}return{callerTopPosition:r+"px",callerleftPosition:i+"px",marginTopSize:s+"px"}},_saveOptions:function(t,n){if(e.validationEngineLanguage)var r=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=r;var i=e.extend({},e.validationEngine.defaults,n);return t.data("jqv",i),i},_getClassName:function(e){return e.replace(":","_").replace(".","_")}};e.fn.validationEngine=function(n){var r=e(this);if(!r[0])return!1;if(typeof n=="string"&&n.charAt(0)!="_"&&t[n])return n!="showPrompt"&&n!="hidePrompt"&&n!="hide"&&n!="hideAll"&&t.init.apply(r),t[n].apply(r,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(r,arguments),t.attach.apply(r);e.error("Method "+n+" does not exist in jQuery.validationEngine")},e.validationEngine={defaults:{validationEventTrigger:"blur",scroll:!0,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:!1,isOverflown:!1,overflownDIV:"",binded:!1,showArrow:!0,isError:!1,ajaxValidCache:{}}}}(jQuery),function(e){function o(){typeof jQuery.easing=="object"?s="easeOutQuad":s="swing",r=jQuery(n).find("li"),jQuery(n).find("ul").wrap('<div style="overflow:hidden; position:relative;  width: '+jQuery(n).css("width")+';"><div>'),jQuery(n).find("ul").width(5e3),r.length>0&&(jQuery(r[r.length-1]).addClass("lastB"),jQuery(r[0]).addClass("firstB"),r.length>t.minimumCompressionElements&&u())}function u(){var n=jQuery(r[r.length-1]);jQuery(n).width()>t.maxFinalElementLength&&(t.beginingElementsToLeaveOpen>0&&t.beginingElementsToLeaveOpen--,t.endElementsToLeaveOpen>0&&t.endElementsToLeaveOpen--),jQuery(n).width()<t.maxFinalElementLength&&jQuery(n).width()>t.minFinalElementLength&&t.beginingElementsToLeaveOpen>0&&t.beginingElementsToLeaveOpen--;var i=r.length-1-t.endElementsToLeaveOpen;jQuery(r[r.length-1]).css({background:"none"}),e(r).each(function(e,n){if(e>t.beginingElementsToLeaveOpen&&e<i){jQuery(n).find("a").wrap("<span></span>").width(jQuery(n).find("a").width()+5),jQuery(n).append(jQuery('<div class="'+t.overlayClass+'"></div>').css({display:"block"})).css({background:"none"}),l()&&c(jQuery(n).find("."+t.overlayClass).css({width:"20px",right:"-1px"}));var r={id:e,width:jQuery(n).width(),listElement:jQuery(n).find("span"),isAnimating:!1,element:jQuery(n).find("span")};jQuery(n).bind("mouseover",r,a).bind("mouseout",r,f),jQuery(n).find("a").unbind("mouseover",a).unbind("mouseout",f),n.autoInterval=setInterval(function(){clearInterval(n.autoInterval),jQuery(n).find("span").animate({width:t.previewWidth},t.timeInitialCollapse,t.easing)},150*(e-2))}})}function a(e){var n=e.data.id,r=e.data.width;return jQuery(e.data.element).stop(),jQuery(e.data.element).animate({width:r},{duration:t.timeExpansionAnimation,easing:t.easing,queue:!1}),!1}function f(e){var n=e.data.id;return jQuery(e.data.element).stop(),jQuery(e.data.element).animate({width:t.previewWidth},{duration:t.timeCompressionAnimation,easing:t.easing,queue:!1}),!1}function l(){var t=e.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent);return t}function c(t){var n;jQuery(t).is("img")?n=jQuery(t).attr("src"):(n=e(t).css("backgroundImage"),n.match(/^url\(["']?(.*\.png)["']?\)$/i),n=RegExp.$1),e(t).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=scale, src='"+n+"')"})}var t={},n={},r={},i=[],s;jQuery.fn.jBreadCrumb=function(r){return t=e.extend({},e.fn.jBreadCrumb.defaults,r),this.each(function(){n=e(this),o()})},jQuery.fn.jBreadCrumb.defaults={maxFinalElementLength:400,minFinalElementLength:200,minimumCompressionElements:4,endElementsToLeaveOpen:1,beginingElementsToLeaveOpen:1,timeExpansionAnimation:100,timeCompressionAnimation:100,timeInitialCollapse:200,easing:s,overlayClass:"chevronOverlay",previewWidth:10}}(jQuery),function(e){e.fn.UItoTop=function(t){var n={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1e3,easingType:"linear"},r=e.extend(n,t),i="#"+r.containerID,s="#"+r.containerHoverID;e("body").append('<a href="#" id="'+r.containerID+'">'+r.text+"</a>"),e(i).hide().click(function(){return e("html, body").animate({scrollTop:0},r.scrollSpeed,r.easingType),e("#"+r.containerHoverID,this).stop().animate({opacity:0},r.inDelay,r.easingType),!1}).prepend('<span id="'+r.containerHoverID+'"></span>').hover(function(){e(s,this).stop().animate({opacity:1},300,"linear")},function(){e(s,this).stop().animate({opacity:0},300,"linear")}),e(window).scroll(function(){var t=e(window).scrollTop();typeof document.body.style.maxHeight=="undefined"&&e(i).css({position:"absolute",top:e(window).scrollTop()+e(window).height()-50}),t>r.min?e(i).fadeIn(r.inDelay):e(i).fadeOut(r.Outdelay)})}}(jQuery);var strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY",oMultiDiff={19969:"DZ",19975:"WM",19988:"QJ",20048:"YL",20056:"SC",20060:"NM",20094:"QG",20127:"QJ",20167:"QC",20193:"YG",20250:"KH",20256:"ZC",20282:"SC",20285:"QJG",20291:"TD",20314:"YD",20340:"NE",20375:"TD",20389:"YJ",20391:"CZ",20415:"PB",20446:"YS",20447:"SQ",20504:"TC",20608:"KG",20854:"QJ",20857:"ZC",20911:"PF",20504:"TC",20608:"KG",20854:"QJ",20857:"ZC",20911:"PF",20985:"AW",21032:"PB",21048:"XQ",21049:"SC",21089:"YS",21119:"JC",21242:"SB",21273:"SC",21305:"YP",21306:"QO",21330:"ZC",21333:"SDC",21345:"QK",21378:"CA",21397:"SC",21414:"XS",21442:"SC",21477:"JG",21480:"TD",21484:"ZS",21494:"YX",21505:"YX",21512:"HG",21523:"XH",21537:"PB",21542:"PF",21549:"KH",21571:"E",21574:"DA",21588:"TD",21589:"O",21618:"ZC",21621:"KHA",21632:"ZJ",21654:"KG",21679:"LKG",21683:"KH",21710:"A",21719:"YH",21734:"WOE",21769:"A",21780:"WN",21804:"XH",21834:"A",21899:"ZD",21903:"RN",21908:"WO",21939:"ZC",21956:"SA",21964:"YA",21970:"TD",22003:"A",22031:"JG",22040:"XS",22060:"ZC",22066:"ZC",22079:"MH",22129:"XJ",22179:"XA",22237:"NJ",22244:"TD",22280:"JQ",22300:"YH",22313:"XW",22331:"YQ",22343:"YJ",22351:"PH",22395:"DC",22412:"TD",22484:"PB",22500:"PB",22534:"ZD",22549:"DH",22561:"PB",22612:"TD",22771:"KQ",22831:"HB",22841:"JG",22855:"QJ",22865:"XQ",23013:"ML",23081:"WM",23487:"SX",23558:"QJ",23561:"YW",23586:"YW",23614:"YW",23615:"SN",23631:"PB",23646:"ZS",23663:"ZT",23673:"YG",23762:"TD",23769:"ZS",23780:"QJ",23884:"QK",24055:"XH",24113:"DC",24162:"ZC",24191:"GA",24273:"QJ",24324:"NL",24377:"TD",24378:"QJ",24439:"PF",24554:"ZS",24683:"TD",24694:"WE",24733:"LK",24925:"TN",25094:"ZG",25100:"XQ",25103:"XH",25153:"PB",25170:"PB",25179:"KG",25203:"PB",25240:"ZS",25282:"FB",25303:"NA",25324:"KG",25341:"ZY",25373:"WZ",25375:"XJ",25384:"A",25457:"A",25528:"SD",25530:"SC",25552:"TD",25774:"ZC",25874:"ZC",26044:"YW",26080:"WM",26292:"PB",26333:"PB",26355:"ZY",26366:"CZ",26397:"ZC",26399:"QJ",26415:"ZS",26451:"SB",26526:"ZC",26552:"JG",26561:"TD",26588:"JG",26597:"CZ",26629:"ZS",26638:"YL",26646:"XQ",26653:"KG",26657:"XJ",26727:"HG",26894:"ZC",26937:"ZS",26946:"ZC",26999:"KJ",27099:"KJ",27449:"YQ",27481:"XS",27542:"ZS",27663:"ZS",27748:"TS",27784:"SC",27788:"ZD",27795:"TD",27812:"O",27850:"PB",27852:"MB",27895:"SL",27898:"PL",27973:"QJ",27981:"KH",27986:"HX",27994:"XJ",28044:"YC",28065:"WG",28177:"SM",28267:"QJ",28291:"KH",28337:"ZQ",28463:"TL",28548:"DC",28601:"TD",28689:"PB",28805:"JG",28820:"QG",28846:"PB",28952:"TD",28975:"ZC",29100:"A",29325:"QJ",29575:"SL",29602:"FB",30010:"TD",30044:"CX",30058:"PF",30091:"YSP",30111:"YN",30229:"XJ",30427:"SC",30465:"SX",30631:"YQ",30655:"QJ",30684:"QJG",30707:"SD",30729:"XH",30796:"LG",30917:"PB",31074:"NM",31085:"JZ",31109:"SC",31181:"ZC",31192:"MLB",31293:"JQ",31400:"YX",31584:"YJ",31896:"ZN",31909:"ZY",31995:"XJ",32321:"PF",32327:"ZY",32418:"HG",32420:"XQ",32421:"HG",32438:"LG",32473:"GJ",32488:"TD",32521:"QJ",32527:"PB",32562:"ZSQ",32564:"JZ",32735:"ZD",32793:"PB",33071:"PF",33098:"XL",33100:"YA",33152:"PB",33261:"CX",33324:"BP",33333:"TD",33406:"YA",33426:"WM",33432:"PB",33445:"JG",33486:"ZN",33493:"TS",33507:"QJ",33540:"QJ",33544:"ZC",33564:"XQ",33617:"YT",33632:"QJ",33636:"XH",33637:"YX",33694:"WG",33705:"PF",33728:"YW",33882:"SR",34067:"WM",34074:"YW",34121:"QJ",34255:"ZC",34259:"XL",34425:"JH",34430:"XH",34485:"KH",34503:"YS",34532:"HG",34552:"XS",34558:"YE",34593:"ZL",34660:"YQ",34892:"XH",34928:"SC",34999:"QJ",35048:"PB",35059:"SC",35098:"ZC",35203:"TQ",35265:"JX",35299:"JX",35782:"SZ",35828:"YS",35830:"E",35843:"TD"
,35895:"YG",35977:"MH",36158:"JG",36228:"QJ",36426:"XQ",36466:"DC",36710:"JC",36711:"ZYG",36767:"PB",36866:"SK",36951:"YW",37034:"YX",37063:"XH",37218:"ZC",37325:"ZC",38063:"PB",38079:"TD",38085:"QY",38107:"DC",38116:"TD",38123:"YD",38224:"HG",38241:"XTC",38271:"ZC",38415:"YE",38426:"KH",38461:"YD",38463:"AE",38466:"PB",38477:"XJ",38518:"YT",38551:"WK",38585:"ZC",38704:"XS",38739:"LJ",38761:"GJ",38808:"SQ",39048:"JG",39049:"XJ",39052:"HG",39076:"CZ",39271:"XT",39534:"TD",39552:"TD",39584:"PB",39647:"SB",39730:"LG",39748:"TPB",40109:"ZQ",40479:"ND",40516:"HG",40536:"HG",40583:"QJ",40765:"YQ",40784:"QJ",40840:"YK",40863:"QJG"};(function(e){function t(t,n){var i=e.extend({},e.fn.collapsible.defaults,n),s=new Array;return t.each(function(){var t=e(this);r(t,i),i.bind=="mouseenter"&&t.bind("mouseenter",function(e){e.preventDefault(),u(t,i)}),i.bind=="mouseover"&&t.bind("mouseover",function(e){e.preventDefault(),u(t,i)}),i.bind=="click"&&t.bind("click",function(e){e.preventDefault(),u(t,i)}),i.bind=="dblclick"&&t.bind("dblclick",function(e){e.preventDefault(),u(t,i)}),id=t.attr("id"),a(i)?p(i)?(cookieIndex=h(id,i),cookieIndex===!1?(t.addClass(i.cssClose),t.next().hide()):(t.addClass(i.cssOpen),t.next().show(),s.push(id))):(dOpenIndex=d(id,i),dOpenIndex===!1?(t.addClass(i.cssClose),t.next().hide()):(t.addClass(i.cssOpen),t.next().show(),s.push(id))):(dOpenIndex=d(id,i),dOpenIndex===!1?(t.addClass(i.cssClose),t.next().hide()):(t.addClass(i.cssOpen),t.next().show(),s.push(id)))}),s.length>0&&a(i)?c(s.toString(),i):c("",i),t}function n(e){return e.data("collapsible-opts")}function r(e,t){return e.data("collapsible-opts",t)}function i(e,t){return e.hasClass(t.cssClose)}function s(e,t){e.addClass(t.cssClose).removeClass(t.cssOpen),t.animateOpen(e,t),a(t)&&(id=e.attr("id"),l(id,t))}function o(e,t){e.removeClass(t.cssClose).addClass(t.cssOpen),t.animateClose(e,t),a(t)&&(id=e.attr("id"),f(id,t))}function u(e,t){return i(e,t)?o(e,t):s(e,t),!1}function a(t){return!e.cookie||t.cookieName==""?!1:!0}function f(t,n){return a(n)?p(n)?h(t,n)?!0:(cookie=e.cookie(n.cookieName),cookie=unescape(cookie),cookieArray=cookie.split(","),cookieArray.push(t),c(cookieArray.toString(),n),!0):(c(t,n),!0):!1}function l(t,n){if(!a(n))return!1;if(!p(n))return!0;cookieIndex=h(t,n);if(cookieIndex===!1)return!0;cookie=e.cookie(n.cookieName),cookie=unescape(cookie),cookieArray=cookie.split(","),cookieArray.splice(cookieIndex,1),c(cookieArray.toString(),n)}function c(t,n){if(!a(n))return!1;e.cookie(n.cookieName,t,n.cookieOptions)}function h(t,n){return a(n)?p(n)?(cookie=unescape(e.cookie(n.cookieName)),cookieArray=cookie.split(","),cookieIndex=e.inArray(t,cookieArray),cookieIndex==-1?!1:cookieIndex):!1:!1}function p(t){return a(t)?e.cookie(t.cookieName)==null?!1:!0:!1}function d(t,n){return defaultOpen=v(n),index=e.inArray(t,defaultOpen),index==-1?!1:index}function v(e){return defaultOpen=new Array,e.defaultOpen!=""&&(defaultOpen=e.defaultOpen.split(",")),defaultOpen}e.fn.collapsible=function(t,n){return typeof t=="string"?e.fn.collapsible.dispatcher[t](this,n):e.fn.collapsible.dispatcher._create(this,t)},e.fn.collapsible.dispatcher={_create:function(e,n){t(e,n)},toggle:function(e){return u(e,n(e)),e},open:function(e){return o(e,n(e)),e},close:function(e){return s(e,n(e)),e},collapsed:function(e){return i(e,n(e))}},e.fn.collapsible.defaults={cssClose:"collapse-close",cssOpen:"collapse-open",cookieName:"collapsible",cookieOptions:{path:"/",expires:7,domain:"",secure:""},defaultOpen:"",speed:"slow",bind:"click",animateOpen:function(e,t){e.next().slideUp(t.speed)},animateClose:function(e,t){e.next().slideDown(t.speed)}}})(jQuery),function(e){e.fn.listnav=function(t){var n=e.extend({},e.fn.listnav.defaults,t),r=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],i=!1;return n.prefixes=e.map(n.prefixes,function(e){return e.toLowerCase()}),this.each(function(){function y(){t.append(C()),u=e(".ln-letters",t).slice(0,1),n.showCounts&&(f=e(".ln-letter-count",t).slice(0,1)),w(),x(),n.flagDisabled&&S(),N(),n.includeAll||o.show(),n.includeAll||e(".all",u).remove(),n.includeNums||e("._",u).remove(),n.includeOther||e(".-",u).remove(),e(":last",u).addClass("ln-last");if(e.cookie&&n.cookieName!=null){var s=e.cookie(n.cookieName);s!=null&&(n.initLetter=s)}if(n.initLetter!="")i=!0,e("."+n.initLetter.toLowerCase(),u).slice(0,1).click();else if(n.includeAll)e(".all",u).addClass("ln-selected");else for(var l=n.includeNums?0:1;l<r.length;l++)if(h[r[l]]>0){i=!0,e("."+r[l],u).slice(0,1).click();break}}function b(){f.css({top:e(".a",u).slice(0,1).offset({margin:!1,border:!0}).top-f.outerHeight({margin:!0})})}function w(){var t,r,i,s,u,f=n.prefixes.length>0;e(o).children().each(function(){u=e(this),r="",t=e.trim(u.text()).toLowerCase(),t!=""&&(f&&(s=t.split(" "),s.length>1&&e.inArray(s[0],n.prefixes)>-1&&(r=s[1].charAt(0),E(r,u,!0))),r=t.charAt(0),E(r,u))})}function E(e,t,n){/\W/.test(e)&&(e="-"),isNaN(e)||(e="_"),t.addClass("ln-"+e),h[e]==undefined&&(h[e]=0),h[e]++,n||p++}function S(){for(var t=0;t<r.length;t++)h[r[t]]==undefined&&e("."+r[t],u).addClass("ln-disabled")}function x(){o.append('<li class="ln-no-match" style="display:none">'+n.noMatchText+"</li>")}function T(t){if(e(t).hasClass("all"))return p;var n=h[e(t).attr("class").split(" ")[0]];return n!=undefined?n:0}function N(){n.showCounts&&t.mouseover(function(){b()}),n.showCounts&&(e("a",u).mouseover(function(){var t=e(this).position().left,n=e(this).outerWidth({margin:!0})-1+"px",r=T(this);f.css({left:t,width:n}).text(r).show()}),e("a",u).mouseout(function(){f.hide()})),e("a",u).click(function(){e("a.ln-selected",u).removeClass("ln-selected");var t=e(this).attr("class").split(" ")[0];if(t=="all")o.children().show(),o.children(".ln-no-match").hide(),v=!0;else{v?(o.children().hide(),v=!1):g!=""&&o.children(".ln-"+g).hide();var r=T(this);r>0?(o.children(".ln-no-match").hide(),o.children(".ln-"+t).show()):o.children(".ln-no-match").show(),g=t}return e.cookie&&n.cookieName!=null&&e.cookie(n.cookieName,t),e(this).addClass("ln-selected"),e(this).blur(),!i&&n.onClick!=null?n.onClick(t):i=!1,!1})}function C(){var e=[];for(var t=1;t<r.length;t++)e.length==0&&e.push('<a class="all" href="#">ALL</a><a class="_" href="#">0-9</a>'),e.push('<a class="'+r[t]+'" href="#">'+(r[t]=="-"?"...":r[t].toUpperCase())+"</a>");return'<div class="ln-letters">'+e.join("")+"</div>"+(n.showCounts?'<div class="ln-letter-count" style="display:none; position:absolute; top:0; left:0; width:20px;">0</div>':"")}var t,s,o,u,f,l;l=this.id,t=e("#"+l+"-nav"),o=e(this);var h={},p=0,v=!0,m=0,g="";y()})},e.fn.listnav.defaults={initLetter:"",includeAll:!0,incudeOther:!1,includeNums:!0,flagDisabled:!0,noMatchText:"No matching entries",showCounts:!0,cookieName:null,onClick:null,prefixes:[]}}(jQuery),function(e){e.fn.smartWizard=function(t){var n=e.extend({},e.fn.smartWizard.defaults,t),r=arguments;return this.each(function(){function i(){var t=v.children("div");v.children("ul").addClass("anchor"),t.addClass("wContent"),w=e("<div>Loading</div>").addClass("loader"),S=e("<div></div>").addClass("actionBar"),x=e("<div></div>").addClass("stepContainer"),T=e("<a>"+n.labelNext+"</a>").attr("href","#").addClass("buttonNext blueBtn button"),N=e("<a>"+n.labelPrevious+"</a>").attr("href","#").addClass("buttonPrevious"),C=e("<a>"+n.labelFinish+"</a>").attr("href","#").addClass("buttonFinish"),n.errorSteps&&n.errorSteps.length>0&&e.each(n.errorSteps,function(e,t){p(t,!0)}),x.append(t),S.append(w),v.append(x),v.append(S),S.append(C).append(T).append(N),y=x.width(),e(T).click(function(){return l(),!1}),e(N).click(function(){return c(),!1}),e(C).click(function(){if(!e(this).hasClass("buttonDisabled"))if(e.isFunction(n.onFinish))n.onFinish.call(this,e(g));else{var t=v.parents("form");t&&t.length&&t.submit()}return!1}),e(g).bind("click",function(){if(g.index(this)==m)return!1;var e=g.index(this);return g.eq(e).attr("isDone")-0==1&&o(e),!1}),n.keyNavigation&&e(document).keyup(function(e){e.which==39?l():e.which==37&&c()}),s(),o(m)}function s(){n.enableAllSteps?(e(g,v).removeClass("selected").removeClass("disabled").addClass("done"),e(g,v).attr("isDone",1)):(e(g,v).removeClass("selected").removeClass("done").addClass("disabled"),e(g,v).attr("isDone",0)),e(g,v).each(function(t){e(e(this).attr("href"),v).hide(),e(this).attr("rel",t+1)})}function o(t){var r=g.eq(t),i=n.contentURL,s=r.data("hasContent");stepNum=t+1,i&&i.length>0?n.contentCache&&s?u(t):e.ajax({url:i,type:"POST",data:{step_number:stepNum},dataType:"text",beforeSend:function(){w.show()},error:function(){w.hide()},success:function(n){w.hide(),n&&n.length>0&&(r.data("hasContent",!0),e(e(r,v).attr("href"),v).html(n),u(t))}}):u(t)}function u(t){var r=g.eq(t),i=g.eq(m);if(t!=m&&e.isFunction(n.onLeaveStep)&&!n.onLeaveStep.call(this,e(i)))return!1;x.height(e(e(r,v).attr("href"),v).outerHeight());if(n.transitionEffect=="slide")e(e(i,v).attr("href"),v).slideUp("fast",function(){e(e(r,v).attr("href"),v).slideDown("fast"),m=t,f(i,r)});else if(n.transitionEffect=="fade")e(e(i,v).attr("href"),v).fadeOut("fast",function(){e(e(r,v).attr("href"),v).fadeIn("fast"),m=t,f(i,r)});else if(n.transitionEffect=="slideleft"){var s=0;t>m?(nextElmLeft1=y+10,nextElmLeft2=0,s=0-e(e(i,v).attr("href"),v).outerWidth()):(nextElmLeft1=0-e(e(r,v).attr("href"),v).outerWidth()+20,nextElmLeft2=0,s=10+e(e(i,v).attr("href"),v).outerWidth()),t==m?(nextElmLeft1=e(e(r,v).attr("href"),v).outerWidth()+20,nextElmLeft2=0,s=0-e(e(i,v).attr("href"),v).outerWidth()):e(e(i,v).attr("href"),v).animate({left:s},"fast",function(){e(e(i,v).attr("href"),v).hide()}),e(e(r,v).attr("href"),v).css("left",nextElmLeft1),e(e(r,v).attr("href"),v).show(),e(e(r,v).attr("href"),v).animate({left:nextElmLeft2},"fast",function(){m=t,f(i,r)})}else e(e(i,v).attr("href"),v).hide(),e(e(r,v).attr("href"),v).show(),m=t,f(i,r);return!0}function f(t,r){e(t,v).removeClass("selected"),e(t,v).addClass("done"),e(r,v).removeClass("disabled"),e(r,v).removeClass("done"),e(r,v).addClass("selected"),e(r,v).attr("isDone",1),n.cycleSteps||(0>=m?e(N).addClass("buttonDisabled button blueBtn"):e(N).removeClass("buttonDisabled"),g.length-1<=m?e(T).addClass("buttonDisabled button blueBtn"):e(T).removeClass("buttonDisabled")),!g.hasClass("disabled")||n.enableFinishButton?e(C).removeClass("buttonDisabled"):e(C).addClass("buttonDisabled button redBtn");if(e.isFunction(n.onShowStep)&&!n.onShowStep.call(this,e(r)))return!1}function l(){var e=m+1;if(g.length<=e){if(!n.cycleSteps)return!1;e=0}o(e)}function c(){var e=m-1;if(0>e){if(!n.cycleSteps)return!1;e=g.length-1}o(e)}function h(t){e(".wContent",E).html(t),E.show()}function p(t,n){n?e(g.eq(t-1),v).addClass("error"):e(g.eq(t-1),v).removeClass("error")}var v=e(this),m=n.selected,g=e("ul > li > a",v),y=0,w,E,S,x,T,N,C;S=e(".actionBar",v),S.length==0&&(S=e("s<div></div>").addClass("actionBar")),E=e(".msgBox",v),E.length==0&&(E=e('<div class="msgBox"><div class="wContent"></div><a href="#" class="close">X</a></div>'),S.append(E)),e(".close",E).click(function(){return E.fadeOut("normal"),!1});if(!t||t==="init"||typeof t=="object")i();else{if(t==="showMessage"){var k=Array.prototype.slice.call(r,1);return h(k[0]),!0}if(t==="setError")return k=Array.prototype.slice.call(r,1),p(k[0].stepnum,k[0].iserror),!0;e.error("Method "+t+" does not exist")}})},e.fn.smartWizard.defaults={selected:0,keyNavigation:!0,enableAllSteps:!1,transitionEffect:"fade",contentURL:null,contentCache:!0,cycleSteps:!1,enableFinishButton:!1,errorSteps:[],labelNext:"Next",labelPrevious:"Previous",labelFinish:"Finish",onLeaveStep:null,onShowStep:null,onFinish:null}}(jQuery),function(e){function t(e){var t=[];return e.indexOf("html")!==-1&&t.push(n),e.indexOf("js")!==-1&&t.push(i),e.indexOf("css")!==-1&&t.push(r),e.indexOf("php")!==-1&&t.push(s),t.length?t:!1}String.prototype.highlight=function(e){var t=this;if(this.length)for(var n=0;n<e.length;n++)for(var r in e[n]){var i=new RegExp(r,"gi"),s=t.search(i),o=t.indexOf("//");if(s<=o||o===-1||o===0)t=t.replace(i,"<span class='"+e[n][r]+"'>$&</span>")}else t="&nbsp;";return t},String.prototype.escapeHTML=function(){return this.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/&lt;!--\?php/g,"&lt;?php").replace(/\?--&gt;/g,"?&gt;")};var n={"&lt;!--.*--&gt;":"SC_grey","&lt;\\/*(div|p|br|hr|link|em|meta|html|h2|h1|h3|ul|!DOCTYPE html|li|ol|body|select|span|head|title|canvas|video|audio|source|pre)\\s*(([A-Za-z]+)=(\"|')[a-zA-Z0-9\\.\\/\\(\\)\\?,&'_#\\s;:%=\\-~]*(\"|')\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_blue",'&lt;\\/*script\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_red",'&lt;\\/*a\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\)\\[\\]\\?\\s\\$=,\'_#;:&~(&lt;)(&gt;)-]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_green",'&lt;img\\s+(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\),\\s\'_#;:]+"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_red",'&lt;\\/*(form|input|textarea|button|option|select)\\s*(([A-Za-z]+)="[a-zA-Z0-9\\(\\);,\':\\s\\.]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_gold",'&lt;\\/*(td|tr|table|tbody)\\s*(([A-Za-z]+)="[a-zA-Z0-9\\.\\/\\(\\)\\s,\'_%#;:~-]*"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)':"SC_teal",'"[a-zA-Z0-9\\s\\/\\.\\?\\[\\]\\$#;:_\',&=%\\)\\(~-]*"(?!(.*--&gt;)|(s*[A-Za-z]))':"SC_navy"},r={"((#|\\.)*[a-zA-Z0-9_:,\\s\\.\\*#]+\\s*\\{)|(\\})":"SC_pink","\\/\\*.*\\*\\/":"SC_grey","[a-zA-Z0-9-]+:(?![a-zA-Z0-9_:\\s\\.]+\\{)":"SC_blue","[a-zA-Z0-9,'_#\\(\\)\\/%@\\s\\.\"-]+;":"SC_green"},i={"\\/\\/.*":"SC_grey","((function|var|this|for|if|else|switch|while|try|catch)\\s*(\\{|\\())":"SC_blue","(\\.[a-zA-Z]+(?=\\())|(alert\\()|((String|Date|Array|Number)\\.)":"SC_teal","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?#!;:_',&=%\\)\\(~]*(\"|'))(?!(\\>)|(.*--&gt;)|(s*[A-Za-z])))|(this\\.)|(var\\s)|(return\\s)|(true;)|(false;)|(return;)":"SC_navy","([\\(\\)\\{\\}\\*\\[\\]\\+-]{1})":"SC_blue","[0-9]+(?![A-Za-z]+)":"SC_red","(function|var|this|false|true|return|for|if|else|switch|while|try|catch|do|in)(\\s*[A-Za-z]*\\s*(\\(|\\{))*":"SC_bold"},s={"(\\/\\/.*)|(\\/\\*.*\\*\\/)":"SC_grey","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?\\*#;:_',&=%\\)\\(~]*(\"|'))(?!\\>))":"SC_navy","(((&lt;\\?php)|(\\?&gt;))(?!.*\\*\\/))|([0-9](?![A_Za-z]*\"|'))":"SC_red","(([a-zA-Z0-9_]+\\()|(echo)|(\\$_[a-zA-Z0-9]+))(?!.*\\*\\/)":"SC_green","[\\(\\)\\{\\}(\\*\\+]{1}(?!.*\\*\\/)":"SC_blue","\\$[A-Za-z0-9]+":"SC_teal"};e.fn.extend({sourcerer:function(n){var r=this.selector,i={lang:!1,numbers:!0,title:!1},s={};return this.each(function(){if(!e(this).children(".SRC_Wrap").length){n=typeof n=="string"?{lang:n}:n,e.extend(s,i,n);var o=[];if(!s.lang)throw"::No language given or language was invalid for sourcerer call with selector '"+r+"'";var u=e(this).html().escapeHTML().split("\n");o.push("<div class='SRC_Wrap'>"),s.title&&o.push("<div class='SRC_Title'>"+s.title+"</div>"),o.push("<div class='SRC_NumBox'></div><div class='SRC_CodeBox'>");for(var a=0;a<u.length;a++)o.push("<div class='SRC_Line'><pre class='SRC_CodeContent'>"+u[a].highlight(t(s.lang))+"</pre></div>");o.push("</div><div style='clear:both;'></div></div>"),e(this).html(o.join(""));if(s.numbers){var f=e(this).find(".SRC_NumBox");o=[];for(var a=0;a<u.length;a++){var c=e(e(".SRC_Line")[a]).height();o.push("<div class='SRC_Line' style='height:"+c+"px'><div class='SRC_NumContent'>"+(a+1)+"</div></div>")}f.html(o.join(""))}else e(this).find(".SRC_CodeBox").width("100%"),e(this).find(".SRC_CodeContent").css("border-left",0)}})}})}(jQuery),function(e){function t(){this._disabledInputs=[],this.regional=[],this.regional[""]={show24Hours:!1,separator:":",ampmPrefix:"",ampmNames:["AM","PM"],spinnerTexts:["Now","Previous field","Next field","Increment","Decrement"]},this._defaults={appendText:"",showSeconds:!1,timeSteps:[1,1,1],initialField:0,useMouseWheel:!0,defaultTime:null,minTime:null,maxTime:null,spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:!1,spinnerRepeat:[500,250],beforeShow:null,beforeSetTime:null},e.extend(this._defaults,this.regional[""])}function r(t,n){e.extend(t,n);for(var r in n)n[r]==null&&(t[r]=null);return t}var n="timeEntry";e.extend(t.prototype,{markerClassName:"hasTimeEntry",setDefaults:function(e){return r(this._defaults,e||{}),this},_connectTimeEntry:function(t,r){var i=e(t);if(i.hasClass(this.markerClassName))return;var s={};s.options=e.extend({},r),s._selectedHour=0,s._selectedMinute=0,s._selectedSecond=0,s._field=0,s.input=e(t),e.data(t,n,s);var o=this._get(s,"spinnerImage"),u=this._get(s,"spinnerText"),f=this._get(s,"spinnerSize"),l=this._get(s,"appendText"),c=o?e('<span class="timeEntry_control" style="display: inline-block; background: url(\''+o+"') 0 0 no-repeat; width: "+f[0]+"px; height: "+f[1]+"px;"+(e.browser.mozilla&&e.browser.version<"1.9"?" padding-left: "+f[0]+"px; padding-bottom: "+(f[1]-18)+"px;":"")+'"></span>'):null;i.wrap('<span class="timeEntry_wrap"></span>').after(l?'<span class="timeEntry_append">'+l+"</span>":"").after(c||""),i.addClass(this.markerClassName).bind("focus.timeEntry",this._doFocus).bind("blur.timeEntry",this._doBlur).bind("click.timeEntry",this._doClick).bind("keydown.timeEntry",this._doKeyDown).bind("keypress.timeEntry",this._doKeyPress),e.browser.mozilla&&i.bind("input.timeEntry",function(t){e.timeEntry._parseTime(s)}),e.browser.msie&&i.bind("paste.timeEntry",function(t){setTimeout(function(){e.timeEntry._parseTime(s)},1)}),this._get(s,"useMouseWheel")&&e.fn.mousewheel&&i.mousewheel(this._doMouseWheel),c&&c.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)},_enableTimeEntry:function(e){this._enableDisable(e,!1)},_disableTimeEntry:function(e){this._enableDisable(e,!0)},_enableDisable:function(t,r){var i=e.data(t,n);if(!i)return;t.disabled=r,t.nextSibling&&t.nextSibling.nodeName.toLowerCase()=="span"&&e.timeEntry._changeSpinner(i,t.nextSibling,r?5:-1),e.timeEntry._disabledInputs=e.map(e.timeEntry._disabledInputs,function(e){return e==t?null:e}),r&&e.timeEntry._disabledInputs.push(t)},_isDisabledTimeEntry:function(t){return e.inArray(t,this._disabledInputs)>-1},_changeTimeEntry:function(t,i,s){var o=e.data(t,n);if(o){if(typeof i=="string"){var u=i;i={},i[u]=s}var f=this._extractTime(o);r(o.options,i||{}),f&&this._setTime(o,new Date(0,0,0,f[0],f[1],f[2]))}e.data(t,n,o)},_destroyTimeEntry:function(t){$input=e(t);if(!$input.hasClass(this.markerClassName))return;$input.removeClass(this.markerClassName).unbind(".timeEntry"),e.fn.mousewheel&&$input.unmousewheel(),this._disabledInputs=e.map(this._disabledInputs,function(e){return e==t?null:e}),$input.parent().replaceWith($input),e.removeData(t,n)},_setTimeTimeEntry:function(t,r){var i=e.data(t,n);i&&(r===null||r===""?i.input.val(""):this._setTime(i,r?typeof r=="object"?new Date(r.getTime()):r:null))},_getTimeTimeEntry:function(t){var r=e.data(t,n),i=r?this._extractTime(r):null;return i?new Date(0,0,0,i[0],i[1],i[2]):null},_getOffsetTimeEntry:function(t){var r=e.data(t,n),i=r?this._extractTime(r):null;return i?(i[0]*3600+i[1]*60+i[2])*1e3:0},_doFocus:function(t){var i=t.nodeName&&t.nodeName.toLowerCase()=="input"?t:this;if(e.timeEntry._lastInput==i||e.timeEntry._isDisabledTimeEntry(i)){e.timeEntry._focussed=!1;return}var s=e.data(i,n);e.timeEntry._focussed=!0,e.timeEntry._lastInput=i,e.timeEntry._blurredInput=null;var o=e.timeEntry._get(s,"beforeShow");r(s.options,o?o.apply(i,[i]):{}),e.data(i,n,s),e.timeEntry._parseTime(s),setTimeout(function(){e.timeEntry._showField(s)},10)},_doBlur:function(t){e.timeEntry._blurredInput=e.timeEntry._lastInput,e.timeEntry._lastInput=null},_doClick:function(t){var r=t.target,i=e.data(r,n);if(!e.timeEntry._focussed){var s=e.timeEntry._get(i,"separator").length+2;i._field=0;if(r.selectionStart!=null)for(var o=0;o<=Math.max(1,i._secondField,i._ampmField);o++){var u=o!=i._ampmField?o*s+2:i._ampmField*s+e.timeEntry._get(i,"ampmPrefix").length+e.timeEntry._get(i,"ampmNames")[0].length;i._field=o;if(r.selectionStart<u)break}else if(r.createTextRange){var f=e(t.srcElement),l=r.createTextRange(),c=function(e){return{thin:2,medium:4,thick:6}[e]||e},h=t.clientX+document.documentElement.scrollLeft-(f.offset().left+parseInt(c(f.css("border-left-width")),10))-l.offsetLeft;for(var o=0;o<=Math.max(1,i._secondField,i._ampmField);o++){var u=o!=i._ampmField?o*s+2:i._ampmField*s+e.timeEntry._get(i,"ampmPrefix").length+e.timeEntry._get(i,"ampmNames")[0].length;l.collapse(),l.moveEnd("character",u),i._field=o;if(h<l.boundingWidth)break}}}e.data(r,n,i),e.timeEntry._showField(i),e.timeEntry._focussed=!1},_doKeyDown:function(t){if(t.keyCode>=48)return!0;var r=e.data(t.target,n);switch(t.keyCode){case 9:return t.shiftKey?e.timeEntry._changeField(r,-1,!0):e.timeEntry._changeField(r,1,!0);case 35:t.ctrlKey?e.timeEntry._setValue(r,""):(r._field=Math.max(1,r._secondField,r._ampmField),e.timeEntry._adjustField(r,0));break;case 36:t.ctrlKey?e.timeEntry._setTime(r):(r._field=0,e.timeEntry._adjustField(r,0));break;case 37:e.timeEntry._changeField(r,-1,!1);break;case 38:e.timeEntry._adjustField(r,1);break;case 39:e.timeEntry._changeField(r,1,!1);break;case 40:e.timeEntry._adjustField(r,-1);break;case 46:e.timeEntry._setValue(r,"")}return!1},_doKeyPress:function(t){var r=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);if(r<" ")return!0;var i=e.data(t.target,n);return e.timeEntry._handleKeyPress(i,r),!1},_doMouseWheel:function(t,r){if(e.timeEntry._isDisabledTimeEntry(t.target))return;r=e.browser.opera?-r/Math.abs(r):e.browser.safari?r/Math.abs(r):r;var i=e.data(t.target,n);i.input.focus(),i.input.val()||e.timeEntry._parseTime(i),e.timeEntry._adjustField(i,r),t.preventDefault()},_expandSpinner:function(t){var r=e.timeEntry._getSpinnerTarget(t),i=e.data(e.timeEntry._getInput(r),n);if(e.timeEntry._isDisabledTimeEntry(i.input[0]))return;var s=e.timeEntry._get(i,"spinnerBigImage");if(s){i._expanded=!0;var o=e(r).offset(),u=null;e(r).parents().each(function(){var t=e(this);if(t.css("position")=="relative"||t.css("position")=="absolute")u=t.offset();return!u});var f=e.timeEntry._get(i,"spinnerSize"),l=e.timeEntry._get(i,"spinnerBigSize");e('<div class="timeEntry_expand" style="position: absolute; left: '+(o.left-(l[0]-f[0])/2-(u?u.left:0))+"px; top: "+(o.top-(l[1]-f[1])/2-(u?u.top:0))+"px; width: "+l[0]+"px; height: "+l[1]+"px; background: transparent url("+s+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(e.timeEntry._handleSpinner).mouseup(e.timeEntry._endSpinner).mouseout(e.timeEntry._endExpand).mousemove(e.timeEntry._describeSpinner).insertAfter(r)}},_getInput:function(t){return e(t).siblings("."+e.timeEntry.markerClassName)[0]},_describeSpinner:function(t){var r=e.timeEntry._getSpinnerTarget(t),i=e.data(e.timeEntry._getInput(r),n);r.title=e.timeEntry._get(i,"spinnerTexts")[e.timeEntry._getSpinnerRegion(i,t)]},_handleSpinner:function(t){var r=e.timeEntry._getSpinnerTarget(t),i=e.timeEntry._getInput(r);if(e.timeEntry._isDisabledTimeEntry(i))return;i==e.timeEntry._blurredInput&&(e.timeEntry._lastInput=i,e.timeEntry._blurredInput=null);var s=e.data(i,n);e.timeEntry._doFocus(i);var o=e.timeEntry._getSpinnerRegion(s,t);e.timeEntry._changeSpinner(s,r,o),e.timeEntry._actionSpinner(s,o),e.timeEntry._timer=null,e.timeEntry._handlingSpinner=!0;var u=e.timeEntry._get(s,"spinnerRepeat");o>=3&&u[0]&&(e.timeEntry._timer=setTimeout(function(){e.timeEntry._repeatSpinner(s,o)},u[0]),e(r).one("mouseout",e.timeEntry._releaseSpinner).one("mouseup",e.timeEntry._releaseSpinner))},_actionSpinner:function(t,n){t.input.val()||e.timeEntry._parseTime(t);switch(n){case 0:this._setTime(t);break;case 1:this._changeField(t,-1,!1);break;case 2:this._changeField(t,1,!1);break;case 3:this._adjustField(t,1);break;case 4:this._adjustField(t,-1)}},_repeatSpinner:function(t,n){if(!e.timeEntry._timer)return;e.timeEntry._lastInput=e.timeEntry._blurredInput,this._actionSpinner(t,n),this._timer=setTimeout(function(){e.timeEntry._repeatSpinner(t,n)},this._get(t,"spinnerRepeat")[1])},_releaseSpinner:function(t){clearTimeout(e.timeEntry._timer),e.timeEntry._timer=null},_endExpand:function(t){e.timeEntry._timer=null;var r=e.timeEntry._getSpinnerTarget(t),i=e.timeEntry._getInput(r),s=e.data(i,n);e(r).remove(),s._expanded=!1},_endSpinner:function(t){e.timeEntry._timer=null;var r=e.timeEntry._getSpinnerTarget(t),i=e.timeEntry._getInput(r),s=e.data(i,n);e.timeEntry._isDisabledTimeEntry(i)||e.timeEntry._changeSpinner(s,r,-1),e.timeEntry._handlingSpinner&&(e.timeEntry._lastInput=e.timeEntry._blurredInput),e.timeEntry._lastInput&&e.timeEntry._handlingSpinner&&e.timeEntry._showField(s),e.timeEntry._handlingSpinner=!1},_getSpinnerTarget:function(e){return e.target||e.srcElement},_getSpinnerRegion:function(t,n){var r=this._getSpinnerTarget(n),i=e.browser.opera||e.browser.safari?e.timeEntry._findPos(r):e(r).offset(),s=e.browser.safari?e.timeEntry._findScroll(r):[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop],o=this._get(t,"spinnerIncDecOnly"),u=o?99:n.clientX+s[0]-i.left-(e.browser.msie?2:0),a=n.clientY+s[1]-i.top-(e.browser.msie?2:0),f=this._get(t,t._expanded?"spinnerBigSize":"spinnerSize"),l=o?99:f[0]-1-u,c=f[1]-1-a;if(f[2]>0&&Math.abs(u-l)<=f[2]&&Math.abs(a-c)<=f[2])return 0;var h=Math.min(u,a,l,c);return h==u?1:h==l?2:h==a?3:4},_changeSpinner:function(t,n,r){e(n).css("","-"+(r+1)*this._get(t,t._expanded?"spinnerBigSize":"spinnerSize")[0]+"px 0px")},_findPos:function(e){var t=curTop=0;if(e.offsetParent){t=e.offsetLeft,curTop=e.offsetTop;while(e=e.offsetParent){var n=t;t+=e.offsetLeft,t<0&&(t=n),curTop+=e.offsetTop}}return{left:t,top:curTop}},_findScroll:function(t){var n=!1;e(t).parents().each(function(){n|=e(this).css("position")=="fixed"});if(n)return[0,0];var r=t.scrollLeft,i=t.scrollTop;while(t=t.parentNode)r+=t.scrollLeft||0,i+=t.scrollTop||0;return[r,i]},_get:function(t,n){return t.options[n]!=null?t.options[n]:e.timeEntry._defaults[n]},_parseTime:function(e){var t=this._extractTime(e),n=this._get(e,"showSeconds");if(t)e._selectedHour=t[0],e._selectedMinute=t[1],e._selectedSecond=t[2];else{var r=this._constrainTime(e);e._selectedHour=r[0],e._selectedMinute=r[1],e._selectedSecond=n?r[2]:0}e._secondField=n?2:-1,e._ampmField=this._get(e,"show24Hours")?-1:n?3:2,e._lastChr="",e._field=Math.max(0,Math.min(Math.max(1,e._secondField,e._ampmField),this._get(e,"initialField"))),e.input.val()!=""&&this._showTime(e)},_extractTime:function(e,t){t=t||e.input.val();var n=this._get(e,"separator"),r=t.split(n);n==""&&t!=""&&(r[0]=t.substring(0,2),r[1]=t.substring(2,4),r[2]=t.substring(4,6));var i=this._get(e,"ampmNames"),s=this._get(e,"show24Hours");if(r.length>=2){var o=!s&&t.indexOf(i[0])>-1,u=!s&&t.indexOf(i[1])>-1,a=parseInt(r[0],10);a=isNaN(a)?0:a,a=((o||u)&&a==12?0:a)+(u?12:0);var f=parseInt(r[1],10);f=isNaN(f)?0:f;var l=r.length>=3?parseInt(r[2],10):0;return l=isNaN(l)||!this._get(e,"showSeconds")?0:l,this._constrainTime(e,[a,f,l])}return null},_constrainTime:function(e,t){var n=t!=null;if(!n){var r=this._determineTime(e,this._get(e,"defaultTime"))||new Date;t=[r.getHours(),r.getMinutes(),r.getSeconds()]}var i=!1,s=this._get(e,"timeSteps");for(var o=0;o<s.length;o++)i?t[o]=0:s[o]>1&&(t[o]=Math.round(t[o]/s[o])*s[o],i=!0);return t},_showTime:function(e){var t=this._get(e,"show24Hours"),n=this._get(e,"separator"),r=this._formatNumber(t?e._selectedHour:(e._selectedHour+11)%12+1)+n+this._formatNumber(e._selectedMinute)+(this._get(e,"showSeconds")?n+this._formatNumber(e._selectedSecond):"")+(t?"":this._get(e,"ampmPrefix")+this._get(e,"ampmNames")[e._selectedHour<12?0:1]);this._setValue(e,r),this._showField(e)},_showField:function(t){var n=t.input[0];if(t.input.is(":hidden")||e.timeEntry._lastInput!=n)return;var r=this._get(t,"separator"),i=r.length+2,s=t._field!=t._ampmField?t._field*i:t._ampmField*i-r.length+this._get(t,"ampmPrefix").length,o=s+(t._field!=t._ampmField?2:this._get(t,"ampmNames")[0].length);if(n.setSelectionRange)n.setSelectionRange(s,o);else if(n.createTextRange){var u=n.createTextRange();u.moveStart("character",s),u.moveEnd("character",o-t.input.val().length),u.select()}n.disabled||n.focus()},_formatNumber:function(e){return(e<10?"0":"")+e},_setValue:function(e,t){t!=e.input.val()&&e.input.val(t).trigger("change")},_changeField:function(t,r,i){var s=t.input.val()==""||t._field==(r==-1?0:Math.max(1,t._secondField,t._ampmField));return s||(t._field+=r),this._showField(t),t._lastChr="",e.data(t.input[0],n,t),s&&i},_adjustField:function(e,t){e.input.val()==""&&(t=0);var n=this._get(e,"timeSteps");this._setTime(e,new Date(0,0,0,e._selectedHour+(e._field==0?t*n[0]:0)+(e._field==e._ampmField?t*12:0),e._selectedMinute+(e._field==1?t*n[1]:0),e._selectedSecond+(e._field==e._secondField?t*n[2]:0)))},_setTime:function(t,r){r=this._determineTime(t,r);var i=this._constrainTime(t,r?[r.getHours(),r.getMinutes(),r.getSeconds()]:null);r=new Date(0,0,0,i[0],i[1],i[2]);var r=this._normaliseTime(r),s=this._normaliseTime(this._determineTime(t,this._get(t,"minTime"))),o=this._normaliseTime(this._determineTime(t,this._get(t,"maxTime")));r=s&&r<s?s:o&&r>o?o:r;var u=this._get(t,"beforeSetTime");u&&(r=u.apply(t.input[0],[this._getTimeTimeEntry(t.input[0]),r,s,o])),t._selectedHour=r.getHours(),t._selectedMinute=r.getMinutes(),t._selectedSecond=r.getSeconds(),this._showTime(t),e.data(t.input[0],n,t)},_normaliseTime:function(e){return e?(e.setFullYear(1900),e.setMonth(0),e.setDate(0),e):null},_determineTime:function(t,n){var r=function(e){var t=new Date;return t.setTime(t.getTime()+e*1e3),t},i=function(n){var r=e.timeEntry._extractTime(t,n),i=new Date,s=r?r[0]:i.getHours(),o=r?r[1]:i.getMinutes(),u=r?r[2]:i.getSeconds();if(!r){var a=/([+-]?[0-9]+)\s*(s|S|m|M|h|H)?/g,f=a.exec(n);while(f){switch(f[2]||"s"){case"s":case"S":u+=parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10);break;case"h":case"H":s+=parseInt(f[1],10)}f=a.exec(n)}}return i=new Date(0,0,10,s,o,u,0),/^!/.test(n)&&(i.getDate()>10?i=new Date(0,0,10,23,59,59):i.getDate()<10&&(i=new Date(0,0,10,0,0,0))),i};return n?typeof n=="string"?i(n):typeof n=="number"?r(n):n:null},_handleKeyPress:function(e,t){if(t==this._get(e,"separator"))this._changeField(e,1,!1);else if(t>="0"&&t<="9"){var n=parseInt(t,10),r=parseInt(e._lastChr+t,10),i=this._get(e,"show24Hours"),s=e._field!=0?e._selectedHour:i?r<24?r:n:(r>=1&&r<=12?r:n>0?n:e._selectedHour)%12+(e._selectedHour>=12?12:0),o=e._field!=1?e._selectedMinute:r<60?r:n,u=e._field!=e._secondField?e._selectedSecond:r<60?r:n,a=this._constrainTime(e,[s,o,u]);this._setTime(e,new Date(0,0,0,a[0],a[1],a[2])),e._lastChr=t}else if(!this._get(e,"show24Hours")){t=t.toLowerCase();var f=this._get(e,"ampmNames");if(t==f[0].substring(0,1).toLowerCase()&&e._selectedHour>=12||t==f[1].substring(0,1).toLowerCase()&&e._selectedHour<12){var l=e._field;e._field=e._ampmField,this._adjustField(e,1),e._field=l,this._showField(e)}}}});var i=["getOffset","getTime","isDisabled"];e.fn.timeEntry=function(t){var n=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&e.inArray(t,i)>-1?e.timeEntry["_"+t+"TimeEntry"].apply(e.timeEntry,[this[0]].concat(n)):this.each(function(){var r=this.nodeName.toLowerCase();if(r=="input")if(typeof t=="string")e.timeEntry["_"+t+"TimeEntry"].apply(e.timeEntry,[this].concat(n));else{var i=e.fn.metadata?e(this).metadata():{};e.timeEntry._connectTimeEntry(this,e.extend(i,t))}})},e.timeEntry=new t}(jQuery),function(l){var D,E,F,G,H,I,p={},J={},s={},M=0,K={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0},data:{key:{children:"children",name:"name",title:""},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null}},t=[function(e){var t=e.treeObj,n=f.event;t.unbind(n.NODECREATED),t.bind(n.NODECREATED,function(t,n,r){k.apply(e.callback.onNodeCreated,[t,n,r])}),t.unbind(n.CLICK),t.bind(n.CLICK,function(t,n,r,i){k.apply(e.callback.onClick,[t,n,r,i])}),t.unbind(n.EXPAND),t.bind(n.EXPAND,function(t,n,r){k.apply(e.callback.onExpand,[t,n,r])}),t.unbind(n.COLLAPSE),t.bind(n.COLLAPSE,function(t,n,r){k.apply(e.callback.onCollapse,[t,n,r])}),t.unbind(n.ASYNC_SUCCESS),t.bind(n.ASYNC_SUCCESS,function(t,n,r,i){k.apply(e.callback.onAsyncSuccess,[t,n,r,i])}),t.unbind(n.ASYNC_ERROR),
t.bind(n.ASYNC_ERROR,function(t,n,r,i,s,o){k.apply(e.callback.onAsyncError,[t,n,r,i,s,o])})}],q=[function(e){var t=g.getCache(e);t||(t={},g.setCache(e,t)),t.nodes=[],t.doms=[]}],v=[function(e,t,n,r,i,s){if(n){var o=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++M,n.parentTId=r?r.tId:null,n[o]&&n[o].length>0?(typeof n.open=="string"&&(n.open=k.eqs(n.open,"true")),n.open=!!n.open,n.isParent=!0,n.zAsync=!0):(n.open=!1,typeof n.isParent=="string"&&(n.isParent=k.eqs(n.isParent,"true")),n.isParent=!!n.isParent,n.zAsync=!n.isParent),n.isFirstNode=i,n.isLastNode=s,n.getParentNode=function(){return g.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return g.getPreNode(e,n)},n.getNextNode=function(){return g.getNextNode(e,n)},n.isAjaxing=!1,g.fixPIdKeyValue(e,n)}}],w=[function(e){var t=e.target,n=p[e.data.treeId],r="",i=null,s="",o="",u=null,a=null,l=null;if(k.eqs(e.type,"mousedown"))o="mousedown";else if(k.eqs(e.type,"mouseup"))o="mouseup";else if(k.eqs(e.type,"contextmenu"))o="contextmenu";else if(k.eqs(e.type,"click")){if(k.eqs(t.tagName,"button")&&t.blur(),k.eqs(t.tagName,"button")&&t.getAttribute("treeNode"+f.id.SWITCH)!==null)r=t.parentNode.id,s="switchNode";else if(l=k.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))r=l.parentNode.id,s="clickNode"}else k.eqs(e.type,"dblclick")&&(o="dblclick",l=k.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(r=l.parentNode.id,s="switchNode");o.length>0&&r.length==0&&(l=k.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(r=l.parentNode.id);if(r.length>0)switch(i=g.getNodeCache(n,r),s){case"switchNode":i.isParent?k.eqs(e.type,"click")||k.eqs(e.type,"dblclick")&&k.apply(n.view.dblClickExpand,[n.treeId,i],n.view.dblClickExpand)?u=D:s="":s="";break;case"clickNode":u=E}switch(o){case"mousedown":a=F;break;case"mouseup":a=G;break;case"dblclick":a=H;break;case"contextmenu":a=I}return{stop:!1,node:i,nodeEventType:s,nodeEventCallback:u,treeEventType:o,treeEventCallback:a}}],x=[function(e){var t=g.getRoot(e);t||(t={},g.setRoot(e,t)),t.children=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[]}],y=[],z=[],A=[],B=[],C=[],g={addNodeCache:function(e,t){g.getCache(e).nodes[t.tId]=t},addAfterA:function(e){z.push(e)},addBeforeA:function(e){y.push(e)},addInnerAfterA:function(e){B.push(e)},addInnerBeforeA:function(e){A.push(e)},addInitBind:function(e){t.push(e)},addInitCache:function(e){q.push(e)},addInitNode:function(e){v.push(e)},addInitProxy:function(e){w.push(e)},addInitRoot:function(e){x.push(e)},addNodesData:function(e,t,n){var r=e.data.key.children;t[r]||(t[r]=[]),t[r].length>0&&(t[r][t[r].length-1].isLastNode=!1,i.setNodeLineIcos(e,t[r][t[r].length-1])),t.isParent=!0,t[r]=t[r].concat(n)},addSelectedNode:function(e,t){var n=g.getRoot(e);g.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&g.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){C.push(e)},exSetting:function(e){l.extend(!0,K,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,i=z.length;r<i;r++)z[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,i=y.length;r<i;r++)y[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,i=B.length;r<i;r++)B[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,i=A.length;r<i;r++)A[r].apply(this,arguments)},getCache:function(e){return s[e.treeId]},getNextNode:function(e,t){if(!t)return null;var n=e.data.key.children,r=t.parentTId?t.getParentNode():g.getRoot(e);if(!t.isLastNode){if(t.isFirstNode)return r[n][1];for(var i=1,s=r[n].length-1;i<s;i++)if(r[n][i]===t)return r[n][i+1]}return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var i=e.data.key.children,s=0,o=t.length;s<o;s++){if(t[s][n]==r)return t[s];var u=g.getNodeByParam(e,t[s][i],n,r);if(u)return u}return null},getNodeCache:function(e,t){if(!t)return null;var n=s[e.treeId].nodes[t];return n?n:null},getNodes:function(e){return g.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var i=e.data.key.children,s=[],o=0,u=t.length;o<u;o++)t[o][n]==r&&s.push(t[o]),s=s.concat(g.getNodesByParam(e,t[o][i],n,r));return s},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];for(var i=e.data.key.children,s=[],o=0,u=t.length;o<u;o++)typeof t[o][n]=="string"&&t[o][n].indexOf(r)>-1&&s.push(t[o]),s=s.concat(g.getNodesByParamFuzzy(e,t[o][i],n,r));return s},getPreNode:function(e,t){if(!t)return null;var n=e.data.key.children,r=t.parentTId?t.getParentNode():g.getRoot(e);if(!t.isFirstNode){if(t.isLastNode)return r[n][r[n].length-2];for(var i=1,s=r[n].length-1;i<s;i++)if(r[n][i]===t)return r[n][i-1]}return null},getRoot:function(e){return e?J[e.treeId]:null},getSetting:function(e){return p[e]},getSettings:function(){return p},getTitleKey:function(e){return e.data.key.title===""?e.data.key.name:e.data.key.title},getZTreeTools:function(e){return(e=this.getRoot(this.getSetting(e)))?e.treeTools:null},initCache:function(e){for(var t=0,n=q.length;t<n;t++)q[t].apply(this,arguments)},initNode:function(e,t,n,r,i,s){for(var o=0,u=v.length;o<u;o++)v[o].apply(this,arguments)},initRoot:function(e){for(var t=0,n=x.length;t<n;t++)x[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=g.getRoot(e),r=0,i=n.curSelectedList.length;r<i;r++)if(t===n.curSelectedList[r])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var r=0,i=t[n].length;r<i;r++)arguments.callee(e,t[n][r]);delete g.getCache(e).nodes[t.tId]},removeSelectedNode:function(e,t){for(var n=g.getRoot(e),r=0,i=n.curSelectedList.length;r<i;r++)if(t===n.curSelectedList[r]||!g.getNodeCache(e,n.curSelectedList[r].tId))n.curSelectedList.splice(r,1),r--,i--},setCache:function(e,t){s[e.treeId]=t},setRoot:function(e,t){J[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=C.length;n<r;n++)C[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,r=[];if(k.isArray(t))for(var i=0,s=t.length;i<s;i++)r.push(t[i]),t[i][n]&&(r=r.concat(g.transformToArrayFormat(e,t[i][n])));else r.push(t),t[n]&&(r=r.concat(g.transformToArrayFormat(e,t[n])));return r},transformTozTreeFormat:function(e,t){var n,r,i=e.data.simpleData.idKey,s=e.data.simpleData.pIdKey,o=e.data.key.children;if(!i||i==""||!t)return[];if(k.isArray(t)){var u=[],a=[];for(n=0,r=t.length;n<r;n++)a[t[n][i]]=t[n];for(n=0,r=t.length;n<r;n++)a[t[n][s]]&&t[n][i]!=t[n][s]?(a[t[n][s]][o]||(a[t[n][s]][o]=[]),a[t[n][s]][o].push(t[n])):u.push(t[n]);return u}return[t]}},m={bindEvent:function(e){for(var n=0,r=t.length;n<r;n++)t[n].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},e=e.treeObj;e.unbind("click",m.proxy),e.bind("click",t,m.proxy),e.unbind("dblclick",m.proxy),e.bind("dblclick",t,m.proxy),e.unbind("mouseover",m.proxy),e.bind("mouseover",t,m.proxy),e.unbind("mouseout",m.proxy),e.bind("mouseout",t,m.proxy),e.unbind("mousedown",m.proxy),e.bind("mousedown",t,m.proxy),e.unbind("mouseup",m.proxy),e.bind("mouseup",t,m.proxy),e.unbind("contextmenu",m.proxy),e.bind("contextmenu",t,m.proxy)},doProxy:function(e){for(var t=[],n=0,r=w.length;n<r;n++){var i=w[n].apply(this,arguments);t.push(i);if(i.stop)break}return t},proxy:function(e){var t=g.getSetting(e.data.treeId);if(!k.uCanDo(t,e))return!0;for(var n=m.doProxy(e),r=!0,i=!1,s=0,o=n.length;s<o;s++){var u=n[s];u.nodeEventCallback&&(i=!0,r=u.nodeEventCallback.apply(u,[e,u.node])&&r),u.treeEventCallback&&(i=!0,r=u.treeEventCallback.apply(u,[e,u.node])&&r)}try{i&&l("input:focus").length==0&&k.noSel(t)}catch(a){}return r}};D=function(e,t){var n=p[e.data.treeId];if(t.open){if(k.apply(n.callback.beforeCollapse,[n.treeId,t],!0)==0)return!0}else if(k.apply(n.callback.beforeExpand,[n.treeId,t],!0)==0)return!0;return g.getRoot(n).expandTriggerFlag=!0,i.switchNode(n,t),!0},E=function(e,t){var n=p[e.data.treeId],r=n.view.autoCancelSelected&&e.ctrlKey&&g.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&e.ctrlKey&&n.view.selectedMulti?2:1;return k.apply(n.callback.beforeClick,[n.treeId,t,r],!0)==0?!0:(r===0?i.cancelPreSelectedNode(n,t):i.selectNode(n,t,r===2),n.treeObj.trigger(f.event.CLICK,[n.treeId,t,r]),!0)},F=function(e,t){var n=p[e.data.treeId];return k.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&k.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},G=function(e,t){var n=p[e.data.treeId];return k.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&k.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},H=function(e,t){var n=p[e.data.treeId];return k.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&k.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},I=function(e,t){var n=p[e.data.treeId];return k.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&k.apply(n.callback.onRightClick,[e,n.treeId,t]),typeof n.callback.onRightClick!="function"};var k={apply:function(e,t,n){return typeof e=="function"?e.apply(L,t?t:[]):n},canAsync:function(e,t){var n=e.data.key.children;return t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){var t;if(e instanceof Array){t=[];for(var n=e.length;n--;)t[n]=arguments.callee(e[n]);return t}if(typeof e=="function")return e;if(e instanceof Object){t={};for(n in e)t[n]=arguments.callee(e[n]);return t}return e},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,i=n.length;t.tagName&&r<i;r++)if(k.eqs(t.tagName,n[r].tagName)&&t.getAttribute(n[r].attrName)!==null)return t;t=t.parentNode}return null},noSel:function(e){if(g.getRoot(e).noSelection)try{window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}catch(t){}},uCanDo:function(){return!0}},i={addNodes:function(e,t,n,r){if(!e.data.keep.leaf||!t||t.isParent)if(k.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=g.transformTozTreeFormat(e,n)),t){var s=l("#"+t.tId+f.id.SWITCH),o=l("#"+t.tId+f.id.ICON),u=l("#"+t.tId+f.id.UL);t.open||(i.replaceSwitchClass(t,s,f.folder.CLOSE),i.replaceIcoClass(t,o,f.folder.CLOSE),t.open=!1,u.css({display:"none"})),g.addNodesData(e,t,n),i.createNodes(e,t.level+1,n,t),r||i.expandCollapseParentNode(e,t,!0)}else g.addNodesData(e,g.getRoot(e),n),i.createNodes(e,0,n,null)},appendNodes:function(e,t,n,r,s,o){if(!n)return[];for(var u=[],a=e.data.key.children,l=e.data.key.name,c=g.getTitleKey(e),h=0,p=n.length;h<p;h++){var d=n[h],v=(r?r:g.getRoot(e))[a].length==n.length&&h==0,m=h==n.length-1;s&&(g.initNode(e,t,d,r,v,m,o),g.addNodeCache(e,d)),v=[],d[a]&&d[a].length>0&&(v=i.appendNodes(e,t+1,d[a],d,s,o&&d.open));if(o){var m=i.makeNodeUrl(e,d),y=i.makeNodeFontCss(e,d),b=[],w;for(w in y)b.push(w,":",y[w],";");u.push("<li id='",d.tId,"' class='level",d.level,"' treenode>","<button type='button' hidefocus='true'",d.isParent?"":"disabled"," id='",d.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(e,d),"' treeNode",f.id.SWITCH,"></button>"),g.getBeforeA(e,d,u),u.push("<a id='",d.tId,f.id.A,"' class='level",d.level,"' treeNode",f.id.A,' onclick="',d.click||"",'" ',m!=null&&m.length>0?"href='"+m+"'":""," target='",i.makeNodeTarget(d),"' style='",b.join(""),"'"),k.apply(e.view.showTitle,[e.treeId,d],e.view.showTitle)&&d[c]&&u.push("title='",d[c].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),u.push(">"),g.getInnerBeforeA(e,d,u),m=e.view.nameIsHTML?d[l]:d[l].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u.push("<button type='button' hidefocus='true' id='",d.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(e,d),"' style='",i.makeNodeIcoStyle(e,d),"'></button><span id='",d.tId,f.id.SPAN,"'>",m,"</span>"),g.getInnerAfterA(e,d,u),u.push("</a>"),g.getAfterA(e,d,u),d.isParent&&d.open&&i.makeUlHtml(e,d,u,v.join("")),u.push("</li>"),g.addCreatedNode(e,d)}}return u},appendParentULDom:function(e,t){var n=[],r=l("#"+t.tId),s=l("#"+t.tId+f.id.UL),o=i.appendNodes(e,t.level+1,t[e.data.key.children],t,!1,!0);i.makeUlHtml(e,t,n,o.join("")),!r.get(0)&&t.parentTId&&(i.appendParentULDom(e,t.getParentNode()),r=l("#"+t.tId)),s.get(0)&&s.remove(),r.append(n.join("")),i.createNodeCallback(e)},asyncNode:function(b,a,c,d){var e,h;if(a&&!a.isParent)return k.apply(d),!1;if(a&&a.isAjaxing)return!1;if(k.apply(b.callback.beforeAsync,[b.treeId,a],!0)==0)return k.apply(d),!1;a&&(a.isAjaxing=!0,l("#"+a.tId+f.id.ICON).attr({style:"","class":"ico_loading"}));var j=b.async.contentType=="application/json",g=j?"{":"",o="";for(e=0,h=b.async.autoParam.length;a&&e<h;e++){var m=b.async.autoParam[e].split("="),p=m;m.length>1&&(p=m[1],m=m[0]),j?(o=typeof a[m]=="string"?'"':"",g+='"'+p+('":'+o+a[m]).replace(/'/g,"\\'")+o+","):g+=p+("="+a[m]).replace(/&/g,"%26")+"&"}if(k.isArray(b.async.otherParam))for(e=0,h=b.async.otherParam.length;e<h;e+=2)j?(o=typeof b.async.otherParam[e+1]=="string"?'"':"",g+='"'+b.async.otherParam[e]+('":'+o+b.async.otherParam[e+1]).replace(/'/g,"\\'")+o+","):g+=b.async.otherParam[e]+("="+b.async.otherParam[e+1]).replace(/&/g,"%26")+"&";else for(var q in b.async.otherParam)j?(o=typeof b.async.otherParam[q]=="string"?'"':"",g+='"'+q+('":'+o+b.async.otherParam[q]).replace(/'/g,"\\'")+o+","):g+=q+("="+b.async.otherParam[q]).replace(/&/g,"%26")+"&";return g.length>1&&(g=g.substring(0,g.length-1)),j&&(g+="}"),l.ajax({contentType:b.async.contentType,type:b.async.type,url:k.apply(b.async.url,[b.treeId,a],b.async.url),data:g,dataType:b.async.dataType,success:function(e){var h=[];try{h=!e||e.length==0?[]:typeof e=="string"?eval("("+e+")"):e}catch(g){}a&&(a.isAjaxing=null,a.zAsync=!0),i.setNodeLineIcos(b,a),h&&h!=""?(h=k.apply(b.async.dataFilter,[b.treeId,a,h],h),i.addNodes(b,a,k.clone(h),!!c)):i.addNodes(b,a,[],!!c),b.treeObj.trigger(f.event.ASYNC_SUCCESS,[b.treeId,a,e]),k.apply(d)},error:function(e,t,n){i.setNodeLineIcos(b,a),a&&(a.isAjaxing=null),b.treeObj.trigger(f.event.ASYNC_ERROR,[b.treeId,a,e,t,n])}}),!0},cancelPreSelectedNode:function(e,t){for(var n=g.getRoot(e).curSelectedList,r=n.length-1;r>=0;r--)if(!t||t===n[r])if(l("#"+n[r].tId+f.id.A).removeClass(f.node.CURSELECTED),i.setNodeName(e,n[r]),t){g.removeSelectedNode(e,t);break}t||(g.getRoot(e).curSelectedList=[])},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=g.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();k.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(f.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,r){if(n&&n.length!=0){var s=g.getRoot(e),o=e.data.key.children,o=!r||r.open||!!l("#"+r[o][0].tId).get(0);s.createdNodes=[],t=i.appendNodes(e,t,n,r,!0,o),r?(r=l("#"+r.tId+f.id.UL),r.get(0)&&r.append(t.join(""))):e.treeObj.append(t.join("")),i.createNodeCallback(e)}},expandCollapseNode:function(e,t,n,r,s){var o=g.getRoot(e),u=e.data.key.children;if(t){if(o.expandTriggerFlag){var a=s,s=function(){a&&a(),t.open?e.treeObj.trigger(f.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(f.event.COLLAPSE,[e.treeId,t])};o.expandTriggerFlag=!1}if(t.open==n)k.apply(s,[]);else{!t.open&&t.isParent&&(!l("#"+t.tId+f.id.UL).get(0)||t[u]&&t[u].length>0&&!l("#"+t[u][0].tId).get(0))&&i.appendParentULDom(e,t);var n=l("#"+t.tId+f.id.UL),o=l("#"+t.tId+f.id.SWITCH),c=l("#"+t.tId+f.id.ICON);t.isParent?(t.open=!t.open,t.iconOpen&&t.iconClose&&c.attr("style",i.makeNodeIcoStyle(e,t)),t.open?(i.replaceSwitchClass(t,o,f.folder.OPEN),i.replaceIcoClass(t,c,f.folder.OPEN),r==0||e.view.expandSpeed==""?(n.show(),k.apply(s,[])):t[u]&&t[u].length>0?n.slideDown(e.view.expandSpeed,s):(n.show(),k.apply(s,[]))):(i.replaceSwitchClass(t,o,f.folder.CLOSE),i.replaceIcoClass(t,c,f.folder.CLOSE),r==0||e.view.expandSpeed==""?(n.hide(),k.apply(s,[])):n.slideUp(e.view.expandSpeed,s))):k.apply(s,[])}}else k.apply(s,[])},expandCollapseParentNode:function(e,t,n,r,s){t&&(t.parentTId?(i.expandCollapseNode(e,t,n,r),t.parentTId&&i.expandCollapseParentNode(e,t.getParentNode(),n,r,s)):i.expandCollapseNode(e,t,n,r,s))},expandCollapseSonNode:function(e,t,n,r,s){var o=g.getRoot(e),u=e.data.key.children,o=t?t[u]:o[u],u=t?!1:r,a=g.getRoot(e).expandTriggerFlag;g.getRoot(e).expandTriggerFlag=!1;if(o)for(var f=0,l=o.length;f<l;f++)o[f]&&i.expandCollapseSonNode(e,o[f],n,u);g.getRoot(e).expandTriggerFlag=a,i.expandCollapseNode(e,t,n,r,s)},makeNodeFontCss:function(e,t){var n=k.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&typeof n!="function"?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];return t.isAjaxing||(n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],t.isParent?n.push(t.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU)),n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t.icon;r&&n.push("background:url(",r,") 0 0 no-repeat;"),(e.view.showIcon==0||!k.apply(e.view.showIcon,[e.treeId,t],!0))&&n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?t.level==0&&t.isFirstNode&&t.isLastNode?n.push(f.line.ROOT):t.level==0&&t.isFirstNode?n.push(f.line.ROOTS):t.isLastNode?n.push(f.line.BOTTOM):n.push(f.line.CENTER):n.push(f.line.NOLINE),t.isParent?n.push(t.open?f.folder.OPEN:f.folder.CLOSE):n.push(f.folder.DOCU),i.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return"level"+e.level+" switch "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){return t.url?t.url:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,f.id.UL,"' class='level",t.level," ",i.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?f.line.LINE:""},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing&&(e=t.attr("class"),e!=void 0)){e=e.split("_");switch(n){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:e[e.length-1]=n}t.attr("class",e.join("_"))}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");if(r!=void 0){r=r.split("_");switch(n){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:r[0]=i.makeNodeLineClassEx(e)+n;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:r[1]=n}t.attr("class",r.join("_")),n!==f.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||i.cancelPreSelectedNode(e),l("#"+t.tId+f.id.A).addClass(f.node.CURSELECTED),g.addSelectedNode(e,t)},setNodeFontCss:function(e,t){var n=l("#"+t.tId+f.id.A),r=i.makeNodeFontCss(e,t);r&&n.css(r)},setNodeLineIcos:function(e,t){if(t){var n=l("#"+t.tId+f.id.SWITCH),r=l("#"+t.tId+f.id.UL),s=l("#"+t.tId+f.id.ICON),o=i.makeUlLineClass(e,t);o.length==0?r.removeClass(f.line.LINE):r.addClass(o),n.attr("class",i.makeNodeLineClass(e,t)),t.isParent?n.removeAttr("disabled"):n.attr("disabled","disabled"),s.removeAttr("style"),s.attr("style",i.makeNodeIcoStyle(e,t)),s.attr("class",i.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=e.data.key.name,r=g.getTitleKey(e),i=l("#"+t.tId+f.id.SPAN);i.empty(),e.view.nameIsHTML?i.html(t[n]):i.text(t[n]),k.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&t[r]&&l("#"+t.tId+f.id.A).attr("title",t[r])},setNodeTarget:function(e){l("#"+e.tId+f.id.A).attr("target",i.makeNodeTarget(e))},setNodeUrl:function(e,t){var n=l("#"+t.tId+f.id.A),r=i.makeNodeUrl(e,t);r==null||r.length==0?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){t.open||!k.canAsync(e,t)?i.expandCollapseNode(e,t,!t.open):e.async.enable?i.asyncNode(e,t)||i.expandCollapseNode(e,t,!t.open):t&&i.expandCollapseNode(e,t,!t.open)}};l.fn.zTree={consts:{event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:k,view:i,event:m,data:g},getZTreeObj:function(e){return(e=g.getZTreeTools(e))?e:null},init:function(e,t,n){var r=k.clone(K);return l.extend(!0,r,t),r.treeId=e.attr("id"),r.treeObj=e,r.treeObj.empty(),p[r.treeId]=r,l.browser.msie&&parseInt(l.browser.version)<7&&(r.view.expandSpeed=""),g.initRoot(r),e=g.getRoot(r),t=r.data.key.children,n=n?k.clone(k.isArray(n)?n:[n]):[],e[t]=r.data.simpleData.enable?g.transformTozTreeFormat(r,n):n,g.initCache(r),m.bindTree(r),m.bindEvent(r),n={setting:r,cancelSelectedNode:function(e){i.cancelPreSelectedNode(this.setting,e)},expandAll:function(e){return e=!!e,i.expandCollapseSonNode(this.setting,null,e,!0),e},expandNode:function(e,t,n,s,o){return!e||!e.isParent?null:(t!==!0&&t!==!1&&(t=!e.open),(o=!!o)&&t&&k.apply(r.callback.beforeExpand,[r.treeId,e],!0)==0?null:o&&!t&&k.apply(r.callback.beforeCollapse,[r.treeId,e],!0)==0?null:(t&&e.parentTId&&i.expandCollapseParentNode(this.setting,e.getParentNode(),t,!1),t===e.open&&!n?null:(g.getRoot(r).expandTriggerFlag=o,n?i.expandCollapseSonNode(this.setting,e,t,!0,function(){s!==!1&&l("#"+e.tId+f.id.ICON).focus().blur()}):(e.open=!t,i.switchNode(this.setting,e),s!==!1&&l("#"+e.tId+f.id.ICON).focus().blur()),t)))},getNodes:function(){return g.getNodes(this.setting)},getNodeByParam:function(e,t,n){return e?g.getNodeByParam(this.setting,n?n[this.setting.data.key.children]:g.getNodes(this.setting),e,t):null},getNodeByTId:function(e){return g.getNodeCache(this.setting,e)},getNodesByParam:function(e,t,n){return e?g.getNodesByParam(this.setting,n?n[this.setting.data.key.children]:g.getNodes(this.setting),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?g.getNodesByParamFuzzy(this.setting,n?n[this.setting.data.key.children]:g.getNodes(this.setting),e,t):null},getNodeIndex:function(e){if(!e)return null;for(var t=r.data.key.children,n=e.parentTId?e.getParentNode():g.getRoot(this.setting),i=0,s=n[t].length;i<s;i++)if(n[t][i]==e)return i;return-1},getSelectedNodes:function(){for(var e=[],t=g.getRoot(this.setting).curSelectedList,n=0,r=t.length;n<r;n++)e.push(t[n]);return e},isSelectedNode:function(e){return g.isSelectedNode(this.setting,e)},reAsyncChildNodes:function(e,t,n){if(this.setting.async.enable){var r=!e;r&&(e=g.getRoot(this.setting)),t=="refresh"&&(e[this.setting.data.key.children]=[],r?this.setting.treeObj.empty():l("#"+e.tId+f.id.UL).empty()),i.asyncNode(this.setting,r?null:e,!!n)}},refresh:function(){this.setting.treeObj.empty();var e=g.getRoot(this.setting),t=e[this.setting.data.key.children];g.initRoot(this.setting),e[this.setting.data.key.children]=t,g.initCache(this.setting),i.createNodes(this.setting,0,e[this.setting.data.key.children])},selectNode:function(e,t){e&&k.uCanDo(this.setting)&&(t=r.view.selectedMulti&&t,e.parentTId?i.expandCollapseParentNode(this.setting,e.getParentNode(),!0,!1,function(){l("#"+e.tId+f.id.ICON).focus().blur()}):l("#"+e.tId+f.id.ICON).focus().blur(),i.selectNode(this.setting,e,t))},transformTozTreeNodes:function(e){return g.transformTozTreeFormat(this.setting,e)},transformToArray:function(e){return g.transformToArrayFormat(this.setting,e)},updateNode:function(e){e&&l("#"+e.tId).get(0)&&k.uCanDo(this.setting)&&(i.setNodeName(this.setting,e),i.setNodeTarget(e),i.setNodeUrl(this.setting,e),i.setNodeLineIcos(this.setting,e),i.setNodeFontCss(this.setting,e))}},e.treeTools=n,g.setZTreeTools(r,n),e[t]&&e[t].length>0?i.createNodes(r,0,e[t]):r.async.enable&&r.async.url&&r.async.url!==""&&i.asyncNode(r),n}};var L=l.fn.zTree,f=L.consts}(jQuery),function(e){var t,n,r,i={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},s={check:{enable:!1,autoCheckTrigger:!1,chkStyle:i.checkbox.STYLE,nocheckInherit:!1,radioType:i.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};t=function(t,n){if(n.chkDisabled===!0)return!1;var r=f.getSetting(t.data.treeId),i=r.data.key.checked;return o.apply(r.callback.beforeCheck,[r.treeId,n],!0)==0?!0:(n[i]=!n[i],a.checkNodeRelation(r,n),i=e("#"+n.tId+u.id.CHECK),a.setChkClass(r,i,n),a.repairParentChkClassWithSelf(r,n),r.treeObj.trigger(u.event.CHECK,[r.treeId,n]),!0)},n=function(t,n){if(n.chkDisabled===!0)return!1;var r=f.getSetting(t.data.treeId),i=e("#"+n.tId+u.id.CHECK);return n.check_Focus=!0,a.setChkClass(r,i,n),!0},r=function(t,n){if(n.chkDisabled===!0)return!1;var r=f.getSetting(t.data.treeId),i=e("#"+n.tId+u.id.CHECK);return n.check_Focus=!1,a.setChkClass(r,i,n),!0},e.extend(!0,e.fn.zTree.consts,i),e.extend(!0,e.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(t,n){var r,i,s,o=t.data.key.children,l=t.data.key.checked;r=u.radio;if(t.check.chkStyle==r.STYLE){var c=f.getRadioCheckedList(t);if(n[l])if(t.check.radioType==r.TYPE_ALL){for(i=c.length-1;i>=0;i--)r=c[i],r[l]=!1,c.splice(i,1),a.setChkClass(t,e("#"+r.tId+u.id.CHECK),r),r.parentTId!=n.parentTId&&a.repairParentChkClassWithSelf(t,r);c.push(n)}else{c=n.parentTId?n.getParentNode():f.getRoot(t);for(i=0,s=c[o].length;i<s;i++)r=c[o][i],r[l]&&r!=n&&(r[l]=!1,a.setChkClass(t,e("#"+r.tId+u.id.CHECK),r))}else if(t.check.radioType==r.TYPE_ALL)for(i=0,s=c.length;i<s;i++)if(n==c[i]){c.splice(i,1);break}}else n[l]&&(!n[o]||n[o].length==0||t.check.chkboxType.Y.indexOf("s")>-1)&&a.setSonNodeCheckBox(t,n,!0),!n[l]&&(!n[o]||n[o].length==0||t.check.chkboxType.N.indexOf("s")>-1)&&a.setSonNodeCheckBox(t,n,!1),n[l]&&t.check.chkboxType.Y.indexOf("p")>-1&&a.setParentNodeCheckBox(t,n,!0),!n[l]&&t.check.chkboxType.N.indexOf("p")>-1&&a.setParentNodeCheckBox(t,n,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,r=u.checkbox,i=u.radio,s="",s=t.chkDisabled===!0?r.DISABLED:t.halfCheck?r.PART:e.check.chkStyle==i.STYLE?t.check_Child_State<1?r.FULL:r.PART:t[n]?t.check_Child_State===2||t.check_Child_State===-1?r.FULL:r.PART:t.check_Child_State<1?r.FULL:r.PART,n=e.check.chkStyle+"_"+(t[n]?r.TRUE:r.FALSE)+"_"+s,n=t.check_Focus&&t.chkDisabled!==!0?n+"_"+r.FOCUS:n;return r.DEFAULT+" "+n},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===u.checkbox.STYLE)for(var n=e.data.key.checked,r=e.data.key.children,i=f.getRoot(e),s=0,o=i[r].length;s<o;s++){var l=i[r][s];l.nocheck!==!0&&(l[n]=t),a.setSonNodeCheckBox(e,l,t)}},repairChkClass:function(t,n){if(n){f.makeChkFlag(t,n);var r=e("#"+n.tId+u.id.CHECK);a.setChkClass(t,r,n)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();a.repairChkClass(e,n),a.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?a.repairParentChkClass(e,t[n][0]):a.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n){if(t){var r=e.data.key.children;t.chkDisabled!=n&&(t.chkDisabled=n,t.nocheck!==!0&&a.repairChkClass(e,t));if(t[r])for(var i=0,s=t[r].length;i<s;i++)a.repairSonChkDisabled(e,t[r][i],n)}},repairParentChkDisabled:function(e,t,n){t&&(t.chkDisabled!=n&&(t.chkDisabled=n,t.nocheck!==!0&&a.repairChkClass(e,t)),a.repairParentChkDisabled(e,t.getParentNode(),n))},setChkClass:function(e,t,n){t&&(n.nocheck===!0?t.hide():t.show(),t.removeClass(),t.addClass(a.makeChkClass(e,n)))},setParentNodeCheckBox:function(t,n,r,i){var s=t.data.key.children,o=t.data.key.checked,l=e("#"+n.tId+u.id.CHECK);i||(i=n),f.makeChkFlag(t,n),n.nocheck!==!0&&n.chkDisabled!==!0&&(n[o]=r,a.setChkClass(t,l,n),t.check.autoCheckTrigger&&n!=i&&n.nocheck!==!0&&t.treeObj.trigger(u.event.CHECK,[t.treeId,n]));if(n.parentTId){l=!0;if(!r)for(var s=n.getParentNode()[s],c=0,h=s.length;c<h;c++)if(s[c].nocheck!==!0&&s[c][o]||s[c].nocheck===!0&&s[c].check_Child_State>0){l=!1;break}l&&a.setParentNodeCheckBox(t,n.getParentNode(),r,i)}},setSonNodeCheckBox:function(t,n,r,i){if(n){var s=t.data.key.children,o=t.data.key.checked,l=e("#"+n.tId+u.id.CHECK);i||(i=n);var c=!1;if(n[s])for(var h=0,p=n[s].length;h<p&&n.chkDisabled!==!0;h++){var d=n[s][h];a.setSonNodeCheckBox(t,d,r,i),d.chkDisabled===!0&&(c=!0)}if(n!=f.getRoot(t)&&n.chkDisabled!==!0){c&&n.nocheck!==!0&&f.makeChkFlag(t,n);if(n.nocheck!==!0){if(n[o]=r,!c)n.check_Child_State=n[s]&&n[s].length>0?r?2:0:-1}else n.check_Child_State=-1;a.setChkClass(t,l,n),t.check.autoCheckTrigger&&n!=i&&n.nocheck!==!0&&t.treeObj.trigger(u.event.CHECK,[t.treeId,n])}}}},event:{},data:{getRadioCheckedList:function(e){for(var t=f.getRoot(e).radioCheckedList,n=0,r=t.length;n<r;n++)f.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck)return null;var n=e.data.key.checked;return{checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==u.radio.STYLE?t.check_Child_State===2:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];for(var i=e.data.key.children,s=e.data.key.checked,r=r?r:[],o=0,u=t.length;o<u;o++)t[o].nocheck!==!0&&t[o][s]==n&&r.push(t[o]),f.getTreeCheckedNodes(e,t[o][i],n,r);return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];for(var r=e.data.key.children,i=e.data.key.checked,n=n?n:[],s=0,o=t.length;s<o;s++)t[s].nocheck!==!0&&t[s][i]!=t[s].checkedOld&&n.push(t[s]),f.getTreeChangeCheckedNodes(e,t[s][r],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,r=e.data.key.checked,i=-1;if(t[n])for(var s=!1,o=0,a=t[n].length;o<a;o++){var f=t[n][o],l=-1;if(e.check.chkStyle==u.radio.STYLE){if(l=f.nocheck===!0?f.check_Child_State:f.halfCheck===!0?2:f.nocheck!==!0&&f[r]?2:f.check_Child_State>0?2:0,l==2){i=2;break}l==0&&(i=0)}else if(e.check.chkStyle==u.checkbox.STYLE){l=f.nocheck===!0?f.check_Child_State:f.halfCheck===!0?1:f.nocheck!==!0&&f[r]?f.check_Child_State===-1||f.check_Child_State===2?2:1:f.check_Child_State>0?1:0;if(l===1){i=1;break}if(l===2&&s&&l!==i){i=1;break}if(i===2&&l>-1&&l<2){i=1;break}l>-1&&(i=l),s||(s=f.nocheck!==!0)}}t.check_Child_State=i}}}});var i=e.fn.zTree,o=i._z.tools,u=i.consts,a=i._z.view,f=i._z.data;f.exSetting(s),f.addInitBind(function(e){var t=e.treeObj,n=u.event;t.unbind(n.CHECK),t.bind(n.CHECK,function(t,n,r){o.apply(e.callback.onCheck,[t,n,r])})}),f.addInitCache(function(){}),f.addInitNode(function(e,t,n,r,i,s){n&&(t=e.data.key.checked,typeof n[t]=="string"&&(n[t]=o.eqs(n[t],"true")),n[t]=!!n[t],n.checkedOld=n[t],n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,n.chkDisabled=!!n.chkDisabled||r&&!!r.chkDisabled,typeof n.halfCheck=="string"&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return f.getCheckStatus(e,n)},s&&f.makeChkFlag(e,r))}),f.addInitProxy(function(e){var i=e.target,s=f.getSetting(e.data.treeId),a="",l=null,h="",p=null;o.eqs(e.type,"mouseover")?s.check.enable&&o.eqs(i.tagName,"button")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=i.parentNode.id,h="mouseoverCheck"):o.eqs(e.type,"mouseout")?s.check.enable&&o.eqs(i.tagName,"button")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=i.parentNode.id,h="mouseoutCheck"):o.eqs(e.type,"click")&&s.check.enable&&o.eqs(i.tagName,"button")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=i.parentNode.id,h="checkNode");if(a.length>0)switch(l=f.getNodeCache(s,a),h){case"checkNode":p=t;break;case"mouseoverCheck":p=n;break;case"mouseoutCheck":p=r}return{stop:!1,node:l,nodeEventType:h,nodeEventCallback:p,treeEventType:"",treeEventCallback:null}}),f.addInitRoot(function(e){f.getRoot(e).radioCheckedList=[]}),f.addBeforeA(function(e,t,n){var r=e.data.key.checked;e.check.enable&&(f.makeChkFlag(e,t),e.check.chkStyle==u.radio.STYLE&&e.check.radioType==u.radio.TYPE_ALL&&t[r]&&f.getRoot(e).radioCheckedList.push(t),n.push("<button type='button' ID='",t.tId,u.id.CHECK,"' class='",a.makeChkClass(e,t),"' treeNode",u.id.CHECK," onfocus='this.blur();' ",t.nocheck===!0?"style='display:none;'":"","></button>"))}),f.addZTreeTools(function(t,n){n.checkNode=function(n,r,i,s){var f=this.setting.data.key.checked;n.chkDisabled!==!0&&(r!==!0&&r!==!1&&(r=!n[f]),s=!!s,(n[f]!==r||i)&&(!s||o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,n],!0)!=0)&&o.uCanDo(this.setting)&&this.setting.check.enable&&n.nocheck!==!0)&&(n[f]=r,r=e("#"+n.tId+u.id.CHECK),(i||this.setting.check.chkStyle===u.radio.STYLE)&&a.checkNodeRelation(this.setting,n),a.setChkClass(this.setting,r,n),a.repairParentChkClassWithSelf(this.setting,n),s&&t.treeObj.trigger(u.event.CHECK,[t.treeId,n]))},n.checkAllNodes=function(e){a.repairAllChk(this.setting,!!e)},n.getCheckedNodes=function(e){var n=this
.setting.data.key.children;return f.getTreeCheckedNodes(this.setting,f.getRoot(t)[n],e!==!1)},n.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return f.getTreeChangeCheckedNodes(this.setting,f.getRoot(t)[e])},n.setChkDisabled=function(e,t){t=!!t,a.repairSonChkDisabled(this.setting,e,t),t||a.repairParentChkDisabled(this.setting,e,t)};var r=n.updateNode;n.updateNode=function(t,i){r&&r.apply(n,arguments);if(t&&this.setting.check.enable&&e("#"+t.tId).get(0)&&o.uCanDo(this.setting)){var s=e("#"+t.tId+u.id.CHECK);(i==1||this.setting.check.chkStyle===u.radio.STYLE)&&a.checkNodeRelation(this.setting,t),a.setChkClass(this.setting,s,t),a.repairParentChkClassWithSelf(this.setting,t)}}});var l=a.createNodes;a.createNodes=function(e,t,n,r){l&&l.apply(a,arguments),n&&a.repairParentChkClassWithSelf(e,r)}}(jQuery),function(e){var t={onHoverOverNode:function(e,n){var r=o.getSetting(e.data.treeId),i=o.getRoot(r);i.curHoverNode!=n&&t.onHoverOutNode(e),i.curHoverNode=n,s.addHoverDom(r,n)},onHoverOutNode:function(e){var e=o.getSetting(e.data.treeId),t=o.getRoot(e);t.curHoverNode&&!o.isSelectedNode(e,t.curHoverNode)&&(s.removeTreeDom(e,t.curHoverNode),t.curHoverNode=null)},onMousedownNode:function(t,n){function u(t){if(d.dragFlag==0&&Math.abs(_-t.clientX)<p.edit.drag.minMoveSize&&Math.abs(D-t.clientY)<p.edit.drag.minMoveSize)return!0;var n,u,f,l,h;h=p.data.key.children,r.noSel(p),e("body").css("cursor","pointer");if(d.dragFlag==0){if(r.apply(p.callback.beforeDrag,[p.treeId,y],!0)==0)return a(t),!0;for(n=0,u=y.length;n<u;n++)n==0&&(d.dragNodeShowBefore=[]),f=y[n],f.isParent&&f.open?(s.expandCollapseNode(p,f,!f.open),d.dragNodeShowBefore[f.tId]=!0):d.dragNodeShowBefore[f.tId]=!1;d.dragFlag=1,d.showHoverDom=!1,r.showIfameMask(p,!0),f=!0,l=-1;if(y.length>1){var v=y[0].parentTId?y[0].getParentNode()[h]:o.getNodes(p);h=[];for(n=0,u=v.length;n<u;n++)if(d.dragNodeShowBefore[v[n].tId]!==void 0&&(f&&l>-1&&l+1!==n&&(f=!1),h.push(v[n]),l=n),y.length===h.length){y=h;break}}f&&(N=y[0].getPreNode(),C=y[y.length-1].getNextNode()),w=e("<ul class='zTreeDragUL'></ul>");for(n=0,u=y.length;n<u;n++)if(f=y[n],f.editNameFlag=!1,s.selectNode(p,f,n>0),s.removeTreeDom(p,f),l=e("<li id='"+f.tId+"_tmp'></li>"),l.append(e("#"+f.tId+i.id.A).clone()),l.css("padding","0"),l.children("#"+f.tId+i.id.A).removeClass(i.node.CURSELECTED),w.append(l),n==p.edit.drag.maxShowNodeNum-1){l=e("<li id='"+f.tId+"_moretmp'><a>  ...  </a></li>"),w.append(l);break}w.attr("id",y[0].tId+i.id.UL+"_tmp"),w.addClass(p.treeObj.attr("class")),w.appendTo("body"),E=e("<button class='tmpzTreeMove_arrow'></button>"),E.attr("id","zTreeMove_arrow_tmp"),E.appendTo("body"),p.treeObj.trigger(i.event.DRAG,[p.treeId,y])}if(d.dragFlag==1&&E.attr("id")!=t.target.id){S&&(S.removeClass(i.node.TMPTARGET_TREE),O&&e("#"+O+i.id.A,S).removeClass(i.node.TMPTARGET_NODE)),O=S=null,x=!1,T=p,f=o.getSettings();for(var m in f)f[m].treeId&&f[m].edit.enable&&f[m].treeId!=p.treeId&&(t.target.id==f[m].treeId||e(t.target).parents("#"+f[m].treeId).length>0)&&(x=!0,T=f[m]);m=b.scrollTop(),l=b.scrollLeft(),h=T.treeObj.offset(),n=T.treeObj.get(0).scrollHeight,f=T.treeObj.get(0).scrollWidth,u=t.clientY+m-h.top;var H=T.treeObj.height()+h.top-t.clientY-m,F=t.clientX+l-h.left,I=T.treeObj.width()+h.left-t.clientX-l;h=u<p.edit.drag.borderMax&&u>p.edit.drag.borderMin;var v=H<p.edit.drag.borderMax&&H>p.edit.drag.borderMin,q=F<p.edit.drag.borderMax&&F>p.edit.drag.borderMin,z=I<p.edit.drag.borderMax&&I>p.edit.drag.borderMin,H=u>p.edit.drag.borderMin&&H>p.edit.drag.borderMin&&F>p.edit.drag.borderMin&&I>p.edit.drag.borderMin,F=h&&T.treeObj.scrollTop()<=0,I=v&&T.treeObj.scrollTop()+T.treeObj.height()+10>=n,V=q&&T.treeObj.scrollLeft()<=0,$=z&&T.treeObj.scrollLeft()+T.treeObj.width()+10>=f;if(t.target.id&&T.treeObj.find("#"+t.target.id).length>0){for(var J=t.target;J&&J.tagName&&!r.eqs(J.tagName,"li")&&J.id!=T.treeId;)J=J.parentNode;var Y=!0;for(n=0,u=y.length;n<u;n++){if(f=y[n],J.id===f.tId){Y=!1;break}if(e("#"+f.tId).find("#"+J.id).length>0){Y=!1;break}}Y&&t.target.id&&(t.target.id==J.id+i.id.A||e(t.target).parents("#"+J.id+i.id.A).length>0)&&(S=e(J),O=J.id)}f=y[0],H&&(t.target.id==T.treeId||e(t.target).parents("#"+T.treeId).length>0)&&(!S&&(t.target.id==T.treeId||F||I||V||$)&&(x||!x&&f.parentTId)&&(S=T.treeObj),h?T.treeObj.scrollTop(T.treeObj.scrollTop()-10):v&&T.treeObj.scrollTop(T.treeObj.scrollTop()+10),q?T.treeObj.scrollLeft(T.treeObj.scrollLeft()-10):z&&T.treeObj.scrollLeft(T.treeObj.scrollLeft()+10),S&&S!=T.treeObj&&S.offset().left<T.treeObj.offset().left&&T.treeObj.scrollLeft(T.treeObj.scrollLeft()+S.offset().left-T.treeObj.offset().left)),w.css({top:t.clientY+m+3+"px",left:t.clientX+l+3+"px"}),l=n=0;if(S&&S.attr("id")!=T.treeId){var et=O==null?null:o.getNodeCache(T,O);u=t.ctrlKey&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy,n=!!N&&O===N.tId,h=!!C&&O===C.tId,l=f.parentTId&&f.parentTId==O,f=(u||!h)&&r.apply(T.edit.drag.prev,[T.treeId,y,et],!!T.edit.drag.prev),n=(u||!n)&&r.apply(T.edit.drag.next,[T.treeId,y,et],!!T.edit.drag.next),h=(u||!l)&&(!T.data.keep.leaf||!!et.isParent)&&r.apply(T.edit.drag.inner,[T.treeId,y,et],!!T.edit.drag.inner);if(!f&&!n&&!h){if(S=null,O="",M=i.move.TYPE_INNER,E.css({display:"none"}),window.zTreeMoveTimer)clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null}else{u=e("#"+O+i.id.A,S),u.addClass(i.node.TMPTARGET_NODE),l=f?h?.25:n?.5:1:-1,h=n?h?.75:f?.5:0:-1,t=(t.clientY+m-u.offset().top)/u.height(),(l==1||t<=l&&t>=-0.2)&&f?(n=1-E.width(),l=0-E.height()/2,M=i.move.TYPE_PREV):(h==0||t>=h&&t<=1.2)&&n?(n=1-E.width(),l=u.height()-E.height()/2,M=i.move.TYPE_NEXT):(n=5-E.width(),l=0,M=i.move.TYPE_INNER),E.css({display:"block",top:u.offset().top+l+"px",left:u.offset().left+n+"px"});if(L!=O||A!=M)P=(new Date).getTime();et&&et.isParent&&M==i.move.TYPE_INNER&&(t=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==et.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===et.tId&&(t=!1),t)&&(window.zTreeMoveTimer=setTimeout(function(){M==i.move.TYPE_INNER&&et&&et.isParent&&!et.open&&(new Date).getTime()-P>T.edit.drag.autoOpenTime&&r.apply(T.callback.beforeDragOpen,[T.treeId,et],!0)&&(s.switchNode(T,et),T.edit.drag.autoExpandTrigger&&T.treeObj.trigger(i.event.EXPAND,[T.treeId,et]))},T.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=et.tId)}}else if(M=i.move.TYPE_INNER,S&&r.apply(T.edit.drag.inner,[T.treeId,y,null],!!T.edit.drag.inner)?S.addClass(i.node.TMPTARGET_TREE):S=null,E.css({display:"none"}),window.zTreeMoveTimer)clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null;L=O,A=M}return!1}function a(t){window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),A=L=null,b.unbind("mousemove",u),b.unbind("mouseup",a),b.unbind("selectstart",f),e("body").css("cursor","auto"),S&&(S.removeClass(i.node.TMPTARGET_TREE),O&&e("#"+O+i.id.A,S).removeClass(i.node.TMPTARGET_NODE)),r.showIfameMask(p,!1),d.showHoverDom=!0;if(d.dragFlag!=0){d.dragFlag=0;var n,l,h;for(n=0,l=y.length;n<l;n++)h=y[n],h.isParent&&d.dragNodeShowBefore[h.tId]&&!h.open&&(s.expandCollapseNode(p,h,!h.open),delete d.dragNodeShowBefore[h.tId]);w&&w.remove(),E&&E.remove();var v=t.ctrlKey&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy;!v&&S&&O&&y[0].parentTId&&O==y[0].parentTId&&M==i.move.TYPE_INNER&&(S=null);if(S){var m=O==null?null:o.getNodeCache(T,O);if(r.apply(p.callback.beforeDrop,[T.treeId,y,m,M],!0)!=0){var N=v?r.clone(y):y,t=function(){if(x){if(!v)for(var t=0,n=y.length;t<n;t++)s.removeNode(p,y[t]);if(M==i.move.TYPE_INNER)s.addNodes(T,m,N);else if(s.addNodes(T,m.getParentNode(),N),M==i.move.TYPE_PREV)for(t=0,n=N.length;t<n;t++)s.moveNode(T,m,N[t],M,!1);else for(t=-1,n=N.length-1;t<n;n--)s.moveNode(T,m,N[n],M,!1)}else if(v&&M==i.move.TYPE_INNER)s.addNodes(T,m,N);else if(v&&s.addNodes(T,m.getParentNode(),N),M==i.move.TYPE_PREV)for(t=0,n=N.length;t<n;t++)s.moveNode(T,m,N[t],M,!1);else for(t=-1,n=N.length-1;t<n;n--)s.moveNode(T,m,N[n],M,!1);for(t=0,n=N.length;t<n;t++)s.selectNode(T,N[t],t>0);e("#"+N[0].tId+i.id.ICON).focus().blur()};M==i.move.TYPE_INNER&&r.canAsync(T,m)?s.asyncNode(T,m,!1,t):t(),p.treeObj.trigger(i.event.DROP,[T.treeId,N,m,M])}}else{for(n=0,l=y.length;n<l;n++)s.selectNode(T,y[n],n>0);p.treeObj.trigger(i.event.DROP,[p.treeId,null,null,null])}}}function f(){return!1}var l,h,p=o.getSetting(t.data.treeId),d=o.getRoot(p);if(t.button==2||!p.edit.enable||!p.edit.drag.isCopy&&!p.edit.drag.isMove)return!0;var v=t.target,m=o.getRoot(p).curSelectedList,y=[];if(o.isSelectedNode(p,n))for(l=0,h=m.length;l<h;l++){if(m[l].editNameFlag&&r.eqs(v.tagName,"input")&&v.getAttribute("treeNode"+i.id.INPUT)!==null)return!0;y.push(m[l]);if(y[0].parentTId!==m[l].parentTId){y=[n];break}}else y=[n];s.editNodeBlur=!0,s.cancelCurEditNode(p,null,!0);var b=e(document),w,E,S,x=!1,T=p,N,C,L=null,A=null,O=null,M=i.move.TYPE_INNER,_=t.clientX,D=t.clientY,P=(new Date).getTime();return r.uCanDo(p)&&b.bind("mousemove",u),b.bind("mouseup",a),b.bind("selectstart",f),t.preventDefault&&t.preventDefault(),!0}},n={tools:{getAbs:function(e){return e=e.getBoundingClientRect(),[e.left,e.top]},inputFocus:function(e){e.get(0)&&(e.focus(),r.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(t,n){for(var i=o.getRoot(t);i.dragMaskList.length>0;)i.dragMaskList[0].remove(),i.dragMaskList.shift();if(n)for(var s=e("iframe"),u=0,a=s.length;u<a;u++){var f=s.get(u),l=r.getAbs(f),f=e("<div id='zTreeMask_"+u+"' class='zTreeMask' style='background-color:yellow;opacity: 0.3;filter: alpha(opacity=30);    top:"+l[1]+"px; left:"+l[0]+"px; width:"+f.offsetWidth+"px; height:"+f.offsetHeight+"px;'></div>");f.appendTo("body"),i.dragMaskList.push(f)}}},view:{addEditBtn:function(t,n){if(!(n.editNameFlag||e("#"+n.tId+i.id.EDIT).length>0)&&r.apply(t.edit.showRenameBtn,[t.treeId,n],t.edit.showRenameBtn)){var o=e("#"+n.tId+i.id.A),u="<button type='button' class='edit' id='"+n.tId+i.id.EDIT+"' title='"+r.apply(t.edit.renameTitle,[t.treeId,n],t.edit.renameTitle)+"' treeNode"+i.id.EDIT+" onfocus='this.blur();' style='display:none;'></button>";o.append(u),e("#"+n.tId+i.id.EDIT).bind("click",function(){return!r.uCanDo(t)||r.apply(t.callback.beforeEditName,[t.treeId,n],!0)==0?!0:(s.editNode(t,n),!1)}).show()}},addRemoveBtn:function(t,n){if(!(n.editNameFlag||e("#"+n.tId+i.id.REMOVE).length>0)&&r.apply(t.edit.showRemoveBtn,[t.treeId,n],t.edit.showRemoveBtn)){var o=e("#"+n.tId+i.id.A),u="<button type='button' class='remove' id='"+n.tId+i.id.REMOVE+"' title='"+r.apply(t.edit.removeTitle,[t.treeId,n],t.edit.removeTitle)+"' treeNode"+i.id.REMOVE+" onfocus='this.blur();' style='display:none;'></button>";o.append(u),e("#"+n.tId+i.id.REMOVE).bind("click",function(){return!r.uCanDo(t)||r.apply(t.callback.beforeRemove,[t.treeId,n],!0)==0?!0:(s.removeNode(t,n),t.treeObj.trigger(i.event.REMOVE,[t.treeId,n]),!1)}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){o.getRoot(e).showHoverDom&&(t.isHover=!0,e.edit.enable&&(s.addEditBtn(e,t),s.addRemoveBtn(e,t)),r.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(t,n){var u=o.getRoot(t),a=t.data.key.name,f=u.curEditNode;if(f){var l=u.curEditInput,h=n?n:l.val();if(!n&&r.apply(t.callback.beforeRename,[t.treeId,f,h],!0)===!1)return f.editNameFlag=!0,!1;f[a]=h?h:l.val(),n||t.treeObj.trigger(i.event.RENAME,[t.treeId,f]),e("#"+f.tId+i.id.A).removeClass(i.node.CURSELECTED_EDIT),l.unbind(),s.setNodeName(t,f),f.editNameFlag=!1,u.curEditNode=null,u.curEditInput=null,s.selectNode(t,f,!1)}return u.noSelection=!0},editNode:function(t,n){var u=o.getRoot(t);s.editNodeBlur=!1;if(o.isSelectedNode(t,n)&&u.curEditNode==n&&n.editNameFlag)setTimeout(function(){r.inputFocus(u.curEditInput)},0);else{var a=t.data.key.name;n.editNameFlag=!0,s.removeTreeDom(t,n),s.cancelCurEditNode(t),s.selectNode(t,n,!1),e("#"+n.tId+i.id.SPAN).html("<input type=text class='rename' id='"+n.tId+i.id.INPUT+"' treeNode"+i.id.INPUT+" >");var f=e("#"+n.tId+i.id.INPUT);f.attr("value",n[a]),t.edit.editNameSelectAll?r.inputSelect(f):r.inputFocus(f),f.bind("blur",function(){s.editNodeBlur||s.cancelCurEditNode(t)}).bind("keydown",function(e){e.keyCode=="13"?(s.editNodeBlur=!0,s.cancelCurEditNode(t,null,!0)):e.keyCode=="27"&&s.cancelCurEditNode(t,n[a])}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),e("#"+n.tId+i.id.A).addClass(i.node.CURSELECTED_EDIT),u.curEditInput=f,u.noSelection=!1,u.curEditNode=n}},moveNode:function(t,n,r,u,a,f){var l=o.getRoot(t),h=t.data.key.children;if(n!=r&&(!t.data.keep.leaf||!n||n.isParent||u!=i.move.TYPE_INNER)){var p=r.parentTId?r.getParentNode():l,d=n===null||n==l;d&&n===null&&(n=l),d&&(u=i.move.TYPE_INNER),l=n.parentTId?n.getParentNode():l,u!=i.move.TYPE_PREV&&u!=i.move.TYPE_NEXT&&(u=i.move.TYPE_INNER);var v,m;d?m=v=t.treeObj:f||(u==i.move.TYPE_INNER?s.expandCollapseNode(t,n,!0,!1):s.expandCollapseNode(t,n.getParentNode(),!0,!1),v=e("#"+n.tId),m=e("#"+n.tId+i.id.UL));var g=e("#"+r.tId).remove();m&&u==i.move.TYPE_INNER?m.append(g):v&&u==i.move.TYPE_PREV?v.before(g):v&&u==i.move.TYPE_NEXT&&v.after(g);var y=-1,b=0,w=null;v=null;var E=r.level;if(r.isFirstNode){if(y=0,p[h].length>1)w=p[h][1],w.isFirstNode=!0}else if(r.isLastNode)y=p[h].length-1,w=p[h][y-1],w.isLastNode=!0;else for(m=0,g=p[h].length;m<g;m++)if(p[h][m].tId==r.tId){y=m;break}y>=0&&p[h].splice(y,1);if(u!=i.move.TYPE_INNER)for(m=0,g=l[h].length;m<g;m++)l[h][m].tId==n.tId&&(b=m);u==i.move.TYPE_INNER?(d?r.parentTId=null:(n.isParent=!0,n.open=!1,r.parentTId=n.tId),n[h]||(n[h]=[]),n[h].length>0&&(v=n[h][n[h].length-1],v.isLastNode=!1),n[h].splice(n[h].length,0,r),r.isLastNode=!0,r.isFirstNode=n[h].length==1):n.isFirstNode&&u==i.move.TYPE_PREV?(l[h].splice(b,0,r),v=n,v.isFirstNode=!1,r.parentTId=n.parentTId,r.isFirstNode=!0,r.isLastNode=!1):n.isLastNode&&u==i.move.TYPE_NEXT?(l[h].splice(b+1,0,r),v=n,v.isLastNode=!1,r.parentTId=n.parentTId,r.isFirstNode=!1,r.isLastNode=!0):(u==i.move.TYPE_PREV?l[h].splice(b,0,r):l[h].splice(b+1,0,r),r.parentTId=n.parentTId,r.isFirstNode=!1,r.isLastNode=!1),o.fixPIdKeyValue(t,r),o.setSonNodeLevel(t,r.getParentNode(),r),s.setNodeLineIcos(t,r),s.repairNodeLevelClass(t,r,E),!t.data.keep.parent&&p[h].length<1?(p.isParent=!1,p.open=!1,n=e("#"+p.tId+i.id.UL),u=e("#"+p.tId+i.id.SWITCH),h=e("#"+p.tId+i.id.ICON),s.replaceSwitchClass(p,u,i.folder.DOCU),s.replaceIcoClass(p,h,i.folder.DOCU),n.css("display","none")):w&&s.setNodeLineIcos(t,w),v&&s.setNodeLineIcos(t,v),t.check.enable&&s.repairChkClass&&(s.repairChkClass(t,p),s.repairParentChkClassWithSelf(t,p),p!=r.parent&&s.repairParentChkClassWithSelf(t,r)),f||s.expandCollapseParentNode(t,r.getParentNode(),!0,a)}},removeChildNodes:function(t,n){if(n){var r=t.data.key.children,u=n[r];if(u){e("#"+n.tId+i.id.UL).remove();for(var a=0,f=u.length;a<f;a++)o.removeNodeCache(t,u[a]);o.removeSelectedNode(t),delete n[r],t.data.keep.parent||(n.isParent=!1,n.open=!1,r=e("#"+n.tId+i.id.SWITCH),u=e("#"+n.tId+i.id.ICON),s.replaceSwitchClass(n,r,i.folder.DOCU),s.replaceIcoClass(n,u,i.folder.DOCU))}}},removeEditBtn:function(t){e("#"+t.tId+i.id.EDIT).unbind().remove()},removeNode:function(t,n){var r=o.getRoot(t),u=t.data.key.children,a=n.parentTId?n.getParentNode():r;r.curEditNode===n&&(r.curEditNode=null),n.isFirstNode=!1,n.isLastNode=!1,n.getPreNode=function(){return null},n.getNextNode=function(){return null},e("#"+n.tId).remove(),o.removeNodeCache(t,n),o.removeSelectedNode(t,n);for(var f=0,l=a[u].length;f<l;f++)if(a[u][f].tId==n.tId){a[u].splice(f,1);break}var h;if(!t.data.keep.parent&&a[u].length<1)a.isParent=!1,a.open=!1,f=e("#"+a.tId+i.id.UL),l=e("#"+a.tId+i.id.SWITCH),h=e("#"+a.tId+i.id.ICON),s.replaceSwitchClass(a,l,i.folder.DOCU),s.replaceIcoClass(a,h,i.folder.DOCU),f.css("display","none");else if(t.view.showLine&&a[u].length>0){var p=a[u][a[u].length-1];p.isLastNode=!0,p.isFirstNode=a[u].length==1,f=e("#"+p.tId+i.id.UL),l=e("#"+p.tId+i.id.SWITCH),h=e("#"+p.tId+i.id.ICON),a==r?a[u].length==1?s.replaceSwitchClass(p,l,i.line.ROOT):(r=e("#"+a[u][0].tId+i.id.SWITCH),s.replaceSwitchClass(a[u][0],r,i.line.ROOTS),s.replaceSwitchClass(p,l,i.line.BOTTOM)):s.replaceSwitchClass(p,l,i.line.BOTTOM),f.removeClass(i.line.LINE)}},removeRemoveBtn:function(t){e("#"+t.tId+i.id.REMOVE).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,s.removeEditBtn(t),s.removeRemoveBtn(t),r.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(t,n,r){if(r!==n.level){var t=e("#"+n.tId),s=e("#"+n.tId+i.id.A),o=e("#"+n.tId+i.id.UL),r="level"+r,n="level"+n.level;t.removeClass(r),t.addClass(n),s.removeClass(r),s.addClass(n),o.removeClass(r),o.addClass(n)}}},event:n,data:{setSonNodeLevel:function(e,t,n){if(n){var r=e.data.key.children;n.level=t?t.level+1:0;if(n[r])for(var t=0,i=n[r].length;t<i;t++)n[r][t]&&o.setSonNodeLevel(e,n,n[r][t])}}}};e.extend(!0,e.fn.zTree.consts,{event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}}),e.extend(!0,e.fn.zTree._z,n);var n=e.fn.zTree,r=n._z.tools,i=n.consts,s=n._z.view,o=n._z.data,n=n._z.event;o.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRemove:null,beforeRename:null,onDrag:null,onDrop:null,onRemove:null,onRename:null}}),o.addInitBind(function(e){var t=e.treeObj,n=i.event;t.unbind(n.RENAME),t.bind(n.RENAME,function(t,n,i){r.apply(e.callback.onRename,[t,n,i])}),t.unbind(n.REMOVE),t.bind(n.REMOVE,function(t,n,i){r.apply(e.callback.onRemove,[t,n,i])}),t.unbind(n.DRAG),t.bind(n.DRAG,function(t,n,i){r.apply(e.callback.onDrag,[t,n,i])}),t.unbind(n.DROP),t.bind(n.DROP,function(t,n,i,s,o){r.apply(e.callback.onDrop,[t,n,i,s,o])})}),o.addInitCache(function(){}),o.addInitNode(function(e,t,n){n&&(n.isHover=!1,n.editNameFlag=!1)}),o.addInitProxy(function(e){var n=e.target,s=o.getSetting(e.data.treeId),u=e.relatedTarget,a="",f=null,l="",h=null,p=null;if(r.eqs(e.type,"mouseover")){if(p=r.getMDom(s,n,[{tagName:"a",attrName:"treeNode"+i.id.A}]))a=p.parentNode.id,l="hoverOverNode"}else r.eqs(e.type,"mouseout")?(p=r.getMDom(s,u,[{tagName:"a",attrName:"treeNode"+i.id.A}]),p||(a="remove",l="hoverOutNode")):r.eqs(e.type,"mousedown")&&(p=r.getMDom(s,n,[{tagName:"a",attrName:"treeNode"+i.id.A}]))&&(a=p.parentNode.id,l="mousedownNode");if(a.length>0)switch(f=o.getNodeCache(s,a),l){case"mousedownNode":h=t.onMousedownNode;break;case"hoverOverNode":h=t.onHoverOverNode;break;case"hoverOutNode":h=t.onHoverOutNode}return{stop:!1,node:f,nodeEventType:l,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}}),o.addInitRoot(function(e){e=o.getRoot(e),e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=[],e.showHoverDom=!0}),o.addZTreeTools(function(t,n){n.addNodes=function(e,n,i){function o(){s.addNodes(t,e,u,i==1)}if(!n)return null;e||(e=null);if(e&&!e.isParent&&t.data.keep.leaf)return null;var u=r.clone(r.isArray(n)?n:[n]);return t.async.enable&&r.canAsync(t,e)?s.asyncNode(t,e,i,o):o(),u},n.cancelEditName=function(e){var n=o.getRoot(t),r=t.data.key.name,i=n.curEditNode;n.curEditNode&&s.cancelCurEditNode(t,e?e:i[r])},n.copyNode=function(e,n,o,u){if(!n)return null;if(e&&!e.isParent&&t.data.keep.leaf&&o===i.move.TYPE_INNER)return null;var a=r.clone(n);return e||(e=null,o=i.move.TYPE_INNER),o==i.move.TYPE_INNER?(n=function(){s.addNodes(t,e,[a],u)},t.async.enable&&r.canAsync(t,e)?s.asyncNode(t,e,u,n):n()):(s.addNodes(t,e.parentNode,[a],u),s.moveNode(t,e,a,o,!1,u)),a},n.editName=function(e){e&&e.tId&&e===o.getNodeCache(t,e.tId)&&(e.parentTId&&s.expandCollapseParentNode(t,e.getParentNode(),!0),s.editNode(t,e))},n.moveNode=function(n,o,u,a){function f(){s.moveNode(t,n,o,u,!1,a)}return o?n&&!n.isParent&&t.data.keep.leaf&&u===i.move.TYPE_INNER?null:n&&(o.parentTId==n.tId&&u==i.move.TYPE_INNER||e("#"+o.tId).find("#"+n.tId).length>0)?null:(n||(n=null),t.async.enable&&r.canAsync(t,n)?s.asyncNode(t,n,a,f):f(),o):o},n.removeNode=function(e,n){e&&(n=!!n,n&&r.apply(t.callback.beforeRemove,[t.treeId,e],!0)==0||(s.removeNode(t,e),n&&this.setting.treeObj.trigger(i.event.REMOVE,[t.treeId,e])))},n.removeChildNodes=function(e){if(!e)return null;var n=e[t.data.key.children];return s.removeChildNodes(t,e),n?n:null},n.setEditable=function(e){return t.edit.enable=e,this.refresh()}});var u=s.cancelPreSelectedNode;s.cancelPreSelectedNode=function(e,t){for(var n=o.getRoot(e).curSelectedList,r=0,i=n.length;r<i;r++)if(!t||t===n[r])if(s.removeTreeDom(e,n[r]),t)break;u&&u.apply(s,arguments)};var a=s.createNodes;s.createNodes=function(e,t,n,r){a&&a.apply(s,arguments),n&&s.repairParentChkClassWithSelf&&s.repairParentChkClassWithSelf(e,r)},s.makeNodeUrl=function(e,t){return t.url&&!e.edit.enable?t.url:null};var f=s.selectNode;s.selectNode=function(e,t,n){var r=o.getRoot(e);return o.isSelectedNode(e,t)&&r.curEditNode==t&&t.editNameFlag?!1:(f&&f.apply(s,arguments),s.addHoverDom(e,t),!0)};var l=r.uCanDo;r.uCanDo=function(e,t){var n=o.getRoot(e);return t&&(r.eqs(t.type,"mouseover")||r.eqs(t.type,"mouseout")||r.eqs(t.type,"mousedown")||r.eqs(t.type,"mouseup"))?!0:!n.curEditNode&&(l?l.apply(s,arguments):!0)}}(jQuery),function(e){e.event.special.mousewheel={setup:function(){var t=e.event.special.mousewheel.handler;e.browser.mozilla&&e(this).bind("mousemove.mousewheel",function(t){e.data(this,"mwcursorposdata",{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY})}),this.addEventListener?this.addEventListener(e.browser.mozilla?"DOMMouseScroll":"mousewheel",t,!1):this.onmousewheel=t},teardown:function(){var t=e.event.special.mousewheel.handler;e(this).unbind("mousemove.mousewheel"),this.removeEventListener?this.removeEventListener(e.browser.mozilla?"DOMMouseScroll":"mousewheel",t,!1):this.onmousewheel=function(){},e.removeData(this,"mwcursorposdata")},handler:function(t){var n=Array.prototype.slice.call(arguments,1);t=e.event.fix(t||window.event),e.extend(t,e.data(this,"mwcursorposdata")||{});var r=0,i=!0;return t.wheelDelta&&(r=t.wheelDelta/120),t.detail&&(r=-t.detail/3),e.browser.opera&&(r=-t.wheelDelta),t.data=t.data||{},t.type="mousewheel",n.unshift(r),n.unshift(t),e.event.handle.apply(this,n)}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){function n(t){function n(e){var t=e.style;return t.display!="none"&&t.visibility!="hidden"}var r=n(t);return r&&e.each(e.dir(t,"parentNode"),function(){return r=n(this)}),r}function i(t,n,r,i){function s(r){var i=e[t][n][r]||[];return typeof i=="string"?i.split(/,?\s+/):i}var o=s("getter");return i.length==1&&typeof i[0]=="string"&&(o=o.concat(s("getterSetter"))),e.inArray(r,o)!=-1}var t=e.fn.remove;e.fn.remove=function(){return e("*",this).add(this).each(function(){e(this).triggerHandler("remove")}),t.apply(this,arguments)},e.extend(e.expr[":"],{data:function(t,n,r){return e.data(t,r[3])},tabbable:function(e,t,r){var i=e.nodeName.toLowerCase();return e.tabIndex>=0&&("a"==i&&e.href||/input|select|textarea|button/.test(i)&&"hidden"!=e.type&&!e.disabled)&&n(e)}}),e.keyCode={BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38};var r=e.browser.mozilla&&parseFloat(e.browser.version)<1.9;e.fn.extend({ariaRole:function(e){return e!==undefined?this.attr("role",r?"wairole:"+e:e):(this.attr("role")||"").replace(/^wairole:/,"")},ariaState:function(t,n){return n!==undefined?this.each(function(i,s){r?s.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+t,n):e(s).attr("aria-"+t,n)}):this.attr(r?"aaa:"+t:"aria-"+t)}}),e.widget=function(t,n){var r=t.split(".")[0];t=t.split(".")[1],e.fn[t]=function(n){var s=typeof n=="string",o=Array.prototype.slice.call(arguments,1);if(s&&n.substring(0,1)=="_")return this;if(s&&i(r,t,n,o)){var u=e.data(this[0],t);return u?u[n].apply(u,o):undefined}return this.each(function(){var i=e.data(this,t);!i&&!s&&e.data(this,t,new e[r][t](this,n)),i&&s&&e.isFunction(i[n])&&i[n].apply(i,o)})},e[r]=e[r]||{},e[r][t]=function(n,i){var s=this;this.widgetName=t,this.widgetEventPrefix=e[r][t].eventPrefix||t,this.widgetBaseClass=r+"-"+t,this.options=e.extend({},e.widget.defaults,e[r][t].defaults,e.metadata&&e.metadata.get(n)[t],i),this.element=e(n).bind("setData."+t,function(e,t,n){return s._setData(t,n)}).bind("getData."+t,function(e,t){return s._getData(t)}).bind("remove",function(){return s.destroy()}),this._init()},e[r][t].prototype=e.extend({},e.widget.prototype,n),e[r][t].getterSetter="option"},e.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName)},option:function(t,n){var r=t,i=this;if(typeof t=="string"){if(n===undefined)return this._getData(t);r={},r[t]=n}e.each(r,function(e,t){i._setData(e,t)})},_getData:function(e){return this.options[e]},_setData:function(e,t){this.options[e]=t,e=="disabled"&&this.element[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")},enable:function(){this._setData("disabled",!1)},disable:function(){this._setData("disabled",!0)},_trigger:function(t,n,r){var i=t==this.widgetEventPrefix?t:this.widgetEventPrefix+t;return n=n||e.event.fix({type:i,target:this.element[0]}),this.element.triggerHandler(i,[n,r],this.options[t])}},e.widget.defaults={disabled:!1},e.ui={plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var s in r)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,r[s]])},call:function(e,t,n){var r=e.plugins[t];if(!r)return;for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},cssCache:{},css:function(t){if(e.ui.cssCache[t])return e.ui.cssCache[t];var n=e('<div class="ui-gen">').addClass(t).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");e.ui.cssCache[t]=!!(!/auto|default/.test(n.css("cursor"))||/^[1-9]/.test(n.css("height"))||/^[1-9]/.test(n.css("width"))||!/none/.test(n.css("backgroundImage"))||!/transparent|rgba\(0, 0, 0, 0\)/.test(n.css("backgroundColor")));try{e("body").get(0).removeChild(n.get(0))}catch(r){}return e.ui.cssCache[t]},disableSelection:function(t){return e(t).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},enableSelection:function(t){return e(t).attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},hasScroll:function(t,n){if(e(t).css("overflow")=="hidden")return!1;var r=n&&n=="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}},e.ui.mouse={_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}),e.browser.msie&&(this._mouseUnselectable=this.element.attr("unselectable"),this.element.attr("unselectable","on")),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(t){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=t.which==1,i=typeof this.options.cancel=="string"?e(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;if(!r||i||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),!1},_mouseMove:function(t){return e.browser.msie&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),!1):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}},e.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery),function(e){e.widget("ui.spinner",{_init:function(){this._trigger("init",null,this.ui(null));if(typeof this.options.items[0]=="object"&&!this.element.is("input")){var t=this.options.items;for(var n=0;n<t.length;n++)this._addItem(t[n])}this._decimals=parseInt(this.options.decimals,10);if(this.options.stepping.toString().indexOf(".")!=-1){var r=this.options.stepping.toString();this._decimals=r.slice(r.indexOf(".")+1,r.length).length}var i=this;this.element.addClass("ui-spinner-box").attr("autocomplete","off"),this._setValue(isNaN(this._getValue())?this.options.start:this._getValue()),this.element.wrap("<div>").parent().addClass("ui-spinner").append('<button class="ui-spinner-up" type="button"></button>').find(".ui-spinner-up").bind("mousedown",function(t){e(this).addClass("ui-spinner-pressed"),i.counter||(i.counter=1),i._mousedown(100,"_up",t)}).bind("mouseup",function(t){e(this).removeClass("ui-spinner-pressed"),i.counter==1&&i._up(t),i._mouseup(t)}).bind("mouseout",function(t){e(this).removeClass("ui-spinner-pressed"),i.timer&&i._mouseup(t)}).bind("dblclick",function(t){e(this).removeClass("ui-spinner-pressed"),i._up(t),i._mouseup(t)}).bind("keydown.spinner",function(t){var n=e.keyCode;t.keyCode==n.SPACE||t.keyCode==n.ENTER?(e(this).addClass("ui-spinner-pressed"),i.counter||(i.counter=1),i._up.call(i,t)):t.keyCode==n.DOWN||t.keyCode==n.RIGHT?i.element.siblings(".ui-spinner-down").focus():t.keyCode==n.LEFT&&i.element.focus()}).bind("keyup.spinner",function(t){e(this).removeClass("ui-spinner-pressed"),i.counter=0,i._propagate("change",t)}).end().append('<button class="ui-spinner-down" type="button"></button>').find(".ui-spinner-down").bind("mousedown",function(t){e(this).addClass("ui-spinner-pressed"),i.counter||(i.counter=1),i._mousedown(100,"_down",t)}).bind("mouseup",function(t){e(this).removeClass("ui-spinner-pressed"),i.counter==1&&i._down(),i._mouseup(t)}).bind("mouseout",function(t){e(this).removeClass("ui-spinner-pressed"),i.timer&&i._mouseup(t)}).bind("dblclick",function(t){e(this).removeClass("ui-spinner-pressed"),i._down(t),i._mouseup(t)}).bind("keydown.spinner",function(t){var n=e.keyCode;t.keyCode==n.SPACE||t.keyCode==n.ENTER?(e(this).addClass("ui-spinner-pressed"),i.counter||(i.counter=1),i._down.call(i,t)):(t.keyCode==n.UP||t.keyCode==n.LEFT)&&i.element.siblings(".ui-spinner-up").focus()}).bind("keyup.spinner",function(t){e(this).removeClass("ui-spinner-pressed"),i.counter=0,i._propagate("change",t)}).end(),this._items=this.element.children().length;if(this._items>1){var s=this.element.outerHeight()/this._items;this.element.addClass("ui-spinner-list").height(s).children().addClass("ui-spinner-listitem").height(s).css("overflow","hidden").end().parent().height(s).end(),this.options.stepping=1,this.options.min=0,this.options.max=this._items-1}this.element.bind("keydown.spinner",function(e){return i.counter||(i.counter=1),i._keydown.call(i,e)}).bind("keyup.spinner",function(e){i.counter=0,i._propagate("change",e)}).bind("blur.spinner",function(e){i._cleanUp()}),e.fn.mousewheel&&this.element.mousewheel(function(e,t){i._mousewheel(e,t)})},_constrain:function()
{this.options.min!=undefined&&this._getValue()<this.options.min&&this._setValue(this.options.min),this.options.max!=undefined&&this._getValue()>this.options.max&&this._setValue(this.options.max)},_cleanUp:function(){this._setValue(this._getValue()),this._constrain()},_spin:function(e,t){if(this.disabled)return;isNaN(this._getValue())&&this._setValue(this.options.start),this._setValue(this._getValue()+(e=="up"?1:-1)*(this.options.incremental&&this.counter>100?this.counter>200?100:10:1)*this.options.stepping),this._animate(e),this._constrain(),this.counter&&this.counter++,this._propagate("spin",t)},_down:function(e){this._spin("down",e),this._propagate("down",e)},_up:function(e){this._spin("up",e),this._propagate("up",e)},_mousedown:function(e,t,n){var r=this;e=e||100,this.timer&&(window.clearInterval(this.timer),this.timer=0),this.timer=window.setInterval(function(){r[t](n),r.counter>20&&r._mousedown(20,t,n)},e)},_mouseup:function(e){this.counter=0,this.timer&&(window.clearInterval(this.timer),this.timer=0),this.element[0].focus(),this._propagate("change",e)},_keydown:function(t){var n=e.keyCode;return t.keyCode==n.UP&&this._up(t),t.keyCode==n.DOWN&&this._down(t),t.keyCode==n.HOME&&this._setValue(this.options.min||this.options.start),t.keyCode==n.END&&this.options.max!=undefined&&this._setValue(this.options.max),t.keyCode==n.TAB||t.keyCode==n.BACKSPACE||t.keyCode==n.LEFT||t.keyCode==n.RIGHT||t.keyCode==n.PERIOD||t.keyCode==n.NUMPAD_DECIMAL||t.keyCode==n.NUMPAD_SUBTRACT||t.keyCode>=96&&t.keyCode<=105||/[0-9\-\.]/.test(String.fromCharCode(t.keyCode))?!0:!1},_mousewheel:function(t,n){var r=this;n=e.browser.opera?-n/Math.abs(n):n,n>0?r._up(t):r._down(t),r.timeout&&(window.clearTimeout(r.timeout),r.timeout=0),r.timeout=window.setTimeout(function(){r._propagate("change",t)},400),t.preventDefault()},_getValue:function(){return parseFloat(this.element.val().replace(/[^0-9\-\.]/g,""))},_setValue:function(t){isNaN(t)&&(t=this.options.start),this.element.val(this.options.currency?e.ui.spinner.format.currency(t,this.options.currency):e.ui.spinner.format.number(t,this._decimals))},_animate:function(e){this.element.hasClass("ui-spinner-list")&&(e=="up"&&this._getValue()<=this.options.max||e=="down"&&this._getValue()>=this.options.min)&&this.element.animate({marginTop:"-"+this._getValue()*this.element.parent().height()},{duration:"fast",queue:!1})},_addItem:function(e,t){if(!this.element.is("input")){var n="div";if(this.element.is("ol")||this.element.is("ul"))n="li";var r=e;if(typeof e=="object"){var i=t!==undefined?t:this.options.format;r=i.replace(/%(\(([^)]+)\))?/g,function(e){return function(t,n,r){if(!!r)return e[r];for(var i in e)return e[i]}}(e))}this.element.append("<"+n+' class="ui-spinner-data">'+r+"</"+n+">")}},plugins:{},ui:function(e){return{options:this.options,element:this.element,value:this._getValue(),add:this._addItem}},_propagate:function(t,n){return e.ui.plugin.call(this,t,[n,this.ui()]),this.element.triggerHandler(t=="spin"?t:"spin"+t,[n,this.ui()],this.options[t])},destroy:function(){if(!e.data(this.element[0],"spinner"))return;e.fn.mousewheel&&this.element.unmousewheel(),this.element.removeClass("ui-spinner-box ui-spinner-list").removeAttr("disabled").removeAttr("autocomplete").removeData("spinner").unbind(".spinner").siblings().remove().end().children().removeClass("ui-spinner-listitem").remove(".ui-spinner-data").end().parent().removeClass("ui-spinner ui-spinner-disabled").before(this.element.clone()).remove().end()},enable:function(){this.element.removeAttr("disabled").siblings().removeAttr("disabled").parent().removeClass("ui-spinner-disabled"),this.disabled=!1},disable:function(){this.element.attr("disabled",!0).siblings().attr("disabled",!0).parent().addClass("ui-spinner-disabled"),this.disabled=!0}}),e.extend(e.ui.spinner,{defaults:{decimals:0,stepping:1,start:0,incremental:!0,currency:!1,format:"%",items:[]},format:{currency:function(e,t){return e=isNaN(e)?0:e,(e!==Math.abs(e)?"-":"")+t+this.number(Math.abs(e),2)},number:function(e,t){var n=/(\d+)(\d{3})/;for(e=isNaN(e)?0:parseFloat(e,10).toFixed(t);n.test(e);e=e.replace(n,"$1,$2"));return e}}})}(jQuery),function(e){e.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(t,n,r){n==null&&(n="Alert"),e.alerts._show(n,t,null,"alert",function(e){r&&r(e)})},confirm:function(t,n,r){n==null&&(n="Confirm"),e.alerts._show(n,t,null,"confirm",function(e){r&&r(e)})},prompt:function(t,n,r,i){r==null&&(r="Prompt"),e.alerts._show(r,t,n,"prompt",function(e){i&&i(e)})},_show:function(t,n,r,i,s){e.alerts._hide(),e.alerts._overlay("show"),e("BODY").append('<div id="popup_container"><h5 id="popup_title"></h5><div id="popup_content"><div id="popup_message"></div></div></div>'),e.alerts.dialogClass&&e("#popup_container").addClass(e.alerts.dialogClass);var o=e.browser.msie&&parseInt(e.browser.version)<=6?"absolute":"fixed";e("#popup_container").css({position:o,zIndex:99999,padding:5,margin:0}),e("#popup_title").text(t),e("#popup_content").addClass(i),e("#popup_message").text(n),e("#popup_message").html(e("#popup_message").text().replace(/\n/g,"<br />")),e("#popup_container").css({minWidth:e("#popup_container").outerWidth(),maxWidth:e("#popup_container").outerWidth()}),e.alerts._reposition(),e.alerts._maintainPosition(!0);switch(i){case"alert":e("#popup_message").after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+e.alerts.okButton+'" id="popup_ok" /></div>'),e("#popup_ok").click(function(){e.alerts._hide(),s(!0)}),e("#popup_ok").focus().keypress(function(t){(t.keyCode==13||t.keyCode==27)&&e("#popup_ok").trigger("click")});break;case"confirm":e("#popup_message").after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" class="basicBtn" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>'),e("#popup_ok").click(function(){e.alerts._hide(),s&&s(!0)}),e("#popup_cancel").click(function(){e.alerts._hide(),s&&s(!1)}),e("#popup_ok").focus(),e("#popup_ok, #popup_cancel").keypress(function(t){t.keyCode==13&&e("#popup_ok").trigger("click"),t.keyCode==27&&e("#popup_cancel").trigger("click")});break;case"prompt":e("#popup_message").append('<br /><input type="text" size="20" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" class="blueBtn" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" class="basicBtn" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>'),e("#popup_prompt").width(e("#popup_message").width(-10)),e("#popup_ok").click(function(){var t=e("#popup_prompt").val();e.alerts._hide(),s&&s(t)}),e("#popup_cancel").click(function(){e.alerts._hide(),s&&s(null)}),e("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(t){t.keyCode==13&&e("#popup_ok").trigger("click"),t.keyCode==27&&e("#popup_cancel").trigger("click")}),r&&e("#popup_prompt").val(r),e("#popup_prompt").focus().select()}if(e.alerts.draggable)try{e("#popup_container").draggable({handle:e("#popup_title")}),e("#popup_title").css({cursor:"move"})}catch(u){}},_hide:function(){e("#popup_container").remove(),e.alerts._overlay("hide"),e.alerts._maintainPosition(!1)},_overlay:function(t){switch(t){case"show":e.alerts._overlay("hide"),e("BODY").append('<div id="popup_overlay"></div>'),e("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:e(document).height(),background:e.alerts.overlayColor,opacity:e.alerts.overlayOpacity});break;case"hide":e("#popup_overlay").remove()}},_reposition:function(){var t=e(window).height()/2-e("#popup_container").outerHeight()/2+e.alerts.verticalOffset,n=e(window).width()/2-e("#popup_container").outerWidth()/2+e.alerts.horizontalOffset;t<0&&(t=0),n<0&&(n=0),e.browser.msie&&parseInt(e.browser.version)<=6&&(t+=e(window).scrollTop()),e("#popup_container").css({top:t+"px",left:n+"px"}),e("#popup_overlay").height(e(document).height())},_maintainPosition:function(t){if(e.alerts.repositionOnResize)switch(t){case!0:e(window).bind("resize",e.alerts._reposition);break;case!1:e(window).unbind("resize",e.alerts._reposition)}}},jAlert=function(t,n,r){e.alerts.alert(t,n,r)},jConfirm=function(t,n,r){e.alerts.confirm(t,n,r)},jPrompt=function(t,n,r,i){e.alerts.prompt(t,n,r,i)}}(jQuery),function(e){e.jGrowl=function(t,n){e("#jGrowl").size()==0&&e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo("body"),e("#jGrowl").jGrowl(t,n)},e.fn.jGrowl=function(t,n){if(e.isFunction(this.each)){var r=arguments;return this.each(function(){var i=this;e(this).data("jGrowl.instance")==undefined&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(r).slice(1)):e(this).data("jGrowl.instance").create(t,n)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"2px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(e,t,n){},beforeOpen:function(e,t,n){},afterOpen:function(e,t,n){},open:function(e,t,n){},beforeClose:function(e,t,n){},close:function(e,t,n){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var n=e.extend({},this.defaults,n);typeof n.speed!="undefined"&&(n.openDuration=n.speed,n.closeDuration=n.speed),this.notifications.push({message:t,options:n}),n.log.apply(this.element,[this.element,t,n])},render:function(t){var n=this,r=t.message,i=t.options,t=e('<div class="jGrowl-notification '+i.themeState+" ui-corner-all"+(i.group!=undefined&&i.group!=""?" "+i.group:"")+'"><div class="jGrowl-close">'+i.closeTemplate+'</div><div class="jGrowl-header">'+i.header+'</div><div class="jGrowl-message">'+r+"</div></div>").data("jGrowl",i).addClass(i.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){e(this).parent().trigger("jGrowl.close")}).parent();e(t).bind("mouseover.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){i.beforeOpen.apply(t,[t,r,i,n.element])!=0&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){i.open.apply(t,[t,r,i,n.element])!=0&&(i.glue=="after"?e("div.jGrowl-notification:last",n.element).after(t):e("div.jGrowl-notification:first",n.element).before(t),e(this).animate(i.animateOpen,i.openDuration,i.easing,function(){e.browser.msie&&(parseInt(e(this).css("opacity"),10)===1||parseInt(e(this).css("opacity"),10)===0)&&this.style.removeAttribute("filter"),e(this).data("jGrowl")!=null&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){i.afterOpen.apply(t,[t,r,i,n.element])}).bind("jGrowl.beforeClose",function(){i.beforeClose.apply(t,[t,r,i,n.element])!=0&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(i.animateClose,i.closeDuration,i.easing,function(){e.isFunction(i.close)?i.close.apply(t,[t,r,i,n.element])!==!1&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),i.corners!=""&&e.fn.corner!=undefined&&e(t).corner(i.corners),e("div.jGrowl-notification:parent",n.element).size()>1&&e("div.jGrowl-closer",n.element).size()==0&&this.defaults.closer!=0&&e(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(n.defaults.closer)&&n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find("div.jGrowl-notification:parent").each(function(){e(this).data("jGrowl")!=undefined&&e(this).data("jGrowl").created!=undefined&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life)<(new Date).getTime()&&e(this).data("jGrowl").sticky!=1&&(e(this).data("jGrowl.pause")==undefined||e(this).data("jGrowl.pause")!=1)&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(this.defaults.pool==0||e(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),e(this.element).find("div.jGrowl-notification:parent").size()<2&&e(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(t){this.element=e(t).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){e(t).data("jGrowl.instance").update()},parseInt(this.defaults.check)),e.browser.msie&&parseInt(e.browser.version)<7&&!window.XMLHttpRequest&&e(this.element).addClass("ie6")},shutdown:function(){e(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove(),clearInterval(this.interval)},close:function(){e(this.element).find("div.jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}(jQuery),function(e){e.fn.tipsy=function(t){return t=e.extend({},e.fn.tipsy.defaults,t),this.each(function(){var n=e.fn.tipsy.elementOptions(this,t);e(this).hover(function(){e.data(this,"cancel.tipsy",!0);var t=e.data(this,"active.tipsy");t||(t=e('<div class="tipsy"><div class="tipsy-inner"/></div>'),t.css({position:"absolute",zIndex:1e5}),e.data(this,"active.tipsy",t)),(e(this).attr("title")||typeof e(this).attr("original-title")!="string")&&e(this).attr("original-title",e(this).attr("title")||"").removeAttr("title");var r;typeof n.title=="string"?r=e(this).attr(n.title=="title"?"original-title":n.title):typeof n.title=="function"&&(r=n.title.call(this)),t.find(".tipsy-inner")[n.html?"html":"text"](r||n.fallback);var i=e.extend({},e(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});t.get(0).className="tipsy",t.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var s=t[0].offsetWidth,o=t[0].offsetHeight,u=typeof n.gravity=="function"?n.gravity.call(this):n.gravity;switch(u.charAt(0)){case"n":t.css({top:i.top+i.height,left:i.left+i.width/2-s/2}).addClass("tipsy-north");break;case"s":t.css({top:i.top-o,left:i.left+i.width/2-s/2}).addClass("tipsy-south");break;case"e":t.css({top:i.top+i.height/2-o/2,left:i.left-s}).addClass("tipsy-east");break;case"w":t.css({top:i.top+i.height/2-o/2,left:i.left+i.width}).addClass("tipsy-west")}n.fade?t.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:.8}):t.css({visibility:"visible"})},function(){e.data(this,"cancel.tipsy",!1);var t=this;setTimeout(function(){if(e.data(this,"cancel.tipsy"))return;var r=e.data(t,"active.tipsy");n.fade?r.stop().fadeOut(function(){e(this).remove()}):r.remove()},100)})})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.defaults={fade:!1,fallback:"",gravity:"n",html:!1,title:"title"},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"}}(jQuery),$(document).ready(function(){jQuery.fn.anim_progressbar=function(e){var t=1e3,n=60*t,r=3600*t,i=86400*t,s={start:new Date,finish:(new Date).setTime((new Date).getTime()+60*t),interval:1},o=jQuery.extend(s,e),u=this;return this.each(function(){var e=o.finish-o.start;$(u).children(".pbar").progressbar();var s=setInterval(function(){var a=o.finish-new Date,f=new Date-o.start,c=parseInt(a/i),p=parseInt((a-c*i)/r),v=parseInt((a-c*i-p*r)/n),y=parseInt((a-c*i-v*n-p*r)/t),b=f>0?f/e*100:0;$(u).children(".percent").html("<b>"+b.toFixed(1)+"%</b>"),$(u).children(".elapsed").html(c+" days "+p+"h:"+v+"m:"+y+"s</b>"),$(u).children(".pbar").children(".ui-progressbar-value").css("width",b+"%"),b>=100&&(clearInterval(s),$(u).children(".percent").html("<b>100%</b>"),$(u).children(".elapsed").html("Finished"))},o.interval)})},$("#progress1").anim_progressbar();var e=(new Date).setTime((new Date).getTime()+5e3),t=(new Date).setTime((new Date).getTime()+15e3);$("#progress2").anim_progressbar({start:e,finish:t,interval:1}),$("#progress3").anim_progressbar({interval:1e3})}),function(){function l(){this.returnValue=!1}function c(){this.cancelBubble=!0}var e=0,t=[],n={},r={},i={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},s=/[<>&\"\']/g,o,u=window.setTimeout,a={},f;(function(e){var t=e.split(/,/),n,i,s;for(n=0;n<t.length;n+=2){s=t[n+1].split(/ /);for(i=0;i<s.length;i++)r[s[i]]=t[n]}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats,docx pptx xlsx,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/html,htm html xhtml,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,text/csv,csv,text/plain,asc txt text diff log,application/octet-stream,exe");var h={VERSION:"1.5.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:r,ua:function(){var e=navigator,t=e.userAgent,n=e.vendor,r,i,s;return r=/WebKit/.test(t),s=r&&n.indexOf("Apple")!==-1,i=window.opera&&window.opera.buildNumber,{windows:navigator.platform.indexOf("Win")!==-1,ie:!r&&!i&&/MSIE/gi.test(t)&&/Explorer/gi.test(e.appName),webkit:r,gecko:!r&&/Gecko/.test(t),safari:s,opera:!!i}}(),extend:function(e){return h.each(arguments,function(t,n){n>0&&h.each(t,function(t,n){e[n]=t})}),e},cleanName:function(e){var t,n;n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,""),e},addRuntime:function(e,n){return n.name=e,t[e]=n,t.push(n),n},guid:function(){var t=(new Date).getTime().toString(32),n;for(n=0;n<5;n++)t+=Math.floor(Math.random()*65535).toString(32);return(h.guidPrefix||"p")+t+(e++).toString(32)},buildUrl:function(e,t){var n="";return h.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(e,t){var n,r,i;if(e){n=e.length;if(n===o){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(i=0;i<n;i++)if(t(e[i],i)===!1)return}},formatSize:function(e){return e===o||/\D/.test(e)?h.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function a(e){var t,n,r=0,i=0;return e&&(n=e.getBoundingClientRect(),t=s.compatMode==="CSS1Compat"?s.documentElement:s.body,r=n.left+t.scrollLeft,i=n.top+t.scrollTop),{x:r,y:i}}var n=0,r=0,i,s=document,o,u;e=e,t=t||s.body;if(e&&e.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&s.documentMode!==8)return o=a(e),u=a(t),{x:o.x-u.x,y:o.y-u.y};i=e;while(i&&i!=t&&i.nodeType)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;i=e.parentNode;while(i&&i!=t&&i.nodeType)n-=i.scrollLeft||0,r-=i.scrollTop||0,i=i.parentNode;return{x:n,y:r}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return typeof e=="string"&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],t=="g"&&(e*=1073741824),t=="m"&&(e*=1048576),t=="k"&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(s,function(e){return i[e]?"&"+i[e]+";":e}):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},addI18n:function(e){return h.extend(n,e)},translate:function(e){return n[e]||e},isEmptyObj:function(e){if(e===o)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var n;return e.className==""?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},addClass:function(e,t){h.hasClass(e,t)||(e.className=e.className==""?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return t===" "&&n===" "?" ":""})},getStyle:function(e,t){if(e.currentStyle)return e.currentStyle[t];if(window.getComputedStyle)return window.getComputedStyle(e,null)[t]},addEvent:function(e,t,n){var r,i,s,u;u=arguments[3],t=t.toLowerCase(),f===o&&(f="Plupload_"+h.guid()),e.addEventListener?(r=n,e.addEventListener(t,r,!1)):e.attachEvent&&(r=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=l,e.stopPropagation=c,n(e)},e.attachEvent("on"+t,r)),e[f]===o&&(e[f]=h.guid()),a.hasOwnProperty(e[f])||(a[e[f]]={}),i=a[e[f]],i.hasOwnProperty(t)||(i[t]=[]),i[t].push({func:r,orig:n,key:u})},removeEvent:function(e,t){var n,r,i;typeof arguments[2]=="function"?r=arguments[2]:i=arguments[2],t=t.toLowerCase();if(!(e[f]&&a[e[f]]&&a[e[f]][t]))return;n=a[e[f]][t];for(var s=n.length-1;s>=0;s--)if(n[s].key===i||n[s].orig===r){e.detachEvent?e.detachEvent("on"+t,n[s].func):e.removeEventListener&&e.removeEventListener(t,n[s].func,!1),n[s].orig=null,n[s].func=null,n.splice(s,1);if(r!==o)break}n.length||delete a[e[f]][t];if(h.isEmptyObj(a[e[f]])){delete a[e[f]];try{delete e[f]}catch(u){e[f]=o}}},removeAllEvents:function(e){var t=arguments[1];if(e[f]===o||!e[f])return;h.each(a[e[f]],function(n,r){h.removeEvent(e,r,t)})}};h.Uploader=function(e){function a(){var e,t=0,n;if(this.state==h.STARTED){for(n=0;n<i.length;n++)!e&&i[n].status==h.QUEUED?(e=i[n],e.status=h.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e)):t++;t==i.length&&(this.stop(),this.trigger("UploadComplete",i))}}function f(){var e,t;r.reset();for(e=0;e<i.length;e++)t=i[e],t.size!==o?(r.size+=t.size,r.loaded+=t.loaded):r.size=o,t.status==h.DONE?r.uploaded++:t.status==h.FAILED?r.failed++:r.queued++;r.size===o?r.percent=i.length>0?Math.ceil(r.uploaded/i.length*100):0:(r.bytesPerSec=Math.ceil(r.loaded/((+(new Date)-s||1)/1e3)),r.percent=r.size>0?Math.ceil(r.loaded/r.size*100):0)}var n={},r,i=[],s;r=new h.QueueProgress,e=h.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),h.extend(this,{state:h.STOPPED,runtime:"",features:{},files:i,settings:e,total:r,id:h.guid(),init:function(){function g(){var e=l[v++],t,r,i;if(e){t=e.getFeatures(),r=n.settings.required_features;if(r){r=r.split(",");for(i=0;i<r.length;i++)if(!t[r[i]]){g();return}}e.init(n,function(r){r&&r.success?(n.features=t,n.runtime=e.name,n.trigger("Init",{runtime:e.name}),n.trigger("PostInit"),n.refresh()):g()})}else n.trigger("Error",{code:h.INIT_ERROR,message:h.translate("Init error.")})}var n=this,r,l,c,v=0,m;typeof e.preinit=="function"?e.preinit(n):h.each(e.preinit,function(e,t){n.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=h.parseSize(e.chunk_size),e.max_file_size=h.parseSize(e.max_file_size),n.bind("FilesAdded",function(t,r){var s,a,f=0,l,c=e.filters;c&&c.length&&(l=[],h.each(c,function(e){h.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?l.push("\\.*"):l.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),l=new RegExp(l.join("|")+"$","i"));for(s=0;s<r.length;s++){a=r[s],a.loaded=0,a.percent=0,a.status=h.QUEUED;if(l&&!l.test(a.name)){t.trigger("Error",{code:h.FILE_EXTENSION_ERROR,message:h.translate("File extension error."),file:a});continue}if(a.size!==o&&a.size>e.max_file_size){t.trigger("Error",{code:h.FILE_SIZE_ERROR,message:h.translate("File size error."),file:a});continue}i.push(a),f++}if(!f)return!1;u(function(){n.trigger("QueueChanged"),n.refresh()},1)}),e.unique_names&&n.bind("UploadFile",function(e,t){var n=t.name.match(/\.([^.]+)$/),r="tmp";n&&(r=n[1]),t.target_name=t.id+"."+r}),n.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,f()}),n.bind("StateChanged",function(e){if(e.state==h.STARTED)s=+(new Date);else if(e.state==h.STOPPED)for(r=e.files.length-1;r>=0;r--)e.files[r].status==h.UPLOADING&&(e.files[r].status=h.QUEUED,f())}),n.bind("QueueChanged",f),n.bind("Error",function(e,t){t.file&&(t.file.status=h.FAILED,f(),e.state==h.STARTED&&u(function(){a.call(n)},1))}),n.bind("FileUploaded",function(e,t){t.status=h.DONE,t.loaded=t.size,e.trigger("UploadProgress",t),u(function(){a.call(n)},1)});if(e.runtimes){l=[],m=e.runtimes.split(/\s?,\s?/);for(r=0;r<m.length;r++)t[m[r]]&&l.push(t[m[r]])}else l=t;g(),typeof e.init=="function"?e.init(n):h.each(e.init,function(e,t){n.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){this.state!=h.STARTED&&(this.state=h.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=h.STOPPED&&(this.state=h.STOPPED,this.trigger("StateChanged"))},getFile:function(e){var t;for(t=i.length-1;t>=0;t--)if(i[t].id===e)return i[t]},removeFile:function(e){var t;for(t=i.length-1;t>=0;t--)if(i[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var n;return n=i.splice(e===o?0:e,t===o?i.length:t),this.trigger("FilesRemoved",n),this.trigger("QueueChanged"),n},trigger:function(e){var t=n[e.toLowerCase()],r,i;if(t){i=Array.prototype.slice.call(arguments),i[0]=this;for(r=0;r<t.length;r++)if(t[r].func.apply(t[r].scope,i)===!1)return!1}return!0},hasEventListener:function(e){return!!n[e.toLowerCase()]},bind:function(e,t,r){var i;e=e.toLowerCase(),i=n[e]||[],i.push({func:t,scope:r||this}),n[e]=i},unbind:function(e){e=e.toLowerCase();var t=n[e],r,i=arguments[1];if(t){if(i!==o){for(r=t.length-1;r>=0;r--)if(t[r].func===i){t.splice(r,1);break}}else t=[];t.length||delete n[e]}},unbindAll:function(){var e=this;h.each(n,function(t,n){e.unbind(n)})},destroy:function(){this.trigger("Destroy"),this.unbindAll()}})},h.File=function(e,t,n){var r=this;r.id=e,r.name=t,r.size=n,r.loaded=0,r.percent=0,r.status=0},h.Runtime=function(){this.getFeatures=function(){},this.init=function(e,t){}},h.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},h.runtimes={},window.plupload=h}(),function(e){function n(e){return plupload.translate(e)||e}function r(t,r){r.contents().each(function(t,n){n=e(n),n.is(".plupload")||n.remove()}),r.prepend('<div class="plupload_wrapper plupload_scroll"><div id="'+t+'_container" class="plupload_container"><div class="plupload"><div class="plupload_content"><div class="plupload_filelist_header"><div class="plupload_file_name">'+n("Filename")+'</div><div class="plupload_file_action">&nbsp;</div><div class="plupload_file_status"><span>'+n("Status")+'</span></div><div class="plupload_file_size">'+n("Size")+'</div><div class="plupload_clearer">&nbsp;</div></div><ul id="'+t+'_filelist" class="plupload_filelist"></ul><div class="plupload_filelist_footer"><div class="plupload_file_name"><div class="plupload_buttons"><a href="#" class="plupload_button plupload_add"><span>'+n("Add files")+'</span></a><a href="#" class="plupload_button plupload_start"><span>'+n("Upload")+'</span></a></div><span class="plupload_upload_status"></span></div><div class="plupload_file_action"></div><div class="plupload_file_status"><span class="plupload_total_status">0%</span></div><div class="plupload_file_size"><span class="plupload_total_file_size">0 b</span></div><div class="plupload_progress"><div class="plupload_progress_container"><div class="plupload_progress_bar"></div></div></div><div class="plupload_clearer">&nbsp;</div></div></div></div></div><input type="hidden" id="'+t+'_count" name="'+t+'_count" value="0" /></div>')}var t={};e.fn.pluploadQueue=function(i){return i?(this.each(function(){function f(t){var n;t.status==plupload.DONE&&(n="plupload_done"),t.status==plupload.FAILED&&(n="plupload_failed"),t.status==plupload.QUEUED&&(n="plupload_delete"),t.status==plupload.UPLOADING&&(n="plupload_uploading");var r=e("#"+t.id).attr("class",n).find("a").css("display","block");t.hint&&r.attr("title",t.hint)}function l(){e("span.plupload_total_status",o).html(s.total.percent+"%"),e("div.plupload_progress_bar",o).css("width",s.total.percent+"%"),e("span.plupload_upload_status",o).text(n("Uploaded %d/%d files").replace(/%d\/%d/,s.total.uploaded+"/"+s.files.length))}function c(){var t=e("ul.plupload_filelist",o).html(""),r=0,i;e.each(s.files,function(n,o){i="",o.status==plupload.DONE&&(o.target_name&&(i+='<input type="hidden" name="'+u+"_"+r+'_tmpname" value="'+plupload.xmlEncode(o.target_name)+'" />'),i+='<input type="hidden" name="'+u+"_"+r+'_name" value="'+plupload.xmlEncode(o.name)+'" />',i+='<input type="hidden" name="'+u+"_"+r+'_status" value="'+(o.status==plupload.DONE?"done":"failed")+'" />',r++,e("#"+u+"_count").val(r)),t.append('<li id="'+o.id+'"><div class="plupload_file_name"><span>'+o.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+o.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(o.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+i+"</li>"),f(o),e("#"+o.id+".plupload_delete a").click(function(t){e("#"+o.id).remove(),s.removeFile(o),t.preventDefault()})}),e("span.plupload_total_file_size",o).html(plupload.formatSize(s.total.size)),s.total.queued===0?e("span.plupload_add_text",o).text(n("Add files.")):e("span.plupload_add_text",o).text(s.total.queued+" files queued."),e("a.plupload_start",o).toggleClass("plupload_disabled",s.files.length==s.total.uploaded+s.total.failed),t[0].scrollTop=t[0].scrollHeight,l(),!s.files.length&&s.features.dragdrop&&s.settings.dragdrop&&e("#"+u+"_filelist").append('<li class="plupload_droptext">'+n("Drag files here.")+"</li>")}var s,o,u;o=e(this),u=o.attr("id"),u||(u=plupload.guid(),o.attr("id",u)),s=new plupload.Uploader(e.extend({dragdrop:!0,container:u},i)),t[u]=s,s.bind("UploadFile",function(t,n){e("#"+n.id).addClass("plupload_current_file")}),s.bind("Init",function(t,f){r(u,o),!i.unique_names&&i.rename&&e("#"+u+"_filelist div.plupload_file_name span",o).live("click",function(n){var r=e(n.target),i,s,o,u="";i=t.getFile(r.parents("li")[0].id),o=i.name,s=/^(.+)(\.[^.]+)$/.exec(o),s&&(o=s[1],u=s[2]),r.hide().after('<input type="text" />'),r.next().val(o).focus().blur(function(){r.show().next().remove()}).keydown(function(t){var n=e(this);t.keyCode==13&&(t.preventDefault(),i.name=n.val()+u,r.text(i.name),n.blur())})}),e("a.plupload_add",o).attr("id",u+"_browse"),t.settings.browse_button=u+"_browse",t.features.dragdrop&&t.settings.dragdrop&&(t.settings.drop_element=u+"_filelist",e("#"+u+"_filelist").append('<li class="plupload_droptext">'+n("Drag files here.")+"</li>")),e("#"+u+"_container").attr("title","Using runtime: "+f.runtime),e("a.plupload_start",o).click(function(t){e(this).hasClass("plupload_disabled")||s.start(),t.preventDefault()}),e("a.plupload_stop",o).click(function(e){e.preventDefault(),s.stop()}),e("a.plupload_start",o).addClass("plupload_disabled")}),s.init(),s.bind("Error",function(t,r){var i=r.file,s;i&&(s=r.message,r.details&&(s+=" ("+r.details+")"),r.code==plupload.FILE_SIZE_ERROR&&alert(n("Error: File too large: ")+i.name),r.code==plupload.FILE_EXTENSION_ERROR&&alert(n("Error: Invalid file extension: ")+i.name),i.hint=s,e("#"+i.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",s))}),s.bind("StateChanged",function(){s.state===plupload.STARTED?(e("li.plupload_delete a,div.plupload_buttons",o).hide(),e("span.plupload_upload_status,div.plupload_progress,a.plupload_stop"
,o).css("display","block"),e("span.plupload_upload_status",o).text("Uploaded "+s.total.uploaded+"/"+s.files.length+" files"),i.multiple_queues&&e("span.plupload_total_status,span.plupload_total_file_size",o).show()):(c(),e("a.plupload_stop,div.plupload_progress",o).hide(),e("a.plupload_delete",o).css("display","block"))}),s.bind("QueueChanged",c),s.bind("FileUploaded",function(e,t){f(t)}),s.bind("UploadProgress",function(t,n){e("#"+n.id+" div.plupload_file_status",o).html(n.percent+"%"),f(n),l(),i.multiple_queues&&s.total.uploaded+s.total.failed==s.files.length&&(e(".plupload_buttons,.plupload_upload_status",o).css("display","inline"),e(".plupload_start",o).addClass("plupload_disabled"),e("span.plupload_total_status,span.plupload_total_file_size",o).hide())}),i.setup&&i.setup(s)}),this):t[e(this[0]).attr("id")]}}(jQuery),function(e,t,n,r){function i(e){return t.getElementById(e)}n.runtimes.Html4=n.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(r,s){r.bind("Init",function(s){function x(){var e,u,a,f;c=n.guid(),p.push(c),e=t.createElement("form"),e.setAttribute("id","form_"+c),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.setAttribute("target",s.id+"_iframe"),e.style.position="absolute",u=t.createElement("input"),u.setAttribute("id","input_"+c),u.setAttribute("type","file"),u.setAttribute("accept",v),u.setAttribute("size",1),f=i(s.settings.browse_button),s.features.triggerDialog&&f&&n.addEvent(i(s.settings.browse_button),"click",function(e){u.click(),e.preventDefault()},s.id),n.extend(u.style,{width:"100%",height:"100%",opacity:0,fontSize:"999px"}),n.extend(e.style,{overflow:"hidden"}),a=s.settings.shim_bgcolor,a&&(e.style.background=a),d&&n.extend(u.style,{filter:"alpha(opacity=0)"}),n.addEvent(u,"change",function(t){var o=t.target,a,l=[],h;o.value&&(i("form_"+c).style.top="-1048575px",a=o.value.replace(/\\/g,"/"),a=a.substring(a.length,a.lastIndexOf("/")+1),l.push(new n.File(c,a)),s.features.triggerDialog?n.removeEvent(f,"click",s.id):n.removeAllEvents(e,s.id),n.removeEvent(u,"change",s.id),x(),l.length&&r.trigger("FilesAdded",l))},s.id),e.appendChild(u),o.appendChild(e),s.refresh()}function T(){var r=t.createElement("div");r.innerHTML='<iframe id="'+s.id+'_iframe" name="'+s.id+'_iframe" src="'+a+':&quot;&quot;" style="display:none"></iframe>',u=r.firstChild,o.appendChild(u),n.addEvent(u,"load",function(t){var r=t.target,i,o;if(!f)return;try{i=r.contentWindow.document||r.contentDocument||e.frames[r.id].document}catch(u){s.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),file:f});return}o=i.body.innerHTML,o&&(f.status=n.DONE,f.loaded=1025,f.percent=100,s.trigger("UploadProgress",f),s.trigger("FileUploaded",f,{response:o}))},s.id)}var o=t.body,u,a="javascript",f,l,c,p=[],d=/MSIE/.test(navigator.userAgent),v=[],m=s.settings.filters,y,w,E,S;e:for(y=0;y<m.length;y++){w=m[y].extensions.split(/,/);for(S=0;S<w.length;S++){if(w[S]==="*"){v=[];break e}E=n.mimeTypes[w[S]],E&&v.push(E)}}v=v.join(","),s.settings.container&&(o=i(s.settings.container),n.getStyle(o,"position")==="static"&&(o.style.position="relative")),s.bind("UploadFile",function(e,r){var s,o;if(r.status==n.DONE||r.status==n.FAILED||e.state==n.STOPPED)return;s=i("form_"+r.id),o=i("input_"+r.id),o.setAttribute("name",e.settings.file_data_name),s.setAttribute("action",e.settings.url),n.each(n.extend({name:r.target_name||r.name},e.settings.multipart_params),function(e,r){var i=t.createElement("input");n.extend(i,{type:"hidden",name:r,value:e}),s.insertBefore(i,s.firstChild)}),f=r,i("form_"+c).style.top="-1048575px",s.submit(),s.parentNode.removeChild(s)}),s.bind("FileUploaded",function(e){e.refresh()}),s.bind("StateChanged",function(t){t.state==n.STARTED&&T(),t.state==n.STOPPED&&e.setTimeout(function(){n.removeEvent(u,"load",t.id),u.parentNode&&u.parentNode.removeChild(u)},0)}),s.bind("Refresh",function(e){var r,s,o,u,a,f,l,p,d;r=i(e.settings.browse_button),r&&(a=n.getPos(r,i(e.settings.container)),f=n.getSize(r),l=i("form_"+c),p=i("input_"+c),n.extend(l.style,{top:a.y+"px",left:a.x+"px",width:f.w+"px",height:f.h+"px"}),e.features.triggerDialog&&(n.getStyle(r,"position")==="static"&&n.extend(r.style,{position:"relative"}),d=parseInt(r.style.zIndex,10),isNaN(d)&&(d=0),n.extend(r.style,{zIndex:d}),n.extend(l.style,{zIndex:d-1})),o=e.settings.browse_button_hover,u=e.settings.browse_button_active,s=e.features.triggerDialog?r:l,o&&(n.addEvent(s,"mouseover",function(){n.addClass(r,o)},e.id),n.addEvent(s,"mouseout",function(){n.removeClass(r,o)},e.id)),u&&(n.addEvent(s,"mousedown",function(){n.addClass(r,u)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,u)},e.id)))}),r.bind("FilesRemoved",function(e,t){var n,r;for(n=0;n<t.length;n++)r=i("form_"+t[n].id),r&&r.parentNode.removeChild(r)}),r.bind("Destroy",function(e){var r,s,u,a={inputContainer:"form_"+c,inputFile:"input_"+c,browseButton:e.settings.browse_button};for(r in a)s=i(a[r]),s&&n.removeAllEvents(s,e.id);n.removeAllEvents(t.body,e.id),n.each(p,function(e,t){u=i("form_"+e),u&&o.removeChild(u)})}),x()}),s({success:!0})}})}(window,document,plupload),function(e,t,n,r){function u(t,n){var r;if(!("FileReader"in e))return n(t.getAsDataURL());r=new FileReader,r.readAsDataURL(t),r.onload=function(){n(r.result)}}function a(t,n){var r;if(!("FileReader"in e))return n(t.getAsBinary());r=new FileReader,r.readAsBinaryString(t),r.onload=function(){n(r.result)}}function f(e,n,r,i){var o,a,f,l,d=this;u(s[e.id],function(s){o=t.createElement("canvas"),o.style.display="none",t.body.appendChild(o),a=o.getContext("2d"),f=new Image,f.onerror=f.onabort=function(){i({success:!1})},f.onload=function(){var t,u,p,v,m;n.width||(n.width=f.width),n.height||(n.height=f.height),l=Math.min(n.width/f.width,n.height/f.height);if(l<1||l===1&&r==="image/jpeg"){t=Math.round(f.width*l),u=Math.round(f.height*l),o.width=t,o.height=u,a.drawImage(f,0,0,t,u);if(r==="image/jpeg"){v=new c(atob(s.substring(s.indexOf("base64,")+7))),v.headers&&v.headers.length&&(m=new h,m.init(v.get("exif")[0])&&(m.setExif("PixelXDimension",t),m.setExif("PixelYDimension",u),v.set("exif",m.getBinary()),d.hasEventListener("ExifData")&&d.trigger("ExifData",e,m.EXIF()),d.hasEventListener("GpsData")&&d.trigger("GpsData",e,m.GPS())));if(n.quality)try{s=o.toDataURL(r,n.quality/100)}catch(y){s=o.toDataURL(r)}}else s=o.toDataURL(r);s=s.substring(s.indexOf("base64,")+7),s=atob(s),v&&v.headers&&v.headers.length&&(s=v.restore(s),v.purge()),o.parentNode.removeChild(o),i({success:!0,data:s})}else i({success:!1})},f.src=s})}function l(){function n(n,r){var i=e?0:-8*(r-1),s=0,o;for(o=0;o<r;o++)s|=t.charCodeAt(n+o)<<Math.abs(i+o*8);return s}function i(e,n,r){var r=arguments.length===3?r:t.length-n-1;t=t.substr(0,n)+e+t.substr(r+n)}function s(t,n,r){var s="",o=e?0:-8*(r-1),u;for(u=0;u<r;u++)s+=String.fromCharCode(n>>Math.abs(o+u*8)&255);i(s,t,r)}var e=!1,t;return{II:function(t){if(t===r)return e;e=t},init:function(n){e=!1,t=n},SEGMENT:function(e,n,r){switch(arguments.length){case 1:return t.substr(e,t.length-e-1);case 2:return t.substr(e,n);case 3:i(r,e,n);break;default:return t}},BYTE:function(e){return n(e,1)},SHORT:function(e){return n(e,2)},LONG:function(e,t){if(t===r)return n(e,4);s(e,t,4)},SLONG:function(e){var t=n(e,4);return t>2147483647?t-4294967296:t},STRING:function(e,t){var r="";for(t+=e;e<t;e++)r+=String.fromCharCode(n(e,1));return r}}}function c(e){var t={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},n=[],i,s,o=r,u=0,a;i=new l,i.init(e);if(i.SHORT(0)!==65496)return;s=2,a=Math.min(1048576,e.length);while(s<=a){o=i.SHORT(s);if(o>=65488&&o<=65495){s+=2;continue}if(o===65498||o===65497)break;u=i.SHORT(s+2)+2,t[o]&&i.STRING(s+4,t[o].signature.length)===t[o].signature&&n.push({hex:o,app:t[o].app.toUpperCase(),name:t[o].name.toUpperCase(),start:s,length:u,segment:i.SEGMENT(s,u)}),s+=u}return i.init(null),{headers:n,restore:function(e){i.init(e);var t=new c(e);if(!t.headers)return!1;for(var r=t.headers.length;r>0;r--){var o=t.headers[r-1];i.SEGMENT(o.start,o.length,"")}t.purge(),s=i.SHORT(2)==65504?4+i.SHORT(4):2;for(var r=0,u=n.length;r<u;r++)i.SEGMENT(s,0,n[r].segment),s+=n[r].length;return i.SEGMENT()},get:function(e){var t=[];for(var r=0,i=n.length;r<i;r++)n[r].app===e.toUpperCase()&&t.push(n[r].segment);return t},set:function(e,t){var r=[];typeof t=="string"?r.push(t):r=t;for(var i=ii=0,s=n.length;i<s;i++){n[i].app===e.toUpperCase()&&(n[i].segment=r[ii],n[i].length=r[ii].length,ii++);if(ii>=r.length)break}},purge:function(){n=[],i.init(null)}}}function h(){function o(t,i){var o=e.SHORT(t),u,a,f,l,c,h,p,m,y=[],b={};for(u=0;u<o;u++){p=h=t+12*u+2,f=i[e.SHORT(p)];if(f===r)continue;l=e.SHORT(p+=2),c=e.LONG(p+=2),p+=4,y=[];switch(l){case 1:case 7:c>4&&(p=e.LONG(p)+n.tiffHeader);for(a=0;a<c;a++)y[a]=e.BYTE(p+a);break;case 2:c>4&&(p=e.LONG(p)+n.tiffHeader),b[f]=e.STRING(p,c-1);continue;case 3:c>2&&(p=e.LONG(p)+n.tiffHeader);for(a=0;a<c;a++)y[a]=e.SHORT(p+a*2);break;case 4:c>1&&(p=e.LONG(p)+n.tiffHeader);for(a=0;a<c;a++)y[a]=e.LONG(p+a*4);break;case 5:p=e.LONG(p)+n.tiffHeader;for(a=0;a<c;a++)y[a]=e.LONG(p+a*4)/e.LONG(p+a*4+4);break;case 9:p=e.LONG(p)+n.tiffHeader;for(a=0;a<c;a++)y[a]=e.SLONG(p+a*4);break;case 10:p=e.LONG(p)+n.tiffHeader;for(a=0;a<c;a++)y[a]=e.SLONG(p+a*4)/e.SLONG(p+a*4+4);break;default:continue}m=c==1?y[0]:y,s.hasOwnProperty(f)&&typeof m!="object"?b[f]=s[f][m]:b[f]=m}return b}function u(){var i=r,s=n.tiffHeader;return e.II(e.SHORT(s)==18761),e.SHORT(s+=2)!==42?!1:(n.IFD0=n.tiffHeader+e.LONG(s+=2),i=o(n.IFD0,t.tiff),n.exifIFD="ExifIFDPointer"in i?n.tiffHeader+i.ExifIFDPointer:r,n.gpsIFD="GPSInfoIFDPointer"in i?n.tiffHeader+i.GPSInfoIFDPointer:r,!0)}function a(r,s,o){var u,a,f,l=0;if(typeof s=="string"){var c=t[r.toLowerCase()];for(hex in c)if(c[hex]===s){s=hex;break}}u=n[r.toLowerCase()+"IFD"],a=e.SHORT(u);for(i=0;i<a;i++){f=u+12*i+2;if(e.SHORT(f)==s){l=f+8;break}}return l?(e.LONG(l,o),!0):!1}var e,t,n={},s;return e=new l,t={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},s={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(t){return n={tiffHeader:10},t===r||!t.length?!1:(e.init(t),e.SHORT(0)===65505&&e.STRING(4,5).toUpperCase()==="EXIF\0"?u():!1)},EXIF:function(){var e;return e=o(n.exifIFD,t.exif),e.ExifVersion&&(e.ExifVersion=String.fromCharCode(e.ExifVersion[0],e.ExifVersion[1],e.ExifVersion[2],e.ExifVersion[3])),e},GPS:function(){var e;return e=o(n.gpsIFD,t.gps),e.GPSVersionID&&(e.GPSVersionID=e.GPSVersionID.join(".")),e},setExif:function(e,t){return e!=="PixelXDimension"&&e!=="PixelYDimension"?!1:a("exif",e,t)},getBinary:function(){return e.SEGMENT()}}}var s={},o;n.runtimes.Html5=n.addRuntime("html5",{getFeatures:function(){var r,i,s,u,a,f;return i=s=a=f=!1,e.XMLHttpRequest&&(r=new XMLHttpRequest,s=!!r.upload,i=!!r.sendAsBinary||!!r.upload),i&&(u=!!(r.sendAsBinary||e.Uint8Array&&e.ArrayBuffer),a=!(!File||!File.prototype.getAsDataURL&&!e.FileReader||!u),f=!!File&&!!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),o=n.ua.safari&&n.ua.windows,{html5:i,dragdrop:function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),jpgresize:a,pngresize:a,multipart:a||!!e.FileReader||!!e.FormData,canSendBinary:u,cantSendBlobInFormData:!!(n.ua.gecko&&e.FormData&&e.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:s,chunks:f,multi_selection:!n.ua.safari||!n.ua.windows,triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(r,i){function l(e){var t,i,o=[],u,a={};for(i=0;i<e.length;i++){t=e[i];if(a[t.name])continue;a[t.name]=!0,u=n.guid(),s[u]=t,o.push(new n.File(u,t.fileName||t.name,t.fileSize||t.size))}o.length&&r.trigger("FilesAdded",o)}var u;u=this.getFeatures();if(!u.html5){i({success:!1});return}r.bind("Init",function(e){var i,s,o=[],u,a,f=e.settings.filters,c,h,d=t.body,v;i=t.createElement("div"),i.id=e.id+"_html5_container",n.extend(i.style,{position:"absolute",background:r.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:r.settings.shim_bgcolor?"":0}),i.className="plupload html5",r.settings.container&&(d=t.getElementById(r.settings.container),n.getStyle(d,"position")==="static"&&(d.style.position="relative")),d.appendChild(i);e:for(u=0;u<f.length;u++){c=f[u].extensions.split(/,/);for(a=0;a<c.length;a++){if(c[a]==="*"){o=[];break e}h=n.mimeTypes[c[a]],h&&o.push(h)}}i.innerHTML='<input id="'+r.id+'_html5"  style="font-size:999px" type="file" accept="'+o.join(",")+'" '+(r.settings.multi_selection&&r.features.multi_selection?'multiple="multiple"':"")+" />",i.scrollTop=100,v=t.getElementById(r.id+"_html5"),e.features.triggerDialog?n.extend(v.style,{position:"absolute",width:"100%",height:"100%"}):n.extend(v.style,{cssFloat:"right",styleFloat:"right"}),v.onchange=function(){l(this.files),this.value=""},s=t.getElementById(e.settings.browse_button);if(s){var m=e.settings.browse_button_hover,g=e.settings.browse_button_active,y=e.features.triggerDialog?s:i;m&&(n.addEvent(y,"mouseover",function(){n.addClass(s,m)},e.id),n.addEvent(y,"mouseout",function(){n.removeClass(s,m)},e.id)),g&&(n.addEvent(y,"mousedown",function(){n.addClass(s,g)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(s,g)},e.id)),e.features.triggerDialog&&n.addEvent(s,"click",function(n){t.getElementById(e.id+"_html5").click(),n.preventDefault()},e.id)}}),r.bind("PostInit",function(){var e=t.getElementById(r.settings.drop_element);if(e){if(o){n.addEvent(e,"dragenter",function(i){var s,o,u;s=t.getElementById(r.id+"_drop"),s||(s=t.createElement("input"),s.setAttribute("type","file"),s.setAttribute("id",r.id+"_drop"),s.setAttribute("multiple","multiple"),n.addEvent(s,"change",function(){l(this.files),n.removeEvent(s,"change",r.id),s.parentNode.removeChild(s)},r.id),e.appendChild(s)),o=n.getPos(e,t.getElementById(r.settings.container)),u=n.getSize(e),n.getStyle(e,"position")==="static"&&n.extend(e.style,{position:"relative"}),n.extend(s.style,{position:"absolute",display:"block",top:0,left:0,width:u.w+"px",height:u.h+"px",opacity:0})},r.id);return}n.addEvent(e,"dragover",function(e){e.preventDefault()},r.id),n.addEvent(e,"drop",function(e){var t=e.dataTransfer;t&&t.files&&l(t.files),e.preventDefault()},r.id)}}),r.bind("Refresh",function(e){var i,s,o,u,a;i=t.getElementById(r.settings.browse_button),i&&(s=n.getPos(i,t.getElementById(e.settings.container)),o=n.getSize(i),u=t.getElementById(r.id+"_html5_container"),n.extend(u.style,{top:s.y+"px",left:s.x+"px",width:o.w+"px",height:o.h+"px"}),r.features.triggerDialog&&(n.getStyle(i,"position")==="static"&&n.extend(i.style,{position:"relative"}),a=parseInt(n.getStyle(i,"z-index"),10),isNaN(a)&&(a=0),n.extend(i.style,{zIndex:a}),n.extend(u.style,{zIndex:a-1})))}),r.bind("UploadFile",function(t,r){function c(e,t,n){var r;if(!File.prototype.slice)return(r=File.prototype.webkitSlice||File.prototype.mozSlice)?r.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}function h(s){function l(){function T(i){var s=0,f=new XMLHttpRequest,c=f.upload,p="----pluploadboundary"+n.guid(),g,T="--",L="\r\n",A="";c&&(c.onprogress=function(e){r.loaded=Math.min(r.size,a+e.loaded-s),t.trigger("UploadProgress",r)}),f.onreadystatechange=function(){var e,s;if(f.readyState==4){try{e=f.status}catch(u){e=0}if(e>=400)t.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:r,status:e});else{if(v){s={chunk:o,chunks:v,response:f.responseText,status:e},t.trigger("ChunkUploaded",r,s),a+=w;if(s.cancelled){r.status=n.FAILED;return}r.loaded=Math.min(r.size,(o+1)*b)}else r.loaded=r.size;t.trigger("UploadProgress",r),i=h=g=A=null,!v||++o>=v?(r.status=n.DONE,t.trigger("FileUploaded",r,{response:f.responseText,status:e})):l()}f=null}};if(t.settings.multipart&&u.multipart){y.name=r.target_name||r.name,f.open("post",x,!0),n.each(t.settings.headers,function(e,t){f.setRequestHeader(t,e)});if(typeof i!="string"&&!!e.FormData){g=new FormData,n.each(n.extend(y,t.settings.multipart_params),function(e,t){g.append(t,e)}),g.append(t.settings.file_data_name,i),f.send(g);return}if(typeof i=="string"){f.setRequestHeader("Content-Type","multipart/form-data; boundary="+p),n.each(n.extend(y,t.settings.multipart_params),function(e,t){A+=T+p+L+'Content-Disposition: form-data; name="'+t+'"'+L+L,A+=unescape(encodeURIComponent(e))+L}),S=n.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",A+=T+p+L+'Content-Disposition: form-data; name="'+t.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(r.name))+'"'+L+"Content-Type: "+S+L+L+i+L+T+p+T+L,s=A.length-i.length,i=A;if(f.sendAsBinary)f.sendAsBinary(i);else if(u.canSendBinary){var M=new Uint8Array(i.length);for(var _=0;_<i.length;_++)M[_]=i.charCodeAt(_)&255;f.send(M.buffer)}return}}x=n.buildUrl(t.settings.url,n.extend(y,t.settings.multipart_params)),f.open("post",x,!0),f.setRequestHeader("Content-Type","application/octet-stream"),n.each(t.settings.headers,function(e,t){f.setRequestHeader(t,e)}),f.send(i)}var h,p,v,y,b,w,S,x=t.settings.url;if(r.status==n.DONE||r.status==n.FAILED||t.state==n.STOPPED)return;y={name:r.target_name||r.name},i.chunk_size&&r.size>i.chunk_size&&(u.chunks||typeof s=="string")?(b=i.chunk_size,v=Math.ceil(r.size/b),w=Math.min(b,r.size-o*b),typeof s=="string"?h=s.substring(o*b,o*b+w):h=c(s,o*b,o*b+w),y.chunk=o,y.chunks=v):(w=r.size,h=s),typeof h!="string"&&f&&u.cantSendBlobInFormData&&u.chunks&&t.settings.chunk_size?(f.onload=function(){T(f.result)},f.readAsBinaryString(h)):T(h)}var o=0,a=0,f="FileReader"in e?new FileReader:null;l()}var i=t.settings,o,l;o=s[r.id],u.jpgresize&&t.settings.resize&&/\.(png|jpg|jpeg)$/i.test(r.name)?f.call(t,r,t.settings.resize,/\.png$/i.test(r.name)?"image/png":"image/jpeg",function(e){e.success?(r.size=e.data.length,h(e.data)):h(o)}):!u.chunks&&u.jpgresize?a(o,h):h(o)}),r.bind("Destroy",function(e){var r,i,s=t.body,o={inputContainer:e.id+"_html5_container",inputFile:e.id+"_html5",browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(r in o)i=t.getElementById(o[r]),i&&n.removeAllEvents(i,e.id);n.removeAllEvents(t.body,e.id),e.settings.container&&(s=t.getElementById(e.settings.container)),s.removeChild(t.getElementById(o.inputContainer))}),i({success:!0})}})}(window,document,plupload),function(e){function r(){this.controls={bold:{groupIndex:0,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},createLink:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.link?e.wysiwyg.controls.link.init(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.link.js",function(){n.controls.createLink.exec.apply(n)}):t.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!0,className:"h1",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!0,className:"h2",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!0,className:"h3",command:e.browser.msie||e.browser.safari?"FormatBlock":"heading",arguments:e.browser.msie||e.browser.safari?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var t,n,r,i;e.browser.msie||e.browser.safari?t="backcolor":t="hilitecolor";if(e.browser.msie)n=this.getInternalRange().parentElement();else{r=this.getInternalSelection(),n=r.extentNode||r.focusNode;while(n.style===undefined){n=n.parentNode;if(n.tagName&&n.tagName.toLowerCase()==="body")return}}n.style.backgroundColor==="rgb(255, 255, 102)"||n.style.backgroundColor==="#ffff66"?i="#ffffff":i="#ffff66",this.editorDoc.execCommand(t,!1,i)}},html:{groupIndex:10,visible:!1,exec:function(){var t;this.options.resizeOptions&&e.fn.resizable&&(t=this.element.height()),this.viewHTML?(this.setContent(this.original.value),e(this.original).hide(),this.editor.show(),this.options.resizeOptions&&e.fn.resizable&&(t===this.element.height()&&this.element.height(t+this.editor.height()),this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.removeClass("active"):t.removeClass("disabled")})):(this.saveContent(),e(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&e.fn.resizable&&(t===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var t=e(this);t.hasClass("html")?t.addClass("active"):!1===t.hasClass("fullscreen")&&t.removeClass("active").addClass("disabled")})),this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:!0,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!0,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.image?e.wysiwyg.controls.image.init(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.image.js",function(){n.controls.insertImage.exec.apply(n)}):t.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:!0,exec:function(){var n=this;e.wysiwyg.controls&&e.wysiwyg.controls.table?e.wysiwyg.controls.table(this):e.wysiwyg.autoload?e.wysiwyg.autoload.control("wysiwyg.table.js",function(){n.controls.insertTable.exec.apply(n)}):t.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:!0,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:!0,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:!0,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:!0,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","ltr"),!0):!1},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!0,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:e.browser.msie||e.browser.safari?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},redo:{groupIndex:4,visible:!0,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(e(t).attr("dir","rtl"),!0):!1},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!0,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!0,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:!0,tooltip:"Undo"},code:{visible:!0,groupIndex:6,tooltip:"Code snippet",exec:function(){var t=this.getInternalRange(),n=e(t.commonAncestorContainer),r=t.commonAncestorContainer.nodeName.toLowerCase();n.parent("code").length?n.unwrap():r!=="body"&&n.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){e.wysiwyg.controls.cssWrap.init(this)}}},this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin: 0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin: 0; padding: 0 12px; font: 12px Arial; color: #424242;"><div class="oneone">INITIAL_CONTENT</div></body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!0,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}},dialog:"default"},this.availableControlProperties=["arguments","callback","className","command","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"],this.editor=null,this.editorDoc=null,this.element=null,this.options={},this.original=null,this.savedRange=null,this.timers=[],this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],this.isDestroyed=!1,this.dom={ie:{parent:null},w3c:{parent:null}},this.dom.parent=this,this.dom.ie.parent=this.dom,this.dom.w3c.parent=this.dom,this.ui={},this.ui.self=this,this.ui.toolbar=null,this.ui.initialHeight=null,this.dom.getAncestor=function(e,t){t=t.toLowerCase();while(e&&typeof e.tagName!="undefined"&&"body"!==e.tagName.toLowerCase()){if(t===e.tagName.toLowerCase())return e;e=e.parentNode}if(!e.tagName&&(e.previousSibling||e.nextSibling)){if(e.previousSibling&&e.previousSibling.tagName.toLowerCase()==t)return e.previousSibling;if(e.nextSibling&&e.nextSibling.tagName.toLowerCase()==t)return e.nextSibling}return null},this.dom.getElement=function(e){var t=this;return e=e.toLowerCase(),window.getSelection?t.w3c.getElement(e):t.ie.getElement(e)},this.dom.ie.getElement=function(e){var t=this.parent,n=t.parent.getInternalSelection(),r=n.createRange(),i;if("Control"===n.type){if(1!==r.length)return null;i=r.item(0)}else i=r.parentElement();return t.getAncestor(i,e)},this.dom.w3c.getElement=function(e){var t=this.parent,n=t.parent.getInternalRange(),r;if(!n)return null;r=n.commonAncestorContainer,3===r.nodeType&&(r=r.parentNode),r===n.startContainer&&(r=r.childNodes[n.startOffset]);if(!r.tagName&&(r.previousSibiling||r.nextSibling)){if(r.previousSibiling&&r.previousSibiling.tagName.toLowerCase()==e)return r.previousSibiling;if(r.nextSibling&&r.nextSibling.tagName.toLowerCase()==e)return r.nextSibling}return t.getAncestor(r,e)},this.ui.addHoverClass=function(){e(this).addClass("wysiwyg-button-hover")},this.ui.appendControls=function(){var t=this,n=this.self,r=n.parseControls(),i=!0,s=[],o={},u,a,f=function(e,n){n.groupIndex&&a!==n.groupIndex&&(a=n.groupIndex,i=!1);if(!n.visible)return;i||(t.appendItemSeparator(),i=!0),n.custom?t.appendItemCustom(e,n):t.appendItem(e,n)};e.each(r,function(e,t){var n="empty";undefined!==t.groupIndex&&(""===t.groupIndex?n="empty":n=t.groupIndex),undefined===o[n]&&(s.push(n),o[n]={}),o[n][e]=t}),s.sort(function(e,t){return"number"==typeof e&&typeof e==typeof t?e-t:(e=e.toString(),t=t.toString(),e>t?1:e===t?0:-1)}),0<s.length&&(a=s[0]);for(u=0;u<s.length;u+=1)e.each(o[s[u]],f)},this.ui.appendItem=function(t,n){var r=this.self,i=n.className||n.command||t||"empty",s=n.tooltip||n.command||t||"";return e('<li role="menuitem" unselectable="on">'+i+"</li>").addClass(i).attr("title",s).hover(this.addHoverClass,this.removeHoverClass).click(function(i){if(e(this).hasClass("disabled"))return!1;r.triggerControl.apply(r,[t,n]);var s=e(i.target);for(var o in r.controls)if(s.hasClass(o)){r.ui.toolbar.find("."+o).toggleClass("active"),r.editorDoc.rememberCommand=!0;break}return this.blur(),r.ui.returnRange(),r.ui.focus(),!0}).appendTo(r.ui.toolbar)},this.ui.appendItemCustom=function(t,n){var r=this.self,i=n.tooltip||n.command||t||"";return n.callback&&e(window).bind("trigger-"+t+".wysiwyg",n.callback),e('<li role="menuitem" unselectable="on" style="background: url(\''+n.icon+"') no-repeat;\"></li>").addClass("custom-command-"+t).addClass("wysiwyg-custom-command").addClass(t).attr("title",i).hover(this.addHoverClass,this.removeHoverClass).click(function(){return e(this).hasClass("disabled")?!1:(r.triggerControl.apply(r,[t,n]),this.blur(),r.ui.returnRange(),r.ui.focus(),r.triggerControlCallback(t),!0)}).appendTo(r.ui.toolbar)},this.ui.appendItemSeparator=function(){var t=this.self;return e('<li role="separator" class="separator"></li>').appendTo(t.ui.toolbar)},this.autoSaveFunction=function(){this.saveContent()},this.ui.checkTargets=function(t){var n=this.self;e.each(n.options.controls,function(r,i){var s=i.className||i.command||r||"empty",o,u,a,f,l=function(e,t){var r;"function"==typeof t?(r=t,r(f.css(e).toString().toLowerCase(),n)&&n.ui.toolbar.find("."+s).addClass("active")):f.css(e).toString().toLowerCase()===t&&n.ui.toolbar.find("."+s).addClass("active")};"fullscreen"!==s&&n.ui.toolbar.find("."+s).removeClass("active");if(i.tags||i.options&&i.options.tags){o=i.tags||i.options&&i.options.tags,u=t;while(u){if(u.nodeType!==1
)break;e.inArray(u.tagName.toLowerCase(),o)!==-1&&n.ui.toolbar.find("."+s).addClass("active"),u=u.parentNode}}if(i.css||i.options&&i.options.css){a=i.css||i.options&&i.options.css,f=e(t);while(f){if(f[0].nodeType!==1)break;e.each(a,l),f=f.parent()}}})},this.ui.designMode=function(){var e=3,t=this.self,n;n=function(e){if("on"===t.editorDoc.designMode){t.timers.designMode&&window.clearTimeout(t.timers.designMode),t.innerDocument()!==t.editorDoc&&t.ui.initFrame();return}try{t.editorDoc.designMode="on"}catch(r){}e-=1,e>0&&(t.timers.designMode=window.setTimeout(function(){n(e)},100))},n(e)},this.destroy=function(){this.isDestroyed=!0;var t,n=this.element.closest("form");for(t=0;t<this.timers.length;t+=1)window.clearTimeout(this.timers[t]);return n.unbind(".wysiwyg"),this.element.remove(),e.removeData(this.original,"wysiwyg"),e(this.original).show(),this},this.getRangeText=function(){var e=this.getInternalRange();return e.toString?e=e.toString():e.text&&(e=e.text),e},this.execute=function(e,t){typeof t=="undefined"&&(t=null),this.editorDoc.execCommand(e,!1,t)},this.extendOptions=function(t){var n={};return"object"==typeof t.controls&&(n=t.controls,delete t.controls),t=e.extend(!0,{},this.defaults,t),t.controls=e.extend(!0,{},n,this.controls,n),t.rmUnusedControls&&e.each(t.controls,function(e){n[e]||delete t.controls[e]}),t},this.ui.focus=function(){var e=this.self;return e.editor.get(0).contentWindow.focus(),e},this.ui.returnRange=function(){var e=this.self,n;if(e.savedRange!==null){if(window.getSelection){n=window.getSelection(),n.rangeCount>0&&n.removeAllRanges();try{n.addRange(e.savedRange)}catch(r){t.error(r)}}else window.document.createRange?window.getSelection().addRange(e.savedRange):window.document.selection&&e.savedRange.select();e.savedRange=null}},this.increaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(e.browser.safari){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("big");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.decreaseFontSize=function(){if(e.browser.mozilla||e.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(e.browser.safari){var n=this.getInternalRange(),r=this.getInternalSelection(),i=this.editorDoc.createElement("small");if(!0===n.collapsed&&3===n.commonAncestorContainer.nodeType){var s=n.commonAncestorContainer.nodeValue.toString(),o=s.lastIndexOf(" ",n.startOffset)+1,u=-1===s.indexOf(" ",n.startOffset)?s:s.indexOf(" ",n.startOffset);n.setStart(n.commonAncestorContainer,o),n.setEnd(n.commonAncestorContainer,u),n.surroundContents(i),r.addRange(n)}else n.surroundContents(i),r.removeAllRanges(),r.addRange(n)}else t.error("Internet Explorer?")},this.getContent=function(){return this.viewHTML&&this.setContent(this.original.value),this.events.filter("getContent",this.editorDoc.body.innerHTML)},this.events={_events:{},bind:function(e,t){typeof this._events.eventName!="object"&&(this._events[e]=[]),this._events[e].push(t)},trigger:function(t,n){if(typeof this._events.eventName=="object"){var r=this.editor;e.each(this._events[t],function(e,t){typeof t=="function"&&t.apply(r,n)})}},filter:function(t,n){if(typeof this._events[t]=="object"){var r=this.editor,i=Array.prototype.slice.call(arguments,1);e.each(this._events[t],function(e,t){typeof t=="function"&&(n=t.apply(r,i))})}return n}},this.getElementByAttributeValue=function(t,n,r){var i,s,o=this.editorDoc.getElementsByTagName(t);for(i=0;i<o.length;i+=1){s=o[i].getAttribute(n),e.browser.msie&&(s=s.substr(s.length-r.length));if(s===r)return o[i]}return!1},this.getInternalRange=function(){var e=this.getInternalSelection();return e?e.rangeCount&&e.rangeCount>0?e.getRangeAt(0):e.createRange?e.createRange():null:null},this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection)return this.editor.get(0).contentWindow.getSelection();if(this.editor.get(0).contentWindow.selection)return this.editor.get(0).contentWindow.selection}return this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null},this.getRange=function(){var e=this.getSelection();if(!e)return null;if(e.rangeCount&&e.rangeCount>0)e.getRangeAt(0);else if(e.createRange)return e.createRange();return null},this.getSelection=function(){return window.getSelection?window.getSelection():window.document.selection},this.ui.grow=function(){var t=this.self,n=e(t.editorDoc.body),r=e.browser.msie?n[0].scrollHeight:n.height()+2+20,i=t.ui.initialHeight,s=Math.max(r,i);return s=Math.min(s,t.options.maxHeight),t.editor.attr("scrolling",s<t.options.maxHeight?"no":"auto"),n.css("overflow",s<t.options.maxHeight?"hidden":""),t.editor.get(0).height=s,t},this.init=function(t,n){var r=this,i=e(t).closest("form"),s=t.width||t.clientWidth||0,o=t.height||t.clientHeight||0;this.options=this.extendOptions(n),this.original=t,this.ui.toolbar=e(this.options.toolbarHtml),e.browser.msie&&parseInt(e.browser.version,10)<8&&(this.options.autoGrow=!1),s===0&&t.cols&&(s=t.cols*8+21),o===0&&t.rows&&(o=t.rows*16+16),this.editor=e(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0"),this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(o-6).toString()+"px",width:s>50?(s-8).toString()+"px":""}),e.browser.msie&&parseInt(e.browser.version,10)<7&&this.editor.css("height",o.toString()+"px"));if(t.id){var u=t.id+"-wysiwyg-iframe";document.getElementById(u)||this.editor.attr("id",u)}this.editor.attr("tabindex",e(t).attr("tabindex")),this.element=e("<div/>").addClass("wysiwyg"),this.options.iFrameClass||this.element.css({width:s>0?s.toString()+"px":"100%"}),e(t).hide().before(this.element),this.viewHTML=!1,this.initialContent=e(t).val(),this.ui.initFrame(),this.options.resizeOptions&&e.fn.resizable&&this.element.resizable(e.extend(!0,{alsoResize:this.editor},this.options.resizeOptions)),this.options.autoSave&&i.bind("submit.wysiwyg",function(){r.autoSaveFunction()}),i.bind("reset.wysiwyg",function(){r.resetFunction()})},this.ui.initFrame=function(){var n=this.self,r,i,s;n.ui.appendControls(),n.element.append(n.ui.toolbar).append(e("<div><!-- --></div>").css({clear:"both"})).append(n.editor),n.editorDoc=n.innerDocument();if(n.isDestroyed)return null;n.ui.designMode(),n.editorDoc.open(),n.editorDoc.write(n.options.html.replace(/INITIAL_CONTENT/,function(){return n.wrapInitialContent()})),n.editorDoc.close(),e.wysiwyg.plugin.bind(n),e(n.editorDoc).trigger("initFrame.wysiwyg"),e(n.editorDoc).bind("click.wysiwyg",function(e){n.ui.checkTargets(e.target?e.target:e.srcElement)}),setInterval(function(){var r=null;try{var i=n.getInternalRange();i&&(r={range:i,parent:e.browser.msie?i.parentElement():i.endContainer.parentNode,width:(e.browser.msie?i.boundingWidth:i.startOffset-i.endOffset)||0})}catch(s){t.error(s)}r&&r.width==0&&!n.editorDoc.rememberCommand&&n.ui.checkTargets(r.parent)},400),e(n.original).focus(function(){if(e(this).filter(":visible").length===0)return;n.ui.focus()}),e(n.editorDoc).keydown(function(e){var t;if(e.keyCode===8){t=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/;if(t.test(n.getContent()))return e.stopPropagation(),!1}return n.editorDoc.rememberCommand=!1,!0}),e.browser.msie?n.options.brIE&&e(n.editorDoc).keydown(function(e){if(e.keyCode===13){var t=n.getRange();return t.pasteHTML("<br/>"),t.collapse(!1),t.select(),!1}return!0}):e(n.editorDoc).keydown(function(e){var t;if(e.ctrlKey||e.metaKey)for(t in n.controls)if(n.controls[t].hotkey&&n.controls[t].hotkey.ctrl&&e.keyCode===n.controls[t].hotkey.key)return n.triggerControl.apply(n,[t,n.controls[t]]),!1;return!0}),n.options.plugins.rmFormat.rmMsWordMarkup&&e(n.editorDoc).bind("keyup.wysiwyg",function(t){(t.ctrlKey||t.metaKey)&&86===t.keyCode&&e.wysiwyg.rmFormat&&("object"==typeof n.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(n,{rules:{msWordMarkup:n.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(n,{rules:{msWordMarkup:{enabled:!0}}}))}),n.options.autoSave&&e(n.editorDoc).keydown(function(){n.autoSaveFunction()}).keyup(function(){n.autoSaveFunction()}).mousedown(function(){n.autoSaveFunction()}).bind(e.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){n.autoSaveFunction()}),n.options.autoGrow&&(n.options.initialMinHeight!==null?n.ui.initialHeight=n.options.initialMinHeight:n.ui.initialHeight=e(n.editorDoc).height(),e(n.editorDoc.body).css("border","1px solid white"),i=function(){n.ui.grow()},e(n.editorDoc).keyup(i),e(n.editorDoc).bind("editorRefresh.wysiwyg",i),n.ui.grow()),n.options.css&&(String===n.options.css.constructor?e.browser.msie?(r=n.editorDoc.createStyleSheet(n.options.css),e(r).attr({media:"all"})):(r=e("<link/>").attr({href:n.options.css,media:"all",rel:"stylesheet",type:"text/css"}),e(n.editorDoc).find("head").append(r)):n.timers.initFrame_Css=window.setTimeout(function(){e(n.editorDoc.body).css(n.options.css)},0)),n.initialContent.length===0&&("function"==typeof n.options.initialContent?n.setContent(n.options.initialContent()):n.setContent(n.options.initialContent)),n.options.maxLength>0&&e(n.editorDoc).keydown(function(t){e(n.editorDoc).text().length>=n.options.maxLength&&e.inArray(t.which,n.validKeyCodes)===-1&&t.preventDefault()}),e.each(n.options.events,function(t,r){e(n.editorDoc).bind(t+".wysiwyg",function(e){r.apply(n.editorDoc,[e,n])})}),e.browser.msie?e(n.editorDoc).bind("beforedeactivate.wysiwyg",function(){n.savedRange=n.getInternalRange()}):e(n.editorDoc).bind("blur.wysiwyg",function(){n.savedRange=n.getInternalRange()}),e(n.editorDoc.body).addClass("wysiwyg"),n.options.events&&n.options.events.save&&(s=n.options.events.save,e(n.editorDoc).bind("keyup.wysiwyg",s),e(n.editorDoc).bind("change.wysiwyg",s),e.support.noCloneEvent?e(n.editorDoc).bind("input.wysiwyg",s):(e(n.editorDoc).bind("paste.wysiwyg",s),e(n.editorDoc).bind("cut.wysiwyg",s)));if(n.options.xhtml5&&n.options.unicode){var o={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,"int":8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};n.events.bind("getContent",function(e){return e.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(e,t){o[t]||(t=t.toLowerCase(),o[t]||(t="__replacement"));var n=o[t];return String.fromCharCode(n)})})}e(n.original).trigger("ready.jwysiwyg",[n.editorDoc,n])},this.innerDocument=function(){var e=this.editor.get(0);if(e.nodeName.toLowerCase()==="iframe"){if(e.contentDocument)return e.contentDocument;if(e.contentWindow)return e.contentWindow.document;if(this.isDestroyed)return null;t.error("Unexpected error in innerDocument")}return e},this.insertHtml=function(t){var n,r;return!t||t.length===0?this:(e.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),n=this.getElementByAttributeValue("img","src","#jwysiwyg#"),n&&e(n).replaceWith(t)):e.browser.mozilla?1===e(t).length?(r=this.getInternalRange(),r.deleteContents(),r.insertNode(e(t).get(0))):this.editorDoc.execCommand("insertHTML",!1,t):this.editorDoc.execCommand("insertHTML",!1,t)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,t)),this.saveContent(),this)},this.parseControls=function(){var t=this;return e.each(this.options.controls,function(n,r){e.each(r,function(r){if(-1===e.inArray(r,t.availableControlProperties))throw n+'["'+r+'"]: property "'+r+'" not exists in Wysiwyg.availableControlProperties'})}),this.options.parseControls?this.options.parseControls.call(this):this.options.controls},this.removeFormat=function(){return e.browser.msie&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),e.wysiwyg.rmFormat&&e.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):e.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this},this.ui.removeHoverClass=function(){e(this).removeClass("wysiwyg-button-hover")},this.resetFunction=function(){this.setContent(this.initialContent)},this.saveContent=function(){if(this.viewHTML)return;if(this.original){var t,n;t=this.getContent(),this.options.rmUnwantedBr&&(t=t.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&(n=e("<div/>").addClass("temp").append(t),n.children("div").each(function(){var t=e(this),n=t.find("p"),r;if(0===n.length){n=e("<p></p>");if(this.attributes.length>0)for(r=0;r<this.attributes.length;r+=1)n.attr(this.attributes[r].name,t.attr(this.attributes[r].name));n.append(t.html()),t.replaceWith(n)}}),t=n.html()),e(this.original).val(t),this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this},this.setContent=function(e){return this.editorDoc.body.innerHTML=e,this.saveContent(),this},this.triggerControl=function(e,n){var r=n.command||e,i=n.arguments||[];if(n.exec)n.exec.apply(this);else{this.ui.focus(),this.ui.withoutCss();try{this.editorDoc.execCommand(r,!1,i)}catch(s){t.error(s)}}this.options.autoSave&&this.autoSaveFunction()},this.triggerControlCallback=function(t){e(window).trigger("trigger-"+t+".wysiwyg",[this])},this.ui.withoutCss=function(){var t=this.self;if(e.browser.mozilla)try{t.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(n){try{t.editorDoc.execCommand("useCSS",!1,!0)}catch(r){}}return t},this.wrapInitialContent=function(){var e=this.initialContent,t=e.match(/<\/?p>/gi);return t?e:"<p>"+e+"</p>"}}var t=window.console?window.console:{log:e.noop,error:function(t){e.error(t)}},n="prop"in e.fn&&"removeProp"in e.fn;e.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i={},s;if(!t)return this;i[n]=e.extend(!0,{visible:!0,custom:!0},r),e.extend(!0,t.options.controls,i),s=e(t.options.toolbarHtml),t.ui.toolbar.replaceWith(s),t.ui.toolbar=s,t.ui.appendControls()})},clear:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent("")})},console:t,destroy:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.destroy()})},document:function(t){var n=t.data("wysiwyg");return n?e(n.editorDoc):undefined},getContent:function(e){var t=e.data("wysiwyg");return t?t.getContent():undefined},init:function(t,n){return t.each(function(){var t=e.extend(!0,{},n),i;if("textarea"!==this.nodeName.toLowerCase()||e(this).data("wysiwyg"))return;i=new r,i.init(this,t),e.data(this,"wysiwyg",i),e(i.editorDoc).trigger("afterInit.wysiwyg")})},insertHtml:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.insertHtml(n)})},plugin:{listeners:{},bind:function(t){var n=this;e.each(this.listeners,function(r,i){var s,o;for(s=0;s<i.length;s+=1)o=n.parseName(i[s]),e(t.editorDoc).bind(r+".wysiwyg",{plugin:o},function(n){e.wysiwyg[n.data.plugin.name][n.data.plugin.method].apply(e.wysiwyg[n.data.plugin.name],[t])})})},exists:function(t){var n;return"string"!=typeof t?!1:(n=this.parseName(t),!e.wysiwyg[n.name]||!e.wysiwyg[n.name][n.method]?!1:!0)},listen:function(t,n){var r;return r=this.parseName(n),!e.wysiwyg[r.name]||!e.wysiwyg[r.name][r.method]?!1:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n),!0)},parseName:function(e){var t;return"string"!=typeof e?!1:(t=e.split("."),2>t.length?!1:{name:t[0],method:t[1]})},register:function(n){return n.name||t.error("Plugin name missing"),e.each(e.wysiwyg,function(e){e===n.name&&t.error("Plugin with name '"+n.name+"' was already registered")}),e.wysiwyg[n.name]=n,!0}},removeFormat:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.removeFormat()})},save:function(t){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.saveContent()})},selectAll:function(e){var t=e.data("wysiwyg"),n,r,i;if(!t)return this;n=t.editorDoc.body,window.getSelection?(i=t.getInternalSelection(),i.selectAllChildren(n)):(r=n.createTextRange(),r.moveToElementText(n),r.select())},setContent:function(t,n){return t.each(function(){var t=e(this).data("wysiwyg");if(!t)return this;t.setContent(n)})},triggerControl:function(n,r){return n.each(function(){var n=e(this).data("wysiwyg");if(!n)return this;n.controls[r]||t.error("Control '"+r+"' not exists"),n.triggerControl.apply(n,[r,n.controls[r]])})},support:{prop:n},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(t){var n=this,r,i=[];return this.extraSafeEntities[1].length===0&&e.each(this.extraSafeEntities[0],function(e,t){n.extraSafeEntities[1].push(t.charCodeAt(0))}),r=t.split(""),e.each(r,function(t){var s=r[t].charCodeAt(0);e.inArray(s,n.extraSafeEntities[1])&&(s<65||s>127||s>90&&s<97)?i.push("&#"+s+";"):i.push(r[t])}),i.join("")}}},e.wysiwyg.dialog=function(t,n){var r=t&&t.options&&t.options.dialog?t.options.dialog:n.theme?n.theme:"default",i=new e.wysiwyg.dialog.createDialog(r),s=this,o=e(s);return this.options={modal:!0,draggable:!0,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:2e3,open:!1,close:!1},this.isOpen=!1,e.extend(this.options,n),this.object=i,this.open=function(){this.isOpen=!0,i.init.apply(s,[]);var e=i.show.apply(s,[]);o.trigger("afterOpen",[e])},this.show=function(){this.isOpen=!0,o.trigger("beforeShow");var e=i.show.apply(s,[]);o.trigger("afterShow")},this.hide=function(){this.isOpen=!1,o.trigger("beforeHide");var e=i.hide.apply(s,[]);o.trigger("afterHide",[e])},this.close=function(){this.isOpen=!1;var e=i.hide.apply(s,[]);o.trigger("beforeClose",[e]),i.destroy.apply(s,[]),o.trigger("afterClose",[e])},this.options.open&&o.bind("afterOpen",this.options.open),this.options.close&&o.bind("afterClose",this.options.close),this},e.extend(!0,e.wysiwyg.dialog,{_themes:{},_theme:"",register:function(t,n){e.wysiwyg.dialog._themes[t]=n},deregister:function(t){delete e.wysiwyg.dialog._themes[t]},createDialog:function(t){return new e.wysiwyg.dialog._themes[t]},getDimensions:function(){var t=document.body.scrollWidth,n=document.body.scrollHeight;return e.browser.opera&&(n=Math.max(e(document).height(),e(window).height(),document.documentElement.clientHeight)),[t,n]}}),e(function(){jQuery.ui&&e.wysiwyg.dialog.register("jqueryui",function(){var t=this;this._$dialog=null,this.init=function(){var n=this,r=this.options.content;typeof r=="object"&&(typeof r.html=="function"?r=r.html():typeof r.toString=="function"&&(r=r.toString())),t._$dialog=e("<div></div>").attr("title",this.options.title).html(r);var i=this.options.height=="auto"?300:this.options.height,s=this.options.width=="auto"?450:this.options.width;return t._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:i,width:s}),t._$dialog},this.show=function(){return t._$dialog.dialog("open"),t._$dialog},this.hide=function(){return t._$dialog.dialog("close"),t._$dialog},this.destroy=function(){return t._$dialog.dialog("destroy"),t._$dialog}}),e.wysiwyg.dialog.register("default",function(){var t=this;this._$dialog=null,this.init=function(){var n=this,r=this.options.content;typeof r=="object"&&(typeof r.html=="function"?r=r.html():typeof r.toString=="function"&&(r=r.toString())),t._$dialog=e('<div class="wysiwyg-dialog"></div>').css({"z-index":this.options.zIndex});var i=e('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"></div><div class="wysiwyg-dialog-title">'+this.options.title+"</div></div>"),s=e('<a href="#" class="wysiwyg-dialog-close-button">X</a>');s.click(function(){n.close()}),i.find(".wysiwyg-dialog-close-wrapper").prepend(s);var o=e('<div class="wysiwyg-dialog-content">'+r+"</div>");t._$dialog.append(i).append(o);var u=this.options.height=="auto"?300:this.options.height,a=this.options.width=="auto"?450:this.options.width;return t._$dialog.hide().css({width:a,height:u,left:(e(window).width()-a)/2,top:(e(window).height()-u)/3}),e("body").append(t._$dialog),t._$dialog},this.show=function(){if(this.options.modal){var n=e.wysiwyg.dialog.getDimensions(),r=e('<div class="wysiwyg-dialog-modal-div"></div>').css({width:n[0],height:n[1]});t._$dialog.wrap(r)}if(this.options.draggable){var i=!1;t._$dialog.find("div.wysiwyg-dialog-topbar").bind("mousedown",function(t){t.preventDefault(),e(this).css({cursor:"move"});var n=e(this),r=e(this).parents(".wysiwyg-dialog"),s=t.pageX-parseInt(r.css("left"),10),o=t.pageY-parseInt(r.css("top"),10);i=!0,e(this).css({cursor:"move"}),e(document).bind("mousemove",function(e){e.preventDefault(),i&&r.css({top:e.pageY-o,left:e.pageX-s})}).bind("mouseup",function(t){t.preventDefault(),i=!1,n.css({cursor:"auto"}),e(document).unbind("mousemove").unbind("mouseup")})})}return t._$dialog.show(),t._$dialog},this.hide=function(){return t._$dialog.hide(),t._$dialog},this.destroy=function(){return this.options.modal&&t._$dialog.unwrap(),this.options.draggable&&t._$dialog.find("div.wysiwyg-dialog-topbar").unbind("mousedown"),t._$dialog.remove(),t._$dialog}})}),e.fn.wysiwyg=function(n){var r=arguments,i;if("undefined"!=typeof e.wysiwyg[n])return r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[n].apply(e.wysiwyg,Array.prototype.slice.call(r,1));if("object"==typeof n||!n)return Array.prototype.unshift.call(r,this),e.wysiwyg.init.apply(e.wysiwyg,r);if(e.wysiwyg.plugin.exists(n))return i=e.wysiwyg.plugin.parseName(n),r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),e.wysiwyg[i.name][i.method].apply(e.wysiwyg[i.name],Array.prototype.slice.call(r,1));t.error("Method '"+n+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")},e.fn.getWysiwyg=function(){return this.data("wysiwyg")}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.colorpicker.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.colorpicker={modalOpen:!1,color:{back:{prev:"#ffffff",palette:[]},fore:{prev:"#123456",palette:[]}},addColorToPalette:function(t,n){-1===e.inArray(n,this.color[t].palette)?this.color[t].palette.push(n):this.color[t].palette.sort(function(e,t){return e===n?1:0})},init:function(t){if(e.wysiwyg.controls.colorpicker.modalOpen===!0)return!1;e.wysiwyg.controls.colorpicker.modalOpen=!0;var n=this,r,i,s,o,u,f;o={legend:"Colorpicker",color:"Color",submit:"Apply",reset:"Cancel"},s='<form class="wysiwyg"><fieldset><legend>{legend}</legend><ul class="palette"></ul><label>{color}: <input type="text" name="color" value="#123456"/></label><div class="wheel"></div><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(u in o)e.wysiwyg.i18n&&(f=e.wysiwyg.i18n.t(o[u],"dialogs.colorpicker"),f===o[u]&&(f=e.wysiwyg.i18n.t(o[u],"dialogs")),o[u]=f),s=s.replace("{"+u+"}",o[u]);e.modal?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),e.modal(r.html(),{maxWidth:t.defaults.formWidth,maxHeight:t.defaults.formHeight,overlayClose:!0,onShow:function(r){e("input:submit",r.data).click(function(i){var s=e('input[name="color"]',r.data).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e.modal.close(),!1}),e("input:reset",r.data).click(function(n){return e.browser.msie&&t.ui.returnRange(),e.modal.close(),!1}),e("fieldset",r.data).click(function(e){e.stopPropagation()})},onClose:function(t){e.wysiwyg.controls.colorpicker.modalOpen=!1,e.modal.close()}})):e.fn.dialog?(r=e(s),e.farbtastic&&(this.renderPalette(r,"fore"),r.find(".wheel").farbtastic(r.find("input:text"))),i=r.appendTo("body"),i.dialog({modal:!0,open:function(s,o){e("input:submit",r).click(function(r){var s=e('input[name="color"]',i).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(i).dialog("close"),!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(i).dialog("close"),!1}),e("fieldset",r).click(function(e){e.stopPropagation()})},close:function(t,n){e.wysiwyg.controls.colorpicker.modalOpen=!1,i.dialog("destroy"),i.remove()}})):e.farbtastic&&(r=e("<div/>").css({position:"fixed","z-index":2e3,left:"50%",top:"50%",background:"rgb(0, 0, 0)","margin-top":-1*Math.round(t.defaults.formHeight/2),"margin-left":-1*Math.round(t.defaults.formWidth/2)}).html(s),this.renderPalette(r,"fore"),r.find("input[name=color]").val(n.color.fore.prev),r.find(".wheel").farbtastic(r.find("input:text")),e("input:submit",r).click(function(i){var s=e('input[name="color"]',r).val();return n.color.fore.prev=s,n.addColorToPalette("fore",s),e.browser.msie&&t.ui.returnRange(),t.editorDoc.execCommand("ForeColor",!1,s),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("input:reset",r).click(function(n){return e.browser.msie&&t.ui.returnRange(),e(r).remove(),e.wysiwyg.controls.colorpicker.modalOpen=!1,!1}),e("body").append(r),r.click(function(e){e.stopPropagation()}))},renderPalette:function(t,n){var r=t.find(".palette"),i=function(){var n=e(this).text();t.find("input[name=color]").val(n),e.farbtastic&&t.find("input[name=color]").trigger("keyup")},s,o,u;for(u=this.color[n].palette.length-1;u>-1;u-=1)s=e("<div/>").css({"float":"left",width:"16px",height:"16px",margin:"0px 5px 0px 0px","background-color":this.color[n].palette[u]}),o=e("<li>"+this.color[n].palette[u]+"</li>").css({"float":"left","list-style":"none"}).append(s).bind("click.wysiwyg",i),r.append(o).css({margin:"0px",padding:"0px"})}}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.cssWrap.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.cssWrap={init:function(t){var n=this,r,i,s,o={legend:"Wrap Element",wrapperType:"Wrapper Type",ID:"ID","class":"Class",wrap:"Wrap",unwrap:"Unwrap",cancel:"Cancel"};r='<form class="wysiwyg"><fieldset><legend>{legend}</legend><div class="wysiwyg-dialogRow"><label>{wrapperType}: &nbsp;<select name="type"><option value="span">Span</option><option value="div">Div</option></select></label></div><div class="wysiwyg-dialogRow"><label>{ID}: &nbsp;<input name="id" type="text" /></label></div><div class="wysiwyg-dialogRow"><label>{class}: &nbsp;<input name="class" type="text" /></label></div><div class="wysiwyg-dialogRow"><input type="button" class="button cssWrap-unwrap" style="display:none;" value="{unwrap}"/></label><input type="submit"  class="button cssWrap-submit" value="{wrap}"/></label><input type="reset" class="button cssWrap-cancel" value="{cancel}"/></div></fieldset></form>';for(i in o)e.wysiwyg.i18n&&(s=e.wysiwyg.i18n.t(o[i]),s===o[i]&&(s=e.wysiwyg.i18n.t(o[i],"dialogs")),o[i]=s),r=r.replace("{"+i+"}",o[i]);return e(".wysiwyg-dialog-wrapper").length||(e(r).appendTo("body"),e("form.wysiwyg").dialog({modal:!0,open:function(n,r){var i=e(this),s=t.getInternalRange(),o,u;if(!s)return alert("You must select some elements before you can wrap them."),i.dialog("close"),0;e.browser.msie&&t.ui.focus(),o=e(s.commonAncestorContainer),u=s.commonAncestorContainer.nodeName.toLowerCase(),o.parent(".wysiwygCssWrapper").length&&(alert(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").val(o.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),i.find("select[name=type]").attr("disabled","disabled"),i.find("input[name=id]").val(o.parent(".wysiwygCssWrapper").attr("id")),i.find("input[name=class]").val(o.parent(".wysiwygCssWrapper").attr("class").replace("wysiwygCssWrapper ","")),e("form.wysiwyg").find(".cssWrap-unwrap").show(),e("form.wysiwyg").find(".cssWrap-unwrap").click(function(e){return e.preventDefault(),u!=="body"&&o.unwrap(),i.dialog("close"),1})),e("form.wysiwyg").find(".cssWrap-submit").click(function(t){t.preventDefault();var n=e("form.wysiwyg").find("select[name=type]").val(),r=e("form.wysiwyg").find("input[name=id]").val(),s=e("form.wysiwyg").find("input[name=class]").val();u!=="body"&&(o.parent(".wysiwygCssWrapper").length?(o.parent(".wysiwygCssWrapper").attr("id",s),o.parent(".wysiwygCssWrapper").attr("class",s)):o.wrap("<"+n+' id="'+r+'" class="wysiwygCssWrapper '+s+'"/>')),i.dialog("close")}),e("form.wysiwyg").find(".cssWrap-cancel").click(function(e){return e.preventDefault(),i.dialog("close"),1})},close:function(){e(this).dialog("destroy"),e(this).remove()}}),t.saveContent()),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),1}}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.image.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.image={groupIndex:6,visible:!0,exec:function(){e.wysiwyg.controls.image.init(this)},tags:["img"],tooltip:"Insert image",init:function(t){var n=this,r,i,s,o,u,f,l,c,h={alt:"",self:t.dom?t.dom.getElement("img"):null,src:"http://",title:""};f={legend:"Insert Image",preview:"Preview",url:"URL",title:"Title",description:"Description",width:"Width",height:"Height",original:"Original W x H","float":"Float",floatNone:"None",floatLeft:"Left",floatRight:"Right",submit:"Insert Image",reset:"Cancel",fileManagerIcon:"Select file from server"},o='<form class="wysiwyg" id="wysiwyg-addImage"><fieldset><div class="form-row"><span class="form-row-key">{preview}:</span><div class="form-row-value"><img src="" alt="{preview}" style="margin: 2px; padding:5px; max-width: 100%; overflow:hidden; max-height: 100px; border: 1px solid rgb(192, 192, 192);"/></div></div><div class="form-row"><label for="name">{url}:</label><div class="form-row-value"><input type="text" name="src" value=""/>',e.wysiwyg.fileManager&&e.wysiwyg.fileManager.ready&&(o+='<div class="wysiwyg-fileManager" title="{fileManagerIcon}"/>'),o+='</div></div><div class="form-row"><label for="name">{title}:</label><div class="form-row-value"><input type="text" name="imgtitle" value=""/></div></div><div class="form-row"><label for="name">{description}:</label><div class="form-row-value"><input type="text" name="description" value=""/></div></div><div class="form-row"><label for="name">{width} x {height}:</label><div class="form-row-value"><input type="text" name="width" value="" class="width-small"/> x <input type="text" name="height" value="" class="width-small"/></div></div><div class="form-row"><label for="name">{original}:</label><div class="form-row-value"><input type="text" name="naturalWidth" value="" class="width-small" disabled="disabled"/> x <input type="text" name="naturalHeight" value="" class="width-small" disabled="disabled"/></div></div><div class="form-row"><label for="name">{float}:</label><div class="form-row-value"><select name="float"><option value="">{floatNone}</option><option value="left">{floatLeft}</option><option value="right">{floatRight}</option></select></div></div><div class="form-row form-row-last"><label for="name"></label><div class="form-row-value"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></div></div></fieldset></form>'
;for(l in f)e.wysiwyg.i18n&&(c=e.wysiwyg.i18n.t(f[l],"dialogs.image"),c===f[l]&&(c=e.wysiwyg.i18n.t(f[l],"dialogs")),f[l]=c),u=new RegExp("{"+l+"}","g"),o=o.replace(u,f[l]);h.self&&(h.src=h.self.src?h.self.src:"",h.alt=h.self.alt?h.self.alt:"",h.title=h.self.title?h.self.title:"",h.width=h.self.width?h.self.width:"",h.height=h.self.height?h.self.height:"",h.styleFloat=e(h.self).css("float")),i=new e.wysiwyg.dialog(t,{title:f.legend,content:o}),e(i).bind("afterOpen",function(r,s){s.find("form#wysiwyg-addImage").submit(function(e){return e.preventDefault(),n.processInsert(s.container,t,h),i.close(),!1}),e.wysiwyg.fileManager&&e("div.wysiwyg-fileManager").bind("click",function(){e.wysiwyg.fileManager.init(function(e){s.find("input[name=src]").val(e),s.find("input[name=src]").trigger("change")})}),e("input:reset",s).click(function(e){return i.close(),!1}),e("fieldset",s).click(function(e){e.stopPropagation()}),n.makeForm(s,h)}),i.open(),e(t.editorDoc).trigger("editorRefresh.wysiwyg")},processInsert:function(t,n,r){var i,s=e('input[name="src"]',t).val(),o=e('input[name="imgtitle"]',t).val(),u=e('input[name="description"]',t).val(),f=e('input[name="width"]',t).val(),l=e('input[name="height"]',t).val(),c=e('select[name="float"]',t).val(),h=[],p="",d,v;n.options.controlImage&&n.options.controlImage.forceRelativeUrls&&(v=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),0===s.indexOf(v)&&(s=s.substr(v.length))),r.self?(e(r.self).attr("src",s).attr("title",o).attr("alt",u).css("float",c),f.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("width",f):e(r.self).css("width",""),l.toString().match(/^[0-9]+(px|%)?$/)?e(r.self).css("height",l):e(r.self).css("height",""),n.saveContent()):(d=f.toString().match(/^[0-9]+(px|%)?$/),d&&(d[1]?h.push("width: "+f+";"):h.push("width: "+f+"px;")),d=l.toString().match(/^[0-9]+(px|%)?$/),d&&(d[1]?h.push("height: "+l+";"):h.push("height: "+l+"px;")),c.length>0&&h.push("float: "+c+";"),h.length>0&&(p=' style="'+h.join(" ")+'"'),i="<img src='"+s+"' title='"+o+"' alt='"+u+"'"+p+"/>",n.insertHtml(i))},makeForm:function(e,t){return e.find("input[name=src]").val(t.src),e.find("input[name=imgtitle]").val(t.title),e.find("input[name=description]").val(t.alt),e.find('input[name="width"]').val(t.width),e.find('input[name="height"]').val(t.height),e.find('select[name="float"]').val(t.styleFloat),e.find("img").attr("src",t.src),e.find("img").bind("load",function(){e.find("img").get(0).naturalWidth?(e.find('input[name="naturalWidth"]').val(e.find("img").get(0).naturalWidth),e.find('input[name="naturalHeight"]').val(e.find("img").get(0).naturalHeight)):e.find("img").attr("naturalWidth")&&(e.find('input[name="naturalWidth"]').val(e.find("img").attr("naturalWidth")),e.find('input[name="naturalHeight"]').val(e.find("img").attr("naturalHeight")))}),e.find("input[name=src]").bind("change",function(){e.find("img").attr("src",this.value)}),e}},e.wysiwyg.insertImage=function(t,n,r){return t.each(function(){var t=e(this).data("wysiwyg"),i,s;if(!t)return this;if(!n||n.length===0)return this;e.browser.msie&&t.ui.focus();if(r){t.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),i=t.getElementByAttributeValue("img","src","#jwysiwyg#");if(i){i.src=n;for(s in r)r.hasOwnProperty(s)&&i.setAttribute(s,r[s])}}else t.editorDoc.execCommand("insertImage",!1,n);return t.saveContent(),e(t.editorDoc).trigger("editorRefresh.wysiwyg"),this})}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.link.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={}),e.wysiwyg.controls.link={init:function(t){var n=this,r,i,s,o,u,f,l,c,h,p,d,v;l={legend:"Insert Link",url:"Link URL",title:"Link Title",target:"Link Target",submit:"Insert Link",reset:"Cancel"},f='<form class="wysiwyg"><fieldset><legend>{legend}</legend><label>{url}: <input type="text" name="linkhref" value=""/></label><label>{title}: <input type="text" name="linktitle" value=""/></label><label>{target}: <input type="text" name="linktarget" value=""/></label><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(c in l)e.wysiwyg.i18n&&(h=e.wysiwyg.i18n.t(l[c],"dialogs.link"),h===l[c]&&(h=e.wysiwyg.i18n.t(l[c],"dialogs")),l[c]=h),p=new RegExp("{"+c+"}","g"),f=f.replace(p,l[c]);o={self:t.dom.getElement("a"),href:"http://",title:"",target:""},o.self&&(o.href=o.self.href?o.self.href:o.href,o.title=o.self.title?o.self.title:"",o.target=o.self.target?o.self.target:"");if(e.fn.dialog){r=e(f),r.find("input[name=linkhref]").val(o.href),r.find("input[name=linktitle]").val(o.title),r.find("input[name=linktarget]").val(o.target);if(e.browser.msie)try{i=r.appendTo(t.editorDoc.body)}catch(m){i=r.appendTo("body")}else i=r.appendTo("body");i.dialog({modal:!0,open:function(n,r){e("input:submit",i).click(function(n){n.preventDefault();var r=e('input[name="linkhref"]',i).val(),s=e('input[name="linktitle"]',i).val(),f=e('input[name="linktarget"]',i).val(),l,c;t.options.controlLink.forceRelativeUrls&&(l=window.location.protocol+"//"+window.location.hostname,0===r.indexOf(l)&&(r=r.substr(l.length))),o.self?"string"==typeof r&&(r.length>0?e(o.self).attr("href",r).attr("title",s).attr("target",f):e(o.self).replaceWith(o.self.innerHTML)):(e.browser.msie&&t.ui.returnRange(),u=t.getRangeText(),c=t.dom.getElement("img"),u&&u.length>0||c?(e.browser.msie&&t.ui.focus(),"string"==typeof r&&(r.length>0?t.editorDoc.execCommand("createLink",!1,r):t.editorDoc.execCommand("unlink",!1,null)),o.self=t.dom.getElement("a"),e(o.self).attr("href",r).attr("title",s),e(o.self).attr("target",f)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent(),e(i).dialog("close")}),e("input:reset",i).click(function(t){t.preventDefault(),e(i).dialog("close")})},close:function(e,t){i.dialog("destroy"),i.remove()}})}else o.self?(s=window.prompt("URL",o.href),t.options.controlLink.forceRelativeUrls&&(d=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(d)&&(s=s.substr(d.length))),"string"==typeof s&&(s.length>0?e(o.self).attr("href",s):e(o.self).replaceWith(o.self.innerHTML))):(u=t.getRangeText(),v=t.dom.getElement("img"),u&&u.length>0||v?e.browser.msie?(t.ui.focus(),t.editorDoc.execCommand("createLink",!0,null)):(s=window.prompt(l.url,o.href),t.options.controlLink.forceRelativeUrls&&(d=window.location.protocol+"//"+window.location.hostname,0===s.indexOf(d)&&(s=s.substr(d.length))),"string"==typeof s&&(s.length>0?t.editorDoc.execCommand("createLink",!1,s):t.editorDoc.execCommand("unlink",!1,null))):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection)),t.saveContent();e(t.editorDoc).trigger("editorRefresh.wysiwyg")}},e.wysiwyg.createLink=function(t,n){return t.each(function(){var t=e(this).data("wysiwyg"),r;return t?!n||n.length===0?this:(r=t.getRangeText(),r&&r.length>0?(e.browser.msie&&t.ui.focus(),t.editorDoc.execCommand("unlink",!1,null),t.editorDoc.execCommand("createLink",!1,n)):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection),this):this})}}(jQuery),function(e){if(undefined===e.wysiwyg)throw"wysiwyg.table.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={});var t=function(e,t,n){if(isNaN(t)||isNaN(e)||t===null||e===null)return;var r,i,s=['<table border="1" style="width: 100%;"><tbody>'];e=parseInt(e,10),t=parseInt(t,10),n===null&&(n="&nbsp;"),n="<td>"+n+"</td>";for(r=t;r>0;r-=1){s.push("<tr>");for(i=e;i>0;i-=1)s.push(n);s.push("</tr>")}return s.push("</tbody></table>"),this.insertHtml(s.join(""))};e.wysiwyg.controls.table=function(n){var r,i,s,o,u,f,l,c,h;f={legend:"Insert table",cols:"Count of columns",rows:"Count of rows",submit:"Insert table",reset:"Cancel"},u='<form class="wysiwyg" id="wysiwyg-tableInsert"><fieldset><legend>{legend}</legend><label>{cols}: <input type="text" name="colCount" value="3" /></label><br/><label>{rows}: <input type="text" name="rowCount" value="3" /></label><br/><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/></fieldset></form>';for(l in f)e.wysiwyg.i18n&&(c=e.wysiwyg.i18n.t(f[l],"dialogs.table"),c===f[l]&&(c=e.wysiwyg.i18n.t(f[l],"dialogs")),f[l]=c),h=new RegExp("{"+l+"}","g"),u=u.replace(h,f[l]);n.insertTable||(n.insertTable=t),r=new e.wysiwyg.dialog(n,{title:f.legend,content:u,open:function(e,t){t.find("form#wysiwyg-tableInsert").submit(function(e){return e.preventDefault(),o=t.find("input[name=rowCount]").val(),s=t.find("input[name=colCount]").val(),n.insertTable(s,o,n.defaults.tableFiller),r.close(),!1}),t.find("input:reset").click(function(e){return e.preventDefault(),r.close(),!1})}}),r.open(),e(n.editorDoc).trigger("editorRefresh.wysiwyg")},e.wysiwyg.insertTable=function(n,r,i,s){return n.each(function(){var n=e(this).data("wysiwyg");return n.insertTable||(n.insertTable=t),n?(n.insertTable(r,i,s),e(n.editorDoc).trigger("editorRefresh.wysiwyg"),this):this})}}(jQuery);