/*
 *	jQuery layer plugin for iColor yda v1.0
 *	author : luck chang
 *	email : chunhang@networking.io
 *	date : 2012.6.8 15:14:26
 */
(function(e){e.fn.extend({layer:function(t){function s(){t.animation?n.stop(!0).animate({top:"-50%"},"normal",function(){e(this).hide()}):n.fadeOut(),u(),r&&clearInterval(r)}function o(){if(i.ie6){var e=document.documentElement.scrollHeight;i.lay.css("height",e+"px")}i.lay.show().animate({opacity:"0.5"},"normal")}function u(){i.lay.animate({opacity:"0"},"normal").hide()}function a(n){var s={};s.name=e(n).text(),s.school=e(n).attr("school"),s.user=e(n).attr("user");if(e(n).hasClass("names"))i.name.text(s.name),i.school.text(s.school),i.img.attr("src",s.user),i.ul.hide();else{i.school.text(s.name),i.name.text(s.user),i.ul.show(),i.f=e(n).attr("f"),i.s=e(n).attr("s"),i.img.attr("src",i.f),i.ulf.attr("src",i.f),i.uls.attr("src",i.s),e("#yda_ul li").mouseover(function(){f(e(this))});var o=1;r=setInterval(function(){o+=1,o=o>1?0:1,e("#yda_ul li:eq("+o+")").trigger("mouseover")},t.duration)}}function f(e){e.addClass("curr").siblings().removeClass();var t=e.children().attr("src");i.img.attr("src",t)}t=e.extend({shut:e("#lay_close"),animation:!1,speed:400,styles:"shake",onscroll:!1,duration:2500},t);var n=e(".abs_center"),r=!0,i={};i.that=this,i.div=e(".content"),i.lay=e("#layer"),i.ie6=e.browser.msie&&e.browser.version==6,i.name=e("#yda_name"),i.school=e("#yda_school"),i.img=e("#yda_img"),i.ul=e("#yda_ul"),i.ulf=e("#ul_f"),i.uls=e("#ul_s"),(t.onscroll||i.ie6)&&i.div.css("position","absolute"),i.that.click(function(){if(i.lay.is(":visible"))return;a(this),o(),t.animation?t.styles=="shake"?i.div.show().animate({top:"60%"},t.speed).animate({top:"40%"},t.speed).animate({top:"55%"},t.speed).animate({top:"45%"},t.speed).animate({top:"50%"},t.speed):t.styles=="slide"&&i.div.show().animate({top:"50%"},t.speed):i.div.css("top","50%").fadeIn()}),e(document).keydown(function(e){i.lay.is(":visible")&&e.which==27&&s()}),t.shut.click(s),i.lay.click(s)}})})(jQuery),$(function(){$(".yda_table a").layer({animation:!0,styles:"shake",speed:300,onscroll:!1})});