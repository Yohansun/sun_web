/*
 *	jQuery layer plugin v1.1
 *	author : luck chang
 *	email : chunhang@networking.io
 *	date : 2012.06.11 15:11:26
 */
(function(a){a.fn.extend({layer:function(b){function d(){b.animation?c.center.stop(!0).animate({top:"-50%"},"normal",function(){a(this).hide()}):c.center.fadeOut(),f()}function e(){if(c.ie6){var a=document.documentElement.scrollHeight;c.lay.css("height",a+"px")}c.lay.show().animate({opacity:"0.5"},"normal")}function f(){c.lay.animate({opacity:"0"},"normal").hide()}b=a.extend({animation:!1,speed:400,styles:"shake",onscroll:!1},b);var c={};c.center=a(".abs_center"),c.that=this,c.shut=a("#lay_close"),c.div=a(".layer_content"),c.lay=a("#layer"),c.ie6=a.browser.msie&&a.browser.version==6,c.w=c.div.css("width"),c.h=c.div.css("height"),b.onscroll&&c.div.css("position","absolute"),c.that.click(function(d){var f=a(this);c.dat=f.attr("data-order"),c.reason=f.attr("data-reason"),c.remain=f.attr("data-remain"),a("#data_order").val(f.parents("tr").attr("id")),d.preventDefault();if(c.lay.is(":visible"))return;b.animation?b.styles=="shake"?c.div.show().animate({top:"60%"},b.speed).animate({top:"40%"},b.speed).animate({top:"55%"},b.speed).animate({top:"45%"},b.speed).animate({top:"50%"},b.speed):b.styles=="slide"&&c.div.show().animate({top:"50%"},b.speed):c.div.css("top","50%").fadeIn(),c.div.find("#top_order").val(c.dat),c.div.find("#top_reason").val(c.reason),c.div.find("#top_remain").text(c.remain),e()}),a(document).keydown(function(a){c.lay.is(":visible")&&a.which==27&&d()}),c.shut.click(d),c.lay.click(d)}})})(jQuery),$(function(){function g(a,b,c){var d=a.position().left-8,e=a.position().top+a.outerHeight();b.css({left:d,top:e}).show();if($.isArray(c)){var f=b.find(":input[type=text]");f[0].focus(),f.each(function(a){f.eq(a).val(c[a])})}else b.find(":input[type=text]").focus().val(c)}$(".data_pop").layer({animation:!0,styles:"slide",speed:300,onscroll:!1});var a=$(".product_name"),b=$("#input_pop"),c=b.find("[type=text]"),d=$(".sale_amount"),e=$("#sale_amount"),f=e.find("[type=text]");a.click(function(){var a=$(this),c=[],d=a.children("p");d.each(function(){c.push($(this).text())}),g(a,b,c),$("#user_id").val(a.parents("tr").attr("id")),e.hide()}),d.click(function(){var a=$(this),c;c=a.children("p").text(),g(a,e,c),$("#sale_amount_hidden").val(a.parents("tr").attr("id")),b.hide()})});